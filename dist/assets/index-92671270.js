function pre(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _U(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var IU={exports:{}},Cw={},CU={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.element"),mre=Symbol.for("react.portal"),gre=Symbol.for("react.fragment"),vre=Symbol.for("react.strict_mode"),yre=Symbol.for("react.profiler"),bre=Symbol.for("react.provider"),xre=Symbol.for("react.context"),wre=Symbol.for("react.forward_ref"),Ere=Symbol.for("react.suspense"),Sre=Symbol.for("react.memo"),Tre=Symbol.for("react.lazy"),k8=Symbol.iterator;function Are(t){return t===null||typeof t!="object"?null:(t=k8&&t[k8]||t["@@iterator"],typeof t=="function"?t:null)}var PU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kU=Object.assign,OU={};function Bh(t,e,r){this.props=t,this.context=e,this.refs=OU,this.updater=r||PU}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NU(){}NU.prototype=Bh.prototype;function gC(t,e,r){this.props=t,this.context=e,this.refs=OU,this.updater=r||PU}var vC=gC.prototype=new NU;vC.constructor=gC;kU(vC,Bh.prototype);vC.isPureReactComponent=!0;var O8=Array.isArray,LU=Object.prototype.hasOwnProperty,yC={current:null},DU={key:!0,ref:!0,__self:!0,__source:!0};function MU(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)LU.call(e,n)&&!DU.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Hg,type:t,key:a,ref:s,props:i,_owner:yC.current}}function Rre(t,e){return{$$typeof:Hg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hg}function _re(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var N8=/\/+/g;function KE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_re(""+t.key):e.toString(36)}function Ob(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hg:case mre:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+KE(s,0):n,O8(i)?(r="",t!=null&&(r=t.replace(N8,"$&/")+"/"),Ob(i,e,r,"",function(u){return u})):i!=null&&(bC(i)&&(i=Rre(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N8,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",O8(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+KE(a,o);s+=Ob(a,e,r,l,i)}else if(l=Are(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+KE(a,o++),s+=Ob(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xv(t,e,r){if(t==null)return t;var n=[],i=0;return Ob(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Ire(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hi={current:null},Nb={transition:null},Cre={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:Nb,ReactCurrentOwner:yC};Rt.Children={map:Xv,forEach:function(t,e,r){Xv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xv(t,function(){e++}),e},toArray:function(t){return Xv(t,function(e){return e})||[]},only:function(t){if(!bC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Rt.Component=Bh;Rt.Fragment=gre;Rt.Profiler=yre;Rt.PureComponent=gC;Rt.StrictMode=vre;Rt.Suspense=Ere;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cre;Rt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kU({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=yC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)LU.call(e,l)&&!DU.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Hg,type:t.type,key:i,ref:a,props:n,_owner:s}};Rt.createContext=function(t){return t={$$typeof:xre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bre,_context:t},t.Consumer=t};Rt.createElement=MU;Rt.createFactory=function(t){var e=MU.bind(null,t);return e.type=t,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(t){return{$$typeof:wre,render:t}};Rt.isValidElement=bC;Rt.lazy=function(t){return{$$typeof:Tre,_payload:{_status:-1,_result:t},_init:Ire}};Rt.memo=function(t,e){return{$$typeof:Sre,type:t,compare:e===void 0?null:e}};Rt.startTransition=function(t){var e=Nb.transition;Nb.transition={};try{t()}finally{Nb.transition=e}};Rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Rt.useCallback=function(t,e){return hi.current.useCallback(t,e)};Rt.useContext=function(t){return hi.current.useContext(t)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(t){return hi.current.useDeferredValue(t)};Rt.useEffect=function(t,e){return hi.current.useEffect(t,e)};Rt.useId=function(){return hi.current.useId()};Rt.useImperativeHandle=function(t,e,r){return hi.current.useImperativeHandle(t,e,r)};Rt.useInsertionEffect=function(t,e){return hi.current.useInsertionEffect(t,e)};Rt.useLayoutEffect=function(t,e){return hi.current.useLayoutEffect(t,e)};Rt.useMemo=function(t,e){return hi.current.useMemo(t,e)};Rt.useReducer=function(t,e,r){return hi.current.useReducer(t,e,r)};Rt.useRef=function(t){return hi.current.useRef(t)};Rt.useState=function(t){return hi.current.useState(t)};Rt.useSyncExternalStore=function(t,e,r){return hi.current.useSyncExternalStore(t,e,r)};Rt.useTransition=function(){return hi.current.useTransition()};Rt.version="18.2.0";CU.exports=Rt;var T=CU.exports;const vt=Pi(T),$U=pre({__proto__:null,default:vt},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pre=T,kre=Symbol.for("react.element"),Ore=Symbol.for("react.fragment"),Nre=Object.prototype.hasOwnProperty,Lre=Pre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dre={key:!0,ref:!0,__self:!0,__source:!0};function FU(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Nre.call(e,n)&&!Dre.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:kre,type:t,key:a,ref:s,props:i,_owner:Lre.current}}Cw.Fragment=Ore;Cw.jsx=FU;Cw.jsxs=FU;IU.exports=Cw;var j=IU.exports,HR={},BU={exports:{}},Ki={},UU={exports:{}},jU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,M){var B=P.length;P.push(M);e:for(;0<B;){var L=B-1>>>1,_=P[L];if(0<i(_,M))P[L]=M,P[B]=_,B=L;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var M=P[0],B=P.pop();if(B!==M){P[0]=B;e:for(var L=0,_=P.length,U=_>>>1;L<U;){var G=2*(L+1)-1,O=P[G],Y=G+1,H=P[Y];if(0>i(O,B))Y<_&&0>i(H,O)?(P[L]=H,P[Y]=B,L=Y):(P[L]=O,P[G]=B,L=G);else if(Y<_&&0>i(H,B))P[L]=H,P[Y]=B,L=Y;else break e}}return M}function i(P,M){var B=P.sortIndex-M.sortIndex;return B!==0?B:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=P)n(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(u)}}function E(P){if(m=!1,w(P),!p)if(r(l)!==null)p=!0,S(R);else{var M=r(u);M!==null&&C(E,M.startTime-P)}}function R(P,M){p=!1,m&&(m=!1,v(N),N=-1),h=!0;var B=d;try{for(w(M),f=r(l);f!==null&&(!(f.expirationTime>M)||P&&!z());){var L=f.callback;if(typeof L=="function"){f.callback=null,d=f.priorityLevel;var _=L(f.expirationTime<=M);M=t.unstable_now(),typeof _=="function"?f.callback=_:f===r(l)&&n(l),w(M)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var G=r(u);G!==null&&C(E,G.startTime-M),U=!1}return U}finally{f=null,d=B,h=!1}}var I=!1,D=null,N=-1,F=5,$=-1;function z(){return!(t.unstable_now()-$<F)}function k(){if(D!==null){var P=t.unstable_now();$=P;var M=!0;try{M=D(!0,P)}finally{M?A():(I=!1,D=null)}}else I=!1}var A;if(typeof b=="function")A=function(){b(k)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,x=y.port2;y.port1.onmessage=k,A=function(){x.postMessage(null)}}else A=function(){g(k,0)};function S(P){D=P,I||(I=!0,A())}function C(P,M){N=g(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,S(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var B=d;d=M;try{return P()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=d;d=P;try{return M()}finally{d=B}},t.unstable_scheduleCallback=function(P,M,B){var L=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?L+B:L):B=L,P){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=B+_,P={id:c++,callback:M,priorityLevel:P,startTime:B,expirationTime:_,sortIndex:-1},B>L?(P.sortIndex=B,e(u,P),r(l)===null&&P===r(u)&&(m?(v(N),N=-1):m=!0,C(E,B-L))):(P.sortIndex=_,e(l,P),p||h||(p=!0,S(R))),P},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(P){var M=d;return function(){var B=d;d=M;try{return P.apply(this,arguments)}finally{d=B}}}})(jU);UU.exports=jU;var Mre=UU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zU=T,Wi=Mre;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VU=new Set,lm={};function jc(t,e){Xd(t,e),Xd(t+"Capture",e)}function Xd(t,e){for(lm[t]=e,t=0;t<e.length;t++)VU.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WR=Object.prototype.hasOwnProperty,$re=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L8={},D8={};function Fre(t){return WR.call(D8,t)?!0:WR.call(L8,t)?!1:$re.test(t)?D8[t]=!0:(L8[t]=!0,!1)}function Bre(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ure(t,e,r,n){if(e===null||typeof e>"u"||Bre(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pi(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){On[t]=new pi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];On[e]=new pi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new pi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new pi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){On[t]=new pi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new pi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new pi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new pi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new pi(t,5,!1,t.toLowerCase(),null,!1,!1)});var xC=/[\-:]([a-z])/g;function wC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xC,wC);On[e]=new pi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xC,wC);On[e]=new pi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xC,wC);On[e]=new pi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new pi(t,1,!1,t.toLowerCase(),null,!1,!1)});On.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new pi(t,1,!1,t.toLowerCase(),null,!0,!0)});function EC(t,e,r,n){var i=On.hasOwnProperty(e)?On[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ure(e,r,i,n)&&(r=null),n||i===null?Fre(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qo=zU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jv=Symbol.for("react.element"),qf=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),qR=Symbol.for("react.profiler"),YU=Symbol.for("react.provider"),GU=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),KR=Symbol.for("react.suspense"),QR=Symbol.for("react.suspense_list"),AC=Symbol.for("react.memo"),Rl=Symbol.for("react.lazy"),HU=Symbol.for("react.offscreen"),M8=Symbol.iterator;function g0(t){return t===null||typeof t!="object"?null:(t=M8&&t[M8]||t["@@iterator"],typeof t=="function"?t:null)}var Or=Object.assign,QE;function np(t){if(QE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);QE=e&&e[1]||""}return`
`+QE+t}var ZE=!1;function XE(t,e){if(!t||ZE)return"";ZE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{ZE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?np(t):""}function jre(t){switch(t.tag){case 5:return np(t.type);case 16:return np("Lazy");case 13:return np("Suspense");case 19:return np("SuspenseList");case 0:case 2:case 15:return t=XE(t.type,!1),t;case 11:return t=XE(t.type.render,!1),t;case 1:return t=XE(t.type,!0),t;default:return""}}function ZR(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kf:return"Fragment";case qf:return"Portal";case qR:return"Profiler";case SC:return"StrictMode";case KR:return"Suspense";case QR:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GU:return(t.displayName||"Context")+".Consumer";case YU:return(t._context.displayName||"Context")+".Provider";case TC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AC:return e=t.displayName||null,e!==null?e:ZR(t.type)||"Memo";case Rl:e=t._payload,t=t._init;try{return ZR(t(e))}catch{}}return null}function zre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ZR(e);case 8:return e===SC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ru(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vre(t){var e=WU(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ey(t){t._valueTracker||(t._valueTracker=Vre(t))}function qU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=WU(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function D1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XR(t,e){var r=e.checked;return Or({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $8(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ru(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KU(t,e){e=e.checked,e!=null&&EC(t,"checked",e,!1)}function JR(t,e){KU(t,e);var r=ru(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?e_(t,e.type,r):e.hasOwnProperty("defaultValue")&&e_(t,e.type,ru(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F8(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function e_(t,e,r){(e!=="number"||D1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ip=Array.isArray;function Ad(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ru(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function t_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Or({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B8(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ye(92));if(ip(r)){if(1<r.length)throw Error(ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ru(r)}}function QU(t,e){var r=ru(e.value),n=ru(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function U8(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ty,XU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ty=ty||document.createElement("div"),ty.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ty.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function um(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yre=["Webkit","ms","Moz","O"];Object.keys(Rp).forEach(function(t){Yre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rp[e]=Rp[t]})});function JU(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rp.hasOwnProperty(t)&&Rp[t]?(""+e).trim():e+"px"}function ej(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=JU(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Gre=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(t,e){if(e){if(Gre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function i_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=null;function RC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s_=null,Rd=null,_d=null;function j8(t){if(t=Kg(t)){if(typeof s_!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=Lw(e),s_(t.stateNode,t.type,e))}}function tj(t){Rd?_d?_d.push(t):_d=[t]:Rd=t}function rj(){if(Rd){var t=Rd,e=_d;if(_d=Rd=null,j8(t),e)for(t=0;t<e.length;t++)j8(e[t])}}function nj(t,e){return t(e)}function ij(){}var JE=!1;function aj(t,e,r){if(JE)return t(e,r);JE=!0;try{return nj(t,e,r)}finally{JE=!1,(Rd!==null||_d!==null)&&(ij(),rj())}}function cm(t,e){var r=t.stateNode;if(r===null)return null;var n=Lw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ye(231,e,typeof r));return r}var o_=!1;if(Po)try{var v0={};Object.defineProperty(v0,"passive",{get:function(){o_=!0}}),window.addEventListener("test",v0,v0),window.removeEventListener("test",v0,v0)}catch{o_=!1}function Hre(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var _p=!1,M1=null,$1=!1,l_=null,Wre={onError:function(t){_p=!0,M1=t}};function qre(t,e,r,n,i,a,s,o,l){_p=!1,M1=null,Hre.apply(Wre,arguments)}function Kre(t,e,r,n,i,a,s,o,l){if(qre.apply(this,arguments),_p){if(_p){var u=M1;_p=!1,M1=null}else throw Error(ye(198));$1||($1=!0,l_=u)}}function zc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z8(t){if(zc(t)!==t)throw Error(ye(188))}function Qre(t){var e=t.alternate;if(!e){if(e=zc(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return z8(i),t;if(a===n)return z8(i),e;a=a.sibling}throw Error(ye(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?t:e}function oj(t){return t=Qre(t),t!==null?lj(t):null}function lj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lj(t);if(e!==null)return e;t=t.sibling}return null}var uj=Wi.unstable_scheduleCallback,V8=Wi.unstable_cancelCallback,Zre=Wi.unstable_shouldYield,Xre=Wi.unstable_requestPaint,Wr=Wi.unstable_now,Jre=Wi.unstable_getCurrentPriorityLevel,_C=Wi.unstable_ImmediatePriority,cj=Wi.unstable_UserBlockingPriority,F1=Wi.unstable_NormalPriority,ene=Wi.unstable_LowPriority,fj=Wi.unstable_IdlePriority,Pw=null,Cs=null;function tne(t){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Pw,t,void 0,(t.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:ine,rne=Math.log,nne=Math.LN2;function ine(t){return t>>>=0,t===0?32:31-(rne(t)/nne|0)|0}var ry=64,ny=4194304;function ap(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function B1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=ap(o):(a&=s,a!==0&&(n=ap(a)))}else s=r&~i,s!==0?n=ap(s):a!==0&&(n=ap(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-es(e),i=1<<r,n|=t[r],e&=~i;return n}function ane(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sne(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-es(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=ane(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function u_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dj(){var t=ry;return ry<<=1,!(ry&4194240)&&(ry=64),t}function eS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-es(e),t[e]=r}function one(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-es(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function IC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-es(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qt=0;function hj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pj,CC,mj,gj,vj,c_=!1,iy=[],Yl=null,Gl=null,Hl=null,fm=new Map,dm=new Map,Ol=[],lne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y8(t,e){switch(t){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":fm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dm.delete(e.pointerId)}}function y0(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Kg(e),e!==null&&CC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function une(t,e,r,n,i){switch(e){case"focusin":return Yl=y0(Yl,t,e,r,n,i),!0;case"dragenter":return Gl=y0(Gl,t,e,r,n,i),!0;case"mouseover":return Hl=y0(Hl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return fm.set(a,y0(fm.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,dm.set(a,y0(dm.get(a)||null,t,e,r,n,i)),!0}return!1}function yj(t){var e=ec(t.target);if(e!==null){var r=zc(e);if(r!==null){if(e=r.tag,e===13){if(e=sj(r),e!==null){t.blockedOn=e,vj(t.priority,function(){mj(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=f_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);a_=n,r.target.dispatchEvent(n),a_=null}else return e=Kg(r),e!==null&&CC(e),t.blockedOn=r,!1;e.shift()}return!0}function G8(t,e,r){Lb(t)&&r.delete(e)}function cne(){c_=!1,Yl!==null&&Lb(Yl)&&(Yl=null),Gl!==null&&Lb(Gl)&&(Gl=null),Hl!==null&&Lb(Hl)&&(Hl=null),fm.forEach(G8),dm.forEach(G8)}function b0(t,e){t.blockedOn===e&&(t.blockedOn=null,c_||(c_=!0,Wi.unstable_scheduleCallback(Wi.unstable_NormalPriority,cne)))}function hm(t){function e(i){return b0(i,t)}if(0<iy.length){b0(iy[0],t);for(var r=1;r<iy.length;r++){var n=iy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yl!==null&&b0(Yl,t),Gl!==null&&b0(Gl,t),Hl!==null&&b0(Hl,t),fm.forEach(e),dm.forEach(e),r=0;r<Ol.length;r++)n=Ol[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ol.length&&(r=Ol[0],r.blockedOn===null);)yj(r),r.blockedOn===null&&Ol.shift()}var Id=Qo.ReactCurrentBatchConfig,U1=!0;function fne(t,e,r,n){var i=Qt,a=Id.transition;Id.transition=null;try{Qt=1,PC(t,e,r,n)}finally{Qt=i,Id.transition=a}}function dne(t,e,r,n){var i=Qt,a=Id.transition;Id.transition=null;try{Qt=4,PC(t,e,r,n)}finally{Qt=i,Id.transition=a}}function PC(t,e,r,n){if(U1){var i=f_(t,e,r,n);if(i===null)cS(t,e,n,j1,r),Y8(t,n);else if(une(i,t,e,r,n))n.stopPropagation();else if(Y8(t,n),e&4&&-1<lne.indexOf(t)){for(;i!==null;){var a=Kg(i);if(a!==null&&pj(a),a=f_(t,e,r,n),a===null&&cS(t,e,n,j1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else cS(t,e,n,null,r)}}var j1=null;function f_(t,e,r,n){if(j1=null,t=RC(n),t=ec(t),t!==null)if(e=zc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sj(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return j1=t,null}function bj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jre()){case _C:return 1;case cj:return 4;case F1:case ene:return 16;case fj:return 536870912;default:return 16}default:return 16}}var $l=null,kC=null,Db=null;function xj(){if(Db)return Db;var t,e=kC,r=e.length,n,i="value"in $l?$l.value:$l.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Db=i.slice(t,1<n?1-n:void 0)}function Mb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ay(){return!0}function H8(){return!1}function Qi(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ay:H8,this.isPropagationStopped=H8,this}return Or(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ay)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ay)},persist:function(){},isPersistent:ay}),e}var Uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OC=Qi(Uh),qg=Or({},Uh,{view:0,detail:0}),hne=Qi(qg),tS,rS,x0,kw=Or({},qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==x0&&(x0&&t.type==="mousemove"?(tS=t.screenX-x0.screenX,rS=t.screenY-x0.screenY):rS=tS=0,x0=t),tS)},movementY:function(t){return"movementY"in t?t.movementY:rS}}),W8=Qi(kw),pne=Or({},kw,{dataTransfer:0}),mne=Qi(pne),gne=Or({},qg,{relatedTarget:0}),nS=Qi(gne),vne=Or({},Uh,{animationName:0,elapsedTime:0,pseudoElement:0}),yne=Qi(vne),bne=Or({},Uh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xne=Qi(bne),wne=Or({},Uh,{data:0}),q8=Qi(wne),Ene={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ane(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tne[t])?!!e[t]:!1}function NC(){return Ane}var Rne=Or({},qg,{key:function(t){if(t.key){var e=Ene[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NC,charCode:function(t){return t.type==="keypress"?Mb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_ne=Qi(Rne),Ine=Or({},kw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K8=Qi(Ine),Cne=Or({},qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NC}),Pne=Qi(Cne),kne=Or({},Uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),One=Qi(kne),Nne=Or({},kw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lne=Qi(Nne),Dne=[9,13,27,32],LC=Po&&"CompositionEvent"in window,Ip=null;Po&&"documentMode"in document&&(Ip=document.documentMode);var Mne=Po&&"TextEvent"in window&&!Ip,wj=Po&&(!LC||Ip&&8<Ip&&11>=Ip),Q8=String.fromCharCode(32),Z8=!1;function Ej(t,e){switch(t){case"keyup":return Dne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qf=!1;function $ne(t,e){switch(t){case"compositionend":return Sj(e);case"keypress":return e.which!==32?null:(Z8=!0,Q8);case"textInput":return t=e.data,t===Q8&&Z8?null:t;default:return null}}function Fne(t,e){if(Qf)return t==="compositionend"||!LC&&Ej(t,e)?(t=xj(),Db=kC=$l=null,Qf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wj&&e.locale!=="ko"?null:e.data;default:return null}}var Bne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bne[t.type]:e==="textarea"}function Tj(t,e,r,n){tj(n),e=z1(e,"onChange"),0<e.length&&(r=new OC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cp=null,pm=null;function Une(t){Dj(t,0)}function Ow(t){var e=Jf(t);if(qU(e))return t}function jne(t,e){if(t==="change")return e}var Aj=!1;if(Po){var iS;if(Po){var aS="oninput"in document;if(!aS){var J8=document.createElement("div");J8.setAttribute("oninput","return;"),aS=typeof J8.oninput=="function"}iS=aS}else iS=!1;Aj=iS&&(!document.documentMode||9<document.documentMode)}function eO(){Cp&&(Cp.detachEvent("onpropertychange",Rj),pm=Cp=null)}function Rj(t){if(t.propertyName==="value"&&Ow(pm)){var e=[];Tj(e,pm,t,RC(t)),aj(Une,e)}}function zne(t,e,r){t==="focusin"?(eO(),Cp=e,pm=r,Cp.attachEvent("onpropertychange",Rj)):t==="focusout"&&eO()}function Vne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ow(pm)}function Yne(t,e){if(t==="click")return Ow(e)}function Gne(t,e){if(t==="input"||t==="change")return Ow(e)}function Hne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:Hne;function mm(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!WR.call(e,i)||!ns(t[i],e[i]))return!1}return!0}function tO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rO(t,e){var r=tO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tO(r)}}function _j(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_j(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ij(){for(var t=window,e=D1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=D1(t.document)}return e}function DC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wne(t){var e=Ij(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&_j(r.ownerDocument.documentElement,r)){if(n!==null&&DC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=rO(r,a);var s=rO(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qne=Po&&"documentMode"in document&&11>=document.documentMode,Zf=null,d_=null,Pp=null,h_=!1;function nO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h_||Zf==null||Zf!==D1(n)||(n=Zf,"selectionStart"in n&&DC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pp&&mm(Pp,n)||(Pp=n,n=z1(d_,"onSelect"),0<n.length&&(e=new OC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zf)))}function sy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xf={animationend:sy("Animation","AnimationEnd"),animationiteration:sy("Animation","AnimationIteration"),animationstart:sy("Animation","AnimationStart"),transitionend:sy("Transition","TransitionEnd")},sS={},Cj={};Po&&(Cj=document.createElement("div").style,"AnimationEvent"in window||(delete Xf.animationend.animation,delete Xf.animationiteration.animation,delete Xf.animationstart.animation),"TransitionEvent"in window||delete Xf.transitionend.transition);function Nw(t){if(sS[t])return sS[t];if(!Xf[t])return t;var e=Xf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Cj)return sS[t]=e[r];return t}var Pj=Nw("animationend"),kj=Nw("animationiteration"),Oj=Nw("animationstart"),Nj=Nw("transitionend"),Lj=new Map,iO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tu(t,e){Lj.set(t,e),jc(e,[t])}for(var oS=0;oS<iO.length;oS++){var lS=iO[oS],Kne=lS.toLowerCase(),Qne=lS[0].toUpperCase()+lS.slice(1);Tu(Kne,"on"+Qne)}Tu(Pj,"onAnimationEnd");Tu(kj,"onAnimationIteration");Tu(Oj,"onAnimationStart");Tu("dblclick","onDoubleClick");Tu("focusin","onFocus");Tu("focusout","onBlur");Tu(Nj,"onTransitionEnd");Xd("onMouseEnter",["mouseout","mouseover"]);Xd("onMouseLeave",["mouseout","mouseover"]);Xd("onPointerEnter",["pointerout","pointerover"]);Xd("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zne=new Set("cancel close invalid load scroll toggle".split(" ").concat(sp));function aO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Kre(n,e,void 0,t),t.currentTarget=null}function Dj(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;aO(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;aO(i,o,u),a=l}}}if($1)throw t=l_,$1=!1,l_=null,t}function dr(t,e){var r=e[y_];r===void 0&&(r=e[y_]=new Set);var n=t+"__bubble";r.has(n)||(Mj(e,t,2,!1),r.add(n))}function uS(t,e,r){var n=0;e&&(n|=4),Mj(r,t,n,e)}var oy="_reactListening"+Math.random().toString(36).slice(2);function gm(t){if(!t[oy]){t[oy]=!0,VU.forEach(function(r){r!=="selectionchange"&&(Zne.has(r)||uS(r,!1,t),uS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oy]||(e[oy]=!0,uS("selectionchange",!1,e))}}function Mj(t,e,r,n){switch(bj(e)){case 1:var i=fne;break;case 4:i=dne;break;default:i=PC}r=i.bind(null,e,r,t),i=void 0,!o_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cS(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ec(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}aj(function(){var u=a,c=RC(r),f=[];e:{var d=Lj.get(t);if(d!==void 0){var h=OC,p=t;switch(t){case"keypress":if(Mb(r)===0)break e;case"keydown":case"keyup":h=_ne;break;case"focusin":p="focus",h=nS;break;case"focusout":p="blur",h=nS;break;case"beforeblur":case"afterblur":h=nS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=W8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pne;break;case Pj:case kj:case Oj:h=yne;break;case Nj:h=One;break;case"scroll":h=hne;break;case"wheel":h=Lne;break;case"copy":case"cut":case"paste":h=xne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=K8}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,w;b!==null;){w=b;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,v!==null&&(E=cm(b,v),E!=null&&m.push(vm(b,E,w)))),g)break;b=b.return}0<m.length&&(d=new h(d,p,null,r,c),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==a_&&(p=r.relatedTarget||r.fromElement)&&(ec(p)||p[ko]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?ec(p):null,p!==null&&(g=zc(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=W8,E="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=K8,E="onPointerLeave",v="onPointerEnter",b="pointer"),g=h==null?d:Jf(h),w=p==null?d:Jf(p),d=new m(E,b+"leave",h,r,c),d.target=g,d.relatedTarget=w,E=null,ec(c)===u&&(m=new m(v,b+"enter",p,r,c),m.target=w,m.relatedTarget=g,E=m),g=E,h&&p)t:{for(m=h,v=p,b=0,w=m;w;w=uf(w))b++;for(w=0,E=v;E;E=uf(E))w++;for(;0<b-w;)m=uf(m),b--;for(;0<w-b;)v=uf(v),w--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=uf(m),v=uf(v)}m=null}else m=null;h!==null&&sO(f,d,h,m,!1),p!==null&&g!==null&&sO(f,g,p,m,!0)}}e:{if(d=u?Jf(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var R=jne;else if(X8(d))if(Aj)R=Gne;else{R=Vne;var I=zne}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=Yne);if(R&&(R=R(t,u))){Tj(f,R,r,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&e_(d,"number",d.value)}switch(I=u?Jf(u):window,t){case"focusin":(X8(I)||I.contentEditable==="true")&&(Zf=I,d_=u,Pp=null);break;case"focusout":Pp=d_=Zf=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,nO(f,r,c);break;case"selectionchange":if(qne)break;case"keydown":case"keyup":nO(f,r,c)}var D;if(LC)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Qf?Ej(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(wj&&r.locale!=="ko"&&(Qf||N!=="onCompositionStart"?N==="onCompositionEnd"&&Qf&&(D=xj()):($l=c,kC="value"in $l?$l.value:$l.textContent,Qf=!0)),I=z1(u,N),0<I.length&&(N=new q8(N,t,null,r,c),f.push({event:N,listeners:I}),D?N.data=D:(D=Sj(r),D!==null&&(N.data=D)))),(D=Mne?$ne(t,r):Fne(t,r))&&(u=z1(u,"onBeforeInput"),0<u.length&&(c=new q8("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=D))}Dj(f,e)})}function vm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function z1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cm(t,r),a!=null&&n.unshift(vm(t,a,i)),a=cm(t,e),a!=null&&n.push(vm(t,a,i))),t=t.return}return n}function uf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sO(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=cm(r,a),l!=null&&s.unshift(vm(r,l,o))):i||(l=cm(r,a),l!=null&&s.push(vm(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Xne=/\r\n?/g,Jne=/\u0000|\uFFFD/g;function oO(t){return(typeof t=="string"?t:""+t).replace(Xne,`
`).replace(Jne,"")}function ly(t,e,r){if(e=oO(e),oO(t)!==e&&r)throw Error(ye(425))}function V1(){}var p_=null,m_=null;function g_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v_=typeof setTimeout=="function"?setTimeout:void 0,eie=typeof clearTimeout=="function"?clearTimeout:void 0,lO=typeof Promise=="function"?Promise:void 0,tie=typeof queueMicrotask=="function"?queueMicrotask:typeof lO<"u"?function(t){return lO.resolve(null).then(t).catch(rie)}:v_;function rie(t){setTimeout(function(){throw t})}function fS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),hm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);hm(e)}function Wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var jh=Math.random().toString(36).slice(2),Ss="__reactFiber$"+jh,ym="__reactProps$"+jh,ko="__reactContainer$"+jh,y_="__reactEvents$"+jh,nie="__reactListeners$"+jh,iie="__reactHandles$"+jh;function ec(t){var e=t[Ss];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ko]||r[Ss]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uO(t);t!==null;){if(r=t[Ss])return r;t=uO(t)}return e}t=r,r=t.parentNode}return null}function Kg(t){return t=t[Ss]||t[ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function Lw(t){return t[ym]||null}var b_=[],ed=-1;function Au(t){return{current:t}}function mr(t){0>ed||(t.current=b_[ed],b_[ed]=null,ed--)}function ur(t,e){ed++,b_[ed]=t.current,t.current=e}var nu={},Hn=Au(nu),Si=Au(!1),yc=nu;function Jd(t,e){var r=t.type.contextTypes;if(!r)return nu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ti(t){return t=t.childContextTypes,t!=null}function Y1(){mr(Si),mr(Hn)}function cO(t,e,r){if(Hn.current!==nu)throw Error(ye(168));ur(Hn,e),ur(Si,r)}function $j(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ye(108,zre(t)||"Unknown",i));return Or({},r,n)}function G1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nu,yc=Hn.current,ur(Hn,t),ur(Si,Si.current),!0}function fO(t,e,r){var n=t.stateNode;if(!n)throw Error(ye(169));r?(t=$j(t,e,yc),n.__reactInternalMemoizedMergedChildContext=t,mr(Si),mr(Hn),ur(Hn,t)):mr(Si),ur(Si,r)}var ho=null,Dw=!1,dS=!1;function Fj(t){ho===null?ho=[t]:ho.push(t)}function aie(t){Dw=!0,Fj(t)}function Ru(){if(!dS&&ho!==null){dS=!0;var t=0,e=Qt;try{var r=ho;for(Qt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ho=null,Dw=!1}catch(i){throw ho!==null&&(ho=ho.slice(t+1)),uj(_C,Ru),i}finally{Qt=e,dS=!1}}return null}var td=[],rd=0,H1=null,W1=0,pa=[],ma=0,bc=null,xo=1,wo="";function Yu(t,e){td[rd++]=W1,td[rd++]=H1,H1=t,W1=e}function Bj(t,e,r){pa[ma++]=xo,pa[ma++]=wo,pa[ma++]=bc,bc=t;var n=xo;t=wo;var i=32-es(n)-1;n&=~(1<<i),r+=1;var a=32-es(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,xo=1<<32-es(e)+i|r<<i|n,wo=a+t}else xo=1<<a|r<<i|n,wo=t}function MC(t){t.return!==null&&(Yu(t,1),Bj(t,1,0))}function $C(t){for(;t===H1;)H1=td[--rd],td[rd]=null,W1=td[--rd],td[rd]=null;for(;t===bc;)bc=pa[--ma],pa[ma]=null,wo=pa[--ma],pa[ma]=null,xo=pa[--ma],pa[ma]=null}var Yi=null,Ui=null,vr=!1,Va=null;function Uj(t,e){var r=va(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function dO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yi=t,Ui=Wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=bc!==null?{id:xo,overflow:wo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=va(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Yi=t,Ui=null,!0):!1;default:return!1}}function x_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w_(t){if(vr){var e=Ui;if(e){var r=e;if(!dO(t,e)){if(x_(t))throw Error(ye(418));e=Wl(r.nextSibling);var n=Yi;e&&dO(t,e)?Uj(n,r):(t.flags=t.flags&-4097|2,vr=!1,Yi=t)}}else{if(x_(t))throw Error(ye(418));t.flags=t.flags&-4097|2,vr=!1,Yi=t}}}function hO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yi=t}function uy(t){if(t!==Yi)return!1;if(!vr)return hO(t),vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!g_(t.type,t.memoizedProps)),e&&(e=Ui)){if(x_(t))throw jj(),Error(ye(418));for(;e;)Uj(t,e),e=Wl(e.nextSibling)}if(hO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ui=Wl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Yi?Wl(t.stateNode.nextSibling):null;return!0}function jj(){for(var t=Ui;t;)t=Wl(t.nextSibling)}function eh(){Ui=Yi=null,vr=!1}function FC(t){Va===null?Va=[t]:Va.push(t)}var sie=Qo.ReactCurrentBatchConfig;function Ua(t,e){if(t&&t.defaultProps){e=Or({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var q1=Au(null),K1=null,nd=null,BC=null;function UC(){BC=nd=K1=null}function jC(t){var e=q1.current;mr(q1),t._currentValue=e}function E_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cd(t,e){K1=t,BC=nd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ei=!0),t.firstContext=null)}function ba(t){var e=t._currentValue;if(BC!==t)if(t={context:t,memoizedValue:e,next:null},nd===null){if(K1===null)throw Error(ye(308));nd=t,K1.dependencies={lanes:0,firstContext:t}}else nd=nd.next=t;return e}var tc=null;function zC(t){tc===null?tc=[t]:tc.push(t)}function zj(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Oo(t,n)}function Oo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _l=!1;function VC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ql(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$t&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Oo(t,r)}return i=n.interleaved,i===null?(e.next=e,zC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Oo(t,r)}function $b(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,IC(t,r)}}function pO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Q1(t,e,r,n){var i=t.updateQueue;_l=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(d=e,h=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Or({},f,d);break e;case 2:_l=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);wc|=s,t.lanes=s,t.memoizedState=f}}function mO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ye(191,i));i.call(n)}}}var Yj=new zU.Component().refs;function S_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Or({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mw={isMounted:function(t){return(t=t._reactInternals)?zc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ai(),i=Ql(t),a=Eo(n,i);a.payload=e,r!=null&&(a.callback=r),e=ql(t,a,i),e!==null&&(ts(e,t,i,n),$b(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ai(),i=Ql(t),a=Eo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ql(t,a,i),e!==null&&(ts(e,t,i,n),$b(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ai(),n=Ql(t),i=Eo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ql(t,i,n),e!==null&&(ts(e,t,n,r),$b(e,t,n))}};function gO(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!mm(r,n)||!mm(i,a):!0}function Gj(t,e,r){var n=!1,i=nu,a=e.contextType;return typeof a=="object"&&a!==null?a=ba(a):(i=Ti(e)?yc:Hn.current,n=e.contextTypes,a=(n=n!=null)?Jd(t,i):nu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function vO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Mw.enqueueReplaceState(e,e.state,null)}function T_(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Yj,VC(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ba(a):(a=Ti(e)?yc:Hn.current,i.context=Jd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(S_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mw.enqueueReplaceState(i,i.state,null),Q1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function w0(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;o===Yj&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,t))}return t}function cy(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yO(t){var e=t._init;return e(t._payload)}function Hj(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Zl(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,E){return b===null||b.tag!==6?(b=bS(w,v.mode,E),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,E){var R=w.type;return R===Kf?c(v,b,w.props.children,E,w.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rl&&yO(R)===b.type)?(E=i(b,w.props),E.ref=w0(v,b,w),E.return=v,E):(E=Vb(w.type,w.key,w.props,null,v.mode,E),E.ref=w0(v,b,w),E.return=v,E)}function u(v,b,w,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=xS(w,v.mode,E),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function c(v,b,w,E,R){return b===null||b.tag!==7?(b=cc(w,v.mode,E,R),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=bS(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jv:return w=Vb(b.type,b.key,b.props,null,v.mode,w),w.ref=w0(v,null,b),w.return=v,w;case qf:return b=xS(b,v.mode,w),b.return=v,b;case Rl:var E=b._init;return f(v,E(b._payload),w)}if(ip(b)||g0(b))return b=cc(b,v.mode,w,null),b.return=v,b;cy(v,b)}return null}function d(v,b,w,E){var R=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:o(v,b,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jv:return w.key===R?l(v,b,w,E):null;case qf:return w.key===R?u(v,b,w,E):null;case Rl:return R=w._init,d(v,b,R(w._payload),E)}if(ip(w)||g0(w))return R!==null?null:c(v,b,w,E,null);cy(v,w)}return null}function h(v,b,w,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(w)||null,o(b,v,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jv:return v=v.get(E.key===null?w:E.key)||null,l(b,v,E,R);case qf:return v=v.get(E.key===null?w:E.key)||null,u(b,v,E,R);case Rl:var I=E._init;return h(v,b,w,I(E._payload),R)}if(ip(E)||g0(E))return v=v.get(w)||null,c(b,v,E,R,null);cy(b,E)}return null}function p(v,b,w,E){for(var R=null,I=null,D=b,N=b=0,F=null;D!==null&&N<w.length;N++){D.index>N?(F=D,D=null):F=D.sibling;var $=d(v,D,w[N],E);if($===null){D===null&&(D=F);break}t&&D&&$.alternate===null&&e(v,D),b=a($,b,N),I===null?R=$:I.sibling=$,I=$,D=F}if(N===w.length)return r(v,D),vr&&Yu(v,N),R;if(D===null){for(;N<w.length;N++)D=f(v,w[N],E),D!==null&&(b=a(D,b,N),I===null?R=D:I.sibling=D,I=D);return vr&&Yu(v,N),R}for(D=n(v,D);N<w.length;N++)F=h(D,v,N,w[N],E),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?N:F.key),b=a(F,b,N),I===null?R=F:I.sibling=F,I=F);return t&&D.forEach(function(z){return e(v,z)}),vr&&Yu(v,N),R}function m(v,b,w,E){var R=g0(w);if(typeof R!="function")throw Error(ye(150));if(w=R.call(w),w==null)throw Error(ye(151));for(var I=R=null,D=b,N=b=0,F=null,$=w.next();D!==null&&!$.done;N++,$=w.next()){D.index>N?(F=D,D=null):F=D.sibling;var z=d(v,D,$.value,E);if(z===null){D===null&&(D=F);break}t&&D&&z.alternate===null&&e(v,D),b=a(z,b,N),I===null?R=z:I.sibling=z,I=z,D=F}if($.done)return r(v,D),vr&&Yu(v,N),R;if(D===null){for(;!$.done;N++,$=w.next())$=f(v,$.value,E),$!==null&&(b=a($,b,N),I===null?R=$:I.sibling=$,I=$);return vr&&Yu(v,N),R}for(D=n(v,D);!$.done;N++,$=w.next())$=h(D,v,N,$.value,E),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?N:$.key),b=a($,b,N),I===null?R=$:I.sibling=$,I=$);return t&&D.forEach(function(k){return e(v,k)}),vr&&Yu(v,N),R}function g(v,b,w,E){if(typeof w=="object"&&w!==null&&w.type===Kf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jv:e:{for(var R=w.key,I=b;I!==null;){if(I.key===R){if(R=w.type,R===Kf){if(I.tag===7){r(v,I.sibling),b=i(I,w.props.children),b.return=v,v=b;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rl&&yO(R)===I.type){r(v,I.sibling),b=i(I,w.props),b.ref=w0(v,I,w),b.return=v,v=b;break e}r(v,I);break}else e(v,I);I=I.sibling}w.type===Kf?(b=cc(w.props.children,v.mode,E,w.key),b.return=v,v=b):(E=Vb(w.type,w.key,w.props,null,v.mode,E),E.ref=w0(v,b,w),E.return=v,v=E)}return s(v);case qf:e:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else e(v,b);b=b.sibling}b=xS(w,v.mode,E),b.return=v,v=b}return s(v);case Rl:return I=w._init,g(v,b,I(w._payload),E)}if(ip(w))return p(v,b,w,E);if(g0(w))return m(v,b,w,E);cy(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,w),b.return=v,v=b):(r(v,b),b=bS(w,v.mode,E),b.return=v,v=b),s(v)):r(v,b)}return g}var th=Hj(!0),Wj=Hj(!1),Qg={},Ps=Au(Qg),bm=Au(Qg),xm=Au(Qg);function rc(t){if(t===Qg)throw Error(ye(174));return t}function YC(t,e){switch(ur(xm,e),ur(bm,t),ur(Ps,Qg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:r_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=r_(e,t)}mr(Ps),ur(Ps,e)}function rh(){mr(Ps),mr(bm),mr(xm)}function qj(t){rc(xm.current);var e=rc(Ps.current),r=r_(e,t.type);e!==r&&(ur(bm,t),ur(Ps,r))}function GC(t){bm.current===t&&(mr(Ps),mr(bm))}var _r=Au(0);function Z1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hS=[];function HC(){for(var t=0;t<hS.length;t++)hS[t]._workInProgressVersionPrimary=null;hS.length=0}var Fb=Qo.ReactCurrentDispatcher,pS=Qo.ReactCurrentBatchConfig,xc=0,kr=null,nn=null,pn=null,X1=!1,kp=!1,wm=0,oie=0;function Dn(){throw Error(ye(321))}function WC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ns(t[r],e[r]))return!1;return!0}function qC(t,e,r,n,i,a){if(xc=a,kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fb.current=t===null||t.memoizedState===null?fie:die,t=r(n,i),kp){a=0;do{if(kp=!1,wm=0,25<=a)throw Error(ye(301));a+=1,pn=nn=null,e.updateQueue=null,Fb.current=hie,t=r(n,i)}while(kp)}if(Fb.current=J1,e=nn!==null&&nn.next!==null,xc=0,pn=nn=kr=null,X1=!1,e)throw Error(ye(300));return t}function KC(){var t=wm!==0;return wm=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?kr.memoizedState=pn=t:pn=pn.next=t,pn}function xa(){if(nn===null){var t=kr.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=pn===null?kr.memoizedState:pn.next;if(e!==null)pn=e,nn=t;else{if(t===null)throw Error(ye(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},pn===null?kr.memoizedState=pn=t:pn=pn.next=t}return pn}function Em(t,e){return typeof e=="function"?e(t):e}function mS(t){var e=xa(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=nn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((xc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,kr.lanes|=c,wc|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,ns(n,e.memoizedState)||(Ei=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,kr.lanes|=a,wc|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gS(t){var e=xa(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ns(a,e.memoizedState)||(Ei=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Kj(){}function Qj(t,e){var r=kr,n=xa(),i=e(),a=!ns(n.memoizedState,i);if(a&&(n.memoizedState=i,Ei=!0),n=n.queue,QC(Jj.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||pn!==null&&pn.memoizedState.tag&1){if(r.flags|=2048,Sm(9,Xj.bind(null,r,n,i,e),void 0,null),gn===null)throw Error(ye(349));xc&30||Zj(r,e,i)}return i}function Zj(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Xj(t,e,r,n){e.value=r,e.getSnapshot=n,ez(e)&&tz(t)}function Jj(t,e,r){return r(function(){ez(e)&&tz(t)})}function ez(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ns(t,r)}catch{return!0}}function tz(t){var e=Oo(t,1);e!==null&&ts(e,t,1,-1)}function bO(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:t},e.queue=t,t=t.dispatch=cie.bind(null,kr,t),[e.memoizedState,t]}function Sm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=kr.updateQueue,e===null?(e={lastEffect:null,stores:null},kr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rz(){return xa().memoizedState}function Bb(t,e,r,n){var i=gs();kr.flags|=t,i.memoizedState=Sm(1|e,r,void 0,n===void 0?null:n)}function $w(t,e,r,n){var i=xa();n=n===void 0?null:n;var a=void 0;if(nn!==null){var s=nn.memoizedState;if(a=s.destroy,n!==null&&WC(n,s.deps)){i.memoizedState=Sm(e,r,a,n);return}}kr.flags|=t,i.memoizedState=Sm(1|e,r,a,n)}function xO(t,e){return Bb(8390656,8,t,e)}function QC(t,e){return $w(2048,8,t,e)}function nz(t,e){return $w(4,2,t,e)}function iz(t,e){return $w(4,4,t,e)}function az(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sz(t,e,r){return r=r!=null?r.concat([t]):null,$w(4,4,az.bind(null,e,t),r)}function ZC(){}function oz(t,e){var r=xa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&WC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lz(t,e){var r=xa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&WC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function uz(t,e,r){return xc&21?(ns(r,e)||(r=dj(),kr.lanes|=r,wc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ei=!0),t.memoizedState=r)}function lie(t,e){var r=Qt;Qt=r!==0&&4>r?r:4,t(!0);var n=pS.transition;pS.transition={};try{t(!1),e()}finally{Qt=r,pS.transition=n}}function cz(){return xa().memoizedState}function uie(t,e,r){var n=Ql(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fz(t))dz(e,r);else if(r=zj(t,e,r,n),r!==null){var i=ai();ts(r,t,n,i),hz(r,e,n)}}function cie(t,e,r){var n=Ql(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fz(t))dz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ns(o,s)){var l=e.interleaved;l===null?(i.next=i,zC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=zj(t,e,i,n),r!==null&&(i=ai(),ts(r,t,n,i),hz(r,e,n))}}function fz(t){var e=t.alternate;return t===kr||e!==null&&e===kr}function dz(t,e){kp=X1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,IC(t,r)}}var J1={readContext:ba,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},fie={readContext:ba,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:ba,useEffect:xO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bb(4194308,4,az.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bb(4,2,t,e)},useMemo:function(t,e){var r=gs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=gs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uie.bind(null,kr,t),[n.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:bO,useDebugValue:ZC,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=bO(!1),e=t[0];return t=lie.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=kr,i=gs();if(vr){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=e(),gn===null)throw Error(ye(349));xc&30||Zj(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,xO(Jj.bind(null,n,a,t),[t]),n.flags|=2048,Sm(9,Xj.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=gs(),e=gn.identifierPrefix;if(vr){var r=wo,n=xo;r=(n&~(1<<32-es(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oie++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},die={readContext:ba,useCallback:oz,useContext:ba,useEffect:QC,useImperativeHandle:sz,useInsertionEffect:nz,useLayoutEffect:iz,useMemo:lz,useReducer:mS,useRef:rz,useState:function(){return mS(Em)},useDebugValue:ZC,useDeferredValue:function(t){var e=xa();return uz(e,nn.memoizedState,t)},useTransition:function(){var t=mS(Em)[0],e=xa().memoizedState;return[t,e]},useMutableSource:Kj,useSyncExternalStore:Qj,useId:cz,unstable_isNewReconciler:!1},hie={readContext:ba,useCallback:oz,useContext:ba,useEffect:QC,useImperativeHandle:sz,useInsertionEffect:nz,useLayoutEffect:iz,useMemo:lz,useReducer:gS,useRef:rz,useState:function(){return gS(Em)},useDebugValue:ZC,useDeferredValue:function(t){var e=xa();return nn===null?e.memoizedState=t:uz(e,nn.memoizedState,t)},useTransition:function(){var t=gS(Em)[0],e=xa().memoizedState;return[t,e]},useMutableSource:Kj,useSyncExternalStore:Qj,useId:cz,unstable_isNewReconciler:!1};function nh(t,e){try{var r="",n=e;do r+=jre(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function vS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function A_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pie=typeof WeakMap=="function"?WeakMap:Map;function pz(t,e,r){r=Eo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){tx||(tx=!0,D_=n),A_(t,e)},r}function mz(t,e,r){r=Eo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){A_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){A_(t,e),typeof n!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function wO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pie;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Iie.bind(null,t,e,r),e.then(t,t))}function EO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SO(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Eo(-1,1),e.tag=2,ql(r,e,1))),r.lanes|=1),t)}var mie=Qo.ReactCurrentOwner,Ei=!1;function ti(t,e,r,n){e.child=t===null?Wj(e,null,r,n):th(e,t.child,r,n)}function TO(t,e,r,n,i){r=r.render;var a=e.ref;return Cd(e,i),n=qC(t,e,r,n,a,i),r=KC(),t!==null&&!Ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(vr&&r&&MC(e),e.flags|=1,ti(t,e,n,i),e.child)}function AO(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!a4(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,gz(t,e,a,n,i)):(t=Vb(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:mm,r(s,n)&&t.ref===e.ref)return No(t,e,i)}return e.flags|=1,t=Zl(a,n),t.ref=e.ref,t.return=e,e.child=t}function gz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(mm(a,n)&&t.ref===e.ref)if(Ei=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ei=!0);else return e.lanes=t.lanes,No(t,e,i)}return R_(t,e,r,n,i)}function vz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(ad,Ni),Ni|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ur(ad,Ni),Ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ur(ad,Ni),Ni|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ur(ad,Ni),Ni|=n;return ti(t,e,i,r),e.child}function yz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function R_(t,e,r,n,i){var a=Ti(r)?yc:Hn.current;return a=Jd(e,a),Cd(e,i),r=qC(t,e,r,n,a,i),n=KC(),t!==null&&!Ei?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(vr&&n&&MC(e),e.flags|=1,ti(t,e,r,i),e.child)}function RO(t,e,r,n,i){if(Ti(r)){var a=!0;G1(e)}else a=!1;if(Cd(e,i),e.stateNode===null)Ub(t,e),Gj(e,r,n),T_(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ba(u):(u=Ti(r)?yc:Hn.current,u=Jd(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&vO(e,s,n,u),_l=!1;var d=e.memoizedState;s.state=d,Q1(e,n,s,i),l=e.memoizedState,o!==n||d!==l||Si.current||_l?(typeof c=="function"&&(S_(e,r,c,n),l=e.memoizedState),(o=_l||gO(e,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Vj(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ua(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ba(l):(l=Ti(r)?yc:Hn.current,l=Jd(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&vO(e,s,n,l),_l=!1,d=e.memoizedState,s.state=d,Q1(e,n,s,i);var p=e.memoizedState;o!==f||d!==p||Si.current||_l?(typeof h=="function"&&(S_(e,r,h,n),p=e.memoizedState),(u=_l||gO(e,r,u,n,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return __(t,e,r,n,a,i)}function __(t,e,r,n,i,a){yz(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&fO(e,r,!1),No(t,e,a);n=e.stateNode,mie.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=th(e,t.child,null,a),e.child=th(e,null,o,a)):ti(t,e,o,a),e.memoizedState=n.state,i&&fO(e,r,!0),e.child}function bz(t){var e=t.stateNode;e.pendingContext?cO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cO(t,e.context,!1),YC(t,e.containerInfo)}function _O(t,e,r,n,i){return eh(),FC(i),e.flags|=256,ti(t,e,r,n),e.child}var I_={dehydrated:null,treeContext:null,retryLane:0};function C_(t){return{baseLanes:t,cachePool:null,transitions:null}}function xz(t,e,r){var n=e.pendingProps,i=_r.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ur(_r,i&1),t===null)return w_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Uw(s,n,0,null),t=cc(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=C_(r),e.memoizedState=I_,t):XC(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return gie(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Zl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Zl(o,a):(a=cc(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?C_(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=I_,n}return a=t.child,t=a.sibling,n=Zl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function XC(t,e){return e=Uw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fy(t,e,r,n){return n!==null&&FC(n),th(e,t.child,null,r),t=XC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gie(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=vS(Error(ye(422))),fy(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Uw({mode:"visible",children:n.children},i,0,null),a=cc(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&th(e,t.child,null,s),e.child.memoizedState=C_(s),e.memoizedState=I_,a);if(!(e.mode&1))return fy(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(ye(419)),n=vS(a,n,void 0),fy(t,e,s,n)}if(o=(s&t.childLanes)!==0,Ei||o){if(n=gn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Oo(t,i),ts(n,t,i,-1))}return i4(),n=vS(Error(ye(421))),fy(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cie.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ui=Wl(i.nextSibling),Yi=e,vr=!0,Va=null,t!==null&&(pa[ma++]=xo,pa[ma++]=wo,pa[ma++]=bc,xo=t.id,wo=t.overflow,bc=e),e=XC(e,n.children),e.flags|=4096,e)}function IO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),E_(t.return,e,r)}function yS(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function wz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ti(t,e,n.children,r),n=_r.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IO(t,r,e);else if(t.tag===19)IO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ur(_r,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Z1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yS(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Z1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yS(e,!0,r,null,a);break;case"together":yS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ub(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function No(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,r=Zl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vie(t,e,r){switch(e.tag){case 3:bz(e),eh();break;case 5:qj(e);break;case 1:Ti(e.type)&&G1(e);break;case 4:YC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ur(q1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ur(_r,_r.current&1),e.flags|=128,null):r&e.child.childLanes?xz(t,e,r):(ur(_r,_r.current&1),t=No(t,e,r),t!==null?t.sibling:null);ur(_r,_r.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ur(_r,_r.current),n)break;return null;case 22:case 23:return e.lanes=0,vz(t,e,r)}return No(t,e,r)}var Ez,P_,Sz,Tz;Ez=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};P_=function(){};Sz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,rc(Ps.current);var a=null;switch(r){case"input":i=XR(t,i),n=XR(t,n),a=[];break;case"select":i=Or({},i,{value:void 0}),n=Or({},n,{value:void 0}),a=[];break;case"textarea":i=t_(t,i),n=t_(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=V1)}n_(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i?.[u],n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Tz=function(t,e,r,n){r!==n&&(e.flags|=4)};function E0(t,e){if(!vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function yie(t,e,r){var n=e.pendingProps;switch($C(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(e),null;case 1:return Ti(e.type)&&Y1(),Mn(e),null;case 3:return n=e.stateNode,rh(),mr(Si),mr(Hn),HC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Va!==null&&(F_(Va),Va=null))),P_(t,e),Mn(e),null;case 5:GC(e);var i=rc(xm.current);if(r=e.type,t!==null&&e.stateNode!=null)Sz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ye(166));return Mn(e),null}if(t=rc(Ps.current),uy(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ss]=e,n[ym]=a,t=(e.mode&1)!==0,r){case"dialog":dr("cancel",n),dr("close",n);break;case"iframe":case"object":case"embed":dr("load",n);break;case"video":case"audio":for(i=0;i<sp.length;i++)dr(sp[i],n);break;case"source":dr("error",n);break;case"img":case"image":case"link":dr("error",n),dr("load",n);break;case"details":dr("toggle",n);break;case"input":$8(n,a),dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},dr("invalid",n);break;case"textarea":B8(n,a),dr("invalid",n)}n_(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ly(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ly(n.textContent,o,t),i=["children",""+o]):lm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&dr("scroll",n)}switch(r){case"input":ey(n),F8(n,a,!0);break;case"textarea":ey(n),U8(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=V1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZU(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ss]=e,t[ym]=n,Ez(t,e,!1,!1),e.stateNode=t;e:{switch(s=i_(r,n),r){case"dialog":dr("cancel",t),dr("close",t),i=n;break;case"iframe":case"object":case"embed":dr("load",t),i=n;break;case"video":case"audio":for(i=0;i<sp.length;i++)dr(sp[i],t);i=n;break;case"source":dr("error",t),i=n;break;case"img":case"image":case"link":dr("error",t),dr("load",t),i=n;break;case"details":dr("toggle",t),i=n;break;case"input":$8(t,n),i=XR(t,n),dr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Or({},n,{value:void 0}),dr("invalid",t);break;case"textarea":B8(t,n),i=t_(t,n),dr("invalid",t);break;default:i=n}n_(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ej(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XU(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&um(t,l):typeof l=="number"&&um(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&dr("scroll",t):l!=null&&EC(t,a,l,s))}switch(r){case"input":ey(t),F8(t,n,!1);break;case"textarea":ey(t),U8(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ru(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ad(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ad(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=V1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mn(e),null;case 6:if(t&&e.stateNode!=null)Tz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ye(166));if(r=rc(xm.current),rc(Ps.current),uy(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ss]=e,(a=n.nodeValue!==r)&&(t=Yi,t!==null))switch(t.tag){case 3:ly(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ly(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ss]=e,e.stateNode=n}return Mn(e),null;case 13:if(mr(_r),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vr&&Ui!==null&&e.mode&1&&!(e.flags&128))jj(),eh(),e.flags|=98560,a=!1;else if(a=uy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ye(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ye(317));a[Ss]=e}else eh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mn(e),a=!1}else Va!==null&&(F_(Va),Va=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_r.current&1?sn===0&&(sn=3):i4())),e.updateQueue!==null&&(e.flags|=4),Mn(e),null);case 4:return rh(),P_(t,e),t===null&&gm(e.stateNode.containerInfo),Mn(e),null;case 10:return jC(e.type._context),Mn(e),null;case 17:return Ti(e.type)&&Y1(),Mn(e),null;case 19:if(mr(_r),a=e.memoizedState,a===null)return Mn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)E0(a,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Z1(t),s!==null){for(e.flags|=128,E0(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ur(_r,_r.current&1|2),e.child}t=t.sibling}a.tail!==null&&Wr()>ih&&(e.flags|=128,n=!0,E0(a,!1),e.lanes=4194304)}else{if(!n)if(t=Z1(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),E0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!vr)return Mn(e),null}else 2*Wr()-a.renderingStartTime>ih&&r!==1073741824&&(e.flags|=128,n=!0,E0(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Wr(),e.sibling=null,r=_r.current,ur(_r,n?r&1|2:r&1),e):(Mn(e),null);case 22:case 23:return n4(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ni&1073741824&&(Mn(e),e.subtreeFlags&6&&(e.flags|=8192)):Mn(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function bie(t,e){switch($C(e),e.tag){case 1:return Ti(e.type)&&Y1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rh(),mr(Si),mr(Hn),HC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return GC(e),null;case 13:if(mr(_r),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));eh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(_r),null;case 4:return rh(),null;case 10:return jC(e.type._context),null;case 22:case 23:return n4(),null;case 24:return null;default:return null}}var dy=!1,Un=!1,xie=typeof WeakSet=="function"?WeakSet:Set,ke=null;function id(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fr(t,e,n)}else r.current=null}function k_(t,e,r){try{r()}catch(n){Fr(t,e,n)}}var CO=!1;function wie(t,e){if(p_=U1,t=Ij(),DC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++c===n&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(m_={focusedElem:t,selectionRange:r},U1=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ua(e.type,m),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(E){Fr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return p=CO,CO=!1,p}function Op(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&k_(e,r,a)}i=i.next}while(i!==n)}}function Fw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function O_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Az(t){var e=t.alternate;e!==null&&(t.alternate=null,Az(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ss],delete e[ym],delete e[y_],delete e[nie],delete e[iie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rz(t){return t.tag===5||t.tag===3||t.tag===4}function PO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=V1));else if(n!==4&&(t=t.child,t!==null))for(N_(t,e,r),t=t.sibling;t!==null;)N_(t,e,r),t=t.sibling}function L_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(L_(t,e,r),t=t.sibling;t!==null;)L_(t,e,r),t=t.sibling}var An=null,ja=!1;function pl(t,e,r){for(r=r.child;r!==null;)_z(t,e,r),r=r.sibling}function _z(t,e,r){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Pw,r)}catch{}switch(r.tag){case 5:Un||id(r,e);case 6:var n=An,i=ja;An=null,pl(t,e,r),An=n,ja=i,An!==null&&(ja?(t=An,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):An.removeChild(r.stateNode));break;case 18:An!==null&&(ja?(t=An,r=r.stateNode,t.nodeType===8?fS(t.parentNode,r):t.nodeType===1&&fS(t,r),hm(t)):fS(An,r.stateNode));break;case 4:n=An,i=ja,An=r.stateNode.containerInfo,ja=!0,pl(t,e,r),An=n,ja=i;break;case 0:case 11:case 14:case 15:if(!Un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&k_(r,e,s),i=i.next}while(i!==n)}pl(t,e,r);break;case 1:if(!Un&&(id(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Fr(r,e,o)}pl(t,e,r);break;case 21:pl(t,e,r);break;case 22:r.mode&1?(Un=(n=Un)||r.memoizedState!==null,pl(t,e,r),Un=n):pl(t,e,r);break;default:pl(t,e,r)}}function kO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xie),e.forEach(function(n){var i=Pie.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:An=o.stateNode,ja=!1;break e;case 3:An=o.stateNode.containerInfo,ja=!0;break e;case 4:An=o.stateNode.containerInfo,ja=!0;break e}o=o.return}if(An===null)throw Error(ye(160));_z(a,s,i),An=null,ja=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Iz(e,t),e=e.sibling}function Iz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pa(e,t),fs(t),n&4){try{Op(3,t,t.return),Fw(3,t)}catch(m){Fr(t,t.return,m)}try{Op(5,t,t.return)}catch(m){Fr(t,t.return,m)}}break;case 1:Pa(e,t),fs(t),n&512&&r!==null&&id(r,r.return);break;case 5:if(Pa(e,t),fs(t),n&512&&r!==null&&id(r,r.return),t.flags&32){var i=t.stateNode;try{um(i,"")}catch(m){Fr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&KU(i,a),i_(o,s);var u=i_(o,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ej(i,f):c==="dangerouslySetInnerHTML"?XU(i,f):c==="children"?um(i,f):EC(i,c,f,u)}switch(o){case"input":JR(i,a);break;case"textarea":QU(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Ad(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?Ad(i,!!a.multiple,a.defaultValue,!0):Ad(i,!!a.multiple,a.multiple?[]:"",!1))}i[ym]=a}catch(m){Fr(t,t.return,m)}}break;case 6:if(Pa(e,t),fs(t),n&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Fr(t,t.return,m)}}break;case 3:if(Pa(e,t),fs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hm(e.containerInfo)}catch(m){Fr(t,t.return,m)}break;case 4:Pa(e,t),fs(t);break;case 13:Pa(e,t),fs(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(t4=Wr())),n&4&&kO(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Un=(u=Un)||c,Pa(e,t),Un=u):Pa(e,t),fs(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ke=t,c=t.child;c!==null;){for(f=ke=c;ke!==null;){switch(d=ke,h=d.child,d.tag){case 0:case 11:case 14:case 15:Op(4,d,d.return);break;case 1:id(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Fr(n,r,m)}}break;case 5:id(d,d.return);break;case 22:if(d.memoizedState!==null){NO(f);continue}}h!==null?(h.return=d,ke=h):NO(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JU("display",s))}catch(m){Fr(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Fr(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pa(e,t),fs(t),n&4&&kO(t);break;case 21:break;default:Pa(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Rz(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(um(i,""),n.flags&=-33);var a=PO(t);L_(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=PO(t);N_(t,o,s);break;default:throw Error(ye(161))}}catch(l){Fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Eie(t,e,r){ke=t,Cz(t)}function Cz(t,e,r){for(var n=(t.mode&1)!==0;ke!==null;){var i=ke,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||dy;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Un;o=dy;var u=Un;if(dy=s,(Un=l)&&!u)for(ke=i;ke!==null;)s=ke,l=s.child,s.tag===22&&s.memoizedState!==null?LO(i):l!==null?(l.return=s,ke=l):LO(i);for(;a!==null;)ke=a,Cz(a),a=a.sibling;ke=i,dy=o,Un=u}OO(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ke=a):OO(t)}}function OO(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Un||Fw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Un)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ua(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mO(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mO(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&hm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Un||e.flags&512&&O_(e)}catch(d){Fr(e,e.return,d)}}if(e===t){ke=null;break}if(r=e.sibling,r!==null){r.return=e.return,ke=r;break}ke=e.return}}function NO(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ke=r;break}ke=e.return}}function LO(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fw(4,e)}catch(l){Fr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Fr(e,i,l)}}var a=e.return;try{O_(e)}catch(l){Fr(e,a,l)}break;case 5:var s=e.return;try{O_(e)}catch(l){Fr(e,s,l)}}}catch(l){Fr(e,e.return,l)}if(e===t){ke=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ke=o;break}ke=e.return}}var Sie=Math.ceil,ex=Qo.ReactCurrentDispatcher,JC=Qo.ReactCurrentOwner,ya=Qo.ReactCurrentBatchConfig,$t=0,gn=null,en=null,kn=0,Ni=0,ad=Au(0),sn=0,Tm=null,wc=0,Bw=0,e4=0,Np=null,xi=null,t4=0,ih=1/0,so=null,tx=!1,D_=null,Kl=null,hy=!1,Fl=null,rx=0,Lp=0,M_=null,jb=-1,zb=0;function ai(){return $t&6?Wr():jb!==-1?jb:jb=Wr()}function Ql(t){return t.mode&1?$t&2&&kn!==0?kn&-kn:sie.transition!==null?(zb===0&&(zb=dj()),zb):(t=Qt,t!==0||(t=window.event,t=t===void 0?16:bj(t.type)),t):1}function ts(t,e,r,n){if(50<Lp)throw Lp=0,M_=null,Error(ye(185));Wg(t,r,n),(!($t&2)||t!==gn)&&(t===gn&&(!($t&2)&&(Bw|=r),sn===4&&Nl(t,kn)),Ai(t,n),r===1&&$t===0&&!(e.mode&1)&&(ih=Wr()+500,Dw&&Ru()))}function Ai(t,e){var r=t.callbackNode;sne(t,e);var n=B1(t,t===gn?kn:0);if(n===0)r!==null&&V8(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&V8(r),e===1)t.tag===0?aie(DO.bind(null,t)):Fj(DO.bind(null,t)),tie(function(){!($t&6)&&Ru()}),r=null;else{switch(hj(n)){case 1:r=_C;break;case 4:r=cj;break;case 16:r=F1;break;case 536870912:r=fj;break;default:r=F1}r=$z(r,Pz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pz(t,e){if(jb=-1,zb=0,$t&6)throw Error(ye(327));var r=t.callbackNode;if(Pd()&&t.callbackNode!==r)return null;var n=B1(t,t===gn?kn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=nx(t,n);else{e=n;var i=$t;$t|=2;var a=Oz();(gn!==t||kn!==e)&&(so=null,ih=Wr()+500,uc(t,e));do try{Rie();break}catch(o){kz(t,o)}while(1);UC(),ex.current=a,$t=i,en!==null?e=0:(gn=null,kn=0,e=sn)}if(e!==0){if(e===2&&(i=u_(t),i!==0&&(n=i,e=$_(t,i))),e===1)throw r=Tm,uc(t,0),Nl(t,n),Ai(t,Wr()),r;if(e===6)Nl(t,n);else{if(i=t.current.alternate,!(n&30)&&!Tie(i)&&(e=nx(t,n),e===2&&(a=u_(t),a!==0&&(n=a,e=$_(t,a))),e===1))throw r=Tm,uc(t,0),Nl(t,n),Ai(t,Wr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ye(345));case 2:Gu(t,xi,so);break;case 3:if(Nl(t,n),(n&130023424)===n&&(e=t4+500-Wr(),10<e)){if(B1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ai(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=v_(Gu.bind(null,t,xi,so),e);break}Gu(t,xi,so);break;case 4:if(Nl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-es(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sie(n/1960))-n,10<n){t.timeoutHandle=v_(Gu.bind(null,t,xi,so),n);break}Gu(t,xi,so);break;case 5:Gu(t,xi,so);break;default:throw Error(ye(329))}}}return Ai(t,Wr()),t.callbackNode===r?Pz.bind(null,t):null}function $_(t,e){var r=Np;return t.current.memoizedState.isDehydrated&&(uc(t,e).flags|=256),t=nx(t,e),t!==2&&(e=xi,xi=r,e!==null&&F_(e)),t}function F_(t){xi===null?xi=t:xi.push.apply(xi,t)}function Tie(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ns(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nl(t,e){for(e&=~e4,e&=~Bw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-es(e),n=1<<r;t[r]=-1,e&=~n}}function DO(t){if($t&6)throw Error(ye(327));Pd();var e=B1(t,0);if(!(e&1))return Ai(t,Wr()),null;var r=nx(t,e);if(t.tag!==0&&r===2){var n=u_(t);n!==0&&(e=n,r=$_(t,n))}if(r===1)throw r=Tm,uc(t,0),Nl(t,e),Ai(t,Wr()),r;if(r===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gu(t,xi,so),Ai(t,Wr()),null}function r4(t,e){var r=$t;$t|=1;try{return t(e)}finally{$t=r,$t===0&&(ih=Wr()+500,Dw&&Ru())}}function Ec(t){Fl!==null&&Fl.tag===0&&!($t&6)&&Pd();var e=$t;$t|=1;var r=ya.transition,n=Qt;try{if(ya.transition=null,Qt=1,t)return t()}finally{Qt=n,ya.transition=r,$t=e,!($t&6)&&Ru()}}function n4(){Ni=ad.current,mr(ad)}function uc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eie(r)),en!==null)for(r=en.return;r!==null;){var n=r;switch($C(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Y1();break;case 3:rh(),mr(Si),mr(Hn),HC();break;case 5:GC(n);break;case 4:rh();break;case 13:mr(_r);break;case 19:mr(_r);break;case 10:jC(n.type._context);break;case 22:case 23:n4()}r=r.return}if(gn=t,en=t=Zl(t.current,null),kn=Ni=e,sn=0,Tm=null,e4=Bw=wc=0,xi=Np=null,tc!==null){for(e=0;e<tc.length;e++)if(r=tc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}tc=null}return t}function kz(t,e){do{var r=en;try{if(UC(),Fb.current=J1,X1){for(var n=kr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}X1=!1}if(xc=0,pn=nn=kr=null,kp=!1,wm=0,JC.current=null,r===null||r.return===null){sn=1,Tm=e,en=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=kn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=EO(s);if(h!==null){h.flags&=-257,SO(h,s,o,a,e),h.mode&1&&wO(a,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){wO(a,u,e),i4();break e}l=Error(ye(426))}}else if(vr&&o.mode&1){var g=EO(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),SO(g,s,o,a,e),FC(nh(l,o));break e}}a=l=nh(l,o),sn!==4&&(sn=2),Np===null?Np=[a]:Np.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=pz(a,l,e);pO(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kl===null||!Kl.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=mz(a,o,e);pO(a,E);break e}}a=a.return}while(a!==null)}Lz(r)}catch(R){e=R,en===r&&r!==null&&(en=r=r.return);continue}break}while(1)}function Oz(){var t=ex.current;return ex.current=J1,t===null?J1:t}function i4(){(sn===0||sn===3||sn===2)&&(sn=4),gn===null||!(wc&268435455)&&!(Bw&268435455)||Nl(gn,kn)}function nx(t,e){var r=$t;$t|=2;var n=Oz();(gn!==t||kn!==e)&&(so=null,uc(t,e));do try{Aie();break}catch(i){kz(t,i)}while(1);if(UC(),$t=r,ex.current=n,en!==null)throw Error(ye(261));return gn=null,kn=0,sn}function Aie(){for(;en!==null;)Nz(en)}function Rie(){for(;en!==null&&!Zre();)Nz(en)}function Nz(t){var e=Mz(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,e===null?Lz(t):en=e,JC.current=null}function Lz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bie(r,e),r!==null){r.flags&=32767,en=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,en=null;return}}else if(r=yie(r,e,Ni),r!==null){en=r;return}if(e=e.sibling,e!==null){en=e;return}en=e=t}while(e!==null);sn===0&&(sn=5)}function Gu(t,e,r){var n=Qt,i=ya.transition;try{ya.transition=null,Qt=1,_ie(t,e,r,n)}finally{ya.transition=i,Qt=n}return null}function _ie(t,e,r,n){do Pd();while(Fl!==null);if($t&6)throw Error(ye(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(one(t,a),t===gn&&(en=gn=null,kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hy||(hy=!0,$z(F1,function(){return Pd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ya.transition,ya.transition=null;var s=Qt;Qt=1;var o=$t;$t|=4,JC.current=null,wie(t,r),Iz(r,t),Wne(m_),U1=!!p_,m_=p_=null,t.current=r,Eie(r),Xre(),$t=o,Qt=s,ya.transition=a}else t.current=r;if(hy&&(hy=!1,Fl=t,rx=i),a=t.pendingLanes,a===0&&(Kl=null),tne(r.stateNode),Ai(t,Wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(tx)throw tx=!1,t=D_,D_=null,t;return rx&1&&t.tag!==0&&Pd(),a=t.pendingLanes,a&1?t===M_?Lp++:(Lp=0,M_=t):Lp=0,Ru(),null}function Pd(){if(Fl!==null){var t=hj(rx),e=ya.transition,r=Qt;try{if(ya.transition=null,Qt=16>t?16:t,Fl===null)var n=!1;else{if(t=Fl,Fl=null,rx=0,$t&6)throw Error(ye(331));var i=$t;for($t|=4,ke=t.current;ke!==null;){var a=ke,s=a.child;if(ke.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ke=u;ke!==null;){var c=ke;switch(c.tag){case 0:case 11:case 15:Op(8,c,a)}var f=c.child;if(f!==null)f.return=c,ke=f;else for(;ke!==null;){c=ke;var d=c.sibling,h=c.return;if(Az(c),c===u){ke=null;break}if(d!==null){d.return=h,ke=d;break}ke=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}ke=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ke=s;else e:for(;ke!==null;){if(a=ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Op(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ke=v;break e}ke=a.return}}var b=t.current;for(ke=b;ke!==null;){s=ke;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ke=w;else e:for(s=b;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fw(9,o)}}catch(R){Fr(o,o.return,R)}if(o===s){ke=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ke=E;break e}ke=o.return}}if($t=i,Ru(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Pw,t)}catch{}n=!0}return n}finally{Qt=r,ya.transition=e}}return!1}function MO(t,e,r){e=nh(r,e),e=pz(t,e,1),t=ql(t,e,1),e=ai(),t!==null&&(Wg(t,1,e),Ai(t,e))}function Fr(t,e,r){if(t.tag===3)MO(t,t,r);else for(;e!==null;){if(e.tag===3){MO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kl===null||!Kl.has(n))){t=nh(r,t),t=mz(e,t,1),e=ql(e,t,1),t=ai(),e!==null&&(Wg(e,1,t),Ai(e,t));break}}e=e.return}}function Iie(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ai(),t.pingedLanes|=t.suspendedLanes&r,gn===t&&(kn&r)===r&&(sn===4||sn===3&&(kn&130023424)===kn&&500>Wr()-t4?uc(t,0):e4|=r),Ai(t,e)}function Dz(t,e){e===0&&(t.mode&1?(e=ny,ny<<=1,!(ny&130023424)&&(ny=4194304)):e=1);var r=ai();t=Oo(t,e),t!==null&&(Wg(t,e,r),Ai(t,r))}function Cie(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Dz(t,r)}function Pie(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(e),Dz(t,r)}var Mz;Mz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Si.current)Ei=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ei=!1,vie(t,e,r);Ei=!!(t.flags&131072)}else Ei=!1,vr&&e.flags&1048576&&Bj(e,W1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ub(t,e),t=e.pendingProps;var i=Jd(e,Hn.current);Cd(e,r),i=qC(null,e,n,t,i,r);var a=KC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ti(n)?(a=!0,G1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VC(e),i.updater=Mw,e.stateNode=i,i._reactInternals=e,T_(e,n,t,r),e=__(null,e,n,!0,a,r)):(e.tag=0,vr&&a&&MC(e),ti(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ub(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Oie(n),t=Ua(n,t),i){case 0:e=R_(null,e,n,t,r);break e;case 1:e=RO(null,e,n,t,r);break e;case 11:e=TO(null,e,n,t,r);break e;case 14:e=AO(null,e,n,Ua(n.type,t),r);break e}throw Error(ye(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ua(n,i),R_(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ua(n,i),RO(t,e,n,i,r);case 3:e:{if(bz(e),t===null)throw Error(ye(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Vj(t,e),Q1(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=nh(Error(ye(423)),e),e=_O(t,e,n,r,i);break e}else if(n!==i){i=nh(Error(ye(424)),e),e=_O(t,e,n,r,i);break e}else for(Ui=Wl(e.stateNode.containerInfo.firstChild),Yi=e,vr=!0,Va=null,r=Wj(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eh(),n===i){e=No(t,e,r);break e}ti(t,e,n,r)}e=e.child}return e;case 5:return qj(e),t===null&&w_(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,g_(n,i)?s=null:a!==null&&g_(n,a)&&(e.flags|=32),yz(t,e),ti(t,e,s,r),e.child;case 6:return t===null&&w_(e),null;case 13:return xz(t,e,r);case 4:return YC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=th(e,null,n,r):ti(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ua(n,i),TO(t,e,n,i,r);case 7:return ti(t,e,e.pendingProps,r),e.child;case 8:return ti(t,e,e.pendingProps.children,r),e.child;case 12:return ti(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ur(q1,n._currentValue),n._currentValue=s,a!==null)if(ns(a.value,s)){if(a.children===i.children&&!Si.current){e=No(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Eo(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),E_(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ye(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),E_(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ti(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cd(e,r),i=ba(i),n=n(i),e.flags|=1,ti(t,e,n,r),e.child;case 14:return n=e.type,i=Ua(n,e.pendingProps),i=Ua(n.type,i),AO(t,e,n,i,r);case 15:return gz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ua(n,i),Ub(t,e),e.tag=1,Ti(n)?(t=!0,G1(e)):t=!1,Cd(e,r),Gj(e,n,i),T_(e,n,i,r),__(null,e,n,!0,t,r);case 19:return wz(t,e,r);case 22:return vz(t,e,r)}throw Error(ye(156,e.tag))};function $z(t,e){return uj(t,e)}function kie(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(t,e,r,n){return new kie(t,e,r,n)}function a4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oie(t){if(typeof t=="function")return a4(t)?1:0;if(t!=null){if(t=t.$$typeof,t===TC)return 11;if(t===AC)return 14}return 2}function Zl(t,e){var r=t.alternate;return r===null?(r=va(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vb(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")a4(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Kf:return cc(r.children,i,a,e);case SC:s=8,i|=8;break;case qR:return t=va(12,r,e,i|2),t.elementType=qR,t.lanes=a,t;case KR:return t=va(13,r,e,i),t.elementType=KR,t.lanes=a,t;case QR:return t=va(19,r,e,i),t.elementType=QR,t.lanes=a,t;case HU:return Uw(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YU:s=10;break e;case GU:s=9;break e;case TC:s=11;break e;case AC:s=14;break e;case Rl:s=16,n=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=va(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function cc(t,e,r,n){return t=va(7,t,n,e),t.lanes=r,t}function Uw(t,e,r,n){return t=va(22,t,n,e),t.elementType=HU,t.lanes=r,t.stateNode={isHidden:!1},t}function bS(t,e,r){return t=va(6,t,null,e),t.lanes=r,t}function xS(t,e,r){return e=va(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nie(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eS(0),this.expirationTimes=eS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function s4(t,e,r,n,i,a,s,o,l){return t=new Nie(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=va(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},VC(a),t}function Lie(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qf,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Fz(t){if(!t)return nu;t=t._reactInternals;e:{if(zc(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var r=t.type;if(Ti(r))return $j(t,r,e)}return e}function Bz(t,e,r,n,i,a,s,o,l){return t=s4(r,n,!0,t,i,a,s,o,l),t.context=Fz(null),r=t.current,n=ai(),i=Ql(r),a=Eo(n,i),a.callback=e??null,ql(r,a,i),t.current.lanes=i,Wg(t,i,n),Ai(t,n),t}function jw(t,e,r,n){var i=e.current,a=ai(),s=Ql(i);return r=Fz(r),e.context===null?e.context=r:e.pendingContext=r,e=Eo(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ql(i,e,s),t!==null&&(ts(t,i,s,a),$b(t,i,s)),s}function ix(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $O(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function o4(t,e){$O(t,e),(t=t.alternate)&&$O(t,e)}function Die(){return null}var Uz=typeof reportError=="function"?reportError:function(t){console.error(t)};function l4(t){this._internalRoot=t}zw.prototype.render=l4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));jw(t,e,null,null)};zw.prototype.unmount=l4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ec(function(){jw(null,t,null,null)}),e[ko]=null}};function zw(t){this._internalRoot=t}zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=gj();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ol.length&&e!==0&&e<Ol[r].priority;r++);Ol.splice(r,0,t),r===0&&yj(t)}};function u4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FO(){}function Mie(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=ix(s);a.call(u)}}var s=Bz(e,n,t,0,null,!1,!1,"",FO);return t._reactRootContainer=s,t[ko]=s.current,gm(t.nodeType===8?t.parentNode:t),Ec(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=ix(l);o.call(u)}}var l=s4(t,0,!1,null,null,!1,!1,"",FO);return t._reactRootContainer=l,t[ko]=l.current,gm(t.nodeType===8?t.parentNode:t),Ec(function(){jw(e,l,r,n)}),l}function Yw(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ix(s);o.call(l)}}jw(e,s,t,i)}else s=Mie(r,e,t,i,n);return ix(s)}pj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ap(e.pendingLanes);r!==0&&(IC(e,r|1),Ai(e,Wr()),!($t&6)&&(ih=Wr()+500,Ru()))}break;case 13:Ec(function(){var n=Oo(t,1);if(n!==null){var i=ai();ts(n,t,1,i)}}),o4(t,1)}};CC=function(t){if(t.tag===13){var e=Oo(t,134217728);if(e!==null){var r=ai();ts(e,t,134217728,r)}o4(t,134217728)}};mj=function(t){if(t.tag===13){var e=Ql(t),r=Oo(t,e);if(r!==null){var n=ai();ts(r,t,e,n)}o4(t,e)}};gj=function(){return Qt};vj=function(t,e){var r=Qt;try{return Qt=t,e()}finally{Qt=r}};s_=function(t,e,r){switch(e){case"input":if(JR(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Lw(n);if(!i)throw Error(ye(90));qU(n),JR(n,i)}}}break;case"textarea":QU(t,r);break;case"select":e=r.value,e!=null&&Ad(t,!!r.multiple,e,!1)}};nj=r4;ij=Ec;var $ie={usingClientEntryPoint:!1,Events:[Kg,Jf,Lw,tj,rj,r4]},S0={findFiberByHostInstance:ec,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fie={bundleType:S0.bundleType,version:S0.version,rendererPackageName:S0.rendererPackageName,rendererConfig:S0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oj(t),t===null?null:t.stateNode},findFiberByHostInstance:S0.findFiberByHostInstance||Die,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{Pw=py.inject(Fie),Cs=py}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$ie;Ki.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u4(e))throw Error(ye(200));return Lie(t,e,null,r)};Ki.createRoot=function(t,e){if(!u4(t))throw Error(ye(299));var r=!1,n="",i=Uz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=s4(t,1,!1,null,null,r,!1,n,i),t[ko]=e.current,gm(t.nodeType===8?t.parentNode:t),new l4(e)};Ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=oj(e),t=t===null?null:t.stateNode,t};Ki.flushSync=function(t){return Ec(t)};Ki.hydrate=function(t,e,r){if(!Vw(e))throw Error(ye(200));return Yw(null,t,e,!0,r)};Ki.hydrateRoot=function(t,e,r){if(!u4(t))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Uz;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Bz(e,null,t,1,r??null,i,!1,a,s),t[ko]=e.current,gm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new zw(e)};Ki.render=function(t,e,r){if(!Vw(e))throw Error(ye(200));return Yw(null,t,e,!1,r)};Ki.unmountComponentAtNode=function(t){if(!Vw(t))throw Error(ye(40));return t._reactRootContainer?(Ec(function(){Yw(null,null,t,!1,function(){t._reactRootContainer=null,t[ko]=null})}),!0):!1};Ki.unstable_batchedUpdates=r4;Ki.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vw(r))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return Yw(t,e,r,!1,n)};Ki.version="18.2.0-next-9e3b772b8-20220608";function jz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jz)}catch(t){console.error(t)}}jz(),BU.exports=Ki;var Nn=BU.exports;const op=Pi(Nn);var BO=Nn;HR.createRoot=BO.createRoot,HR.hydrateRoot=BO.hydrateRoot;const Bie={"lds-ripple":"_lds-ripple_1vb2r_1"},c4=()=>j.jsxs("div",{className:Bie["lds-ripple"],children:[j.jsx("div",{}),j.jsx("div",{})]});function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B_.apply(this,arguments)}function U_(t){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(t)}function wS(t){return t&&U_(t)==="object"&&t.constructor===Object}function Sc(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},n=r.clone?B_({},t):t;return wS(t)&&wS(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(wS(e[i])&&i in t?n[i]=Sc(t[i],e[i],r):n[i]=e[i])}),n}function ah(t){for(var e="https://mui.com/production-error/?code="+t,r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}function f4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),r)}function Uie(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),r=t.match(e);return r&&r[0].length===1&&(r=r.map(function(n){return n+n})),r?"rgb".concat(r.length===4?"a":"","(").concat(r.map(function(n,i){return i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3}).join(", "),")"):""}function jie(t){t=Tc(t);var e=t,r=e.values,n=r[0],i=r[1]/100,a=r[2]/100,s=i*Math.min(a,1-a),o=function(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(f+n/30)%12;return a-s*Math.max(Math.min(d-3,9-d,1),-1)},l="rgb",u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(l+="a",u.push(r[3])),Gw({type:l,values:u})}function Tc(t){if(t.type)return t;if(t.charAt(0)==="#")return Tc(Uie(t));var e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(r)===-1)throw new Error(ah(3,t));var n=t.substring(e+1,t.length-1).split(",");return n=n.map(function(i){return parseFloat(i)}),{type:r,values:n}}function Gw(t){var e=t.type,r=t.values;return e.indexOf("rgb")!==-1?r=r.map(function(n,i){return i<3?parseInt(n,10):n}):e.indexOf("hsl")!==-1&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(e,"(").concat(r.join(", "),")")}function zie(t,e){var r=UO(t),n=UO(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function UO(t){t=Tc(t);var e=t.type==="hsl"?Tc(jie(t)).values:t.values;return e=e.map(function(r){return r/=255,r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ha(t,e){return t=Tc(t),e=f4(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.values[3]=e,Gw(t)}function Vie(t,e){if(t=Tc(t),e=f4(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var r=0;r<3;r+=1)t.values[r]*=1-e;return Gw(t)}function Yie(t,e){if(t=Tc(t),e=f4(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;return Gw(t)}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Gie(t,e){if(sh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zz(t){var e=Gie(t,"string");return sh(e)==="symbol"?e:String(e)}function Ya(t,e,r){return e=zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function et(t,e){if(t==null)return{};var r=Hie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fe.apply(this,arguments)}var ml=["xs","sm","md","lg","xl"];function Wie(t){var e=t.values,r=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,n=t.unit,i=n===void 0?"px":n,a=t.step,s=a===void 0?5:a,o=et(t,["values","unit","step"]);function l(h){var p=typeof r[h]=="number"?r[h]:h;return"@media (min-width:".concat(p).concat(i,")")}function u(h){var p=ml.indexOf(h)+1,m=r[ml[p]];if(p===ml.length)return l("xs");var g=typeof m=="number"&&p>0?m:h;return"@media (max-width:".concat(g-s/100).concat(i,")")}function c(h,p){var m=ml.indexOf(p);return m===ml.length-1?l(h):"@media (min-width:".concat(typeof r[h]=="number"?r[h]:h).concat(i,") and ")+"(max-width:".concat((m!==-1&&typeof r[ml[m+1]]=="number"?r[ml[m+1]]:p)-s/100).concat(i,")")}function f(h){return c(h,h)}function d(h){return r[h]}return fe({keys:ml,values:r,up:l,down:u,between:c,only:f,width:d},o)}function qie(t,e,r){var n;return fe({gutters:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),fe({paddingLeft:e(2),paddingRight:e(2)},a,Ya({},t.up("sm"),fe({paddingLeft:e(3),paddingRight:e(3)},a[t.up("sm")])))},toolbar:(n={minHeight:56},Ya(n,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Ya(n,t.up("sm"),{minHeight:64}),n)},r)}var Kie={black:"#000",white:"#fff"};const ax=Kie;var Qie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const d4=Qie;var Zie={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const ES=Zie;var Xie={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const SS=Xie;var Jie={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const TS=Jie;var eae={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const AS=eae;var tae={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const RS=tae;var rae={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const _S=rae;var jO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ax.white,default:d4[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},IS={text:{primary:ax.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d4[800],default:"#303030"},action:{active:ax.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zO(t,e,r,n){var i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Yie(t.main,i):e==="dark"&&(t.dark=Vie(t.main,a)))}function nae(t){var e=t.primary,r=e===void 0?{light:ES[300],main:ES[500],dark:ES[700]}:e,n=t.secondary,i=n===void 0?{light:SS.A200,main:SS.A400,dark:SS.A700}:n,a=t.error,s=a===void 0?{light:TS[300],main:TS[500],dark:TS[700]}:a,o=t.warning,l=o===void 0?{light:AS[300],main:AS[500],dark:AS[700]}:o,u=t.info,c=u===void 0?{light:RS[300],main:RS[500],dark:RS[700]}:u,f=t.success,d=f===void 0?{light:_S[300],main:_S[500],dark:_S[700]}:f,h=t.type,p=h===void 0?"light":h,m=t.contrastThreshold,g=m===void 0?3:m,v=t.tonalOffset,b=v===void 0?.2:v,w=et(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function E(N){var F=zie(N,IS.text.primary)>=g?IS.text.primary:jO.text.primary;return F}var R=function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(F=fe({},F),!F.main&&F[$]&&(F.main=F[$]),!F.main)throw new Error(ah(4,$));if(typeof F.main!="string")throw new Error(ah(5,JSON.stringify(F.main)));return zO(F,"light",z,b),zO(F,"dark",k,b),F.contrastText||(F.contrastText=E(F.main)),F},I={dark:IS,light:jO},D=Sc(fe({common:ax,type:p,primary:R(r),secondary:R(i,"A400","A200","A700"),error:R(s),warning:R(l),info:R(c),success:R(d),grey:d4,contrastThreshold:g,getContrastText:E,augmentColor:R,tonalOffset:b},I[p]),w);return D}function Vz(t){return Math.round(t*1e5)/1e5}function iae(t){return Vz(t)}var VO={textTransform:"uppercase"},YO='"Roboto", "Helvetica", "Arial", sans-serif';function aae(t,e){var r=typeof e=="function"?e(t):e,n=r.fontFamily,i=n===void 0?YO:n,a=r.fontSize,s=a===void 0?14:a,o=r.fontWeightLight,l=o===void 0?300:o,u=r.fontWeightRegular,c=u===void 0?400:u,f=r.fontWeightMedium,d=f===void 0?500:f,h=r.fontWeightBold,p=h===void 0?700:h,m=r.htmlFontSize,g=m===void 0?16:m,v=r.allVariants,b=r.pxToRem,w=et(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),E=s/14,R=b||function(N){return"".concat(N/g*E,"rem")},I=function(F,$,z,k,A){return fe({fontFamily:i,fontWeight:F,fontSize:R($),lineHeight:z},i===YO?{letterSpacing:"".concat(Vz(k/$),"em")}:{},A,v)},D={h1:I(l,96,1.167,-1.5),h2:I(l,60,1.2,-.5),h3:I(c,48,1.167,0),h4:I(c,34,1.235,.25),h5:I(c,24,1.334,0),h6:I(d,20,1.6,.15),subtitle1:I(c,16,1.75,.15),subtitle2:I(d,14,1.57,.1),body1:I(c,16,1.5,.15),body2:I(c,14,1.43,.15),button:I(d,14,1.75,.4,VO),caption:I(c,12,1.66,.4),overline:I(c,12,2.66,1,VO)};return Sc(fe({htmlFontSize:g,pxToRem:R,round:iae,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:p},D),w,{clone:!1})}var sae=.2,oae=.14,lae=.12;function gr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(sae,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(oae,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(lae,")")].join(",")}var uae=["none",gr(0,2,1,-1,0,1,1,0,0,1,3,0),gr(0,3,1,-2,0,2,2,0,0,1,5,0),gr(0,3,3,-2,0,3,4,0,0,1,8,0),gr(0,2,4,-1,0,4,5,0,0,1,10,0),gr(0,3,5,-1,0,5,8,0,0,1,14,0),gr(0,3,5,-1,0,6,10,0,0,1,18,0),gr(0,4,5,-2,0,7,10,1,0,2,16,1),gr(0,5,5,-3,0,8,10,1,0,3,14,2),gr(0,5,6,-3,0,9,12,1,0,3,16,2),gr(0,6,6,-3,0,10,14,1,0,4,18,3),gr(0,6,7,-4,0,11,15,1,0,4,20,3),gr(0,7,8,-4,0,12,17,2,0,5,22,4),gr(0,7,8,-4,0,13,19,2,0,5,24,4),gr(0,7,9,-4,0,14,21,2,0,5,26,4),gr(0,8,9,-5,0,15,22,2,0,6,28,5),gr(0,8,10,-5,0,16,24,2,0,6,30,5),gr(0,8,11,-5,0,17,26,2,0,6,32,5),gr(0,9,11,-5,0,18,28,2,0,7,34,6),gr(0,9,12,-6,0,19,29,2,0,7,36,6),gr(0,10,13,-6,0,20,31,3,0,8,38,7),gr(0,10,13,-6,0,21,33,3,0,8,40,7),gr(0,10,14,-6,0,22,35,3,0,8,42,7),gr(0,11,14,-7,0,23,36,3,0,9,44,8),gr(0,11,15,-7,0,24,38,3,0,9,46,8)];const cae=uae;var fae={borderRadius:4};const dae=fae;function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function hae(t,e){if(oh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t){var e=hae(t,"string");return oh(e)==="symbol"?e:String(e)}function mae(t,e,r){return e=pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gae(t){if(Array.isArray(t))return j_(t)}function vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yz(t,e){if(t){if(typeof t=="string")return j_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j_(t,e)}}function yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t){return gae(t)||vae(t)||Yz(t)||yae()}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}function sx(t,e){return e?Sc(t,e,{clone:!1}):t}var xae={xs:0,sm:600,md:960,lg:1280,xl:1920},GO={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(xae[e],"px)")}};function Gz(t,e,r){if(Array.isArray(e)){var n=t.theme.breakpoints||GO;return e.reduce(function(s,o,l){return s[n.up(n.keys[l])]=r(e[l]),s},{})}if(oh(e)==="object"){var i=t.theme.breakpoints||GO;return Object.keys(e).reduce(function(s,o){return s[i.up(o)]=r(e[o]),s},{})}var a=r(e);return a}function HO(t,e){return!e||typeof e!="string"?null:e.split(".").reduce(function(r,n){return r&&r[n]?r[n]:null},t)}function Me(t){var e=t.prop,r=t.cssProperty,n=r===void 0?t.prop:r,i=t.themeKey,a=t.transform,s=function(l){if(l[e]==null)return null;var u=l[e],c=l.theme,f=HO(c,i)||{},d=function(p){var m;return typeof f=="function"?m=f(p):Array.isArray(f)?m=f[p]||p:(m=HO(f,p)||p,a&&(m=a(m))),n===!1?m:mae({},n,m)};return Gz(l,u,d)};return s.propTypes={},s.filterProps=[e],s}function Zo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(a){return e.reduce(function(s,o){var l=o(a);return l?sx(s,l):s},{})};return n.propTypes={},n.filterProps=e.reduce(function(i,a){return i.concat(a.filterProps)},[]),n}function Zg(t){return typeof t!="number"?t:"".concat(t,"px solid")}var wae=Me({prop:"border",themeKey:"borders",transform:Zg}),Eae=Me({prop:"borderTop",themeKey:"borders",transform:Zg}),Sae=Me({prop:"borderRight",themeKey:"borders",transform:Zg}),Tae=Me({prop:"borderBottom",themeKey:"borders",transform:Zg}),Aae=Me({prop:"borderLeft",themeKey:"borders",transform:Zg}),Rae=Me({prop:"borderColor",themeKey:"palette"}),_ae=Me({prop:"borderRadius",themeKey:"shape"}),Iae=Zo(wae,Eae,Sae,Tae,Aae,Rae,_ae);const Cae=Iae;function WO(t,e){var r={};return Object.keys(t).forEach(function(n){e.indexOf(n)===-1&&(r[n]=t[n])}),r}function Pae(t){var e=function(n){var i=t(n);return n.css?sd({},sx(i,t(sd({theme:n.theme},n.css))),WO(n.css,[t.filterProps])):n.sx?sd({},sx(i,t(sd({theme:n.theme},n.sx))),WO(n.sx,[t.filterProps])):i};return e.propTypes={},e.filterProps=["css","sx"].concat(bae(t.filterProps)),e}var kae=Me({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Oae=Me({prop:"display"}),Nae=Me({prop:"overflow"}),Lae=Me({prop:"textOverflow"}),Dae=Me({prop:"visibility"}),Mae=Me({prop:"whiteSpace"});const $ae=Zo(kae,Oae,Nae,Lae,Dae,Mae);var Fae=Me({prop:"flexBasis"}),Bae=Me({prop:"flexDirection"}),Uae=Me({prop:"flexWrap"}),jae=Me({prop:"justifyContent"}),zae=Me({prop:"alignItems"}),Vae=Me({prop:"alignContent"}),Yae=Me({prop:"order"}),Gae=Me({prop:"flex"}),Hae=Me({prop:"flexGrow"}),Wae=Me({prop:"flexShrink"}),qae=Me({prop:"alignSelf"}),Kae=Me({prop:"justifyItems"}),Qae=Me({prop:"justifySelf"}),Zae=Zo(Fae,Bae,Uae,jae,zae,Vae,Yae,Gae,Hae,Wae,qae,Kae,Qae);const Xae=Zae;var Jae=Me({prop:"gridGap"}),ese=Me({prop:"gridColumnGap"}),tse=Me({prop:"gridRowGap"}),rse=Me({prop:"gridColumn"}),nse=Me({prop:"gridRow"}),ise=Me({prop:"gridAutoFlow"}),ase=Me({prop:"gridAutoColumns"}),sse=Me({prop:"gridAutoRows"}),ose=Me({prop:"gridTemplateColumns"}),lse=Me({prop:"gridTemplateRows"}),use=Me({prop:"gridTemplateAreas"}),cse=Me({prop:"gridArea"}),fse=Zo(Jae,ese,tse,rse,nse,ise,ase,sse,ose,lse,use,cse);const dse=fse;var hse=Me({prop:"color",themeKey:"palette"}),pse=Me({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),mse=Zo(hse,pse);const gse=mse;var vse=Me({prop:"position"}),yse=Me({prop:"zIndex",themeKey:"zIndex"}),bse=Me({prop:"top"}),xse=Me({prop:"right"}),wse=Me({prop:"bottom"}),Ese=Me({prop:"left"});const Sse=Zo(vse,yse,bse,xse,wse,Ese);var Tse=Me({prop:"boxShadow",themeKey:"shadows"});const Ase=Tse;function _u(t){return t<=1?"".concat(t*100,"%"):t}var Rse=Me({prop:"width",transform:_u}),_se=Me({prop:"maxWidth",transform:_u}),Ise=Me({prop:"minWidth",transform:_u}),Cse=Me({prop:"height",transform:_u}),Pse=Me({prop:"maxHeight",transform:_u}),kse=Me({prop:"minHeight",transform:_u});Me({prop:"size",cssProperty:"width",transform:_u});Me({prop:"size",cssProperty:"height",transform:_u});var Ose=Me({prop:"boxSizing"}),Nse=Zo(Rse,_se,Ise,Cse,Pse,kse,Ose);const Lse=Nse;function Dse(t){if(Array.isArray(t))return t}function Mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(t,e){return Dse(t)||Mse(t,e)||Yz(t,e)||$se()}function Bse(t){var e={};return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Use={m:"margin",p:"padding"},jse={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qO={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zse=Bse(function(t){if(t.length>2)if(qO[t])t=qO[t];else return[t];var e=t.split(""),r=Fse(e,2),n=r[0],i=r[1],a=Use[n],s=jse[i]||"";return Array.isArray(s)?s.map(function(o){return a+o}):[a+s]}),Hz=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Wz(t){var e=t.spacing||8;return typeof e=="number"?function(r){return e*r}:Array.isArray(e)?function(r){return e[r]}:typeof e=="function"?e:function(){}}function Vse(t,e){if(typeof e=="string"||e==null)return e;var r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:"-".concat(n)}function Yse(t,e){return function(r){return t.reduce(function(n,i){return n[i]=Vse(e,r),n},{})}}function h4(t){var e=t.theme,r=Wz(e);return Object.keys(t).map(function(n){if(Hz.indexOf(n)===-1)return null;var i=zse(n),a=Yse(i,r),s=t[n];return Gz(t,s,a)}).reduce(sx,{})}h4.propTypes={};h4.filterProps=Hz;var Gse=Me({prop:"fontFamily",themeKey:"typography"}),Hse=Me({prop:"fontSize",themeKey:"typography"}),Wse=Me({prop:"fontStyle",themeKey:"typography"}),qse=Me({prop:"fontWeight",themeKey:"typography"}),Kse=Me({prop:"letterSpacing"}),Qse=Me({prop:"lineHeight"}),Zse=Me({prop:"textAlign"}),Xse=Zo(Gse,Hse,Wse,qse,Kse,Qse,Zse);const Jse=Xse;function eoe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=Wz({spacing:t}),r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.length===0?e(1):a.length===1?e(a[0]):a.map(function(o){if(typeof o=="string")return o;var l=e(o);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(r,"unit",{get:function(){return t}}),r.mui=!0,r}var KO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Lo={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function QO(t){return"".concat(Math.round(t),"ms")}const toe={easing:KO,duration:Lo,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.duration,i=n===void 0?Lo.standard:n,a=r.easing,s=a===void 0?KO.easeInOut:a,o=r.delay,l=o===void 0?0:o;return et(r,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(u){return"".concat(u," ").concat(typeof i=="string"?i:QO(i)," ").concat(s," ").concat(typeof l=="string"?l:QO(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var r=e/36;return Math.round((4+15*Math.pow(r,.25)+r/5)*10)}};var roe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const qz=roe;function noe(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,r=e===void 0?{}:e,n=t.mixins,i=n===void 0?{}:n,a=t.palette,s=a===void 0?{}:a,o=t.spacing,l=t.typography,u=l===void 0?{}:l,c=et(t,["breakpoints","mixins","palette","spacing","typography"]),f=nae(s),d=Wie(r),h=eoe(o),p=Sc({breakpoints:d,direction:"ltr",mixins:qie(d,h,i),overrides:{},palette:f,props:{},shadows:cae,typography:aae(f,u),spacing:h,shape:dae,transitions:toe,zIndex:qz},c),m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];return p=g.reduce(function(b,w){return Sc(b,w)},p),p}var ioe=typeof Symbol=="function"&&Symbol.for;const aoe=ioe?Symbol.for("mui.nested"):"__THEME_NESTED__";var soe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function ooe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,r=e===void 0?!1:e,n=t.productionPrefix,i=n===void 0?"jss":n,a=t.seed,s=a===void 0?"":a,o=s===""?"":"".concat(s,"-"),l=0,u=function(){return l+=1,l};return function(c,f){var d=f.options.name;if(d&&d.indexOf("Mui")===0&&!f.options.link&&!r){if(soe.indexOf(c.key)!==-1)return"Mui-".concat(c.key);var h="".concat(o).concat(d,"-").concat(c.key);return!f.options.theme[aoe]||s!==""?h:"".concat(h,"-").concat(u())}return"".concat(o).concat(i).concat(u())}}function Kz(t){var e=t.theme,r=t.name,n=t.props;if(!e||!e.props||!e.props[r])return n;var i=e.props[r],a;for(a in i)n[a]===void 0&&(n[a]=i[a]);return n}function Gi(){return Gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gi.apply(this,arguments)}var ZO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg=(typeof window>"u"?"undefined":ZO(window))==="object"&&(typeof document>"u"?"undefined":ZO(document))==="object"&&document.nodeType===9;function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function loe(t,e){if(Am(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t){var e=loe(t,"string");return Am(e)==="symbol"?e:String(e)}function XO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uoe(n.key),n)}}function Qz(t,e,r){return e&&XO(t.prototype,e),r&&XO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z_(t,e)}function Zz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,z_(t,e)}function JO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function coe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var foe={}.constructor;function V_(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(V_);if(t.constructor!==foe)return t;var e={};for(var r in t)e[r]=V_(t[r]);return e}function p4(t,e,r){t===void 0&&(t="unnamed");var n=r.jss,i=V_(e),a=n.plugins.onCreateRule(t,i,r);return a||(t[0],null)}var eN=function(e,r){for(var n="",i=0;i<e.length&&e[i]!=="!important";i++)n&&(n+=r),n+=e[i];return n},fc=function(e){if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&e[n]!=="!important";n++)r&&(r+=", "),r+=eN(e[n]," ");else r=eN(e,", ");return e[e.length-1]==="!important"&&(r+=" !important"),r};function zh(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function T0(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}function Rm(t,e,r){r===void 0&&(r={});var n="";if(!e)return n;var i=r,a=i.indent,s=a===void 0?0:a,o=e.fallbacks;r.format===!1&&(s=-1/0);var l=zh(r),u=l.linebreak,c=l.space;if(t&&s++,o)if(Array.isArray(o))for(var f=0;f<o.length;f++){var d=o[f];for(var h in d){var p=d[h];p!=null&&(n&&(n+=u),n+=T0(h+":"+c+fc(p)+";",s))}}else for(var m in o){var g=o[m];g!=null&&(n&&(n+=u),n+=T0(m+":"+c+fc(g)+";",s))}for(var v in e){var b=e[v];b!=null&&v!=="fallbacks"&&(n&&(n+=u),n+=T0(v+":"+c+fc(b)+";",s))}return!n&&!r.allowEmpty||!t?n:(s--,n&&(n=""+u+n+u),T0(""+t+c+"{"+n,s)+T0("}",s))}var doe=/([[\].#*$><+~=|^:(),"'`\s])/g,tN=typeof CSS<"u"&&CSS.escape,m4=function(t){return tN?tN(t):t.replace(doe,"\\$1")},Xz=function(){function t(r,n,i){this.type="style",this.isProcessed=!1;var a=i.sheet,s=i.Renderer;this.key=r,this.options=i,this.style=n,a?this.renderer=a.renderer:s&&(this.renderer=new s)}var e=t.prototype;return e.prop=function(n,i,a){if(i===void 0)return this.style[n];var s=a?a.force:!1;if(!s&&this.style[n]===i)return this;var o=i;(!a||a.process!==!1)&&(o=this.options.jss.plugins.onChangeValue(i,n,this));var l=o==null||o===!1,u=n in this.style;if(l&&!u&&!s)return this;var c=l&&u;if(c?delete this.style[n]:this.style[n]=o,this.renderable&&this.renderer)return c?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,o),this;var f=this.options.sheet;return f&&f.attached,this},t}(),Y_=function(t){Zz(e,t);function e(n,i,a){var s;s=t.call(this,n,i,a)||this;var o=a.selector,l=a.scoped,u=a.sheet,c=a.generateId;return o?s.selectorText=o:l!==!1&&(s.id=c(JO(JO(s)),u),s.selectorText="."+m4(s.id)),s}var r=e.prototype;return r.applyTo=function(i){var a=this.renderer;if(a){var s=this.toJSON();for(var o in s)a.setProperty(i,o,s[o])}return this},r.toJSON=function(){var i={};for(var a in this.style){var s=this.style[a];typeof s!="object"?i[a]=s:Array.isArray(s)&&(i[a]=fc(s))}return i},r.toString=function(i){var a=this.options.sheet,s=a?a.options.link:!1,o=s?Gi({},i,{allowEmpty:!0}):i;return Rm(this.selectorText,this.style,o)},Qz(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var a=this.renderer,s=this.renderable;if(!(!s||!a)){var o=a.setSelector(s,i);o||a.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),e}(Xz),hoe={onCreateRule:function(e,r,n){return e[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new Y_(e,r,n)}},CS={indent:1,children:!0},poe=/@([\w-]+)/,moe=function(){function t(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var a=r.match(poe);this.at=a?a[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Hw(Gi({},i,{parent:this}));for(var s in n)this.rules.add(s,n[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.indexOf=function(n){return this.rules.indexOf(n)},e.addRule=function(n,i,a){var s=this.rules.add(n,i,a);return s?(this.options.jss.plugins.onProcessRule(s),s):null},e.replaceRule=function(n,i,a){var s=this.rules.replace(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.toString=function(n){n===void 0&&(n=CS);var i=zh(n),a=i.linebreak;if(n.indent==null&&(n.indent=CS.indent),n.children==null&&(n.children=CS.children),n.children===!1)return this.query+" {}";var s=this.rules.toString(n);return s?this.query+" {"+a+s+a+"}":""},t}(),goe=/@container|@media|@supports\s+/,voe={onCreateRule:function(e,r,n){return goe.test(e)?new moe(e,r,n):null}},PS={indent:1,children:!0},yoe=/@keyframes\s+([\w-]+)/,G_=function(){function t(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=r.match(yoe);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,o=i.sheet,l=i.generateId;this.id=s===!1?this.name:m4(l(this,o)),this.rules=new Hw(Gi({},i,{parent:this}));for(var u in n)this.rules.add(u,n[u],Gi({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(n){n===void 0&&(n=PS);var i=zh(n),a=i.linebreak;if(n.indent==null&&(n.indent=PS.indent),n.children==null&&(n.children=PS.children),n.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(n);return s&&(s=""+a+s+a),this.at+" "+this.id+" {"+s+"}"},t}(),boe=/@keyframes\s+/,xoe=/\$([\w-]+)/g,H_=function(e,r){return typeof e=="string"?e.replace(xoe,function(n,i){return i in r?r[i]:n}):e},rN=function(e,r,n){var i=e[r],a=H_(i,n);a!==i&&(e[r]=a)},woe={onCreateRule:function(e,r,n){return typeof e=="string"&&boe.test(e)?new G_(e,r,n):null},onProcessStyle:function(e,r,n){return r.type!=="style"||!n||("animation-name"in e&&rN(e,"animation-name",n.keyframes),"animation"in e&&rN(e,"animation",n.keyframes)),e},onChangeValue:function(e,r,n){var i=n.options.sheet;if(!i)return e;switch(r){case"animation":return H_(e,i.keyframes);case"animation-name":return H_(e,i.keyframes);default:return e}}},Eoe=function(t){Zz(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.toString=function(i){var a=this.options.sheet,s=a?a.options.link:!1,o=s?Gi({},i,{allowEmpty:!0}):i;return Rm(this.key,this.style,o)},e}(Xz),Soe={onCreateRule:function(e,r,n){return n.parent&&n.parent.type==="keyframes"?new Eoe(e,r,n):null}},Toe=function(){function t(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){var i=zh(n),a=i.linebreak;if(Array.isArray(this.style)){for(var s="",o=0;o<this.style.length;o++)s+=Rm(this.at,this.style[o]),this.style[o+1]&&(s+=a);return s}return Rm(this.at,this.style,n)},t}(),Aoe=/@font-face/,Roe={onCreateRule:function(e,r,n){return Aoe.test(e)?new Toe(e,r,n):null}},_oe=function(){function t(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){return Rm(this.key,this.style,n)},t}(),Ioe={onCreateRule:function(e,r,n){return e==="@viewport"||e==="@-ms-viewport"?new _oe(e,r,n):null}},Coe=function(){function t(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var e=t.prototype;return e.toString=function(n){if(Array.isArray(this.value)){for(var i="",a=0;a<this.value.length;a++)i+=this.key+" "+this.value[a]+";",this.value[a+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),Poe={"@charset":!0,"@import":!0,"@namespace":!0},koe={onCreateRule:function(e,r,n){return e in Poe?new Coe(e,r,n):null}},nN=[hoe,voe,woe,Soe,Roe,Ioe,koe],Ooe={process:!0},iN={force:!0,process:!0},Hw=function(){function t(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=t.prototype;return e.add=function(n,i,a){var s=this.options,o=s.parent,l=s.sheet,u=s.jss,c=s.Renderer,f=s.generateId,d=s.scoped,h=Gi({classes:this.classes,parent:o,sheet:l,jss:u,Renderer:c,generateId:f,scoped:d,name:n,keyframes:this.keyframes,selector:void 0},a),p=n;n in this.raw&&(p=n+"-d"+this.counter++),this.raw[p]=i,p in this.classes&&(h.selector="."+m4(this.classes[p]));var m=p4(p,i,h);if(!m)return null;this.register(m);var g=h.index===void 0?this.index.length:h.index;return this.index.splice(g,0,m),m},e.replace=function(n,i,a){var s=this.get(n),o=this.index.indexOf(s);s&&this.remove(s);var l=a;return o!==-1&&(l=Gi({},a,{index:o})),this.add(n,i,l)},e.get=function(n){return this.map[n]},e.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},e.indexOf=function(n){return this.index.indexOf(n)},e.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},e.register=function(n){this.map[n.key]=n,n instanceof Y_?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof G_&&this.keyframes&&(this.keyframes[n.name]=n.id)},e.unregister=function(n){delete this.map[n.key],n instanceof Y_?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof G_&&delete this.keyframes[n.name]},e.update=function(){var n,i,a;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,a);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,a)},e.updateOne=function(n,i,a){a===void 0&&(a=Ooe);var s=this.options,o=s.jss.plugins,l=s.sheet;if(n.rules instanceof t){n.rules.update(i,a);return}var u=n.style;if(o.onUpdate(i,n,l,a),a.process&&u&&u!==n.style){o.onProcessStyle(n.style,n,l);for(var c in n.style){var f=n.style[c],d=u[c];f!==d&&n.prop(c,f,iN)}for(var h in u){var p=n.style[h],m=u[h];p==null&&p!==m&&n.prop(h,null,iN)}}},e.toString=function(n){for(var i="",a=this.options.sheet,s=a?a.options.link:!1,o=zh(n),l=o.linebreak,u=0;u<this.index.length;u++){var c=this.index[u],f=c.toString(n);!f&&!s||(i&&(i+=l),i+=f)}return i},t}(),Jz=function(){function t(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Gi({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new Hw(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(n,i,a){var s=this.queue;this.attached&&!s&&(this.queue=[]);var o=this.rules.add(n,i,a);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?(this.deployed&&(s?s.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),o):(this.deployed=!1,o)):null},e.replaceRule=function(n,i,a){var s=this.rules.get(n);if(!s)return this.addRule(n,i,a);var o=this.rules.replace(n,i,a);return o&&this.options.jss.plugins.onProcessRule(o),this.attached?(this.deployed&&this.renderer&&(o?s.renderable&&this.renderer.replaceRule(s.renderable,o):this.renderer.deleteRule(s)),o):(this.deployed=!1,o)},e.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},e.addRules=function(n,i){var a=[];for(var s in n){var o=this.addRule(s,n[s],i);o&&a.push(o)}return a},e.getRule=function(n){return this.rules.get(n)},e.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(n){return this.rules.indexOf(n)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},e.updateOne=function(n,i,a){return this.rules.updateOne(n,i,a),this},e.toString=function(n){return this.rules.toString(n)},t}(),Noe=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(n,i,a){for(var s=0;s<this.registry.onCreateRule.length;s++){var o=this.registry.onCreateRule[s](n,i,a);if(o)return o}return null},e.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,a=0;a<this.registry.onProcessRule.length;a++)this.registry.onProcessRule[a](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},e.onProcessStyle=function(n,i,a){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,a)},e.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},e.onUpdate=function(n,i,a,s){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](n,i,a,s)},e.onChangeValue=function(n,i,a){for(var s=n,o=0;o<this.registry.onChangeValue.length;o++)s=this.registry.onChangeValue[o](s,i,a);return s},e.use=function(n,i){i===void 0&&(i={queue:"external"});var a=this.plugins[i.queue];a.indexOf(n)===-1&&(a.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,o){for(var l in o)l in s&&s[l].push(o[l]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Loe=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(n){var i=this.registry,a=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||a>=this.index){i.push(n);return}for(var s=0;s<i.length;s++)if(i[s].options.index>a){i.splice(s,0,n);return}}},e.reset=function(){this.registry=[]},e.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},e.toString=function(n){for(var i=n===void 0?{}:n,a=i.attached,s=coe(i,["attached"]),o=zh(s),l=o.linebreak,u="",c=0;c<this.registry.length;c++){var f=this.registry[c];a!=null&&f.attached!==a||(u&&(u+=l),u+=f.toString(s))}return u},Qz(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Dp=new Loe,W_=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),q_="2f1acc6c3a606b082e5eef5e54414ffb";W_[q_]==null&&(W_[q_]=0);var aN=W_[q_]++,sN=function(e){e===void 0&&(e={});var r=0,n=function(a,s){r+=1;var o="",l="";return s&&(s.options.classNamePrefix&&(l=s.options.classNamePrefix),s.options.jss.id!=null&&(o=String(s.options.jss.id))),e.minify?""+(l||"c")+aN+o+r:l+a.key+"-"+aN+(o?"-"+o:"")+"-"+r};return n},eV=function(e){var r;return function(){return r||(r=e()),r}},Doe=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch{return""}},Moe=function(e,r,n){try{var i=n;if(Array.isArray(n)&&(i=fc(n)),e.attributeStyleMap)e.attributeStyleMap.set(r,i);else{var a=i?i.indexOf("!important"):-1,s=a>-1?i.substr(0,a-1):i;e.style.setProperty(r,s,a>-1?"important":"")}}catch{return!1}return!0},$oe=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch{}},Foe=function(e,r){return e.selectorText=r,e.selectorText===r},tV=eV(function(){return document.querySelector("head")});function Boe(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}function Uoe(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}function joe(t){for(var e=tV(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===t)return n}return null}function zoe(t){var e=Dp.registry;if(e.length>0){var r=Boe(e,t);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=Uoe(e,t),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=t.insertionPoint;if(n&&typeof n=="string"){var i=joe(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function Voe(t,e){var r=e.insertionPoint,n=zoe(e);if(n!==!1&&n.parent){n.parent.insertBefore(t,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,a=i.parentNode;a&&a.insertBefore(t,i.nextSibling);return}tV().appendChild(t)}var Yoe=eV(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),oN=function(e,r,n){try{"insertRule"in e?e.insertRule(r,n):"appendRule"in e&&e.appendRule(r)}catch{return!1}return e.cssRules[n]},lN=function(e,r){var n=e.cssRules.length;return r===void 0||r>n?n:r},Goe=function(){var e=document.createElement("style");return e.textContent=`
`,e},Hoe=function(){function t(r){this.getPropertyValue=Doe,this.setProperty=Moe,this.removeProperty=$oe,this.setSelector=Foe,this.hasInsertedRules=!1,this.cssRules=[],r&&Dp.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,a=n.meta,s=n.element;this.element=s||Goe(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),a&&this.element.setAttribute("data-meta",a);var o=Yoe();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){Voe(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},e.insertRules=function(n,i){for(var a=0;a<n.index.length;a++)this.insertRule(n.index[a],a,i)},e.insertRule=function(n,i,a){if(a===void 0&&(a=this.element.sheet),n.rules){var s=n,o=a;if(n.type==="conditional"||n.type==="keyframes"){var l=lN(a,i);if(o=oN(a,s.toString({children:!1}),l),o===!1)return!1;this.refCssRule(n,l,o)}return this.insertRules(s.rules,o),o}var u=n.toString();if(!u)return!1;var c=lN(a,i),f=oN(a,u,c);return f===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,c,f),f)},e.refCssRule=function(n,i,a){n.renderable=a,n.options.parent instanceof Jz&&this.cssRules.splice(i,0,a)},e.deleteRule=function(n){var i=this.element.sheet,a=this.indexOf(n);return a===-1?!1:(i.deleteRule(a),this.cssRules.splice(a,1),!0)},e.indexOf=function(n){return this.cssRules.indexOf(n)},e.replaceRule=function(n,i){var a=this.indexOf(n);return a===-1?!1:(this.element.sheet.deleteRule(a),this.cssRules.splice(a,1),this.insertRule(i,a))},e.getRules=function(){return this.element.sheet.cssRules},t}(),Woe=0,qoe=function(){function t(r){this.id=Woe++,this.version="10.10.0",this.plugins=new Noe,this.options={id:{minify:!1},createGenerateId:sN,Renderer:Xg?Hoe:null,plugins:[]},this.generateId=sN({minify:!1});for(var n=0;n<nN.length;n++)this.plugins.use(nN[n],{queue:"internal"});this.setup(r)}var e=t.prototype;return e.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=Gi({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},e.createStyleSheet=function(n,i){i===void 0&&(i={});var a=i,s=a.index;typeof s!="number"&&(s=Dp.index===0?0:Dp.index+1);var o=new Jz(n,Gi({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(o),o},e.removeStyleSheet=function(n){return n.detach(),Dp.remove(n),this},e.createRule=function(n,i,a){if(i===void 0&&(i={}),a===void 0&&(a={}),typeof n=="object")return this.createRule(void 0,n,i);var s=Gi({},a,{name:n,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var o=p4(n,i,s);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return a.forEach(function(o){n.plugins.use(o)}),this},t}(),rV=function(e){return new qoe(e)},g4=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function nV(t){var e=null;for(var r in t){var n=t[r],i=typeof n;if(i==="function")e||(e={}),e[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var a=nV(n);a&&(e||(e={}),e[r]=a)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */rV();var iV=Date.now(),kS="fnValues"+iV,OS="fnStyle"+ ++iV,Koe=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var a=p4(r,{},i);return a[OS]=n,a},onProcessStyle:function(r,n){if(kS in n||OS in n)return r;var i={};for(var a in r){var s=r[a];typeof s=="function"&&(delete r[a],i[a]=s)}return n[kS]=i,r},onUpdate:function(r,n,i,a){var s=n,o=s[OS];o&&(s.style=o(r)||{});var l=s[kS];if(l)for(var u in l)s.prop(u,l[u](r),a)}}};const Qoe=Koe;function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}var Xl="@global",K_="@global ",Zoe=function(){function t(r,n,i){this.type="global",this.at=Xl,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new Hw(lh({},i,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.addRule=function(n,i,a){var s=this.rules.add(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.replaceRule=function(n,i,a){var s=this.rules.replace(n,i,a);return s&&this.options.jss.plugins.onProcessRule(s),s},e.indexOf=function(n){return this.rules.indexOf(n)},e.toString=function(n){return this.rules.toString(n)},t}(),Xoe=function(){function t(r,n,i){this.type="global",this.at=Xl,this.isProcessed=!1,this.key=r,this.options=i;var a=r.substr(K_.length);this.rule=i.jss.createRule(a,n,lh({},i,{parent:this}))}var e=t.prototype;return e.toString=function(n){return this.rule?this.rule.toString(n):""},t}(),Joe=/\s*,\s*/g;function aV(t,e){for(var r=t.split(Joe),n="",i=0;i<r.length;i++)n+=e+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function ele(t,e){var r=t.options,n=t.style,i=n?n[Xl]:null;if(i){for(var a in i)e.addRule(a,i[a],lh({},r,{selector:aV(a,t.selector)}));delete n[Xl]}}function tle(t,e){var r=t.options,n=t.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,Xl.length)!==Xl)){var a=aV(i.substr(Xl.length),t.selector);e.addRule(a,n[i],lh({},r,{selector:a})),delete n[i]}}function rle(){function t(r,n,i){if(!r)return null;if(r===Xl)return new Zoe(r,n,i);if(r[0]==="@"&&r.substr(0,K_.length)===K_)return new Xoe(r,n,i);var a=i.parent;return a&&(a.type==="global"||a.options.parent&&a.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function e(r,n){r.type!=="style"||!n||(ele(r,n),tle(r,n))}return{onCreateRule:t,onProcessRule:e}}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}var uN=/\s*,\s*/g,nle=/&/g,ile=/\$([\w-]+)/g;function ale(){function t(i,a){return function(s,o){var l=i.getRule(o)||a&&a.getRule(o);return l?l.selector:o}}function e(i,a){for(var s=a.split(uN),o=i.split(uN),l="",u=0;u<s.length;u++)for(var c=s[u],f=0;f<o.length;f++){var d=o[f];l&&(l+=", "),l+=d.indexOf("&")!==-1?d.replace(nle,c):c+" "+d}return l}function r(i,a,s){if(s)return od({},s,{index:s.index+1});var o=i.options.nestingLevel;o=o===void 0?1:o+1;var l=od({},i.options,{nestingLevel:o,index:a.indexOf(i)+1});return delete l.name,l}function n(i,a,s){if(a.type!=="style")return i;var o=a,l=o.options.parent,u,c;for(var f in i){var d=f.indexOf("&")!==-1,h=f[0]==="@";if(!(!d&&!h)){if(u=r(o,l,u),d){var p=e(f,o.selector);c||(c=t(l,s)),p=p.replace(ile,c);var m=o.key+"-"+f;"replaceRule"in l?l.replaceRule(m,i[f],od({},u,{selector:p})):l.addRule(m,i[f],od({},u,{selector:p}))}else h&&l.addRule(f,{},u).addRule(o.key,i[f],{selector:o.selector});delete i[f]}}return i}return{onProcessStyle:n}}var sle=/[A-Z]/g,ole=/^ms-/,NS={};function lle(t){return"-"+t.toLowerCase()}function sV(t){if(NS.hasOwnProperty(t))return NS[t];var e=t.replace(sle,lle);return NS[t]=ole.test(e)?"-"+e:e}function ox(t){var e={};for(var r in t){var n=r.indexOf("--")===0?r:sV(r);e[n]=t[r]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(ox):e.fallbacks=ox(t.fallbacks)),e}function ule(){function t(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=ox(r[n]);return r}return ox(r)}function e(r,n,i){if(n.indexOf("--")===0)return r;var a=sV(n);return n===a?r:(i.prop(a,r),null)}return{onProcessStyle:t,onChangeValue:e}}var ce=g4&&CSS?CSS.px:"px",my=g4&&CSS?CSS.ms:"ms",cf=g4&&CSS?CSS.percent:"%",cle={"animation-delay":my,"animation-duration":my,"background-position":ce,"background-position-x":ce,"background-position-y":ce,"background-size":ce,border:ce,"border-bottom":ce,"border-bottom-left-radius":ce,"border-bottom-right-radius":ce,"border-bottom-width":ce,"border-left":ce,"border-left-width":ce,"border-radius":ce,"border-right":ce,"border-right-width":ce,"border-top":ce,"border-top-left-radius":ce,"border-top-right-radius":ce,"border-top-width":ce,"border-width":ce,"border-block":ce,"border-block-end":ce,"border-block-end-width":ce,"border-block-start":ce,"border-block-start-width":ce,"border-block-width":ce,"border-inline":ce,"border-inline-end":ce,"border-inline-end-width":ce,"border-inline-start":ce,"border-inline-start-width":ce,"border-inline-width":ce,"border-start-start-radius":ce,"border-start-end-radius":ce,"border-end-start-radius":ce,"border-end-end-radius":ce,margin:ce,"margin-bottom":ce,"margin-left":ce,"margin-right":ce,"margin-top":ce,"margin-block":ce,"margin-block-end":ce,"margin-block-start":ce,"margin-inline":ce,"margin-inline-end":ce,"margin-inline-start":ce,padding:ce,"padding-bottom":ce,"padding-left":ce,"padding-right":ce,"padding-top":ce,"padding-block":ce,"padding-block-end":ce,"padding-block-start":ce,"padding-inline":ce,"padding-inline-end":ce,"padding-inline-start":ce,"mask-position-x":ce,"mask-position-y":ce,"mask-size":ce,height:ce,width:ce,"min-height":ce,"max-height":ce,"min-width":ce,"max-width":ce,bottom:ce,left:ce,top:ce,right:ce,inset:ce,"inset-block":ce,"inset-block-end":ce,"inset-block-start":ce,"inset-inline":ce,"inset-inline-end":ce,"inset-inline-start":ce,"box-shadow":ce,"text-shadow":ce,"column-gap":ce,"column-rule":ce,"column-rule-width":ce,"column-width":ce,"font-size":ce,"font-size-delta":ce,"letter-spacing":ce,"text-decoration-thickness":ce,"text-indent":ce,"text-stroke":ce,"text-stroke-width":ce,"word-spacing":ce,motion:ce,"motion-offset":ce,outline:ce,"outline-offset":ce,"outline-width":ce,perspective:ce,"perspective-origin-x":cf,"perspective-origin-y":cf,"transform-origin":cf,"transform-origin-x":cf,"transform-origin-y":cf,"transform-origin-z":cf,"transition-delay":my,"transition-duration":my,"vertical-align":ce,"flex-basis":ce,"shape-margin":ce,size:ce,gap:ce,grid:ce,"grid-gap":ce,"row-gap":ce,"grid-row-gap":ce,"grid-column-gap":ce,"grid-template-rows":ce,"grid-template-columns":ce,"grid-auto-rows":ce,"grid-auto-columns":ce,"box-shadow-x":ce,"box-shadow-y":ce,"box-shadow-blur":ce,"box-shadow-spread":ce,"font-line-height":ce,"text-shadow-x":ce,"text-shadow-y":ce,"text-shadow-blur":ce};function oV(t){var e=/(-[a-z])/g,r=function(s){return s[1].toUpperCase()},n={};for(var i in t)n[i]=t[i],n[i.replace(e,r)]=t[i];return n}var fle=oV(cle);function Mp(t,e,r){if(e==null)return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Mp(t,e[n],r);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=Mp(i,e[i],r);else for(var a in e)e[a]=Mp(t+"-"+a,e[a],r);else if(typeof e=="number"&&isNaN(e)===!1){var s=r[t]||fle[t];return s&&!(e===0&&s===ce)?typeof s=="function"?s(e).toString():""+e+s:e.toString()}return e}function dle(t){t===void 0&&(t={});var e=oV(t);function r(i,a){if(a.type!=="style")return i;for(var s in i)i[s]=Mp(s,i[s],e);return i}function n(i,a){return Mp(a,i,e)}return{onProcessStyle:r,onChangeValue:n}}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hle(t){if(Array.isArray(t))return Q_(t)}function ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mle(t,e){if(t){if(typeof t=="string")return Q_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q_(t,e)}}function gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t){return hle(t)||ple(t)||mle(t)||gle()}var lp="",Z_="",lV="",uV="",yle=Xg&&"ontouchstart"in document.documentElement;if(Xg){var LS={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ble=document.createElement("p"),DS=ble.style,xle="Transform";for(var MS in LS)if(MS+xle in DS){lp=MS,Z_=LS[MS];break}lp==="Webkit"&&"msHyphens"in DS&&(lp="ms",Z_=LS.ms,uV="edge"),lp==="Webkit"&&"-apple-trailing-word"in DS&&(lV="apple")}var pt={js:lp,css:Z_,vendor:lV,browser:uV,isTouch:yle};function wle(t){return t[1]==="-"||pt.js==="ms"?t:"@"+pt.css+"keyframes"+t.substr(10)}var Ele={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:pt.js==="ms"?"-webkit-"+e:pt.css+e}},Sle={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:pt.js==="Webkit"?pt.css+"print-"+e:e}},Tle=/[-\s]+(.)?/g;function Ale(t,e){return e?e.toUpperCase():""}function v4(t){return t.replace(Tle,Ale)}function iu(t){return v4("-"+t)}var Rle={noPrefill:["mask"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(pt.js==="Webkit"){var n="mask-image";if(v4(n)in r)return e;if(pt.js+iu(n)in r)return pt.css+e}return e}},_le={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:pt.vendor==="apple"&&!pt.isTouch?pt.css+e:e}},Ile={noPrefill:["transform"],supportedProperty:function(e,r,n){return e!=="transform"?!1:n.transform?e:pt.css+e}},Cle={noPrefill:["transition"],supportedProperty:function(e,r,n){return e!=="transition"?!1:n.transition?e:pt.css+e}},Ple={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:pt.js==="Webkit"||pt.js==="ms"&&pt.browser!=="edge"?pt.css+e:e}},kle={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:pt.js==="Moz"||pt.js==="ms"||pt.vendor==="apple"?pt.css+e:e}},Ole={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(pt.js==="Webkit"){var n="WebkitColumn"+iu(e);return n in r?pt.css+"column-"+e:!1}if(pt.js==="Moz"){var i="page"+iu(e);return i in r?"page-"+e:!1}return!1}},Nle={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(pt.js==="Moz")return e;var n=e.replace("-inline","");return pt.js+iu(n)in r?pt.css+n:!1}},Lle={supportedProperty:function(e,r){return v4(e)in r?e:!1}},Dle={supportedProperty:function(e,r){var n=iu(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:pt.js+n in r?pt.css+e:pt.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+e:!1}},Mle={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:pt.js==="ms"?""+pt.css+e:e}},$le={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:pt.js==="ms"?pt.css+"scroll-chaining":e}},Fle={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ble={supportedProperty:function(e,r){var n=Fle[e];return n&&pt.js+iu(n)in r?pt.css+n:!1}},cV={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ule=Object.keys(cV),jle=function(e){return pt.css+e},zle={supportedProperty:function(e,r,n){var i=n.multiple;if(Ule.indexOf(e)>-1){var a=cV[e];if(!Array.isArray(a))return pt.js+iu(a)in r?pt.css+a:!1;if(!i)return!1;for(var s=0;s<a.length;s++)if(!(pt.js+iu(a[0])in r))return!1;return a.map(jle)}return!1}},fV=[Ele,Sle,Rle,_le,Ile,Cle,Ple,kle,Ole,Nle,Lle,Dle,Mle,$le,Ble,zle],cN=fV.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),Vle=fV.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,vle(e.noPrefill)),t},[]),up,Ku={};if(Xg){up=document.createElement("p");var $S=window.getComputedStyle(document.documentElement,"");for(var FS in $S)isNaN(FS)||(Ku[$S[FS]]=$S[FS]);Vle.forEach(function(t){return delete Ku[t]})}function X_(t,e){if(e===void 0&&(e={}),!up)return t;if(Ku[t]!=null)return Ku[t];(t==="transition"||t==="transform")&&(e[t]=t in up.style);for(var r=0;r<cN.length&&(Ku[t]=cN[r](t,up.style,e),!Ku[t]);r++);try{up.style[t]=""}catch{return!1}return Ku[t]}var ff={},Yle={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Gle=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Sl;function Hle(t,e,r){if(e==="var")return"var";if(e==="all")return"all";if(r==="all")return", all";var n=e?X_(e):", "+X_(r);return n||e||r}Xg&&(Sl=document.createElement("p"));function fN(t,e){var r=e;if(!Sl||t==="content")return e;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=t+r;if(ff[n]!=null)return ff[n];try{Sl.style[t]=r}catch{return ff[n]=!1,!1}if(Yle[t])r=r.replace(Gle,Hle);else if(Sl.style[t]===""&&(r=pt.css+r,r==="-ms-flex"&&(Sl.style[t]="-ms-flexbox"),Sl.style[t]=r,Sl.style[t]===""))return ff[n]=!1,!1;return Sl.style[t]="",ff[n]=r,ff[n]}function Wle(){function t(i){if(i.type==="keyframes"){var a=i;a.at=wle(a.at)}}function e(i){for(var a in i){var s=i[a];if(a==="fallbacks"&&Array.isArray(s)){i[a]=s.map(e);continue}var o=!1,l=X_(a);l&&l!==a&&(o=!0);var u=!1,c=fN(l,fc(s));c&&c!==s&&(u=!0),(o||u)&&(o&&delete i[a],i[l||a]=c||s)}return i}function r(i,a){return a.type!=="style"?i:e(i)}function n(i,a){return fN(a,fc(i))||i}return{onProcessRule:t,onProcessStyle:r,onChangeValue:n}}function qle(){var t=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},a=Object.keys(r).sort(t),s=0;s<a.length;s++)i[a[s]]=r[a[s]];return i}}}function Kle(){return{plugins:[Qoe(),rle(),ale(),ule(),dle(),typeof window>"u"?null:Wle(),qle()]}}function Qle(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _m(t,e){if(t==null)return{};var r=Qle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zn(){return zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zn.apply(this,arguments)}function y4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,r=t.newClasses;if(t.Component,!r)return e;var n=zn({},e);return Object.keys(r).forEach(function(i){r[i]&&(n[i]="".concat(e[i]," ").concat(r[i]))}),n}var Zle={set:function(e,r,n,i){var a=e.get(r);a||(a=new Map,e.set(r,a)),a.set(n,i)},get:function(e,r,n){var i=e.get(r);return i?i.get(n):void 0},delete:function(e,r,n){var i=e.get(r);i.delete(n)}};const ld=Zle;var Xle=vt.createContext(null);const Jle=Xle;function Ww(){var t=vt.useContext(Jle);return t}var eue=rV(Kle()),tue=ooe(),rue=new Map,nue={disableGeneration:!1,generateClassName:tue,jss:eue,sheetsCache:null,sheetsManager:rue,sheetsRegistry:null},iue=vt.createContext(nue),dN=-1e9;function aue(){return dN+=1,dN}var sue={};const oue=sue;function lue(t){var e=typeof t=="function";return{create:function(n,i){var a;try{a=e?t(n):t}catch(l){throw l}if(!i||!n.overrides||!n.overrides[i])return a;var s=n.overrides[i],o=zn({},a);return Object.keys(s).forEach(function(l){o[l]=Sc(o[l],s[l])}),o},options:{}}}function uue(t,e,r){var n=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,a=!0),e!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=e,a=!0),a&&(n.cacheClasses.value=y4({baseClasses:n.cacheClasses.lastJSS,newClasses:e,Component:r})),n.cacheClasses.value}function cue(t,e){var r=t.state,n=t.theme,i=t.stylesOptions,a=t.stylesCreator,s=t.name;if(!i.disableGeneration){var o=ld.get(i.sheetsManager,a,n);o||(o={refs:0,staticSheet:null,dynamicStyles:null},ld.set(i.sheetsManager,a,n,o));var l=zn({},a.options,i,{theme:n,flip:typeof i.flip=="boolean"?i.flip:n.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=i.sheetsRegistry;if(o.refs===0){var c;i.sheetsCache&&(c=ld.get(i.sheetsCache,a,n));var f=a.create(n,s);c||(c=i.jss.createStyleSheet(f,zn({link:!1},l)),c.attach(),i.sheetsCache&&ld.set(i.sheetsCache,a,n,c)),u&&u.add(c),o.staticSheet=c,o.dynamicStyles=nV(f)}if(o.dynamicStyles){var d=i.jss.createStyleSheet(o.dynamicStyles,zn({link:!0},l));d.update(e),d.attach(),r.dynamicSheet=d,r.classes=y4({baseClasses:o.staticSheet.classes,newClasses:d.classes}),u&&u.add(d)}else r.classes=o.staticSheet.classes;o.refs+=1}}function fue(t,e){var r=t.state;r.dynamicSheet&&r.dynamicSheet.update(e)}function due(t){var e=t.state,r=t.theme,n=t.stylesOptions,i=t.stylesCreator;if(!n.disableGeneration){var a=ld.get(n.sheetsManager,i,r);a.refs-=1;var s=n.sheetsRegistry;a.refs===0&&(ld.delete(n.sheetsManager,i,r),n.jss.removeStyleSheet(a.staticSheet),s&&s.remove(a.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),s&&s.remove(e.dynamicSheet))}}function hue(t,e){var r=vt.useRef([]),n,i=vt.useMemo(function(){return{}},e);r.current!==i&&(r.current=i,n=t()),vt.useEffect(function(){return function(){n&&n()}},[i])}function b4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.name,n=e.classNamePrefix,i=e.Component,a=e.defaultTheme,s=a===void 0?oue:a,o=_m(e,["name","classNamePrefix","Component","defaultTheme"]),l=lue(t),u=r||n||"makeStyles";l.options={index:aue(),name:r,meta:u,classNamePrefix:u};var c=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=Ww()||s,p=zn({},vt.useContext(iue),o),m=vt.useRef(),g=vt.useRef();hue(function(){var b={name:r,state:{},stylesCreator:l,stylesOptions:p,theme:h};return cue(b,d),g.current=!1,m.current=b,function(){due(b)}},[h,l]),vt.useEffect(function(){g.current&&fue(m.current,d),g.current=!0});var v=uue(m.current,d.classes,i);return v};return c}function dV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=dV(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function He(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=dV(t))&&(n&&(n+=" "),n+=e);return n}var hV={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,x4=yn?Symbol.for("react.element"):60103,w4=yn?Symbol.for("react.portal"):60106,qw=yn?Symbol.for("react.fragment"):60107,Kw=yn?Symbol.for("react.strict_mode"):60108,Qw=yn?Symbol.for("react.profiler"):60114,Zw=yn?Symbol.for("react.provider"):60109,Xw=yn?Symbol.for("react.context"):60110,E4=yn?Symbol.for("react.async_mode"):60111,Jw=yn?Symbol.for("react.concurrent_mode"):60111,e2=yn?Symbol.for("react.forward_ref"):60112,t2=yn?Symbol.for("react.suspense"):60113,pue=yn?Symbol.for("react.suspense_list"):60120,r2=yn?Symbol.for("react.memo"):60115,n2=yn?Symbol.for("react.lazy"):60116,mue=yn?Symbol.for("react.block"):60121,gue=yn?Symbol.for("react.fundamental"):60117,vue=yn?Symbol.for("react.responder"):60118,yue=yn?Symbol.for("react.scope"):60119;function Zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case x4:switch(t=t.type,t){case E4:case Jw:case qw:case Qw:case Kw:case t2:return t;default:switch(t=t&&t.$$typeof,t){case Xw:case e2:case n2:case r2:case Zw:return t;default:return e}}case w4:return e}}}function pV(t){return Zi(t)===Jw}Xt.AsyncMode=E4;Xt.ConcurrentMode=Jw;Xt.ContextConsumer=Xw;Xt.ContextProvider=Zw;Xt.Element=x4;Xt.ForwardRef=e2;Xt.Fragment=qw;Xt.Lazy=n2;Xt.Memo=r2;Xt.Portal=w4;Xt.Profiler=Qw;Xt.StrictMode=Kw;Xt.Suspense=t2;Xt.isAsyncMode=function(t){return pV(t)||Zi(t)===E4};Xt.isConcurrentMode=pV;Xt.isContextConsumer=function(t){return Zi(t)===Xw};Xt.isContextProvider=function(t){return Zi(t)===Zw};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===x4};Xt.isForwardRef=function(t){return Zi(t)===e2};Xt.isFragment=function(t){return Zi(t)===qw};Xt.isLazy=function(t){return Zi(t)===n2};Xt.isMemo=function(t){return Zi(t)===r2};Xt.isPortal=function(t){return Zi(t)===w4};Xt.isProfiler=function(t){return Zi(t)===Qw};Xt.isStrictMode=function(t){return Zi(t)===Kw};Xt.isSuspense=function(t){return Zi(t)===t2};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qw||t===Jw||t===Qw||t===Kw||t===t2||t===pue||typeof t=="object"&&t!==null&&(t.$$typeof===n2||t.$$typeof===r2||t.$$typeof===Zw||t.$$typeof===Xw||t.$$typeof===e2||t.$$typeof===gue||t.$$typeof===vue||t.$$typeof===yue||t.$$typeof===mue)};Xt.typeOf=Zi;hV.exports=Xt;var bue=hV.exports,S4=bue,xue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Eue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},T4={};T4[S4.ForwardRef]=Eue;T4[S4.Memo]=mV;function hN(t){return S4.isMemo(t)?mV:T4[t.$$typeof]||xue}var Sue=Object.defineProperty,Tue=Object.getOwnPropertyNames,pN=Object.getOwnPropertySymbols,Aue=Object.getOwnPropertyDescriptor,Rue=Object.getPrototypeOf,mN=Object.prototype;function gV(t,e,r){if(typeof e!="string"){if(mN){var n=Rue(e);n&&n!==mN&&gV(t,n,r)}var i=Tue(e);pN&&(i=i.concat(pN(e)));for(var a=hN(t),s=hN(e),o=0;o<i.length;++o){var l=i[o];if(!wue[l]&&!(r&&r[l])&&!(s&&s[l])&&!(a&&a[l])){var u=Aue(e,l);try{Sue(t,l,u)}catch{}}}}return t}var _ue=gV;const vV=Pi(_ue);function Iue(t,e){var r={};return Object.keys(t).forEach(function(n){e.indexOf(n)===-1&&(r[n]=t[n])}),r}function Cue(t){var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.name,s=_m(i,["name"]),o=a,l=typeof n=="function"?function(d){return{root:function(p){return n(zn({theme:d},p))}}}:{root:n},u=b4(l,zn({Component:t,name:a||t.displayName,classNamePrefix:o},s)),c;n.filterProps&&(c=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var f=vt.forwardRef(function(h,p){var m=h.children,g=h.className,v=h.clone,b=h.component,w=_m(h,["children","className","clone","component"]),E=u(h),R=He(E.root,g),I=w;if(c&&(I=Iue(I,c)),v)return vt.cloneElement(m,zn({className:He(m.props.className,R)},I));if(typeof m=="function")return m(zn({className:R},I));var D=b||t;return vt.createElement(D,zn({ref:p,className:R},I),m)});return vV(f,t),f};return e}var Pue=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(n){var i=r.defaultTheme,a=r.withTheme,s=a===void 0?!1:a,o=r.name,l=_m(r,["defaultTheme","withTheme","name"]),u=o,c=b4(e,zn({defaultTheme:i,Component:n,name:o||n.displayName,classNamePrefix:u},l)),f=vt.forwardRef(function(h,p){h.classes;var m=h.innerRef,g=_m(h,["classes","innerRef"]),v=c(zn({},n.defaultProps,h)),b,w=g;return(typeof o=="string"||s)&&(b=Ww()||i,o&&(w=Kz({theme:b,name:o,props:g})),s&&!w.theme&&(w.theme=b)),vt.createElement(n,zn({ref:m||p,classes:v},w))});return vV(f,n),f}};const kue=Pue;var Oue=noe();const i2=Oue;function yV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b4(t,fe({defaultTheme:i2},e))}var Nue=function(e){var r=Cue(e);return function(n,i){return r(n,fe({defaultTheme:i2},i))}};const bV=Nue;function Vc(){var t=Ww()||i2;return t}function Ft(t,e){return kue(t,fe({defaultTheme:i2},e))}var Lue=function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Ya({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}},Due=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,o=e.disableGutters,l=o===void 0?!1:o,u=e.variant,c=u===void 0?"regular":u,f=et(e,["classes","className","component","disableGutters","variant"]);return T.createElement(s,fe({className:He(n.root,n[c],i,!l&&n.gutters),ref:r},f))});const Mue=Ft(Lue,{name:"MuiToolbar"})(Due);function Pr(t){if(typeof t!="string")throw new Error(ah(7));return t.charAt(0).toUpperCase()+t.slice(1)}var $ue=function(e){return{root:Ya({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce(function(r,n){var i=e.breakpoints.values[n];return i!==0&&(r[e.breakpoints.up(n)]={maxWidth:i}),r},{}),maxWidthXs:Ya({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Ya({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Ya({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Ya({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Ya({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},Fue=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,o=e.disableGutters,l=o===void 0?!1:o,u=e.fixed,c=u===void 0?!1:u,f=e.maxWidth,d=f===void 0?"lg":f,h=et(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return T.createElement(s,fe({className:He(n.root,i,c&&n.fixed,l&&n.disableGutters,d!==!1&&n["maxWidth".concat(Pr(String(d)))]),ref:r},h))});const Bue=Ft($ue,{name:"MuiContainer"})(Fue);function Im(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function on(t,e){return T.useMemo(function(){return t==null&&e==null?null:function(r){Im(t,r),Im(e,r)}},[t,e])}var Uue=typeof window<"u"?T.useLayoutEffect:T.useEffect;function nc(t){var e=T.useRef(t);return Uue(function(){e.current=t}),T.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var a2=!0,J_=!1,gN=null,jue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zue(t){var e=t.type,r=t.tagName;return!!(r==="INPUT"&&jue[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Vue(t){t.metaKey||t.altKey||t.ctrlKey||(a2=!0)}function BS(){a2=!1}function Yue(){this.visibilityState==="hidden"&&J_&&(a2=!0)}function Gue(t){t.addEventListener("keydown",Vue,!0),t.addEventListener("mousedown",BS,!0),t.addEventListener("pointerdown",BS,!0),t.addEventListener("touchstart",BS,!0),t.addEventListener("visibilitychange",Yue,!0)}function Hue(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return a2||zue(e)}function Wue(){J_=!0,window.clearTimeout(gN),gN=window.setTimeout(function(){J_=!1},100)}function que(){var t=T.useCallback(function(e){var r=Nn.findDOMNode(e);r!=null&&Gue(r.ownerDocument)},[]);return{isFocusVisible:Hue,onBlurVisible:Wue,ref:t}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kue(t){if(Array.isArray(t))return eI(t)}function xV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A4(t,e){if(t){if(typeof t=="string")return eI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(t,e)}}function Que(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wV(t){return Kue(t)||xV(t)||A4(t)||Que()}function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tI.apply(this,arguments)}function EV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(t,e)}function SV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,rI(t,e)}const vN={disabled:!1},lx=vt.createContext(null);var Zue=function(e){return e.scrollTop},cp="unmounted",Hu="exited",Wu="entering",Df="entered",nI="exiting",Xo=function(t){SV(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var s=i,o=s&&!s.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?o?(l=Hu,a.appearStatus=Wu):l=Df:n.unmountOnExit||n.mountOnEnter?l=cp:l=Hu,a.state={status:l},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===cp?{status:Hu}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Wu&&s!==Df&&(a=Wu):(s===Wu||s===Df)&&(a=nI)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,s,o;return a=s=o=i,i!=null&&typeof i!="number"&&(a=i.exit,s=i.enter,o=i.appear!==void 0?i.appear:s),{exit:a,enter:s,appear:o}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Wu){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:op.findDOMNode(this);s&&Zue(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hu&&this.setState({status:cp})},r.performEnter=function(i){var a=this,s=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[op.findDOMNode(this),o],u=l[0],c=l[1],f=this.getTimeouts(),d=o?f.appear:f.enter;if(!i&&!s||vN.disabled){this.safeSetState({status:Df},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Wu},function(){a.props.onEntering(u,c),a.onTransitionEnd(d,function(){a.safeSetState({status:Df},function(){a.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:op.findDOMNode(this);if(!a||vN.disabled){this.safeSetState({status:Hu},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:nI},function(){i.props.onExiting(o),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Hu},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,a.nextCallback=null,i(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:op.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===cp)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=EV(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vt.createElement(lx.Provider,{value:null},typeof s=="function"?s(i,o):vt.cloneElement(vt.Children.only(s),o))},e}(vt.Component);Xo.contextType=lx;Xo.propTypes={};function df(){}Xo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:df,onEntering:df,onEntered:df,onExit:df,onExiting:df,onExited:df};Xo.UNMOUNTED=cp;Xo.EXITED=Hu;Xo.ENTERING=Wu;Xo.ENTERED=Df;Xo.EXITING=nI;const s2=Xo;function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(t,e){var r=function(a){return e&&T.isValidElement(a)?e(a):a},n=Object.create(null);return t&&T.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Jue(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),i=[];for(var a in t)a in e?i.length&&(n[a]=i,i=[]):i.push(a);var s,o={};for(var l in e){if(n[l])for(s=0;s<n[l].length;s++){var u=n[l][s];o[n[l][s]]=r(u)}o[l]=r(l)}for(s=0;s<i.length;s++)o[i[s]]=r(i[s]);return o}function ic(t,e,r){return r[e]!=null?r[e]:t.props[e]}function ece(t,e){return R4(t.children,function(r){return T.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:ic(r,"appear",t),enter:ic(r,"enter",t),exit:ic(r,"exit",t)})})}function tce(t,e,r){var n=R4(t.children),i=Jue(e,n);return Object.keys(i).forEach(function(a){var s=i[a];if(T.isValidElement(s)){var o=a in e,l=a in n,u=e[a],c=T.isValidElement(u)&&!u.props.in;l&&(!o||c)?i[a]=T.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:ic(s,"exit",t),enter:ic(s,"enter",t)}):!l&&o&&!c?i[a]=T.cloneElement(s,{in:!1}):l&&o&&T.isValidElement(u)&&(i[a]=T.cloneElement(s,{onExited:r.bind(null,s),in:u.props.in,exit:ic(s,"exit",t),enter:ic(s,"enter",t)}))}}),i}var rce=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},nce={component:"div",childFactory:function(e){return e}},_4=function(t){SV(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var s=a.handleExited.bind(Xue(a));return a.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},a}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var s=a.children,o=a.handleExited,l=a.firstRender;return{children:l?ece(i,o):tce(i,s,o),firstRender:!1}},r.handleExited=function(i,a){var s=R4(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(o){var l=tI({},o.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,a=i.component,s=i.childFactory,o=EV(i,["component","childFactory"]),l=this.state.contextValue,u=rce(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,a===null?vt.createElement(lx.Provider,{value:l},u):vt.createElement(lx.Provider,{value:l},vt.createElement(a,o,u))},e}(vt.Component);_4.propTypes={};_4.defaultProps=nce;const ice=_4;var ace=typeof window>"u"?T.useEffect:T.useLayoutEffect;function sce(t){var e=t.classes,r=t.pulsate,n=r===void 0?!1:r,i=t.rippleX,a=t.rippleY,s=t.rippleSize,o=t.in,l=t.onExited,u=l===void 0?function(){}:l,c=t.timeout,f=T.useState(!1),d=f[0],h=f[1],p=He(e.ripple,e.rippleVisible,n&&e.ripplePulsate),m={width:s,height:s,top:-(s/2)+a,left:-(s/2)+i},g=He(e.child,d&&e.childLeaving,n&&e.childPulsate),v=nc(u);return ace(function(){if(!o){h(!0);var b=setTimeout(v,c);return function(){clearTimeout(b)}}},[v,o,c]),T.createElement("span",{className:p,style:m},T.createElement("span",{className:g}))}var iI=550,oce=80,lce=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(iI,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(iI,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},uce=T.forwardRef(function(e,r){var n=e.center,i=n===void 0?!1:n,a=e.classes,s=e.className,o=et(e,["center","classes","className"]),l=T.useState([]),u=l[0],c=l[1],f=T.useRef(0),d=T.useRef(null);T.useEffect(function(){d.current&&(d.current(),d.current=null)},[u]);var h=T.useRef(!1),p=T.useRef(null),m=T.useRef(null),g=T.useRef(null);T.useEffect(function(){return function(){clearTimeout(p.current)}},[]);var v=T.useCallback(function(R){var I=R.pulsate,D=R.rippleX,N=R.rippleY,F=R.rippleSize,$=R.cb;c(function(z){return[].concat(wV(z),[T.createElement(sce,{key:f.current,classes:a,timeout:iI,pulsate:I,rippleX:D,rippleY:N,rippleSize:F})])}),f.current+=1,d.current=$},[a]),b=T.useCallback(function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=arguments.length>2?arguments[2]:void 0,N=I.pulsate,F=N===void 0?!1:N,$=I.center,z=$===void 0?i||I.pulsate:$,k=I.fakeElement,A=k===void 0?!1:k;if(R.type==="mousedown"&&h.current){h.current=!1;return}R.type==="touchstart"&&(h.current=!0);var y=A?null:g.current,x=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0},S,C,P;if(z||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)S=Math.round(x.width/2),C=Math.round(x.height/2);else{var M=R.touches?R.touches[0]:R,B=M.clientX,L=M.clientY;S=Math.round(B-x.left),C=Math.round(L-x.top)}if(z)P=Math.sqrt((2*Math.pow(x.width,2)+Math.pow(x.height,2))/3),P%2===0&&(P+=1);else{var _=Math.max(Math.abs((y?y.clientWidth:0)-S),S)*2+2,U=Math.max(Math.abs((y?y.clientHeight:0)-C),C)*2+2;P=Math.sqrt(Math.pow(_,2)+Math.pow(U,2))}R.touches?m.current===null&&(m.current=function(){v({pulsate:F,rippleX:S,rippleY:C,rippleSize:P,cb:D})},p.current=setTimeout(function(){m.current&&(m.current(),m.current=null)},oce)):v({pulsate:F,rippleX:S,rippleY:C,rippleSize:P,cb:D})},[i,v]),w=T.useCallback(function(){b({},{pulsate:!0})},[b]),E=T.useCallback(function(R,I){if(clearTimeout(p.current),R.type==="touchend"&&m.current){R.persist(),m.current(),m.current=null,p.current=setTimeout(function(){E(R,I)});return}m.current=null,c(function(D){return D.length>0?D.slice(1):D}),d.current=I},[]);return T.useImperativeHandle(r,function(){return{pulsate:w,start:b,stop:E}},[w,b,E]),T.createElement("span",fe({className:He(a.root,s),ref:g},o),T.createElement(ice,{component:null,exit:!0},u))});const cce=Ft(lce,{flip:!1,name:"MuiTouchRipple"})(T.memo(uce));var fce={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},dce=T.forwardRef(function(e,r){var n=e.action,i=e.buttonRef,a=e.centerRipple,s=a===void 0?!1:a,o=e.children,l=e.classes,u=e.className,c=e.component,f=c===void 0?"button":c,d=e.disabled,h=d===void 0?!1:d,p=e.disableRipple,m=p===void 0?!1:p,g=e.disableTouchRipple,v=g===void 0?!1:g,b=e.focusRipple,w=b===void 0?!1:b,E=e.focusVisibleClassName,R=e.onBlur,I=e.onClick,D=e.onFocus,N=e.onFocusVisible,F=e.onKeyDown,$=e.onKeyUp,z=e.onMouseDown,k=e.onMouseLeave,A=e.onMouseUp,y=e.onTouchEnd,x=e.onTouchMove,S=e.onTouchStart,C=e.onDragLeave,P=e.tabIndex,M=P===void 0?0:P,B=e.TouchRippleProps,L=e.type,_=L===void 0?"button":L,U=et(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),G=T.useRef(null);function O(){return Nn.findDOMNode(G.current)}var Y=T.useRef(null),H=T.useState(!1),W=H[0],K=H[1];h&&W&&K(!1);var ie=que(),Q=ie.isFocusVisible,te=ie.onBlurVisible,xe=ie.ref;T.useImperativeHandle(n,function(){return{focusVisible:function(){K(!0),G.current.focus()}}},[]),T.useEffect(function(){W&&w&&!m&&Y.current.pulsate()},[m,w,W]);function oe(de,Te){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v;return nc(function(qe){Te&&Te(qe);var Se=Re;return!Se&&Y.current&&Y.current[de](qe),!0})}var ve=oe("start",z),Ae=oe("stop",C),Ie=oe("stop",A),Fe=oe("stop",function(de){W&&de.preventDefault(),k&&k(de)}),Gt=oe("start",S),Be=oe("stop",y),st=oe("stop",x),jt=oe("stop",function(de){W&&(te(de),K(!1)),R&&R(de)},!1),We=nc(function(de){G.current||(G.current=de.currentTarget),Q(de)&&(K(!0),N&&N(de)),D&&D(de)}),ze=function(){var Te=O();return f&&f!=="button"&&!(Te.tagName==="A"&&Te.href)},Ye=T.useRef(!1),rt=nc(function(de){w&&!Ye.current&&W&&Y.current&&de.key===" "&&(Ye.current=!0,de.persist(),Y.current.stop(de,function(){Y.current.start(de)})),de.target===de.currentTarget&&ze()&&de.key===" "&&de.preventDefault(),F&&F(de),de.target===de.currentTarget&&ze()&&de.key==="Enter"&&!h&&(de.preventDefault(),I&&I(de))}),bt=nc(function(de){w&&de.key===" "&&Y.current&&W&&!de.defaultPrevented&&(Ye.current=!1,de.persist(),Y.current.stop(de,function(){Y.current.pulsate(de)})),$&&$(de),I&&de.target===de.currentTarget&&ze()&&de.key===" "&&!de.defaultPrevented&&I(de)}),ar=f;ar==="button"&&U.href&&(ar="a");var Ve={};ar==="button"?(Ve.type=_,Ve.disabled=h):((ar!=="a"||!U.href)&&(Ve.role="button"),Ve["aria-disabled"]=h);var xt=on(i,r),fn=on(xe,G),je=on(xt,fn),_e=T.useState(!1),ee=_e[0],J=_e[1];T.useEffect(function(){J(!0)},[]);var le=ee&&!m&&!h;return T.createElement(ar,fe({className:He(l.root,u,W&&[l.focusVisible,E],h&&l.disabled),onBlur:jt,onClick:I,onFocus:We,onKeyDown:rt,onKeyUp:bt,onMouseDown:ve,onMouseLeave:Fe,onMouseUp:Ie,onDragLeave:Ae,onTouchEnd:Be,onTouchMove:st,onTouchStart:Gt,ref:je,tabIndex:h?-1:M},Ve,U),o,le?T.createElement(cce,fe({ref:Y,center:s},B)):null)});const I4=Ft(fce,{name:"MuiButtonBase"})(dce);var hce=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:ha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:ha(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:ha(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},pce=T.forwardRef(function(e,r){var n=e.edge,i=n===void 0?!1:n,a=e.children,s=e.classes,o=e.className,l=e.color,u=l===void 0?"default":l,c=e.disabled,f=c===void 0?!1:c,d=e.disableFocusRipple,h=d===void 0?!1:d,p=e.size,m=p===void 0?"medium":p,g=et(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return T.createElement(I4,fe({className:He(s.root,o,u!=="default"&&s["color".concat(Pr(u))],f&&s.disabled,m==="small"&&s["size".concat(Pr(m))],{start:s.edgeStart,end:s.edgeEnd}[i]),centerRipple:!0,focusRipple:!h,disabled:f,ref:r},g),T.createElement("span",{className:s.label},a))});const ux=Ft(hce,{name:"MuiIconButton"})(pce);function Do(t){return t&&t.ownerDocument||document}function mce(t){return t=typeof t=="function"?t():t,Nn.findDOMNode(t)}var US=typeof window<"u"?T.useLayoutEffect:T.useEffect,gce=T.forwardRef(function(e,r){var n=e.children,i=e.container,a=e.disablePortal,s=a===void 0?!1:a,o=e.onRendered,l=T.useState(null),u=l[0],c=l[1],f=on(T.isValidElement(n)?n.ref:null,r);return US(function(){s||c(mce(i)||document.body)},[i,s]),US(function(){if(u&&!s)return Im(r,u),function(){Im(r,null)}},[r,u,s]),US(function(){o&&(u||s)&&o()},[o,u,s]),s?T.isValidElement(n)?T.cloneElement(n,{ref:f}):n:u&&Nn.createPortal(n,u)});const vce=gce;function aI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(n,i){return i==null?n:function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];n.apply(this,o),i.apply(this,o)}},function(){})}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zz(n.key),n)}}function bce(t,e,r){return e&&yN(t.prototype,e),r&&yN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TV(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function AV(t){var e=Do(t);return e.defaultView||window}function xce(t){var e=Do(t);return e.body===t?AV(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function $p(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bN(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function xN(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[e,r].concat(wV(n)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(o){o.nodeType===1&&a.indexOf(o)===-1&&s.indexOf(o.tagName)===-1&&$p(o,i)})}function jS(t,e){var r=-1;return t.some(function(n,i){return e(n)?(r=i,!0):!1}),r}function wce(t,e){var r=[],n=[],i=t.container,a;if(!e.disableScrollLock){if(xce(i)){var s=TV();r.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(bN(i)+s,"px"),a=Do(i).querySelectorAll(".mui-fixed"),[].forEach.call(a,function(c){n.push(c.style.paddingRight),c.style.paddingRight="".concat(bN(c)+s,"px")})}var o=i.parentElement,l=o.nodeName==="HTML"&&window.getComputedStyle(o)["overflow-y"]==="scroll"?o:i;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}var u=function(){a&&[].forEach.call(a,function(f,d){n[d]?f.style.paddingRight=n[d]:f.style.removeProperty("padding-right")}),r.forEach(function(f){var d=f.value,h=f.el,p=f.key;d?h.style.setProperty(p,d):h.style.removeProperty(p)})};return u}function Ece(t){var e=[];return[].forEach.call(t.children,function(r){r.getAttribute&&r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}var Sce=function(){function t(){yce(this,t),this.modals=[],this.containers=[]}return bce(t,[{key:"add",value:function(r,n){var i=this.modals.indexOf(r);if(i!==-1)return i;i=this.modals.length,this.modals.push(r),r.modalRef&&$p(r.modalRef,!1);var a=Ece(n);xN(n,r.mountNode,r.modalRef,a,!0);var s=jS(this.containers,function(o){return o.container===n});return s!==-1?(this.containers[s].modals.push(r),i):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblingNodes:a}),i)}},{key:"mount",value:function(r,n){var i=jS(this.containers,function(s){return s.modals.indexOf(r)!==-1}),a=this.containers[i];a.restore||(a.restore=wce(a,n))}},{key:"remove",value:function(r){var n=this.modals.indexOf(r);if(n===-1)return n;var i=jS(this.containers,function(o){return o.modals.indexOf(r)!==-1}),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(r),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),r.modalRef&&$p(r.modalRef,!0),xN(a.container,r.mountNode,r.modalRef,a.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var s=a.modals[a.modals.length-1];s.modalRef&&$p(s.modalRef,!1)}return n}},{key:"isTopModal",value:function(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}]),t}();function Tce(t){var e=t.children,r=t.disableAutoFocus,n=r===void 0?!1:r,i=t.disableEnforceFocus,a=i===void 0?!1:i,s=t.disableRestoreFocus,o=s===void 0?!1:s,l=t.getDoc,u=t.isEnabled,c=t.open,f=T.useRef(),d=T.useRef(null),h=T.useRef(null),p=T.useRef(),m=T.useRef(null),g=T.useCallback(function(w){m.current=Nn.findDOMNode(w)},[]),v=on(e.ref,g),b=T.useRef();return T.useEffect(function(){b.current=c},[c]),!b.current&&c&&typeof window<"u"&&(p.current=l().activeElement),T.useEffect(function(){if(c){var w=Do(m.current);!n&&m.current&&!m.current.contains(w.activeElement)&&(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var E=function(){var N=m.current;if(N!==null){if(!w.hasFocus()||a||!u()||f.current){f.current=!1;return}m.current&&!m.current.contains(w.activeElement)&&m.current.focus()}},R=function(N){a||!u()||N.keyCode!==9||w.activeElement===m.current&&(f.current=!0,N.shiftKey?h.current.focus():d.current.focus())};w.addEventListener("focus",E,!0),w.addEventListener("keydown",R,!0);var I=setInterval(function(){E()},50);return function(){clearInterval(I),w.removeEventListener("focus",E,!0),w.removeEventListener("keydown",R,!0),o||(p.current&&p.current.focus&&p.current.focus(),p.current=null)}}},[n,a,o,u,c]),T.createElement(T.Fragment,null,T.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),T.cloneElement(e,{ref:v}),T.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelEnd"}))}var wN={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Ace=T.forwardRef(function(e,r){var n=e.invisible,i=n===void 0?!1:n,a=e.open,s=et(e,["invisible","open"]);return a?T.createElement("div",fe({"aria-hidden":!0,ref:r},s,{style:fe({},wN.root,i?wN.invisible:{},s.style)})):null});const Rce=Ace;function _ce(t){return t=typeof t=="function"?t():t,Nn.findDOMNode(t)}function Ice(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var Cce=new Sce,Pce=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},kce=T.forwardRef(function(e,r){var n=Ww(),i=Kz({name:"MuiModal",props:fe({},e),theme:n}),a=i.BackdropComponent,s=a===void 0?Rce:a,o=i.BackdropProps,l=i.children,u=i.closeAfterTransition,c=u===void 0?!1:u,f=i.container,d=i.disableAutoFocus,h=d===void 0?!1:d,p=i.disableBackdropClick,m=p===void 0?!1:p,g=i.disableEnforceFocus,v=g===void 0?!1:g,b=i.disableEscapeKeyDown,w=b===void 0?!1:b,E=i.disablePortal,R=E===void 0?!1:E,I=i.disableRestoreFocus,D=I===void 0?!1:I,N=i.disableScrollLock,F=N===void 0?!1:N,$=i.hideBackdrop,z=$===void 0?!1:$,k=i.keepMounted,A=k===void 0?!1:k,y=i.manager,x=y===void 0?Cce:y,S=i.onBackdropClick,C=i.onClose,P=i.onEscapeKeyDown,M=i.onRendered,B=i.open,L=et(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),_=T.useState(!0),U=_[0],G=_[1],O=T.useRef({}),Y=T.useRef(null),H=T.useRef(null),W=on(H,r),K=Ice(i),ie=function(){return Do(Y.current)},Q=function(){return O.current.modalRef=H.current,O.current.mountNode=Y.current,O.current},te=function(){x.mount(Q(),{disableScrollLock:F}),H.current.scrollTop=0},xe=nc(function(){var We=_ce(f)||ie().body;x.add(Q(),We),H.current&&te()}),oe=T.useCallback(function(){return x.isTopModal(Q())},[x]),ve=nc(function(We){Y.current=We,We&&(M&&M(),B&&oe()?te():$p(H.current,!0))}),Ae=T.useCallback(function(){x.remove(Q())},[x]);if(T.useEffect(function(){return function(){Ae()}},[Ae]),T.useEffect(function(){B?xe():(!K||!c)&&Ae()},[B,Ae,K,c,xe]),!A&&!B&&(!K||U))return null;var Ie=function(){G(!1)},Fe=function(){G(!0),c&&Ae()},Gt=function(ze){ze.target===ze.currentTarget&&(S&&S(ze),!m&&C&&C(ze,"backdropClick"))},Be=function(ze){ze.key!=="Escape"||!oe()||(P&&P(ze),w||(ze.stopPropagation(),C&&C(ze,"escapeKeyDown")))},st=Pce(n||{zIndex:qz}),jt={};return l.props.tabIndex===void 0&&(jt.tabIndex=l.props.tabIndex||"-1"),K&&(jt.onEnter=aI(Ie,l.props.onEnter),jt.onExited=aI(Fe,l.props.onExited)),T.createElement(vce,{ref:ve,container:f,disablePortal:R},T.createElement("div",fe({ref:W,onKeyDown:Be,role:"presentation"},L,{style:fe({},st.root,!B&&U?st.hidden:{},L.style)}),z?null:T.createElement(s,fe({open:B,onClick:Gt},o)),T.createElement(Tce,{disableEnforceFocus:v,disableAutoFocus:h,disableRestoreFocus:D,getDoc:ie,isEnabled:oe,open:B},T.cloneElement(l,jt))))});const RV=kce;function _V(t){if(Array.isArray(t))return t}function Oce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function IV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vh(t,e){return _V(t)||Oce(t,e)||A4(t,e)||IV()}var C4=function(e){return e.scrollTop};function au(t,e){var r=t.timeout,n=t.style,i=n===void 0?{}:n;return{duration:i.transitionDuration||typeof r=="number"?r:r[e.mode]||0,delay:i.transitionDelay}}var Nce={entering:{opacity:1},entered:{opacity:1}},Lce={enter:Lo.enteringScreen,exit:Lo.leavingScreen},Dce=T.forwardRef(function(e,r){var n=e.children,i=e.disableStrictModeCompat,a=i===void 0?!1:i,s=e.in,o=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,h=e.style,p=e.TransitionComponent,m=p===void 0?s2:p,g=e.timeout,v=g===void 0?Lce:g,b=et(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),w=Vc(),E=w.unstable_strictMode&&!a,R=T.useRef(null),I=on(n.ref,r),D=on(E?R:void 0,I),N=function(S){return function(C,P){if(S){var M=E?[R.current,C]:[C,P],B=Vh(M,2),L=B[0],_=B[1];_===void 0?S(L):S(L,_)}}},F=N(u),$=N(function(x,S){C4(x);var C=au({style:h,timeout:v},{mode:"enter"});x.style.webkitTransition=w.transitions.create("opacity",C),x.style.transition=w.transitions.create("opacity",C),o&&o(x,S)}),z=N(l),k=N(d),A=N(function(x){var S=au({style:h,timeout:v},{mode:"exit"});x.style.webkitTransition=w.transitions.create("opacity",S),x.style.transition=w.transitions.create("opacity",S),c&&c(x)}),y=N(f);return T.createElement(m,fe({appear:!0,in:s,nodeRef:E?R:void 0,onEnter:$,onEntered:z,onEntering:F,onExit:A,onExited:y,onExiting:k,timeout:v},b),function(x,S){return T.cloneElement(n,fe({style:fe({opacity:0,visibility:x==="exited"&&!s?"hidden":void 0},Nce[x],h,n.props.style),ref:D},S))})});const Mce=Dce;var $ce={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Fce=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.invisible,o=s===void 0?!1:s,l=e.open,u=e.transitionDuration,c=e.TransitionComponent,f=c===void 0?Mce:c,d=et(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return T.createElement(f,fe({in:l,timeout:u},d),T.createElement("div",{className:He(i.root,a,o&&i.invisible),"aria-hidden":!0,ref:r},n))});const Bce=Ft($ce,{name:"MuiBackdrop"})(Fce);function P4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,r;function n(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=this,l=function(){t.apply(o,a)};clearTimeout(r),r=setTimeout(l,e)}return n.clear=function(){clearTimeout(r)},n}function Uce(t,e){var r=e.getBoundingClientRect(),n;if(e.fakeTransform)n=e.fakeTransform;else{var i=window.getComputedStyle(e);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,s=0;if(n&&n!=="none"&&typeof n=="string"){var o=n.split("(")[1].split(")")[0].split(",");a=parseInt(o[4],10),s=parseInt(o[5],10)}return t==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):t==="right"?"translateX(-".concat(r.left+r.width-a,"px)"):t==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(s-r.top,"px)"):"translateY(-".concat(r.top+r.height-s,"px)")}function gy(t,e){var r=Uce(t,e);r&&(e.style.webkitTransform=r,e.style.transform=r)}var jce={enter:Lo.enteringScreen,exit:Lo.leavingScreen},zce=T.forwardRef(function(e,r){var n=e.children,i=e.direction,a=i===void 0?"down":i,s=e.in,o=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,h=e.style,p=e.timeout,m=p===void 0?jce:p,g=e.TransitionComponent,v=g===void 0?s2:g,b=et(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=Vc(),E=T.useRef(null),R=T.useCallback(function(S){E.current=Nn.findDOMNode(S)},[]),I=on(n.ref,R),D=on(I,r),N=function(C){return function(P){C&&(P===void 0?C(E.current):C(E.current,P))}},F=N(function(S,C){gy(a,S),C4(S),o&&o(S,C)}),$=N(function(S,C){var P=au({timeout:m,style:h},{mode:"enter"});S.style.webkitTransition=w.transitions.create("-webkit-transform",fe({},P,{easing:w.transitions.easing.easeOut})),S.style.transition=w.transitions.create("transform",fe({},P,{easing:w.transitions.easing.easeOut})),S.style.webkitTransform="none",S.style.transform="none",u&&u(S,C)}),z=N(l),k=N(d),A=N(function(S){var C=au({timeout:m,style:h},{mode:"exit"});S.style.webkitTransition=w.transitions.create("-webkit-transform",fe({},C,{easing:w.transitions.easing.sharp})),S.style.transition=w.transitions.create("transform",fe({},C,{easing:w.transitions.easing.sharp})),gy(a,S),c&&c(S)}),y=N(function(S){S.style.webkitTransition="",S.style.transition="",f&&f(S)}),x=T.useCallback(function(){E.current&&gy(a,E.current)},[a]);return T.useEffect(function(){if(!(s||a==="down"||a==="right")){var S=P4(function(){E.current&&gy(a,E.current)});return window.addEventListener("resize",S),function(){S.clear(),window.removeEventListener("resize",S)}}},[a,s]),T.useEffect(function(){s||x()},[s,x]),T.createElement(v,fe({nodeRef:E,onEnter:F,onEntered:z,onEntering:$,onExit:A,onExited:y,onExiting:k,appear:!0,in:s,timeout:m},b),function(S,C){return T.cloneElement(n,fe({ref:D,style:fe({visibility:S==="exited"&&!s?"hidden":void 0},h,n.props.style)},C))})});const Vce=zce;var Yce=function(e){var r={};return e.shadows.forEach(function(n,i){r["elevation".concat(i)]={boxShadow:n}}),fe({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},r)},Gce=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.component,s=a===void 0?"div":a,o=e.square,l=o===void 0?!1:o,u=e.elevation,c=u===void 0?1:u,f=e.variant,d=f===void 0?"elevation":f,h=et(e,["classes","className","component","square","elevation","variant"]);return T.createElement(s,fe({className:He(n.root,i,d==="outlined"?n.outlined:n["elevation".concat(c)],!l&&n.rounded),ref:r},h))});const k4=Ft(Yce,{name:"MuiPaper"})(Gce);var Hce=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},CV={left:"right",right:"left",top:"down",bottom:"up"};function Wce(t){return["left","right"].indexOf(t)!==-1}function qce(t,e){return t.direction==="rtl"&&Wce(e)?CV[e]:e}var Kce={enter:Lo.enteringScreen,exit:Lo.leavingScreen},Qce=T.forwardRef(function(e,r){var n=e.anchor,i=n===void 0?"left":n,a=e.BackdropProps,s=e.children,o=e.classes,l=e.className,u=e.elevation,c=u===void 0?16:u,f=e.ModalProps;f=f===void 0?{}:f;var d=f.BackdropProps,h=et(f,["BackdropProps"]),p=e.onClose,m=e.open,g=m===void 0?!1:m,v=e.PaperProps,b=v===void 0?{}:v,w=e.SlideProps,E=e.TransitionComponent,R=E===void 0?Vce:E,I=e.transitionDuration,D=I===void 0?Kce:I,N=e.variant,F=N===void 0?"temporary":N,$=et(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),z=Vc(),k=T.useRef(!1);T.useEffect(function(){k.current=!0},[]);var A=qce(z,i),y=T.createElement(k4,fe({elevation:F==="temporary"?c:0,square:!0},b,{className:He(o.paper,o["paperAnchor".concat(Pr(A))],b.className,F!=="temporary"&&o["paperAnchorDocked".concat(Pr(A))])}),s);if(F==="permanent")return T.createElement("div",fe({className:He(o.root,o.docked,l),ref:r},$),y);var x=T.createElement(R,fe({in:g,direction:CV[A],timeout:D,appear:k.current},w),y);return F==="persistent"?T.createElement("div",fe({className:He(o.root,o.docked,l),ref:r},$),x):T.createElement(RV,fe({BackdropProps:fe({},a,d,{transitionDuration:D}),BackdropComponent:Bce,className:He(o.root,o.modal,l),open:g,onClose:p,ref:r},$,h),x)});const Zce=Ft(Hce,{name:"MuiDrawer",flip:!1})(Qce);function Yh(t){var e=t.props,r=t.states,n=t.muiFormControl;return r.reduce(function(i,a){return i[a]=e[a],n&&typeof e[a]>"u"&&(i[a]=n[a]),i},{})}var PV=T.createContext();function Xce(){return T.useContext(PV)}const O4=PV;function vy(t,e){return parseInt(t[e],10)||0}var Jce=typeof window<"u"?T.useLayoutEffect:T.useEffect,efe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},tfe=T.forwardRef(function(e,r){var n=e.onChange,i=e.rows,a=e.rowsMax,s=e.rowsMin,o=e.maxRows,l=e.minRows,u=l===void 0?1:l,c=e.style,f=e.value,d=et(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),h=o||a,p=i||s||u,m=T.useRef(f!=null),g=m.current,v=T.useRef(null),b=on(r,v),w=T.useRef(null),E=T.useRef(0),R=T.useState({}),I=R[0],D=R[1],N=T.useCallback(function(){var $=v.current,z=window.getComputedStyle($),k=w.current;k.style.width=z.width,k.value=$.value||e.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");var A=z["box-sizing"],y=vy(z,"padding-bottom")+vy(z,"padding-top"),x=vy(z,"border-bottom-width")+vy(z,"border-top-width"),S=k.scrollHeight-y;k.value="x";var C=k.scrollHeight-y,P=S;p&&(P=Math.max(Number(p)*C,P)),h&&(P=Math.min(Number(h)*C,P)),P=Math.max(P,C);var M=P+(A==="border-box"?y+x:0),B=Math.abs(P-S)<=1;D(function(L){return E.current<20&&(M>0&&Math.abs((L.outerHeightStyle||0)-M)>1||L.overflow!==B)?(E.current+=1,{overflow:B,outerHeightStyle:M}):L})},[h,p,e.placeholder]);T.useEffect(function(){var $=P4(function(){E.current=0,N()});return window.addEventListener("resize",$),function(){$.clear(),window.removeEventListener("resize",$)}},[N]),Jce(function(){N()}),T.useEffect(function(){E.current=0},[f]);var F=function(z){E.current=0,g||N(),n&&n(z)};return T.createElement(T.Fragment,null,T.createElement("textarea",fe({value:f,onChange:F,ref:b,rows:p,style:fe({height:I.outerHeightStyle,overflow:I.overflow?"hidden":null},c)},d)),T.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:fe({},efe.shadow,c)}))});const rfe=tfe;function EN(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function N4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return t&&(EN(t.value)&&t.value!==""||e&&EN(t.defaultValue)&&t.defaultValue!=="")}function nfe(t){return t.startAdornment}var ife=function(e){var r=e.palette.type==="light",n={color:"currentColor",opacity:r?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:r?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:fe({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},afe=typeof window>"u"?T.useEffect:T.useLayoutEffect,sfe=T.forwardRef(function(e,r){var n=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,s=e.classes,o=e.className;e.color;var l=e.defaultValue,u=e.disabled,c=e.endAdornment;e.error;var f=e.fullWidth,d=f===void 0?!1:f,h=e.id,p=e.inputComponent,m=p===void 0?"input":p,g=e.inputProps,v=g===void 0?{}:g,b=e.inputRef;e.margin;var w=e.multiline,E=w===void 0?!1:w,R=e.name,I=e.onBlur,D=e.onChange,N=e.onClick,F=e.onFocus,$=e.onKeyDown,z=e.onKeyUp,k=e.placeholder,A=e.readOnly,y=e.renderSuffix,x=e.rows,S=e.rowsMax,C=e.rowsMin,P=e.maxRows,M=e.minRows,B=e.startAdornment,L=e.type,_=L===void 0?"text":L,U=e.value,G=et(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),O=v.value!=null?v.value:U,Y=T.useRef(O!=null),H=Y.current,W=T.useRef(),K=T.useCallback(function(ar){},[]),ie=on(v.ref,K),Q=on(b,ie),te=on(W,Q),xe=T.useState(!1),oe=xe[0],ve=xe[1],Ae=Xce(),Ie=Yh({props:e,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Ie.focused=Ae?Ae.focused:oe,T.useEffect(function(){!Ae&&u&&oe&&(ve(!1),I&&I())},[Ae,u,oe,I]);var Fe=Ae&&Ae.onFilled,Gt=Ae&&Ae.onEmpty,Be=T.useCallback(function(ar){N4(ar)?Fe&&Fe():Gt&&Gt()},[Fe,Gt]);afe(function(){H&&Be({value:O})},[O,Be,H]);var st=function(Ve){if(Ie.disabled){Ve.stopPropagation();return}F&&F(Ve),v.onFocus&&v.onFocus(Ve),Ae&&Ae.onFocus?Ae.onFocus(Ve):ve(!0)},jt=function(Ve){I&&I(Ve),v.onBlur&&v.onBlur(Ve),Ae&&Ae.onBlur?Ae.onBlur(Ve):ve(!1)},We=function(Ve){if(!H){var xt=Ve.target||W.current;if(xt==null)throw new Error(ah(1));Be({value:xt.value})}for(var fn=arguments.length,je=new Array(fn>1?fn-1:0),_e=1;_e<fn;_e++)je[_e-1]=arguments[_e];v.onChange&&v.onChange.apply(v,[Ve].concat(je)),D&&D.apply(void 0,[Ve].concat(je))};T.useEffect(function(){Be(W.current)},[]);var ze=function(Ve){W.current&&Ve.currentTarget===Ve.target&&W.current.focus(),N&&N(Ve)},Ye=m,rt=fe({},v,{ref:te});typeof Ye!="string"?rt=fe({inputRef:te,type:_},rt,{ref:null}):E?x&&!P&&!M&&!S&&!C?Ye="textarea":(rt=fe({minRows:x||M,rowsMax:S,maxRows:P},rt),Ye=rfe):rt=fe({type:_},rt);var bt=function(Ve){Be(Ve.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};return T.useEffect(function(){Ae&&Ae.setAdornedStart(!!B)},[Ae,B]),T.createElement("div",fe({className:He(s.root,s["color".concat(Pr(Ie.color||"primary"))],o,Ie.disabled&&s.disabled,Ie.error&&s.error,d&&s.fullWidth,Ie.focused&&s.focused,Ae&&s.formControl,E&&s.multiline,B&&s.adornedStart,c&&s.adornedEnd,Ie.margin==="dense"&&s.marginDense),onClick:ze,ref:r},G),B,T.createElement(O4.Provider,{value:null},T.createElement(Ye,fe({"aria-invalid":Ie.error,"aria-describedby":n,autoComplete:i,autoFocus:a,defaultValue:l,disabled:Ie.disabled,id:h,onAnimationStart:bt,name:R,placeholder:k,readOnly:A,required:Ie.required,rows:x,value:O,onKeyDown:$,onKeyUp:z},rt,{className:He(s.input,v.className,Ie.disabled&&s.disabled,E&&s.inputMultiline,Ie.hiddenLabel&&s.inputHiddenLabel,B&&s.inputAdornedStart,c&&s.inputAdornedEnd,_==="search"&&s.inputTypeSearch,Ie.margin==="dense"&&s.inputMarginDense),onBlur:jt,onChange:We,onFocus:st}))),c,y?y(fe({},Ie,{startAdornment:B})):null)});const L4=Ft(ife,{name:"MuiInputBase"})(sfe);var ofe=function(e){var r=e.palette.type==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},kV=T.forwardRef(function(e,r){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,s=a===void 0?!1:a,o=e.inputComponent,l=o===void 0?"input":o,u=e.multiline,c=u===void 0?!1:u,f=e.type,d=f===void 0?"text":f,h=et(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return T.createElement(L4,fe({classes:fe({},i,{root:He(i.root,!n&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:c,ref:r,type:d},h))});kV.muiName="Input";const D4=Ft(ofe,{name:"MuiInput"})(kV);var lfe=function(e){var r=e.palette.type==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:r?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},OV=T.forwardRef(function(e,r){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,s=a===void 0?!1:a,o=e.inputComponent,l=o===void 0?"input":o,u=e.multiline,c=u===void 0?!1:u,f=e.type,d=f===void 0?"text":f,h=et(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return T.createElement(L4,fe({classes:fe({},i,{root:He(i.root,!n&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:c,ref:r,type:d},h))});OV.muiName="Input";const NV=Ft(lfe,{name:"MuiFilledInput"})(OV);var ufe=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},cfe=T.forwardRef(function(e,r){e.children;var n=e.classes,i=e.className,a=e.label,s=e.labelWidth,o=e.notched,l=e.style,u=et(e,["children","classes","className","label","labelWidth","notched","style"]),c=Vc(),f=c.direction==="rtl"?"right":"left";if(a!==void 0)return T.createElement("fieldset",fe({"aria-hidden":!0,className:He(n.root,i),ref:r,style:l},u),T.createElement("legend",{className:He(n.legendLabelled,o&&n.legendNotched)},a?T.createElement("span",null,a):T.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=s>0?s*.75+8:.01;return T.createElement("fieldset",fe({"aria-hidden":!0,style:fe(Ya({},"padding".concat(Pr(f)),8),l),className:He(n.root,i),ref:r},u),T.createElement("legend",{className:n.legend,style:{width:o?d:.01}},T.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))});const ffe=Ft(ufe,{name:"PrivateNotchedOutline"})(cfe);var dfe=function(e){var r=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:r}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:r},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},LV=T.forwardRef(function(e,r){var n=e.classes,i=e.fullWidth,a=i===void 0?!1:i,s=e.inputComponent,o=s===void 0?"input":s,l=e.label,u=e.labelWidth,c=u===void 0?0:u,f=e.multiline,d=f===void 0?!1:f,h=e.notched,p=e.type,m=p===void 0?"text":p,g=et(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return T.createElement(L4,fe({renderSuffix:function(b){return T.createElement(ffe,{className:n.notchedOutline,label:l,labelWidth:c,notched:typeof h<"u"?h:!!(b.startAdornment||b.filled||b.focused)})},classes:fe({},n,{root:He(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:o,multiline:d,ref:r,type:m},g))});LV.muiName="Input";const DV=Ft(dfe,{name:"MuiOutlinedInput"})(LV);function Gh(){return T.useContext(O4)}var hfe=function(e){return{root:fe({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},pfe=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className;e.color;var s=e.component,o=s===void 0?"label":s;e.disabled,e.error,e.filled,e.focused,e.required;var l=et(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),u=Gh(),c=Yh({props:e,muiFormControl:u,states:["color","required","focused","disabled","error","filled"]});return T.createElement(o,fe({className:He(i.root,i["color".concat(Pr(c.color||"primary"))],a,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required),ref:r},l),n,c.required&&T.createElement("span",{"aria-hidden":!0,className:He(i.asterisk,c.error&&i.error)}," ","*"))});const mfe=Ft(hfe,{name:"MuiFormLabel"})(pfe);var gfe=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},vfe=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.disableAnimation,s=a===void 0?!1:a;e.margin;var o=e.shrink;e.variant;var l=et(e,["classes","className","disableAnimation","margin","shrink","variant"]),u=Gh(),c=o;typeof c>"u"&&u&&(c=u.filled||u.focused||u.adornedStart);var f=Yh({props:e,muiFormControl:u,states:["margin","variant"]});return T.createElement(mfe,fe({"data-shrink":c,className:He(n.root,i,u&&n.formControl,!s&&n.animated,c&&n.shrink,f.margin==="dense"&&n.marginDense,{filled:n.filled,outlined:n.outlined}[f.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:r},l))});const yfe=Ft(gfe,{name:"MuiInputLabel"})(vfe);function zS(t,e){return T.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}var bfe={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},xfe=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,o=s===void 0?"primary":s,l=e.component,u=l===void 0?"div":l,c=e.disabled,f=c===void 0?!1:c,d=e.error,h=d===void 0?!1:d,p=e.fullWidth,m=p===void 0?!1:p,g=e.focused,v=e.hiddenLabel,b=v===void 0?!1:v,w=e.margin,E=w===void 0?"none":w,R=e.required,I=R===void 0?!1:R,D=e.size,N=e.variant,F=N===void 0?"standard":N,$=et(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),z=T.useState(function(){var O=!1;return n&&T.Children.forEach(n,function(Y){if(zS(Y,["Input","Select"])){var H=zS(Y,["Select"])?Y.props.input:Y;H&&nfe(H.props)&&(O=!0)}}),O}),k=z[0],A=z[1],y=T.useState(function(){var O=!1;return n&&T.Children.forEach(n,function(Y){zS(Y,["Input","Select"])&&N4(Y.props,!0)&&(O=!0)}),O}),x=y[0],S=y[1],C=T.useState(!1),P=C[0],M=C[1],B=g!==void 0?g:P;f&&B&&M(!1);var L,_=T.useCallback(function(){S(!0)},[]),U=T.useCallback(function(){S(!1)},[]),G={adornedStart:k,setAdornedStart:A,color:o,disabled:f,error:h,filled:x,focused:B,fullWidth:m,hiddenLabel:b,margin:(D==="small"?"dense":void 0)||E,onBlur:function(){M(!1)},onEmpty:U,onFilled:_,onFocus:function(){M(!0)},registerEffect:L,required:I,variant:F};return T.createElement(O4.Provider,{value:G},T.createElement(u,fe({className:He(i.root,a,E!=="none"&&i["margin".concat(Pr(E))],m&&i.fullWidth),ref:r},$),n))});const wfe=Ft(bfe,{name:"MuiFormControl"})(xfe);var Efe=function(e){return{root:fe({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},Sfe=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,o=s===void 0?"p":s;e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant;var l=et(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),u=Gh(),c=Yh({props:e,muiFormControl:u,states:["variant","margin","disabled","error","filled","focused","required"]});return T.createElement(o,fe({className:He(i.root,(c.variant==="filled"||c.variant==="outlined")&&i.contained,a,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required,c.margin==="dense"&&i.marginDense),ref:r},l),n===" "?T.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)});const Tfe=Ft(Efe,{name:"MuiFormHelperText"})(Sfe);var fr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=60103,l2=60106,Jg=60107,ev=60108,tv=60114,rv=60109,nv=60110,iv=60112,av=60113,M4=60120,sv=60115,ov=60116,MV=60121,$V=60122,FV=60117,BV=60129,UV=60131;if(typeof Symbol=="function"&&Symbol.for){var En=Symbol.for;o2=En("react.element"),l2=En("react.portal"),Jg=En("react.fragment"),ev=En("react.strict_mode"),tv=En("react.profiler"),rv=En("react.provider"),nv=En("react.context"),iv=En("react.forward_ref"),av=En("react.suspense"),M4=En("react.suspense_list"),sv=En("react.memo"),ov=En("react.lazy"),MV=En("react.block"),$V=En("react.server.block"),FV=En("react.fundamental"),BV=En("react.debug_trace_mode"),UV=En("react.legacy_hidden")}function ls(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o2:switch(t=t.type,t){case Jg:case tv:case ev:case av:case M4:return t;default:switch(t=t&&t.$$typeof,t){case nv:case iv:case ov:case sv:case rv:return t;default:return e}}case l2:return e}}}var Afe=rv,Rfe=o2,_fe=iv,Ife=Jg,Cfe=ov,Pfe=sv,kfe=l2,Ofe=tv,Nfe=ev,Lfe=av;fr.ContextConsumer=nv;fr.ContextProvider=Afe;fr.Element=Rfe;fr.ForwardRef=_fe;fr.Fragment=Ife;fr.Lazy=Cfe;fr.Memo=Pfe;fr.Portal=kfe;fr.Profiler=Ofe;fr.StrictMode=Nfe;fr.Suspense=Lfe;fr.isAsyncMode=function(){return!1};fr.isConcurrentMode=function(){return!1};fr.isContextConsumer=function(t){return ls(t)===nv};fr.isContextProvider=function(t){return ls(t)===rv};fr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o2};fr.isForwardRef=function(t){return ls(t)===iv};fr.isFragment=function(t){return ls(t)===Jg};fr.isLazy=function(t){return ls(t)===ov};fr.isMemo=function(t){return ls(t)===sv};fr.isPortal=function(t){return ls(t)===l2};fr.isProfiler=function(t){return ls(t)===tv};fr.isStrictMode=function(t){return ls(t)===ev};fr.isSuspense=function(t){return ls(t)===av};fr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jg||t===tv||t===BV||t===ev||t===av||t===M4||t===UV||typeof t=="object"&&t!==null&&(t.$$typeof===ov||t.$$typeof===sv||t.$$typeof===rv||t.$$typeof===nv||t.$$typeof===iv||t.$$typeof===FV||t.$$typeof===MV||t[0]===$V)};fr.typeOf=ls;function sI(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var Dfe={entering:{opacity:1,transform:sI(1)},entered:{opacity:1,transform:"none"}},jV=T.forwardRef(function(e,r){var n=e.children,i=e.disableStrictModeCompat,a=i===void 0?!1:i,s=e.in,o=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,f=e.onExited,d=e.onExiting,h=e.style,p=e.timeout,m=p===void 0?"auto":p,g=e.TransitionComponent,v=g===void 0?s2:g,b=et(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=T.useRef(),E=T.useRef(),R=Vc(),I=R.unstable_strictMode&&!a,D=T.useRef(null),N=on(n.ref,r),F=on(I?D:void 0,N),$=function(M){return function(B,L){if(M){var _=I?[D.current,B]:[B,L],U=Vh(_,2),G=U[0],O=U[1];O===void 0?M(G):M(G,O)}}},z=$(u),k=$(function(P,M){C4(P);var B=au({style:h,timeout:m},{mode:"enter"}),L=B.duration,_=B.delay,U;m==="auto"?(U=R.transitions.getAutoHeightDuration(P.clientHeight),E.current=U):U=L,P.style.transition=[R.transitions.create("opacity",{duration:U,delay:_}),R.transitions.create("transform",{duration:U*.666,delay:_})].join(","),o&&o(P,M)}),A=$(l),y=$(d),x=$(function(P){var M=au({style:h,timeout:m},{mode:"exit"}),B=M.duration,L=M.delay,_;m==="auto"?(_=R.transitions.getAutoHeightDuration(P.clientHeight),E.current=_):_=B,P.style.transition=[R.transitions.create("opacity",{duration:_,delay:L}),R.transitions.create("transform",{duration:_*.666,delay:L||_*.333})].join(","),P.style.opacity="0",P.style.transform=sI(.75),c&&c(P)}),S=$(f),C=function(M,B){var L=I?M:B;m==="auto"&&(w.current=setTimeout(L,E.current||0))};return T.useEffect(function(){return function(){clearTimeout(w.current)}},[]),T.createElement(v,fe({appear:!0,in:s,nodeRef:I?D:void 0,onEnter:k,onEntered:A,onEntering:z,onExit:x,onExited:S,onExiting:y,addEndListener:C,timeout:m==="auto"?null:m},b),function(P,M){return T.cloneElement(n,fe({style:fe({opacity:0,transform:sI(.75),visibility:P==="exited"&&!s?"hidden":void 0},Dfe[P],h,n.props.style),ref:F},M))})});jV.muiSupportAuto=!0;const Mfe=jV;function SN(t,e){var r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function TN(t,e){var r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function AN(t){return[t.horizontal,t.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function $fe(t,e){for(var r=e,n=0;r&&r!==t;)r=r.parentElement,n+=r.scrollTop;return n}function VS(t){return typeof t=="function"?t():t}var Ffe={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},Bfe=T.forwardRef(function(e,r){var n=e.action,i=e.anchorEl,a=e.anchorOrigin,s=a===void 0?{vertical:"top",horizontal:"left"}:a,o=e.anchorPosition,l=e.anchorReference,u=l===void 0?"anchorEl":l,c=e.children,f=e.classes,d=e.className,h=e.container,p=e.elevation,m=p===void 0?8:p,g=e.getContentAnchorEl,v=e.marginThreshold,b=v===void 0?16:v,w=e.onEnter,E=e.onEntered,R=e.onEntering,I=e.onExit,D=e.onExited,N=e.onExiting,F=e.open,$=e.PaperProps,z=$===void 0?{}:$,k=e.transformOrigin,A=k===void 0?{vertical:"top",horizontal:"left"}:k,y=e.TransitionComponent,x=y===void 0?Mfe:y,S=e.transitionDuration,C=S===void 0?"auto":S,P=e.TransitionProps,M=P===void 0?{}:P,B=et(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),L=T.useRef(),_=T.useCallback(function(Q){if(u==="anchorPosition")return o;var te=VS(i),xe=te&&te.nodeType===1?te:Do(L.current).body,oe=xe.getBoundingClientRect(),ve=Q===0?s.vertical:"center";return{top:oe.top+SN(oe,ve),left:oe.left+TN(oe,s.horizontal)}},[i,s.horizontal,s.vertical,o,u]),U=T.useCallback(function(Q){var te=0;if(g&&u==="anchorEl"){var xe=g(Q);if(xe&&Q.contains(xe)){var oe=$fe(Q,xe);te=xe.offsetTop+xe.clientHeight/2-oe||0}}return te},[s.vertical,u,g]),G=T.useCallback(function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:SN(Q,A.vertical)+te,horizontal:TN(Q,A.horizontal)}},[A.horizontal,A.vertical]),O=T.useCallback(function(Q){var te=U(Q),xe={width:Q.offsetWidth,height:Q.offsetHeight},oe=G(xe,te);if(u==="none")return{top:null,left:null,transformOrigin:AN(oe)};var ve=_(te),Ae=ve.top-oe.vertical,Ie=ve.left-oe.horizontal,Fe=Ae+xe.height,Gt=Ie+xe.width,Be=AV(VS(i)),st=Be.innerHeight-b,jt=Be.innerWidth-b;if(Ae<b){var We=Ae-b;Ae-=We,oe.vertical+=We}else if(Fe>st){var ze=Fe-st;Ae-=ze,oe.vertical+=ze}if(Ie<b){var Ye=Ie-b;Ie-=Ye,oe.horizontal+=Ye}else if(Gt>jt){var rt=Gt-jt;Ie-=rt,oe.horizontal+=rt}return{top:"".concat(Math.round(Ae),"px"),left:"".concat(Math.round(Ie),"px"),transformOrigin:AN(oe)}},[i,u,_,U,G,b]),Y=T.useCallback(function(){var Q=L.current;if(Q){var te=O(Q);te.top!==null&&(Q.style.top=te.top),te.left!==null&&(Q.style.left=te.left),Q.style.transformOrigin=te.transformOrigin}},[O]),H=function(te,xe){R&&R(te,xe),Y()},W=T.useCallback(function(Q){L.current=Nn.findDOMNode(Q)},[]);T.useEffect(function(){F&&Y()}),T.useImperativeHandle(n,function(){return F?{updatePosition:function(){Y()}}:null},[F,Y]),T.useEffect(function(){if(F){var Q=P4(function(){Y()});return window.addEventListener("resize",Q),function(){Q.clear(),window.removeEventListener("resize",Q)}}},[F,Y]);var K=C;C==="auto"&&!x.muiSupportAuto&&(K=void 0);var ie=h||(i?Do(VS(i)).body:void 0);return T.createElement(RV,fe({container:ie,open:F,ref:r,BackdropProps:{invisible:!0},className:He(f.root,d)},B),T.createElement(x,fe({appear:!0,in:F,onEnter:w,onEntered:E,onExit:I,onExited:D,onExiting:N,timeout:K},M,{onEntering:aI(H,M.onEntering)}),T.createElement(k4,fe({elevation:m,ref:W},z,{className:He(f.paper,z.className)}),c)))});const Ufe=Ft(Ffe,{name:"MuiPopover"})(Bfe);var jfe=T.createContext({});const zfe=jfe;var Vfe={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},Yfe=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.component,o=s===void 0?"ul":s,l=e.dense,u=l===void 0?!1:l,c=e.disablePadding,f=c===void 0?!1:c,d=e.subheader,h=et(e,["children","classes","className","component","dense","disablePadding","subheader"]),p=T.useMemo(function(){return{dense:u}},[u]);return T.createElement(zfe.Provider,{value:p},T.createElement(o,fe({className:He(i.root,a,u&&i.dense,!f&&i.padding,d&&i.subheader),ref:r},h),d,n))});const Gfe=Ft(Vfe,{name:"MuiList"})(Yfe);function YS(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function RN(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function zV(t,e){if(e===void 0)return!0;var r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function A0(t,e,r,n,i,a){for(var s=!1,o=i(t,e,e?r:!1);o;){if(o===t.firstChild){if(s)return;s=!0}var l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!zV(o,a)||l)o=i(t,o,r);else{o.focus();return}}}var Hfe=typeof window>"u"?T.useEffect:T.useLayoutEffect,Wfe=T.forwardRef(function(e,r){var n=e.actions,i=e.autoFocus,a=i===void 0?!1:i,s=e.autoFocusItem,o=s===void 0?!1:s,l=e.children,u=e.className,c=e.disabledItemsFocusable,f=c===void 0?!1:c,d=e.disableListWrap,h=d===void 0?!1:d,p=e.onKeyDown,m=e.variant,g=m===void 0?"selectedMenu":m,v=et(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=T.useRef(null),w=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hfe(function(){a&&b.current.focus()},[a]),T.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function($,z){var k=!b.current.style.width;if($.clientHeight<b.current.clientHeight&&k){var A="".concat(TV(),"px");b.current.style[z.direction==="rtl"?"paddingLeft":"paddingRight"]=A,b.current.style.width="calc(100% + ".concat(A,")")}return b.current}}},[]);var E=function($){var z=b.current,k=$.key,A=Do(z).activeElement;if(k==="ArrowDown")$.preventDefault(),A0(z,A,h,f,YS);else if(k==="ArrowUp")$.preventDefault(),A0(z,A,h,f,RN);else if(k==="Home")$.preventDefault(),A0(z,null,h,f,YS);else if(k==="End")$.preventDefault(),A0(z,null,h,f,RN);else if(k.length===1){var y=w.current,x=k.toLowerCase(),S=performance.now();y.keys.length>0&&(S-y.lastTime>500?(y.keys=[],y.repeating=!0,y.previousKeyMatched=!0):y.repeating&&x!==y.keys[0]&&(y.repeating=!1)),y.lastTime=S,y.keys.push(x);var C=A&&!y.repeating&&zV(A,y);y.previousKeyMatched&&(C||A0(z,A,!1,f,YS,y))?$.preventDefault():y.previousKeyMatched=!1}p&&p($)},R=T.useCallback(function(F){b.current=Nn.findDOMNode(F)},[]),I=on(R,r),D=-1;T.Children.forEach(l,function(F,$){T.isValidElement(F)&&(F.props.disabled||(g==="selectedMenu"&&F.props.selected||D===-1)&&(D=$))});var N=T.Children.map(l,function(F,$){if($===D){var z={};return o&&(z.autoFocus=!0),F.props.tabIndex===void 0&&g==="selectedMenu"&&(z.tabIndex=0),T.cloneElement(F,z)}return F});return T.createElement(Gfe,fe({role:"menu",ref:I,className:u,onKeyDown:E,tabIndex:a?0:-1},v),N)});const qfe=Wfe;var _N={vertical:"top",horizontal:"right"},IN={vertical:"top",horizontal:"left"},Kfe={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},Qfe=T.forwardRef(function(e,r){var n=e.autoFocus,i=n===void 0?!0:n,a=e.children,s=e.classes,o=e.disableAutoFocusItem,l=o===void 0?!1:o,u=e.MenuListProps,c=u===void 0?{}:u,f=e.onClose,d=e.onEntering,h=e.open,p=e.PaperProps,m=p===void 0?{}:p,g=e.PopoverClasses,v=e.transitionDuration,b=v===void 0?"auto":v,w=e.TransitionProps;w=w===void 0?{}:w;var E=w.onEntering,R=et(w,["onEntering"]),I=e.variant,D=I===void 0?"selectedMenu":I,N=et(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),F=Vc(),$=i&&!l&&h,z=T.useRef(null),k=T.useRef(null),A=function(){return k.current},y=function(M,B){z.current&&z.current.adjustStyleForScrollbar(M,F),d&&d(M,B),E&&E(M,B)},x=function(M){M.key==="Tab"&&(M.preventDefault(),f&&f(M,"tabKeyDown"))},S=-1;T.Children.map(a,function(P,M){T.isValidElement(P)&&(P.props.disabled||(D!=="menu"&&P.props.selected||S===-1)&&(S=M))});var C=T.Children.map(a,function(P,M){return M===S?T.cloneElement(P,{ref:function(L){k.current=Nn.findDOMNode(L),Im(P.ref,L)}}):P});return T.createElement(Ufe,fe({getContentAnchorEl:A,classes:g,onClose:f,TransitionProps:fe({onEntering:y},R),anchorOrigin:F.direction==="rtl"?_N:IN,transformOrigin:F.direction==="rtl"?_N:IN,PaperProps:fe({},m,{classes:fe({},m.classes,{root:s.paper})}),open:h,ref:r,transitionDuration:b},N),T.createElement(qfe,fe({onKeyDown:x,actions:z,autoFocus:i&&(S===-1||l),autoFocusItem:$,variant:D},c,{className:He(s.list,c.className)}),C))});const Zfe=Ft(Kfe,{name:"MuiMenu"})(Qfe);function $4(t){var e=t.controlled,r=t.default;t.name,t.state;var n=T.useRef(e!==void 0),i=n.current,a=T.useState(r),s=a[0],o=a[1],l=i?e:s,u=T.useCallback(function(c){i||o(c)},[]);return[l,u]}function CN(t,e){return sh(e)==="object"&&e!==null?t===e:String(t)===String(e)}function Xfe(t){return t==null||typeof t=="string"&&!t.trim()}var Jfe=T.forwardRef(function(e,r){var n=e["aria-label"],i=e.autoFocus,a=e.autoWidth,s=e.children,o=e.classes,l=e.className,u=e.defaultValue,c=e.disabled,f=e.displayEmpty,d=e.IconComponent,h=e.inputRef,p=e.labelId,m=e.MenuProps,g=m===void 0?{}:m,v=e.multiple,b=e.name,w=e.onBlur,E=e.onChange,R=e.onClose,I=e.onFocus,D=e.onOpen,N=e.open,F=e.readOnly,$=e.renderValue,z=e.SelectDisplayProps,k=z===void 0?{}:z,A=e.tabIndex;e.type;var y=e.value,x=e.variant,S=x===void 0?"standard":x,C=et(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),P=$4({controlled:y,default:u,name:"Select"}),M=Vh(P,2),B=M[0],L=M[1],_=T.useRef(null),U=T.useState(null),G=U[0],O=U[1],Y=T.useRef(N!=null),H=Y.current,W=T.useState(),K=W[0],ie=W[1],Q=T.useState(!1),te=Q[0],xe=Q[1],oe=on(r,h);T.useImperativeHandle(oe,function(){return{focus:function(){G.focus()},node:_.current,value:B}},[G,B]),T.useEffect(function(){i&&G&&G.focus()},[i,G]),T.useEffect(function(){if(G){var je=Do(G).getElementById(p);if(je){var _e=function(){getSelection().isCollapsed&&G.focus()};return je.addEventListener("click",_e),function(){je.removeEventListener("click",_e)}}}},[p,G]);var ve=function(_e,ee){_e?D&&D(ee):R&&R(ee),H||(ie(a?null:G.clientWidth),xe(_e))},Ae=function(_e){_e.button===0&&(_e.preventDefault(),G.focus(),ve(!0,_e))},Ie=function(_e){ve(!1,_e)},Fe=T.Children.toArray(s),Gt=function(_e){var ee=Fe.map(function(le){return le.props.value}).indexOf(_e.target.value);if(ee!==-1){var J=Fe[ee];L(J.props.value),E&&E(_e,J)}},Be=function(_e){return function(ee){v||ve(!1,ee);var J;if(v){J=Array.isArray(B)?B.slice():[];var le=B.indexOf(_e.props.value);le===-1?J.push(_e.props.value):J.splice(le,1)}else J=_e.props.value;_e.props.onClick&&_e.props.onClick(ee),B!==J&&(L(J),E&&(ee.persist(),Object.defineProperty(ee,"target",{writable:!0,value:{value:J,name:b}}),E(ee,_e)))}},st=function(_e){if(!F){var ee=[" ","ArrowUp","ArrowDown","Enter"];ee.indexOf(_e.key)!==-1&&(_e.preventDefault(),ve(!0,_e))}},jt=G!==null&&(H?N:te),We=function(_e){!jt&&w&&(_e.persist(),Object.defineProperty(_e,"target",{writable:!0,value:{value:B,name:b}}),w(_e))};delete C["aria-invalid"];var ze,Ye,rt=[],bt=!1;(N4({value:B})||f)&&($?ze=$(B):bt=!0);var ar=Fe.map(function(je){if(!T.isValidElement(je))return null;var _e;if(v){if(!Array.isArray(B))throw new Error(ah(2));_e=B.some(function(ee){return CN(ee,je.props.value)}),_e&&bt&&rt.push(je.props.children)}else _e=CN(B,je.props.value),_e&&bt&&(Ye=je.props.children);return T.cloneElement(je,{"aria-selected":_e?"true":void 0,onClick:Be(je),onKeyUp:function(J){J.key===" "&&J.preventDefault(),je.props.onKeyUp&&je.props.onKeyUp(J)},role:"option",selected:_e,value:void 0,"data-value":je.props.value})});bt&&(ze=v?rt.join(", "):Ye);var Ve=K;!a&&H&&G&&(Ve=G.clientWidth);var xt;typeof A<"u"?xt=A:xt=c?null:0;var fn=k.id||(b?"mui-component-select-".concat(b):void 0);return T.createElement(T.Fragment,null,T.createElement("div",fe({className:He(o.root,o.select,o.selectMenu,o[S],l,c&&o.disabled),ref:O,tabIndex:xt,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":jt?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[p,fn].filter(Boolean).join(" ")||void 0,onKeyDown:st,onMouseDown:c||F?null:Ae,onBlur:We,onFocus:I},k,{id:fn}),Xfe(ze)?T.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ze),T.createElement("input",fe({value:Array.isArray(B)?B.join(","):B,name:b,ref:_,"aria-hidden":!0,onChange:Gt,tabIndex:-1,className:o.nativeInput,autoFocus:i},C)),T.createElement(d,{className:He(o.icon,o["icon".concat(Pr(S))],jt&&o.iconOpen,c&&o.disabled)}),T.createElement(Zfe,fe({id:"menu-".concat(b||""),anchorEl:G,open:jt,onClose:Ie},g,{MenuListProps:fe({"aria-labelledby":p,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:fe({},g.PaperProps,{style:fe({minWidth:Ve},g.PaperProps!=null?g.PaperProps.style:null)})}),ar))});const ede=Jfe;var tde=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},VV=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,o=s===void 0?"inherit":s,l=e.component,u=l===void 0?"svg":l,c=e.fontSize,f=c===void 0?"medium":c,d=e.htmlColor,h=e.titleAccess,p=e.viewBox,m=p===void 0?"0 0 24 24":p,g=et(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return T.createElement(u,fe({className:He(i.root,a,o!=="inherit"&&i["color".concat(Pr(o))],f!=="default"&&f!=="medium"&&i["fontSize".concat(Pr(f))]),focusable:"false",viewBox:m,color:d,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:r},g),n,h?T.createElement("title",null,h):null)});VV.muiName="SvgIcon";const PN=Ft(tde,{name:"MuiSvgIcon"})(VV);function F4(t,e){var r=function(i,a){return vt.createElement(PN,fe({ref:a},i),t)};return r.muiName=PN.muiName,vt.memo(vt.forwardRef(r))}const YV=F4(T.createElement("path",{d:"M7 10l5 5 5-5z"}));var rde=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.disabled,s=e.IconComponent,o=e.inputRef,l=e.variant,u=l===void 0?"standard":l,c=et(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return T.createElement(T.Fragment,null,T.createElement("select",fe({className:He(n.root,n.select,n[u],i,a&&n.disabled),disabled:a,ref:o||r},c)),e.multiple?null:T.createElement(s,{className:He(n.icon,n["icon".concat(Pr(u))],a&&n.disabled)}))});const GV=rde;var HV=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},nde=T.createElement(D4,null),WV=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.IconComponent,s=a===void 0?YV:a,o=e.input,l=o===void 0?nde:o,u=e.inputProps;e.variant;var c=et(e,["children","classes","IconComponent","input","inputProps","variant"]),f=Gh(),d=Yh({props:e,muiFormControl:f,states:["variant"]});return T.cloneElement(l,fe({inputComponent:GV,inputProps:fe({children:n,classes:i,IconComponent:s,variant:d.variant,type:void 0},u,l?l.props.inputProps:{}),ref:r},c))});WV.muiName="Select";Ft(HV,{name:"MuiNativeSelect"})(WV);var ide=HV,ade=T.createElement(D4,null),sde=T.createElement(NV,null),qV=T.forwardRef(function t(e,r){var n=e.autoWidth,i=n===void 0?!1:n,a=e.children,s=e.classes,o=e.displayEmpty,l=o===void 0?!1:o,u=e.IconComponent,c=u===void 0?YV:u,f=e.id,d=e.input,h=e.inputProps,p=e.label,m=e.labelId,g=e.labelWidth,v=g===void 0?0:g,b=e.MenuProps,w=e.multiple,E=w===void 0?!1:w,R=e.native,I=R===void 0?!1:R,D=e.onClose,N=e.onOpen,F=e.open,$=e.renderValue,z=e.SelectDisplayProps,k=e.variant,A=k===void 0?"standard":k,y=et(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),x=I?GV:ede,S=Gh(),C=Yh({props:e,muiFormControl:S,states:["variant"]}),P=C.variant||A,M=d||{standard:ade,outlined:T.createElement(DV,{label:p,labelWidth:v}),filled:sde}[P];return T.cloneElement(M,fe({inputComponent:x,inputProps:fe({children:a,IconComponent:c,variant:P,type:void 0,multiple:E},I?{id:f}:{autoWidth:i,displayEmpty:l,labelId:m,MenuProps:b,onClose:D,onOpen:N,open:F,renderValue:$,SelectDisplayProps:fe({id:f},z)},h,{classes:h?y4({baseClasses:s,newClasses:h.classes,Component:t}):s},d?d.props.inputProps:{}),ref:r},y))});qV.muiName="Select";const ode=Ft(ide,{name:"MuiSelect"})(qV);var lde={standard:D4,filled:NV,outlined:DV},ude={root:{}},cde=T.forwardRef(function(e,r){var n=e.autoComplete,i=e.autoFocus,a=i===void 0?!1:i,s=e.children,o=e.classes,l=e.className,u=e.color,c=u===void 0?"primary":u,f=e.defaultValue,d=e.disabled,h=d===void 0?!1:d,p=e.error,m=p===void 0?!1:p,g=e.FormHelperTextProps,v=e.fullWidth,b=v===void 0?!1:v,w=e.helperText,E=e.hiddenLabel,R=e.id,I=e.InputLabelProps,D=e.inputProps,N=e.InputProps,F=e.inputRef,$=e.label,z=e.multiline,k=z===void 0?!1:z,A=e.name,y=e.onBlur,x=e.onChange,S=e.onFocus,C=e.placeholder,P=e.required,M=P===void 0?!1:P,B=e.rows,L=e.rowsMax,_=e.maxRows,U=e.minRows,G=e.select,O=G===void 0?!1:G,Y=e.SelectProps,H=e.type,W=e.value,K=e.variant,ie=K===void 0?"standard":K,Q=et(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]),te={};if(ie==="outlined"&&(I&&typeof I.shrink<"u"&&(te.notched=I.shrink),$)){var xe,oe=(xe=I?.required)!==null&&xe!==void 0?xe:M;te.label=T.createElement(T.Fragment,null,$,oe&&" *")}O&&((!Y||!Y.native)&&(te.id=void 0),te["aria-describedby"]=void 0);var ve=w&&R?"".concat(R,"-helper-text"):void 0,Ae=$&&R?"".concat(R,"-label"):void 0,Ie=lde[ie],Fe=T.createElement(Ie,fe({"aria-describedby":ve,autoComplete:n,autoFocus:a,defaultValue:f,fullWidth:b,multiline:k,name:A,rows:B,rowsMax:L,maxRows:_,minRows:U,type:H,value:W,id:R,inputRef:F,onBlur:y,onChange:x,onFocus:S,placeholder:C,inputProps:D},te,N));return T.createElement(wfe,fe({className:He(o.root,l),disabled:h,error:m,fullWidth:b,hiddenLabel:E,ref:r,required:M,color:c,variant:ie},Q),$&&T.createElement(yfe,fe({htmlFor:R,id:Ae},I),$),O?T.createElement(ode,fe({"aria-describedby":ve,id:R,labelId:Ae,value:W,input:Fe},Y),s):Fe,w&&T.createElement(Tfe,fe({id:ve},g),w))});const kN=Ft(ude,{name:"MuiTextField"})(cde);var fde=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},ON={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},dde=T.forwardRef(function(e,r){var n=e.align,i=n===void 0?"inherit":n,a=e.classes,s=e.className,o=e.color,l=o===void 0?"initial":o,u=e.component,c=e.display,f=c===void 0?"initial":c,d=e.gutterBottom,h=d===void 0?!1:d,p=e.noWrap,m=p===void 0?!1:p,g=e.paragraph,v=g===void 0?!1:g,b=e.variant,w=b===void 0?"body1":b,E=e.variantMapping,R=E===void 0?ON:E,I=et(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),D=u||(v?"p":R[w]||ON[w])||"span";return T.createElement(D,fe({className:He(a.root,s,w!=="inherit"&&a[w],l!=="initial"&&a["color".concat(Pr(l))],m&&a.noWrap,h&&a.gutterBottom,v&&a.paragraph,i!=="inherit"&&a["align".concat(Pr(i))],f!=="initial"&&a["display".concat(Pr(f))]),ref:r},I))});const Ts=Ft(fde,{name:"MuiTypography"})(dde);var hde=Pae(Zo(Cae,$ae,Xae,dse,Sse,gse,Ase,Lse,h4,Jse)),pde=bV("div")(hde,{name:"MuiBox"});const NN=pde;var mde=[0,1,2,3,4,5,6,7,8,9,10],gde=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function vde(t,e,r){var n={};gde.forEach(function(i){var a="grid-".concat(r,"-").concat(i);if(i===!0){n[a]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(i==="auto"){n[a]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var s="".concat(Math.round(i/12*1e8)/1e6,"%");n[a]={flexBasis:s,flexGrow:0,maxWidth:s}}),r==="xs"?fe(t,n):t[e.breakpoints.up(r)]=n}function GS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=parseFloat(t);return"".concat(r/e).concat(String(t).replace(String(r),"")||"px")}function yde(t,e){var r={};return mde.forEach(function(n){var i=t.spacing(n);i!==0&&(r["spacing-".concat(e,"-").concat(n)]={margin:"-".concat(GS(i,2)),width:"calc(100% + ".concat(GS(i),")"),"& > $item":{padding:GS(i,2)}})}),r}var bde=function(e){return fe({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},yde(e,"xs"),e.breakpoints.keys.reduce(function(r,n){return vde(r,e,n),r},{}))},xde=T.forwardRef(function(e,r){var n=e.alignContent,i=n===void 0?"stretch":n,a=e.alignItems,s=a===void 0?"stretch":a,o=e.classes,l=e.className,u=e.component,c=u===void 0?"div":u,f=e.container,d=f===void 0?!1:f,h=e.direction,p=h===void 0?"row":h,m=e.item,g=m===void 0?!1:m,v=e.justify,b=e.justifyContent,w=b===void 0?"flex-start":b,E=e.lg,R=E===void 0?!1:E,I=e.md,D=I===void 0?!1:I,N=e.sm,F=N===void 0?!1:N,$=e.spacing,z=$===void 0?0:$,k=e.wrap,A=k===void 0?"wrap":k,y=e.xl,x=y===void 0?!1:y,S=e.xs,C=S===void 0?!1:S,P=e.zeroMinWidth,M=P===void 0?!1:P,B=et(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=He(o.root,l,d&&[o.container,z!==0&&o["spacing-xs-".concat(String(z))]],g&&o.item,M&&o.zeroMinWidth,p!=="row"&&o["direction-xs-".concat(String(p))],A!=="wrap"&&o["wrap-xs-".concat(String(A))],s!=="stretch"&&o["align-items-xs-".concat(String(s))],i!=="stretch"&&o["align-content-xs-".concat(String(i))],(v||w)!=="flex-start"&&o["justify-content-xs-".concat(String(v||w))],C!==!1&&o["grid-xs-".concat(String(C))],F!==!1&&o["grid-sm-".concat(String(F))],D!==!1&&o["grid-md-".concat(String(D))],R!==!1&&o["grid-lg-".concat(String(R))],x!==!1&&o["grid-xl-".concat(String(x))]);return T.createElement(c,fe({className:L,ref:r},B))}),wde=Ft(bde,{name:"MuiGrid"})(xde);const yy=wde;var Ede=function(e){return{root:fe({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:ha(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:ha(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:ha(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(ha(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:ha(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(ha(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:ha(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},Sde=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.color,o=s===void 0?"default":s,l=e.component,u=l===void 0?"button":l,c=e.disabled,f=c===void 0?!1:c,d=e.disableElevation,h=d===void 0?!1:d,p=e.disableFocusRipple,m=p===void 0?!1:p,g=e.endIcon,v=e.focusVisibleClassName,b=e.fullWidth,w=b===void 0?!1:b,E=e.size,R=E===void 0?"medium":E,I=e.startIcon,D=e.type,N=D===void 0?"button":D,F=e.variant,$=F===void 0?"text":F,z=et(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),k=I&&T.createElement("span",{className:He(i.startIcon,i["iconSize".concat(Pr(R))])},I),A=g&&T.createElement("span",{className:He(i.endIcon,i["iconSize".concat(Pr(R))])},g);return T.createElement(I4,fe({className:He(i.root,i[$],a,o==="inherit"?i.colorInherit:o!=="default"&&i["".concat($).concat(Pr(o))],R!=="medium"&&[i["".concat($,"Size").concat(Pr(R))],i["size".concat(Pr(R))]],h&&i.disableElevation,f&&i.disabled,w&&i.fullWidth),component:u,disabled:f,focusRipple:!m,focusVisibleClassName:He(i.focusVisible,v),ref:r,type:N},z),T.createElement("span",{className:i.label},k,n,A))});const LN=Ft(Ede,{name:"MuiButton"})(Sde),KV=F4(T.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Tde=F4(T.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}));function Ade(t){return _V(t)||xV(t)||A4(t)||IV()}var Rde=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},QV=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.collapsedHeight,o=e.collapsedSize,l=o===void 0?"0px":o,u=e.component,c=u===void 0?"div":u,f=e.disableStrictModeCompat,d=f===void 0?!1:f,h=e.in,p=e.onEnter,m=e.onEntered,g=e.onEntering,v=e.onExit,b=e.onExited,w=e.onExiting,E=e.style,R=e.timeout,I=R===void 0?Lo.standard:R,D=e.TransitionComponent,N=D===void 0?s2:D,F=et(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),$=Vc(),z=T.useRef(),k=T.useRef(null),A=T.useRef(),y=typeof(s||l)=="number"?"".concat(s||l,"px"):s||l;T.useEffect(function(){return function(){clearTimeout(z.current)}},[]);var x=$.unstable_strictMode&&!d,S=T.useRef(null),C=on(r,x?S:void 0),P=function(H){return function(W,K){if(H){var ie=x?[S.current,W]:[W,K],Q=Vh(ie,2),te=Q[0],xe=Q[1];xe===void 0?H(te):H(te,xe)}}},M=P(function(Y,H){Y.style.height=y,p&&p(Y,H)}),B=P(function(Y,H){var W=k.current?k.current.clientHeight:0,K=au({style:E,timeout:I},{mode:"enter"}),ie=K.duration;if(I==="auto"){var Q=$.transitions.getAutoHeightDuration(W);Y.style.transitionDuration="".concat(Q,"ms"),A.current=Q}else Y.style.transitionDuration=typeof ie=="string"?ie:"".concat(ie,"ms");Y.style.height="".concat(W,"px"),g&&g(Y,H)}),L=P(function(Y,H){Y.style.height="auto",m&&m(Y,H)}),_=P(function(Y){var H=k.current?k.current.clientHeight:0;Y.style.height="".concat(H,"px"),v&&v(Y)}),U=P(b),G=P(function(Y){var H=k.current?k.current.clientHeight:0,W=au({style:E,timeout:I},{mode:"exit"}),K=W.duration;if(I==="auto"){var ie=$.transitions.getAutoHeightDuration(H);Y.style.transitionDuration="".concat(ie,"ms"),A.current=ie}else Y.style.transitionDuration=typeof K=="string"?K:"".concat(K,"ms");Y.style.height=y,w&&w(Y)}),O=function(H,W){var K=x?H:W;I==="auto"&&(z.current=setTimeout(K,A.current||0))};return T.createElement(N,fe({in:h,onEnter:M,onEntered:L,onEntering:B,onExit:_,onExited:U,onExiting:G,addEndListener:O,nodeRef:x?S:void 0,timeout:I==="auto"?null:I},F),function(Y,H){return T.createElement(c,fe({className:He(i.root,i.container,a,{entered:i.entered,exited:!h&&y==="0px"&&i.hidden}[Y]),style:fe({minHeight:y},E),ref:C},H),T.createElement("div",{className:i.wrapper,ref:k},T.createElement("div",{className:i.wrapperInner},n)))})});QV.muiSupportAuto=!0;const _de=Ft(Rde,{name:"MuiCollapse"})(QV);var Ide=T.createContext({});const ZV=Ide;var Cde=function(e){var r={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],r),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],r)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},Pde=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.defaultExpanded,o=s===void 0?!1:s,l=e.disabled,u=l===void 0?!1:l,c=e.expanded,f=e.onChange,d=e.square,h=d===void 0?!1:d,p=e.TransitionComponent,m=p===void 0?_de:p,g=e.TransitionProps,v=et(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),b=$4({controlled:c,default:o,name:"Accordion",state:"expanded"}),w=Vh(b,2),E=w[0],R=w[1],I=T.useCallback(function(k){R(!E),f&&f(k,!E)},[E,f,R]),D=T.Children.toArray(n),N=Ade(D),F=N[0],$=N.slice(1),z=T.useMemo(function(){return{expanded:E,disabled:u,toggle:I}},[E,u,I]);return T.createElement(k4,fe({className:He(i.root,a,E&&i.expanded,u&&i.disabled,!h&&i.rounded),ref:r,square:h},v),T.createElement(ZV.Provider,{value:z},F),T.createElement(m,fe({in:E,timeout:"auto"},g),T.createElement("div",{"aria-labelledby":F.props.id,id:F.props["aria-controls"],role:"region"},$)))});const kde=Ft(Cde,{name:"MuiAccordion"})(Pde);var Ode=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},Nde=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=et(e,["classes","className"]);return T.createElement("div",fe({className:He(n.root,i),ref:r},a))});const Lde=Ft(Ode,{name:"MuiAccordionDetails"})(Nde);var Dde=function(e){var r={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],r),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],r),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",r),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},Mde=T.forwardRef(function(e,r){var n=e.children,i=e.classes,a=e.className,s=e.expandIcon,o=e.focusVisibleClassName,l=e.IconButtonProps,u=l===void 0?{}:l,c=e.onClick,f=et(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),d=T.useContext(ZV),h=d.disabled,p=h===void 0?!1:h,m=d.expanded,g=d.toggle,v=function(w){g&&g(w),c&&c(w)};return T.createElement(I4,fe({focusRipple:!1,disableRipple:!0,disabled:p,component:"div","aria-expanded":m,className:He(i.root,a,p&&i.disabled,m&&i.expanded),focusVisibleClassName:He(i.focusVisible,i.focused,o),onClick:v,ref:r},f),T.createElement("div",{className:He(i.content,m&&i.expanded)},n),s&&T.createElement(ux,fe({className:He(i.expandIcon,m&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},u),s))});const $de=Ft(Dde,{name:"MuiAccordionSummary"})(Mde);var Fde={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},Bde=T.forwardRef(function(e,r){var n=e.autoFocus,i=e.checked,a=e.checkedIcon,s=e.classes,o=e.className,l=e.defaultChecked,u=e.disabled,c=e.icon,f=e.id,d=e.inputProps,h=e.inputRef,p=e.name,m=e.onBlur,g=e.onChange,v=e.onFocus,b=e.readOnly,w=e.required,E=e.tabIndex,R=e.type,I=e.value,D=et(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=$4({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),F=Vh(N,2),$=F[0],z=F[1],k=Gh(),A=function(M){v&&v(M),k&&k.onFocus&&k.onFocus(M)},y=function(M){m&&m(M),k&&k.onBlur&&k.onBlur(M)},x=function(M){var B=M.target.checked;z(B),g&&g(M,B)},S=u;k&&typeof S>"u"&&(S=k.disabled);var C=R==="checkbox"||R==="radio";return T.createElement(ux,fe({component:"span",className:He(s.root,o,$&&s.checked,S&&s.disabled),disabled:S,tabIndex:null,role:void 0,onFocus:A,onBlur:y,ref:r},D),T.createElement("input",fe({autoFocus:n,checked:i,defaultChecked:l,className:s.input,disabled:S,id:C&&f,name:p,onChange:x,readOnly:b,ref:h,required:w,tabIndex:E,type:R,value:I},d)),$?a:c)});const Ude=Ft(Fde,{name:"PrivateSwitchBase"})(Bde);var jde=function(e){return{root:{display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:e.palette.type==="light"?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:e.palette.type==="light"?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:ha(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:ha(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white,opacity:e.palette.type==="light"?.38:.3}}},zde=T.forwardRef(function(e,r){var n=e.classes,i=e.className,a=e.color,s=a===void 0?"secondary":a,o=e.edge,l=o===void 0?!1:o,u=e.size,c=u===void 0?"medium":u,f=et(e,["classes","className","color","edge","size"]),d=T.createElement("span",{className:n.thumb});return T.createElement("span",{className:He(n.root,i,{start:n.edgeStart,end:n.edgeEnd}[l],c==="small"&&n["size".concat(Pr(c))])},T.createElement(Ude,fe({type:"checkbox",icon:d,checkedIcon:d,classes:{root:He(n.switchBase,n["color".concat(Pr(s))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:r},f)),T.createElement("span",{className:n.track}))});const Vde=Ft(jde,{name:"MuiSwitch"})(zde),Yde=bV(Vde)(({theme:t})=>({width:42,height:24,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:22.5},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(13.5px)"}},"& .MuiSwitch-switchBase":{padding:3,"&.Mui-checked":{transform:"translateX(18px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"white"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:18,height:18,borderRadius:9,transition:t.transitions.create(["width"],{duration:200}),color:"#202333"},"& .MuiSwitch-track":{borderRadius:24/2,opacity:1,backgroundColor:"white",boxSizing:"border-box"}})),Gde="_flexrow_8tmdx_6",Hde="_flexcolumn_8tmdx_12",Wde="_social_8tmdx_23",hf={switch:"_switch_8tmdx_1",flexrow:Gde,flexcolumn:Hde,"coord-label":"_coord-label_8tmdx_18",social:Wde},qde=yV(t=>({paper:{backgroundColor:"#1a1c2b",color:"white",width:"60%",overflowX:"hidden",justifyContent:"space-between",[t.breakpoints.up("lg")]:{width:"20%"},[t.breakpoints.only("md")]:{width:"30%"},[t.breakpoints.only("sm")]:{width:"40%"},[t.breakpoints.only("xs")]:{width:"80%"}},input:{backgroundColor:"white",color:"#1a1c2b",borderRadius:"15px",padding:"9px",marginRight:"10%",marginTop:"1.5%",width:"100%"},coordBtn:{alignSelf:"flex-end",marginRight:"20px",backgroundColor:"#2fc1c1",color:"white"}}));function Kde({accessGps:t,showPosition:e,coordinate:r}){const[n,i]=T.useState(!1),[a,s]=T.useState(r?.lon),[o,l]=T.useState(r?.lat),[u,c]=T.useState(!1),f=qde();T.useEffect(()=>{u||(s(r?.lon),l(r?.lat))},[u,r]);const d=b=>{i(b)},h=b=>{c(b)},p=b=>{l(b.target.value)},m=b=>{s(b.target.value)},g=()=>{const b={coords:{latitude:Number(o),longitude:Number(a)}};e(b)},v=()=>{t()};return j.jsx("div",{style:{position:"fixed",right:0},children:j.jsx(Bue,{maxWidth:"lg",disableGutters:!0,children:j.jsxs(Mue,{children:[j.jsx(ux,{disableRipple:!0,"aria-label":"open drawer",onClick:()=>d(!0),style:{color:"white",marginTop:6},children:j.jsx(Tde,{fontSize:"large"})}),j.jsxs(Zce,{anchor:"right",open:n,classes:{paper:f.paper},children:[j.jsxs(NN,{children:[j.jsxs(NN,{display:"flex",style:{paddingBottom:"30px"},children:[j.jsxs(Ts,{variant:"h5",style:{display:"flex",margin:"15px"},children:[j.jsx("span",{children:"Spatial Browser"}),j.jsx("span",{style:{alignSelf:"flex-start",fontSize:"0.6rem"},children:"ALPHA"})]}),j.jsx(ux,{onClick:()=>d(!1),style:{color:"white",marginLeft:"auto"},children:j.jsx(KV,{})})]}),j.jsxs(yy,{component:"label",container:!0,alignItems:"center",justifyContent:"center",spacing:5,children:[j.jsx(yy,{item:!0,children:j.jsx(Ts,{children:"GPS"})}),j.jsx(yy,{item:!0,children:j.jsx(Yde,{checked:u,onChange:b=>h(b.target.checked)})}),j.jsx(yy,{item:!0,children:j.jsx(Ts,{children:"Manual"})})]}),j.jsxs("div",{className:hf.flexcolumn,children:[j.jsxs("div",{className:hf.flexrow,children:[j.jsx(Ts,{className:hf["coord-label"],children:"Latitude:"}),j.jsx(kN,{type:"number",size:"small",disabled:!u,id:"filled-basic",variant:"filled",value:o,onChange:p,InputProps:{classes:{input:f.input},disableUnderline:!0}})]}),j.jsxs("div",{className:hf.flexrow,children:[j.jsx(Ts,{className:hf["coord-label"],children:"Longitude:"}),j.jsx(kN,{type:"number",disabled:!u,id:"filled-basic",variant:"filled",value:a,onChange:m,InputProps:{classes:{input:f.input},disableUnderline:!0}})]}),u?j.jsx(LN,{onClick:()=>g(),className:f.coordBtn,variant:"contained",children:"Go"}):j.jsx(LN,{onClick:()=>v(),className:f.coordBtn,variant:"contained",children:"Refresh"})]})]}),j.jsxs("div",{className:hf.social,children:[j.jsx("a",{href:"https://geoweb.network/",target:"_blank",rel:"noreferrer",children:j.jsx("img",{src:"/assets/web.svg",alt:"Web",style:{width:30}})}),j.jsx("a",{href:"https://discord.com/invite/reXgPru7ck",target:"_blank",rel:"noreferrer",children:j.jsx("img",{src:"/assets/discord.svg",alt:"Discord",style:{width:30}})}),j.jsx("a",{href:"https://twitter.com/thegeoweb",target:"_blank",rel:"noreferrer",children:j.jsx("img",{src:"/assets/twitter.svg",alt:"Twitter",style:{width:30}})})]})]})]})})})}const Qde=yV(t=>({root:{width:"100%",background:"#202333",color:"white",boxShadow:"none",border:0,overflow:"hidden","&.Mui-disabled":{backgroundColor:"#202333"},"&.Mui-expanded":{zIndex:1003}},expanded:{background:"#202333",color:"white",flexDirection:"column"},content:{overflow:"hidden"},heading:{fontFamily:"Abel",fontStyle:"normal",fontWeight:"bold",fontSize:"2rem",alignItems:"center",color:"white",maxWidth:"95%"},subHeading:{fontFamily:"Abel",fontStyle:"normal",fontSize:"1.7rem",textAlign:"left",color:"white"},typography:{fontFamily:"Abel",fontStyle:"normal",fontSize:"1.3rem",color:"white",textAlign:"left"},link:{color:"white",textDecoration:"none","&:hover":{textDecoration:"underline",textDecorationThickness:"0.1rem"}}}));function DN({gwInfo:t,gwContentName:e,gwContentUrl:r}){const n=Qde();return j.jsxs(kde,{className:n.root,disabled:!t,children:[j.jsx($de,{classes:{content:n.content},"aria-controls":"panel1a-content",id:"panel1a-header",children:j.jsx(Ts,{noWrap:!0,className:n.heading,children:e})}),t&&j.jsxs(Lde,{className:n.expanded,children:[j.jsx(Ts,{noWrap:!0,className:n.subHeading,children:r&&j.jsx("a",{className:n.link,href:r,target:"_blank",rel:"noreferrer",children:r})}),j.jsxs(Ts,{noWrap:!0,className:n.typography,children:["Parcel ID: ",t.id]}),j.jsxs(Ts,{noWrap:!0,className:n.typography,children:["Licensee: ",t.licensee]}),j.jsxs(Ts,{noWrap:!0,className:n.typography,children:["For Sale Price: ",t.value]})]})]})}const Zde={"title-bar":"_title-bar_1fb60_1","gps-location":"_gps-location_1fb60_7"};function oI({accessGps:t,coordinate:e,showPosition:r,loading:n,parcelId:i,gwInfo:a,basicProfile:s}){return j.jsxs("header",{className:Zde["title-bar"],children:[n?null:i?j.jsx(DN,{gwInfo:a,gwContentName:s?.name??`Parcel ${i}`,gwContentUrl:s?.url?s.url:""}):j.jsx(DN,{gwInfo:null,gwContentName:"No Parcel Found"}),j.jsx(Kde,{coordinate:e,showPosition:r,accessGps:t})]})}const Xde="_wrapper_yyoxy_1",kd={wrapper:Xde,"avail-img":"_avail-img_yyoxy_14","rect-box":"_rect-box_yyoxy_18","empty-txt":"_empty-txt_yyoxy_25"};function XV(){const t=`No one has claimed a land parcel that includes your current location!
    Head over to `,e="https://geoweb.land/",r=" to claim it yourself.";return j.jsxs("div",{className:kd.wrapper,children:[j.jsx("img",{src:"/assets/available-land.png",alt:"available",className:kd["avail-img"]}),j.jsxs("div",{className:kd["empty-txt"],children:[j.jsx("span",{children:t}),j.jsx("a",{href:e,target:"_blank",rel:"noreferrer",children:e}),j.jsx("span",{children:r})]})]})}function Yb({promptType:t}){const e=`Enjoy the beauty of empty space...The current land parcel holder has not added ${t} content here yet.`;return j.jsxs("div",{className:kd.wrapper,children:[j.jsx("div",{className:kd["rect-box"]}),j.jsx("span",{className:kd["empty-txt"],children:e})]})}const Jde="_wrapper_190ie_1",ehe="_gwIframe_190ie_19",the="_off_190ie_39",rhe="_on_190ie_43",by={wrapper:Jde,"full-screen":"_full-screen_190ie_8",gwIframe:ehe,"full-screen-btn":"_full-screen-btn_190ie_26",off:the,on:rhe};function nhe(t){const{url:e}=t,[r,n]=T.useState(!1);T.useEffect(()=>{["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","fullscreenerror","webkitfullscreenerror","mozfullscreenerror"].forEach(a=>document.documentElement.addEventListener(a,()=>n(s=>!s)))},[]);const i=()=>{const a=document,s=document.documentElement;!a.fullscreenElement&&!a.webkitFullscreenElement&&!a.mozFullScreenElement?s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():n(!r):(a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement)&&(a.exitFullscreen?a.exitFullscreen():a.webkitExitFullscreen?a.webkitExitFullscreen():a.mozCancelFullScreen&&a.cancelFullScreen())};return e?j.jsxs("div",{className:by.wrapper,children:[j.jsx("iframe",{title:e,className:by[r?"full-screen":"gwIframe"],src:e,allow:"fullscreen;geolocation;camera;gyroscope;accelerometer;magnetometer;xr-spatial-tracking;microphone;clipboard-write;"}),j.jsx("button",{className:`${by["full-screen-btn"]} ${by[r?"off":"on"]}`,onClick:i,children:r?j.jsx(KV,{style:{color:"#fff"}}):j.jsx("img",{style:{width:22},src:"/assets/fullscreen.svg",alt:"full screen button"})})]}):j.jsx(Yb,{promptType:"web"})}const ihe="modulepreload",ahe=function(t){return"/"+t},MN={},JV=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=ahe(a),a in MN)return;MN[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":ihe,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},she="_label_1nsut_1",ohe={label:she};function lhe({label:t}){return j.jsx("div",{className:ohe.label,children:j.jsx("span",{children:t})})}const uhe="_gallery_1spw3_1",che="_loading_1spw3_62",vs={gallery:uhe,"image-wrapper":"_image-wrapper_1spw3_9","player-wrapper":"_player-wrapper_1spw3_17","image-content":"_image-content_1spw3_26","clk-left":"_clk-left_1spw3_31","clk-right":"_clk-right_1spw3_47",loading:che,"ar-only":"_ar-only_1spw3_70"};class HS extends Error{constructor(e,r,n,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,this.data=i,this.internal=n}}const fhe="stream open failed",eY="stream is offline",dhe="stream is waiting for data",B4="shutting down since this session is not allowed to view this stream",tY="metadata indicates that webrtc playback contains bframes",rY=t=>t.message.toLowerCase().includes(fhe)||t.message.toLowerCase().includes(dhe)||t.message.toLowerCase().includes(eY),nY=t=>t.message.toLowerCase().includes(B4),hhe=t=>t.message.toLowerCase().includes(tY),phe=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(s,o,l)=>{let u=s;if(o){const c=l?.equalityFn||Object.is;let f=s(n.getState());u=d=>{const h=s(d);if(!c(f,h)){const p=f;o(f=h,p)}},l?.fireImmediately&&o(f,f)}return i(u)},t(e,r,n)},iY=phe;function U4(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const s=l=>l===null?null:JSON.parse(l,e?.reviver),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,e?.replacer)),removeItem:i=>r.removeItem(i)}}const Cm=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Cm(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Cm(n)(r)}}}},mhe=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},s=!1;const o=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...g)},n,i);const c=Cm(a.serialize),f=()=>{const g=a.partialize({...n()});let v;const b=c({state:g,version:a.version}).then(w=>u.setItem(a.name,w)).catch(w=>{v=w});if(v)throw v;return b},d=i.setState;i.setState=(g,v)=>{d(g,v),f()};const h=t((...g)=>{r(...g),f()},n,i);let p;const m=()=>{var g;if(!u)return;s=!1,o.forEach(b=>b(n()));const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,n()))||void 0;return Cm(u.getItem.bind(u))(a.name).then(b=>{if(b)return a.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return a.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return p=a.merge(b,(w=n())!=null?w:h),r(p,!0),f()}).then(()=>{v?.(p,void 0),s=!0,l.forEach(b=>b(p))}).catch(b=>{v?.(void 0,b)})};return i.persist={setOptions:g=>{a={...a,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},m(),p||h},ghe=(t,e)=>(r,n,i)=>{let a={storage:U4(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...e},s=!1;const o=new Set,l=new Set;let u=a.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...m)},n,i);const c=()=>{const m=a.partialize({...n()});return u.setItem(a.name,{state:m,version:a.version})},f=i.setState;i.setState=(m,g)=>{f(m,g),c()};const d=t((...m)=>{r(...m),c()},n,i);let h;const p=()=>{var m,g;if(!u)return;s=!1,o.forEach(b=>{var w;return b((w=n())!=null?w:d)});const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,(m=n())!=null?m:d))||void 0;return Cm(u.getItem.bind(u))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate)return a.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var w;return h=a.merge(b,(w=n())!=null?w:d),r(h,!0),c()}).then(()=>{v?.(h,void 0),h=n(),s=!0,l.forEach(b=>b(h))}).catch(b=>{v?.(void 0,b)})};return i.persist={setOptions:m=>{a={...a,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},a.skipHydration||p(),h||d},vhe=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),mhe(t,e)):ghe(t,e),aY=vhe,$N=t=>{let e;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),r.forEach(d=>d(e,f))}},i=()=>e,o={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,i,o),o},sY=t=>t?$N(t):$N,yhe={getItem:t=>"",setItem:(t,e)=>{},removeItem:t=>{}};function j4({storage:t=yhe,key:e="livepeer"}){return{getItem:async(r,n=null)=>{try{const i=await t.getItem(`${e}.${r}`);return i?JSON.parse(i):n}catch(i){return console.warn(i),n}},setItem:async(r,n)=>{if(n===null)await t.removeItem(`${e}.${r}`);else try{await t.setItem(`${e}.${r}`,JSON.stringify(n))}catch(i){console.error(i)}},removeItem:async r=>t.removeItem(`${e}.${r}`)}}const bhe="livepeer-store";class xhe{constructor({provider:e,storage:r=j4({})}){this.store=sY(iY(aY(()=>({provider:e()}),{name:bhe,storage:U4(()=>r),partialize:n=>({}),version:1}))),this.config={provider:e,storage:r},this.storage=r}get error(){return this.store.getState().error}get provider(){return this.store.getState().provider}get subscribe(){return this.store.subscribe}setState(e){const r=typeof e=="function"?e(this.store.getState()):e;this.store.setState(r,!0)}clearState(){this.setState(e=>({...e,data:void 0,error:void 0}))}async destroy(){this.clearState(),this.store.destroy()}}let lI=null;function whe(t){const e=new xhe(t);return lI=e,e}function oY(){if(!lI)throw new Error("No livepeer client found.");return lI}const Ehe="@livepeer/core@1.8.3",She="@livepeer/react@2.8.3",The="@livepeer/react-native@1.8.2",Fa={core:Ehe,react:She,reactNative:The};function Pm(){return oY().provider}const Ahe={name:"Livepeer Studio",baseUrl:"https://livepeer.studio/api",webrtcIngestBaseUrl:"https://webrtc.livepeer.studio/webrtc"};function Rhe(t){const e=oY(),r=async()=>t(Pm());return e.subscribe(({provider:i})=>i,r)}function _he(t){return Pm().createAsset(t)}function Ihe(t){return Pm().getPlaybackInfo(t)}const lY=(t,...e)=>{try{const r=Object.keys(t);return e.filter(n=>r.includes(n)).reduce((n,i)=>({...n,[i]:t[i]}),{})}catch{throw new Error("Could not pick keys for object.")}};function Iu(t,...e){try{return Object.keys(t).filter(n=>!e.some(i=>String(i)===n)).reduce((n,i)=>({...n,[i]:t[i]}),{})}catch{throw new Error("Could not omit keys for object.")}}const WS=t=>{for(const e of Object.keys(FN))if(FN[e]?.some(r=>r===t))return e;return null},FN={"application/mp4":["mp4s","m4p"],"application/ogg":["ogx"],"application/vnd.apple.mpegurl":["m3u8"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.dts":["dts"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"audio/xm":["xm"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/vp8":["vp8"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"]},BN=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,UN=/\.(mp4|ogv|webm|mov|m4v|avi|m3u8)($|\?)/i,Che=/data:video/i,jN=/\.(m3u8)($|\?)/i,Phe=/(webrtc|sdp)/i,khe=/data:(.+?);base64/,uY=t=>{const e=t.match(khe);return Phe.test(t)?{type:"webrtc",src:t,mime:"video/h264"}:jN.test(t)?{type:"hls",src:t,mime:WS(jN.exec(t)?.[1]??"")}:UN.test(t)?{type:"video",src:t,mime:WS(UN.exec(t)?.[1]??"")}:BN.test(t)?{type:"audio",src:t,mime:WS(BN.exec(t)?.[1]??"")}:Che.test(t)?{type:"video",src:t,mime:e?e[1]:"video/mp4"}:null},zN=5e3,z4=1,Ohe=3e3,Nhe="hls",Lhe="webrtc",Dhe="recordings",Mhe=t=>{const r=new URL(t).pathname.split("/"),n=r.includes(Nhe),i=r.includes(Lhe),a=r.includes(Dhe);return i?r?.[(r?.length??0)-1]:a||n?r?.[(r?.length??0)-2]??null:null},$he=["_lastInteraction","_requestSeekDiff","_requestedFullscreenLastTime","_requestedPictureInPictureLastTime","_requestedPlayPauseLastTime","_requestedRangeToSeekTo","_playLastTime","_setVolume","_updateBuffered","_updateLastInteraction","_updateMediaStream","_updateSource","setIsVolumeChangeSupported","setError","setWebsocketMetadata","setStalled","setWaiting","onProgress","onDurationChange","onPlay","onPause"],cx=t=>Iu(t,...$he),Od=t=>t&&!isNaN(t)&&isFinite(t)?t:0,qS=(t,e)=>Math.min(Math.max(0,Od(t)),Od(e)?Od(e)-.01:0),KS=t=>Math.min(Math.max(0,Od(t)),1),cY=({element:t,device:e,storage:r,mediaProps:n,opts:i})=>{const a=sY(iY(aY((s,o)=>({_element:t??null,canPlay:!1,hidden:!1,live:!1,ingestUrl:n.ingestUrl??null,playbackId:n.playbackId??null,src:null,autoplay:!!n.autoPlay,muted:!!n.muted,priority:!!n.priority,preload:n.priority?"full":"none",viewerId:n.viewerId??"",creatorId:n.creatorId??"",deviceIds:null,hasPlayed:!1,playing:!1,fullscreen:!1,pictureInPicture:!1,waiting:!1,stalled:!1,loading:!1,playbackRate:1,_mediaStream:null,video:null,device:e,progress:0,duration:0,buffered:0,volume:KS(i?.defaultVolume??z4),isVolumeChangeSupported:!1,_lastInteraction:Date.now(),_requestedRangeToSeekTo:0,_requestedFullscreenLastTime:Date.now(),_requestedPictureInPictureLastTime:Date.now(),_requestedPlayPauseLastTime:0,_playLastTime:0,_updateMediaStream:(l,u)=>s(({deviceIds:c})=>({_mediaStream:l,...u?.video?{video:!0}:{},deviceIds:{...c,...u?.audio?{audio:u.audio}:{},...u?.video?{video:u.video}:{}}})),setHidden:l=>s(({playing:u})=>({hidden:u?l:!1})),_updateLastInteraction:()=>s(()=>({_lastInteraction:Date.now(),hidden:!1})),_updateSource:l=>s(({playbackId:u})=>({src:uY(l),...u?{}:{playbackId:Mhe(l)}})),onCanPlay:()=>s(()=>({canPlay:!0,loading:!1})),onPlay:()=>s(()=>({playing:!0,hasPlayed:!0,stalled:!1,waiting:!1,_playLastTime:Date.now()})),onPause:()=>s(()=>({playing:!1,hidden:!1,stalled:!1,waiting:!1})),togglePlay:l=>{const{hidden:u,setHidden:c,device:f}=a.getState();!l&&u&&f.isMobile?c(!1):s(()=>({_requestedPlayPauseLastTime:Date.now(),_lastInteraction:Date.now()}))},toggleVideo:()=>s(({video:l})=>({video:!l})),onProgress:l=>s(()=>({progress:Od(l),waiting:!1,stalled:!1})),requestSeek:l=>s(({duration:u})=>({_requestedRangeToSeekTo:qS(l,u),progress:qS(l,u)})),onDurationChange:l=>s(({live:u})=>({duration:l,live:l===Number.POSITIVE_INFINITY?!0:u})),setWebsocketMetadata:l=>s(()=>({metadata:l})),_updateBuffered:l=>s(()=>({buffered:l})),_requestSeekDiff:l=>s(({progress:u,duration:c})=>({_requestedRangeToSeekTo:qS(Od(u)+l/1e3,c)})),requestSeekBack:(l=zN)=>o()._requestSeekDiff(-l),requestSeekForward:(l=zN)=>o()._requestSeekDiff(l),setSize:l=>s(()=>({size:l})),setWaiting:l=>s(()=>({waiting:l})),setError:l=>s(()=>({error:l})),setStalled:l=>s(()=>({stalled:l})),setLoading:l=>s(()=>({loading:l})),setFullscreen:l=>s(()=>({fullscreen:l})),requestToggleFullscreen:()=>s(()=>({_requestedFullscreenLastTime:Date.now()})),setPictureInPicture:l=>s(()=>({pictureInPicture:l})),requestTogglePictureInPicture:()=>s(()=>({_requestedPictureInPictureLastTime:Date.now()})),setLive:l=>s(()=>({live:l})),requestVolume:l=>s(({volume:u})=>({volume:l===0?u:KS(l),muted:l===0})),_setVolume:l=>s(()=>({volume:KS(l)})),requestToggleMute:()=>s(({muted:l})=>({muted:!l})),setIsVolumeChangeSupported:l=>s(()=>({isVolumeChangeSupported:l}))}),{name:"livepeer-player",version:1,partialize:({volume:s,playbackRate:o})=>({volume:s,playbackRate:o}),storage:U4(()=>r)})));return a},VN=t=>{if(typeof t=="object"&&t!==null){if(typeof Object.getPrototypeOf=="function"){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}return Object.prototype.toString.call(t)==="[object Object]"}return!1},Bl=(...t)=>t.reduce((e,r)=>{if(Array.isArray(r))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(r).forEach(n=>{["__proto__","constructor","prototype"].includes(n)||(Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=Bl.options.mergeArrays?Array.from(new Set(e[n].concat(r[n]))):r[n]:VN(e[n])&&VN(r[n])?e[n]=Bl(e[n],r[n]):e[n]=r[n])}),e},{}),fY={mergeArrays:!0};Bl.options=fY;Bl.withOptions=(t,...e)=>{Bl.options={mergeArrays:!0,...t};const r=Bl(...e);return Bl.options=fY,r};const QS=Bl;var uI={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Cn<"u"&&Cn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(x){return x&&DataView.prototype.isPrototypeOf(x)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(x){return x&&c.indexOf(Object.prototype.toString.call(x))>-1};function d(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function h(x){return typeof x!="string"&&(x=String(x)),x}function p(x){var S={next:function(){var C=x.shift();return{done:C===void 0,value:C}}};return l.iterable&&(S[Symbol.iterator]=function(){return S}),S}function m(x){this.map={},x instanceof m?x.forEach(function(S,C){this.append(C,S)},this):Array.isArray(x)?x.forEach(function(S){this.append(S[0],S[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(S){this.append(S,x[S])},this)}m.prototype.append=function(x,S){x=d(x),S=h(S);var C=this.map[x];this.map[x]=C?C+", "+S:S},m.prototype.delete=function(x){delete this.map[d(x)]},m.prototype.get=function(x){return x=d(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(d(x))},m.prototype.set=function(x,S){this.map[d(x)]=h(S)},m.prototype.forEach=function(x,S){for(var C in this.map)this.map.hasOwnProperty(C)&&x.call(S,this.map[C],C,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(S,C){x.push(C)}),p(x)},m.prototype.values=function(){var x=[];return this.forEach(function(S){x.push(S)}),p(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(S,C){x.push([C,S])}),p(x)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function v(x){return new Promise(function(S,C){x.onload=function(){S(x.result)},x.onerror=function(){C(x.error)}})}function b(x){var S=new FileReader,C=v(S);return S.readAsArrayBuffer(x),C}function w(x){var S=new FileReader,C=v(S);return S.readAsText(x),C}function E(x){for(var S=new Uint8Array(x),C=new Array(S.length),P=0;P<S.length;P++)C[P]=String.fromCharCode(S[P]);return C.join("")}function R(x){if(x.slice)return x.slice(0);var S=new Uint8Array(x.byteLength);return S.set(new Uint8Array(x)),S.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:l.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:l.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():l.arrayBuffer&&l.blob&&u(x)?(this._bodyArrayBuffer=R(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||f(x))?this._bodyArrayBuffer=R(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var x=g(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=g(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(b)}),this.text=function(){var x=g(this);if(x)return x;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function N(x){var S=x.toUpperCase();return D.indexOf(S)>-1?S:x}function F(x,S){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var C=S.body;if(x instanceof F){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,S.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!C&&x._bodyInit!=null&&(C=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new m(S.headers)),this.method=N(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(C),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function $(x){var S=new FormData;return x.trim().split("&").forEach(function(C){if(C){var P=C.split("="),M=P.shift().replace(/\+/g," "),B=P.join("=").replace(/\+/g," ");S.append(decodeURIComponent(M),decodeURIComponent(B))}}),S}function z(x){var S=new m,C=x.replace(/\r?\n[\t ]+/g," ");return C.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var M=P.split(":"),B=M.shift().trim();if(B){var L=M.join(":").trim();S.append(B,L)}}),S}I.call(F.prototype);function k(x,S){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new m(S.headers),this.url=S.url||"",this._initBody(x)}I.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var x=new k(null,{status:0,statusText:""});return x.type="error",x};var A=[301,302,303,307,308];k.redirect=function(x,S){if(A.indexOf(S)===-1)throw new RangeError("Invalid status code");return new k(null,{status:S,headers:{location:x}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(S,C){this.message=S,this.name=C;var P=Error(S);this.stack=P.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function y(x,S){return new Promise(function(C,P){var M=new F(x,S);if(M.signal&&M.signal.aborted)return P(new s.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function L(){B.abort()}B.onload=function(){var U={status:B.status,statusText:B.statusText,headers:z(B.getAllResponseHeaders()||"")};U.url="responseURL"in B?B.responseURL:U.headers.get("X-Request-URL");var G="response"in B?B.response:B.responseText;setTimeout(function(){C(new k(G,U))},0)},B.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){P(new s.DOMException("Aborted","AbortError"))},0)};function _(U){try{return U===""&&o.location.href?o.location.href:U}catch{return U}}B.open(M.method,_(M.url),!0),M.credentials==="include"?B.withCredentials=!0:M.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(l.blob?B.responseType="blob":l.arrayBuffer&&M.headers.get("Content-Type")&&M.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(B.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof m)?Object.getOwnPropertyNames(S.headers).forEach(function(U){B.setRequestHeader(U,h(S.headers[U]))}):M.headers.forEach(function(U,G){B.setRequestHeader(G,U)}),M.signal&&(M.signal.addEventListener("abort",L),B.onreadystatechange=function(){B.readyState===4&&M.signal.removeEventListener("abort",L)}),B.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return y.polyfill=!0,o.fetch||(o.fetch=y,o.Headers=m,o.Request=F,o.Response=k),s.Headers=m,s.Request=F,s.Response=k,s.fetch=y,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(uI,uI.exports);var Fhe=uI.exports;const Gb=Pi(Fhe),Bhe=["livepeer","livepeercdn","lp-playback"],Uhe=async(t,e,r)=>{try{const i=new URL(e).host.split("."),a=Bhe.includes(i?.[i.length-2]??""),s=i?.[i?.length-1]??null,o=s==="com"||s==="studio"?"studio":s==="fun"?"fun:20443":s==="monster"?"monster":null;if(t&&a&&o)try{const u=(await Gb(`https://playback.livepeer.${o}/json_video+${t}.js`))?.url?.replace("https:","wss:"),c=u?new URL(u):null;return c&&r&&c.searchParams.set("tkn",r),c?.toString?.()??null}catch(l){console.log("Could not fetch metrics reporting URL.",l)}}catch(n){return console.error(n?.message),null}return null};class jhe{active=!1;values=[];score=null;averagingSteps=20;constructor(e){this.store=e}init(){this.active||(this.values=[],this.score=null,this.active=!0)}reset(){this.active?this.values=[]:this.init()}destroy(){this.active&&(this.values=[],this.score=null,this.active=!1)}calculateScore(){if(this.active){const e=this.values.length>0?this.values[this.values.length-1]:void 0,r={clockTime:Date.now()*.001,mediaTime:this.store.getState().progress,score:e?this.valueToScore(e):0};if(this.values.push(r),this.values.length<2)return null;const n=this.values[0];if(n!==void 0){const i=this.valueToScore(n,r);return this.values.length>this.averagingSteps&&this.values.shift(),this.score=Math.max(i,r.score),Math.round(this.score*10)/10}}return null}valueToScore(e,r){const n=this?.store?.getState?.()?.playbackRate??1;return(r?.mediaTime??this.store.getState().progress-e.mediaTime)/(r?.clockTime??Date.now()*.001-e.clockTime)/n}}class ZS{totalTime=0;countStarts=0;startTime=0;start(){this.startTime=Date.now(),this.countStarts++}stop(){this.totalTime+=this.startTime>0?Date.now()-this.startTime:0,this.startTime=0}getTotalTime(){return this.totalTime+=this.startTime>0?Date.now()-this.startTime:0,this.startTime=this.startTime>0?Date.now():0,this.totalTime}getCountStarts(){return this.countStarts}}function zhe(){try{return typeof window<"u"&&window.self!==window.top}catch{return!0}}class Vhe{requestedPlayTime=0;firstFrameTime=0;retryCount=0;connected=!1;previousMetrics=null;timeWaiting=new ZS;timeStalled=new ZS;timeUnpaused=new ZS;constructor(e){const r=e.getState();this.store=e;const n=typeof window<"u"?window?.location?.href??"":"",i=zhe()&&typeof document<"u"&&document?.referrer||n,a=r?.src?.type??"unknown",s=r?.device.version??"unknown";this.currentMetrics={autoplay:r.priority&&r.autoplay?"autoplay":r.preload==="full"?"preload-full":r.preload==="metadata"?"preload-metadata":"standard",duration:null,firstPlayback:0,nError:0,nStalled:0,nWaiting:0,pageUrl:i,playbackScore:null,player:`${a}-${s}`,sourceType:r?.src?.mime??"unknown",sourceUrl:r?.src?.src??null,playerHeight:null,playerWidth:null,preloadTime:0,timeStalled:0,timeUnpaused:0,timeWaiting:0,ttff:0,uid:r.viewerId,userAgent:String(r?.device?.userAgent??"").replace(/\\|"/gm,""),videoHeight:null,videoWidth:null},this.destroy=e.subscribe((o,l)=>{if(this.requestedPlayTime===0&&o._playLastTime!==0&&(this.requestedPlayTime=Math.max(o._playLastTime-XS,0)),o.src?.src!==l.src?.src){const u=o?.src?.type??"unknown",c=o?.device.version??"unknown";this.currentMetrics.player=`${u}-${c}`,this.currentMetrics.sourceType=o.src?.mime??"unknown",this.currentMetrics.sourceUrl=o.src?.src??null}o.playing!==l.playing&&(o.playing?(this.timeStalled.stop(),this.timeWaiting.stop(),this.timeUnpaused.start()):this.timeUnpaused.stop()),o.progress!==l.progress&&!this.timeUnpaused.startTime&&(this.timeStalled.stop(),this.timeWaiting.stop(),this.timeUnpaused.start()),o.stalled!==l.stalled&&o.stalled&&(this.timeStalled.start(),this.timeUnpaused.stop()),o.waiting!==l.waiting&&o.waiting&&(this.timeWaiting.start(),this.timeUnpaused.stop())})}addError(e){this.currentMetrics.nError++,this.currentMetrics.lastError=e}getFirstPlayback(){return this.currentMetrics.firstPlayback}setFirstPlayback(){this.currentMetrics.firstPlayback=Date.now()-XS}getFirstFrameTime(){return this.firstFrameTime}setFirstFrameTime(){this.firstFrameTime=Date.now()-XS}setPlaybackScore(e){this.currentMetrics.playbackScore=e}setConnected(e){this.connected=e}getMetrics(){const e={...this.currentMetrics,playerHeight:this.store.getState().size?.container?.height??null,playerWidth:this.store.getState().size?.container?.width??null,videoWidth:this.store.getState().size?.media?.width??null,videoHeight:this.store.getState().size?.media?.height??null,duration:this.store.getState().duration,nWaiting:this.timeWaiting.getCountStarts(),nStalled:this.timeStalled.getCountStarts(),timeWaiting:this.timeWaiting.getTotalTime(),timeStalled:this.timeStalled.getTotalTime(),timeUnpaused:this.timeUnpaused.getTotalTime(),preloadTime:this.requestedPlayTime,ttff:this.firstFrameTime>0&&this.requestedPlayTime>0?Math.max(this.firstFrameTime-this.requestedPlayTime,0):0},r=this.previousMetrics;return this.previousMetrics=e,{current:e,previous:r}}}const Yhe=()=>{try{return Math.random().toString(16).substring(2)}catch{}return"none"},Ghe=Yhe(),XS=Date.now();function Hhe(t,e){const r={metrics:null,destroy:()=>{}};if(!t)return r;if(!WebSocket)return console.log("Environment does not support WebSocket"),r;let n,i=null,a=!0;const s=new Vhe(t),o=new jhe(t),l=()=>{if(!a||!n)return;const f=o.calculateScore();f!==null&&s.setPlaybackScore(f);const d=s.getMetrics(),h={};let p;for(p in d.current){const m=d.current[p];m!==d?.previous?.[p]&&(h[p]=m)}Object.keys(h).length>0&&Whe(n,h),i=setTimeout(function(){l()},1e3)};let u=null;const c=t.subscribe(f=>{if(f?.playbackId&&f?.playbackId!==u&&f?.src?.src&&f._element){const d=f.playbackId,p=f.src.src;u=d;try{const m=async(g=0)=>{const v=await Uhe(d,p,Ghe);if(v){const b=new WebSocket(v);return b.addEventListener("open",()=>{l()}),b.addEventListener("message",w=>{try{if(w?.data){const E=JSON.parse(w.data);E?.error&&t.getState().live&&e?.(new Error(E.error)),(E?.meta?.bframes||E?.meta?.buffer_window)&&t.getState().setWebsocketMetadata({bframes:E?.meta?.bframes?Number(E?.meta?.bframes):void 0,bufferWindow:E?.meta?.buffer_window?Number(E?.meta?.buffer_window):void 0})}}catch{console.warn("Failed to parse metadata from websocket.")}}),b.addEventListener("close",w=>{i&&(clearTimeout(i),i=null,a=!1),w.code!==3077&&setTimeout(function(){m(g++).then(E=>{n=E})},Math.pow(2,g)*1e3)}),b}return null};m().then(g=>{n=g}).catch(g=>{console.error(g),e?.(g)})}catch(m){console.error(m)}}});try{const f=t.subscribe((p,m)=>{p.playing!==m.playing&&s.getFirstPlayback()===0&&s.setFirstPlayback(),p.progress!==m.progress&&s.getFirstFrameTime()===0&&s.setFirstFrameTime(),p.error!==m.error&&p.error&&s.addError(p.error??"unknown")}),d=t.subscribe((p,m)=>{(p.playing!==m.playing&&p.playing||p.loading!==m.loading&&p.loading)&&o.init(),p._requestedRangeToSeekTo!==m._requestedRangeToSeekTo&&o.reset(),p.playing!==m.playing&&!p.playing&&o.destroy()});return{metrics:s,destroy:()=>{a=!1,c?.(),d?.(),f?.(),o?.destroy?.(),s?.destroy?.(),i&&clearTimeout(i),n?.close(3077)}}}catch(f){console.error(f)}return r}function Whe(t,e){t.readyState===t.OPEN&&t.send(JSON.stringify(e))}const Qr=[{key:"16to9",value:"16 / 9",numeric:16/9},{key:"1to1",value:"1 / 1",numeric:1/1},{key:"9to16",value:"9 / 16",numeric:9/16},{key:"4to5",value:"4 / 5",numeric:4/5},{key:"21to9",value:"21 / 9",numeric:21/9}],dY="3.7.5",qhe=dY,Khe=typeof atob=="function",Qhe=typeof btoa=="function",Hh=typeof Buffer=="function",YN=typeof TextDecoder=="function"?new TextDecoder:void 0,GN=typeof TextEncoder=="function"?new TextEncoder:void 0,Zhe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fp=Array.prototype.slice.call(Zhe),xy=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(fp),Xhe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,In=String.fromCharCode.bind(String),HN=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),hY=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),pY=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),mY=t=>{let e,r,n,i,a="";const s=t.length%3;for(let o=0;o<t.length;){if((r=t.charCodeAt(o++))>255||(n=t.charCodeAt(o++))>255||(i=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,a+=fp[e>>18&63]+fp[e>>12&63]+fp[e>>6&63]+fp[e&63]}return s?a.slice(0,s-3)+"===".substring(s):a},V4=Qhe?t=>btoa(t):Hh?t=>Buffer.from(t,"binary").toString("base64"):mY,cI=Hh?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(In.apply(null,t.subarray(n,n+4096)));return V4(r.join(""))},Hb=(t,e=!1)=>e?hY(cI(t)):cI(t),Jhe=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?In(192|e>>>6)+In(128|e&63):In(224|e>>>12&15)+In(128|e>>>6&63)+In(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return In(240|e>>>18&7)+In(128|e>>>12&63)+In(128|e>>>6&63)+In(128|e&63)}},e0e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,gY=t=>t.replace(e0e,Jhe),WN=Hh?t=>Buffer.from(t,"utf8").toString("base64"):GN?t=>cI(GN.encode(t)):t=>V4(gY(t)),Nd=(t,e=!1)=>e?hY(WN(t)):WN(t),qN=t=>Nd(t,!0),t0e=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,r0e=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return In((r>>>10)+55296)+In((r&1023)+56320);case 3:return In((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return In((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},vY=t=>t.replace(t0e,r0e),yY=t=>{if(t=t.replace(/\s+/g,""),!Xhe.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let a=0;a<t.length;)e=xy[t.charAt(a++)]<<18|xy[t.charAt(a++)]<<12|(n=xy[t.charAt(a++)])<<6|(i=xy[t.charAt(a++)]),r+=n===64?In(e>>16&255):i===64?In(e>>16&255,e>>8&255):In(e>>16&255,e>>8&255,e&255);return r},Y4=Khe?t=>atob(pY(t)):Hh?t=>Buffer.from(t,"base64").toString("binary"):yY,bY=Hh?t=>HN(Buffer.from(t,"base64")):t=>HN(Y4(t).split("").map(e=>e.charCodeAt(0))),xY=t=>bY(wY(t)),n0e=Hh?t=>Buffer.from(t,"base64").toString("utf8"):YN?t=>YN.decode(bY(t)):t=>vY(Y4(t)),wY=t=>pY(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),fI=t=>n0e(wY(t)),i0e=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},EY=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),SY=function(){const t=(e,r)=>Object.defineProperty(String.prototype,e,EY(r));t("fromBase64",function(){return fI(this)}),t("toBase64",function(e){return Nd(this,e)}),t("toBase64URI",function(){return Nd(this,!0)}),t("toBase64URL",function(){return Nd(this,!0)}),t("toUint8Array",function(){return xY(this)})},TY=function(){const t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,EY(r));t("toBase64",function(e){return Hb(this,e)}),t("toBase64URI",function(){return Hb(this,!0)}),t("toBase64URL",function(){return Hb(this,!0)})},a0e=()=>{SY(),TY()},s0e={version:dY,VERSION:qhe,atob:Y4,atobPolyfill:yY,btoa:V4,btoaPolyfill:mY,fromBase64:fI,toBase64:Nd,encode:Nd,encodeURI:qN,encodeURL:qN,utob:gY,btou:vY,decode:fI,isValid:i0e,fromUint8Array:Hb,toUint8Array:xY,extendString:SY,extendUint8Array:TY,extendBuiltins:a0e};var o0e=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},G4={},l0e=Object.prototype.hasOwnProperty,u0e;function KN(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function QN(t){try{return encodeURIComponent(t)}catch{return null}}function c0e(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=KN(n[1]),a=KN(n[2]);i===null||a===null||i in r||(r[i]=a)}return r}function f0e(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(l0e.call(t,i)){if(n=t[i],!n&&(n===null||n===u0e||isNaN(n))&&(n=""),i=QN(i),n=QN(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}G4.stringify=f0e;G4.parse=c0e;var AY=o0e,u2=G4,d0e=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,RY=/[\n\r\t]/g,h0e=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_Y=/:\d+$/,p0e=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m0e=/^[a-zA-Z]:/;function H4(t){return(t||"").toString().replace(d0e,"")}var dI=[["#","hash"],["?","query"],function(e,r){return ks(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ZN={hash:1,query:1};function IY(t){var e;typeof window<"u"?e=window:typeof Cn<"u"?e=Cn:typeof self<"u"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=typeof t,a;if(t.protocol==="blob:")n=new Fs(unescape(t.pathname),{});else if(i==="string"){n=new Fs(t,{});for(a in ZN)delete n[a]}else if(i==="object"){for(a in t)a in ZN||(n[a]=t[a]);n.slashes===void 0&&(n.slashes=h0e.test(t.href))}return n}function ks(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function CY(t,e){t=H4(t),t=t.replace(RY,""),e=e||{};var r=p0e.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],s=0,o;return i?a?(o=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(o=r[2]+r[4],s=r[2].length):a?(o=r[3]+r[4],s=r[3].length):o=r[4],n==="file:"?s>=2&&(o=o.slice(2)):ks(n)?o=r[4]:n?i&&(o=o.slice(2)):s>=2&&ks(e.protocol)&&(o=r[4]),{protocol:n,slashes:i||ks(n),slashesCount:s,rest:o}}function g0e(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],a=!1,s=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),s++):s&&(n===0&&(a=!0),r.splice(n,1),s--);return a&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function Fs(t,e,r){if(t=H4(t),t=t.replace(RY,""),!(this instanceof Fs))return new Fs(t,e,r);var n,i,a,s,o,l,u=dI.slice(),c=typeof e,f=this,d=0;for(c!=="object"&&c!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=u2.parse),e=IY(e),i=CY(t||"",e),n=!i.protocol&&!i.slashes,f.slashes=i.slashes||n&&e.slashes,f.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||m0e.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!ks(f.protocol)))&&(u[3]=[/(.*)/,"pathname"]);d<u.length;d++){if(s=u[d],typeof s=="function"){t=s(t,f);continue}a=s[0],l=s[1],a!==a?f[l]=t:typeof a=="string"?(o=a==="@"?t.lastIndexOf(a):t.indexOf(a),~o&&(typeof s[2]=="number"?(f[l]=t.slice(0,o),t=t.slice(o+s[2])):(f[l]=t.slice(o),t=t.slice(0,o)))):(o=a.exec(t))&&(f[l]=o[1],t=t.slice(0,o.index)),f[l]=f[l]||n&&s[3]&&e[l]||"",s[4]&&(f[l]=f[l].toLowerCase())}r&&(f.query=r(f.query)),n&&e.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||e.pathname!=="")&&(f.pathname=g0e(f.pathname,e.pathname)),f.pathname.charAt(0)!=="/"&&ks(f.protocol)&&(f.pathname="/"+f.pathname),AY(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(o=f.auth.indexOf(":"),~o?(f.username=f.auth.slice(0,o),f.username=encodeURIComponent(decodeURIComponent(f.username)),f.password=f.auth.slice(o+1),f.password=encodeURIComponent(decodeURIComponent(f.password))):f.username=encodeURIComponent(decodeURIComponent(f.auth)),f.auth=f.password?f.username+":"+f.password:f.username),f.origin=f.protocol!=="file:"&&ks(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function v0e(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||u2.parse)(e)),n[t]=e;break;case"port":n[t]=e,AY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,_Y.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var a=e.indexOf(":");~a?(n.username=e.slice(0,a),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(a+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var s=0;s<dI.length;s++){var o=dI[s];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&ks(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function y0e(t){(!t||typeof t!="function")&&(t=u2.stringify);var e,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var a=i+(r.protocol&&r.slashes||ks(r.protocol)?"//":"");return r.username?(a+=r.username,r.password&&(a+=":"+r.password),a+="@"):r.password?(a+=":"+r.password,a+="@"):r.protocol!=="file:"&&ks(r.protocol)&&!n&&r.pathname!=="/"&&(a+="@"),(n[n.length-1]===":"||_Y.test(r.hostname)&&!r.port)&&(n+=":"),a+=n+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(a+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(a+=r.hash),a}Fs.prototype={set:v0e,toString:y0e};Fs.extractProtocol=CY;Fs.location=IY;Fs.trimLeft=H4;Fs.qs=u2;var b0e=Fs;const x0e=Pi(b0e);function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function XN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E0e(n.key),n)}}function w0e(t,e,r){return e&&XN(t.prototype,e),r&&XN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t){var e=S0e(t,"string");return uh(e)==="symbol"?e:String(e)}function S0e(t,e){if(uh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&km(t,e)}function R0e(t){var e=PY();return function(){var n=Om(t),i;if(e){var a=Om(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _0e(this,i)}}function _0e(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hI(t){var e=typeof Map=="function"?new Map:void 0;return hI=function(n){if(n===null||!C0e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Wb(n,arguments,Om(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),km(i,n)},hI(t)}function Wb(t,e,r){return PY()?Wb=Reflect.construct.bind():Wb=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&km(u,s.prototype),u},Wb.apply(null,arguments)}function PY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function km(t,e){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},km(t,e)}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}var wy=function(t){A0e(r,t);var e=R0e(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(T0e(this,r),i=e.call(this,n),i.originalRequest=s,i.originalResponse=o,i.causingError=a,a!=null&&(n+=", caused by ".concat(a.toString())),s!=null){var l=s.getHeader("X-Request-ID")||"n/a",u=s.getMethod(),c=s.getURL(),f=o?o.getStatus():"n/a",d=o?o.getBody()||"":"n/a";n+=", originated from request (method: ".concat(u,", url: ").concat(c,", response code: ").concat(f,", response text: ").concat(d,", request id: ").concat(l,")")}return i.message=n,i}return w0e(r)}(hI(Error));function P0e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}function pI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pI=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(k,A,y){k[A]=y.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(k,A,y){return Object.defineProperty(k,A,{value:y,enumerable:!0,configurable:!0,writable:!0}),k[A]}try{l({},"")}catch{l=function(y,x,S){return y[x]=S}}function u(k,A,y,x){var S=A&&A.prototype instanceof d?A:d,C=Object.create(S.prototype),P=new F(x||[]);return n(C,"_invoke",{value:R(k,y,P)}),C}function c(k,A,y){try{return{type:"normal",arg:k.call(A,y)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};l(m,a,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g($([])));v&&v!==e&&r.call(v,a)&&(m=v);var b=p.prototype=d.prototype=Object.create(m);function w(k){["next","throw","return"].forEach(function(A){l(k,A,function(y){return this._invoke(A,y)})})}function E(k,A){function y(S,C,P,M){var B=c(k[S],k,C);if(B.type!=="throw"){var L=B.arg,_=L.value;return _&&ch(_)=="object"&&r.call(_,"__await")?A.resolve(_.__await).then(function(U){y("next",U,P,M)},function(U){y("throw",U,P,M)}):A.resolve(_).then(function(U){L.value=U,P(L)},function(U){return y("throw",U,P,M)})}M(B.arg)}var x;n(this,"_invoke",{value:function(C,P){function M(){return new A(function(B,L){y(C,P,B,L)})}return x=x?x.then(M,M):M()}})}function R(k,A,y){var x="suspendedStart";return function(S,C){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(S==="throw")throw C;return z()}for(y.method=S,y.arg=C;;){var P=y.delegate;if(P){var M=I(P,y);if(M){if(M===f)continue;return M}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(x==="suspendedStart")throw x="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);x="executing";var B=c(k,A,y);if(B.type==="normal"){if(x=y.done?"completed":"suspendedYield",B.arg===f)continue;return{value:B.arg,done:y.done}}B.type==="throw"&&(x="completed",y.method="throw",y.arg=B.arg)}}}function I(k,A){var y=A.method,x=k.iterator[y];if(x===void 0)return A.delegate=null,y==="throw"&&k.iterator.return&&(A.method="return",A.arg=void 0,I(k,A),A.method==="throw")||y!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+y+"' method")),f;var S=c(x,k.iterator,A.arg);if(S.type==="throw")return A.method="throw",A.arg=S.arg,A.delegate=null,f;var C=S.arg;return C?C.done?(A[k.resultName]=C.value,A.next=k.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,f):C:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,f)}function D(k){var A={tryLoc:k[0]};1 in k&&(A.catchLoc=k[1]),2 in k&&(A.finallyLoc=k[2],A.afterLoc=k[3]),this.tryEntries.push(A)}function N(k){var A=k.completion||{};A.type="normal",delete A.arg,k.completion=A}function F(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(D,this),this.reset(!0)}function $(k){if(k){var A=k[a];if(A)return A.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var y=-1,x=function S(){for(;++y<k.length;)if(r.call(k,y))return S.value=k[y],S.done=!1,S;return S.value=void 0,S.done=!0,S};return x.next=x}}return{next:z}}function z(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(k){var A=typeof k=="function"&&k.constructor;return!!A&&(A===h||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,p):(k.__proto__=p,l(k,o,"GeneratorFunction")),k.prototype=Object.create(b),k},t.awrap=function(k){return{__await:k}},w(E.prototype),l(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(k,A,y,x,S){S===void 0&&(S=Promise);var C=new E(u(k,A,y,x),S);return t.isGeneratorFunction(A)?C:C.next().then(function(P){return P.done?P.value:C.next()})},w(b),l(b,o,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),t.keys=function(k){var A=Object(k),y=[];for(var x in A)y.push(x);return y.reverse(),function S(){for(;y.length;){var C=y.pop();if(C in A)return S.value=C,S.done=!1,S}return S.done=!0,S}},t.values=$,F.prototype={constructor:F,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!A)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var y=this;function x(L,_){return P.type="throw",P.arg=A,y.next=L,_&&(y.method="next",y.arg=void 0),!!_}for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S],P=C.completion;if(C.tryLoc==="root")return x("end");if(C.tryLoc<=this.prev){var M=r.call(C,"catchLoc"),B=r.call(C,"finallyLoc");if(M&&B){if(this.prev<C.catchLoc)return x(C.catchLoc,!0);if(this.prev<C.finallyLoc)return x(C.finallyLoc)}else if(M){if(this.prev<C.catchLoc)return x(C.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<C.finallyLoc)return x(C.finallyLoc)}}}},abrupt:function(A,y){for(var x=this.tryEntries.length-1;x>=0;--x){var S=this.tryEntries[x];if(S.tryLoc<=this.prev&&r.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var C=S;break}}C&&(A==="break"||A==="continue")&&C.tryLoc<=y&&y<=C.finallyLoc&&(C=null);var P=C?C.completion:{};return P.type=A,P.arg=y,C?(this.method="next",this.next=C.finallyLoc,f):this.complete(P)},complete:function(A,y){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&y&&(this.next=y),f},finish:function(A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.finallyLoc===A)return this.complete(x.completion,x.afterLoc),N(x),f}},catch:function(A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.tryLoc===A){var S=x.completion;if(S.type==="throw"){var C=S.arg;N(x)}return C}}throw new Error("illegal catch attempt")},delegateYield:function(A,y,x){return this.delegate={iterator:$(A),resultName:y,nextLoc:x},this.method==="next"&&(this.arg=void 0),f}},t}function JN(t,e,r,n,i,a,s){try{var o=t[a](s),l=o.value}catch(u){r(u);return}o.done?e(l):Promise.resolve(l).then(n,i)}function k0e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(l){JN(a,n,i,s,o,"next",l)}function o(l){JN(a,n,i,s,o,"throw",l)}s(void 0)})}}function kY(t,e){return D0e(t)||L0e(t,e)||N0e(t,e)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return eL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(t,e)}}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function D0e(t){if(Array.isArray(t))return t}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){M0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M0e(t,e,r){return e=OY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OY(n.key),n)}}function F0e(t,e,r){return e&&rL(t.prototype,e),r&&rL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OY(t){var e=B0e(t,"string");return ch(e)==="symbol"?e:String(e)}function B0e(t,e){if(ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U0e={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},fx=function(){function t(e,r){$0e(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return F0e(t,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var i=this.options.retryDelays;if(i!=null&&Object.prototype.toString.call(i)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var a=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];a<s.length;a++){var o=s[a];if(this.options[o]){this._emitError(new Error("tus: cannot use the ".concat(o," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(l){return r._fingerprint=l,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(l){if(r._source=l,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(l){r._emitError(l)})}},{key:"_startParallelUpload",value:function(){var r,n=this,i=this._size,a=0;this._parallelUploads=[];var s=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,o=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:z0e(this._source.size,s);this._parallelUploadUrls&&o.forEach(function(c,f){c.uploadUrl=n._parallelUploadUrls[f]||null}),this._parallelUploadUrls=new Array(o.length);var l=o.map(function(c,f){var d=0;return n._source.slice(c.start,c.end).then(function(h){var p=h.value;return new Promise(function(m,g){var v=pf(pf({},n.options),{},{uploadUrl:c.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:pf(pf({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:m,onError:g,onProgress:function(E){a=a-d+E,d=E,n._emitProgress(a,i)},onUploadUrlAvailable:function(){n._parallelUploadUrls[f]=b.url,n._parallelUploadUrls.filter(function(E){return!!E}).length===o.length&&n._saveUploadInUrlStorage()}}),b=new t(p,v);b.start(),n._parallelUploads.push(b)})})}),u;Promise.all(l).then(function(){u=n._openRequest("POST",n.options.endpoint),u.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var c=nL(n.options.metadata);return c!==""&&u.setHeader("Upload-Metadata",c),n._sendRequest(u,null)}).then(function(c){if(!Mf(c.getStatus(),200)){n._emitHttpError(u,c,"tus: unexpected response while creating upload");return}var f=c.getHeader("Location");if(f==null){n._emitHttpError(u,c,"tus: invalid or missing Location header");return}n.url=oL(n.options.endpoint,f),"Created upload at ".concat(n.url),n._emitSuccess()}).catch(function(c){n._emitError(c)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(r){var n=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(i){i.abort(r)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,i,a){this._emitError(new wy(i,a,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var i=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(i&&(this._retryAttempt=0),sL(r,this._retryAttempt,this.options)){var a=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},a);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,i){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,i)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var i=nL(this.options.metadata);i!==""&&n.setHeader("Upload-Metadata",i);var a;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,a=this._addChunkToRequest(n)):a=this._sendRequest(n,null),a.then(function(s){if(!Mf(s.getStatus(),200)){r._emitHttpError(n,s,"tus: unexpected response while creating upload");return}var o=s.getHeader("Location");if(o==null){r._emitHttpError(n,s,"tus: invalid or missing Location header");return}if(r.url=oL(r.options.endpoint,o),"Created upload at ".concat(r.url),typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,s):(r._offset=0,r._performUpload())})}).catch(function(s){r._emitHttpError(n,null,"tus: failed to create upload",s)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),i=this._sendRequest(n,null);i.then(function(a){var s=a.getStatus();if(!Mf(s,200)){if(s===423){r._emitHttpError(n,a,"tus: upload is currently locked; retry later");return}if(Mf(s,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,a,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var o=parseInt(a.getHeader("Upload-Offset"),10);if(Number.isNaN(o)){r._emitHttpError(n,a,"tus: invalid or missing offset value");return}var l=parseInt(a.getHeader("Upload-Length"),10);if(Number.isNaN(l)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,a,"tus: invalid or missing length value");return}typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(o===l){r._emitProgress(l,l),r._emitSuccess();return}r._offset=o,r._performUpload()})}).catch(function(a){r._emitHttpError(n,null,"tus: failed to resume upload",a)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var i=this._addChunkToRequest(n);i.then(function(a){if(!Mf(a.getStatus(),200)){r._emitHttpError(n,a,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,a)}).catch(function(a){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),a)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,i=this._offset,a=this._offset+this.options.chunkSize;return r.setProgressHandler(function(s){n._emitProgress(i+s,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(a===1/0||a>this._size)&&!this.options.uploadLengthDeferred&&(a=this._size),this._source.slice(i,a).then(function(s){var o=s.value,l=s.done,u=o&&o.size?o.size:0;n.options.uploadLengthDeferred&&l&&(n._size=n._offset+u,r.setHeader("Upload-Length",n._size));var c=n._offset+u;return!n.options.uploadLengthDeferred&&l&&c!==n._size?Promise.reject(new Error("upload was configured with a size of ".concat(n._size," bytes, but the source is done after ").concat(c," bytes"))):o===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,o))})}},{key:"_handleUploadResponse",value:function(r,n){var i=parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(i)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var i=iL(r,n,this.options);return this._req=i,i}},{key:"_removeFromUrlStorage",value:function(){var r=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(i){r._urlStorageKey=i})}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return aL(r,n,this.options)}}],[{key:"terminate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=iL("DELETE",r,n);return aL(i,null,n).then(function(a){if(a.getStatus()!==204)throw new wy("tus: unexpected response while terminating upload",null,i,a)}).catch(function(a){if(a instanceof wy||(a=new wy("tus: failed to terminate upload",a,i,null)),!sL(a,0,n))throw a;var s=n.retryDelays[0],o=n.retryDelays.slice(1),l=pf(pf({},n),{},{retryDelays:o});return new Promise(function(u){return setTimeout(u,s)}).then(function(){return t.terminate(r,l)})})}}]),t}();function nL(t){return Object.entries(t).map(function(e){var r=kY(e,2),n=r[0],i=r[1];return"".concat(n," ").concat(s0e.encode(String(i)))}).join(",")}function Mf(t,e){return t>=e&&t<e+100}function iL(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var i=r.headers||{};if(Object.entries(i).forEach(function(s){var o=kY(s,2),l=o[0],u=o[1];n.setHeader(l,u)}),r.addRequestId){var a=P0e();n.setHeader("X-Request-ID",a)}return n}function aL(t,e,r){return mI.apply(this,arguments)}function mI(){return mI=k0e(pI().mark(function t(e,r,n){var i;return pI().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(typeof n.onBeforeRequest!="function"){s.next=3;break}return s.next=3,n.onBeforeRequest(e);case 3:return s.next=5,e.send(r);case 5:if(i=s.sent,typeof n.onAfterResponse!="function"){s.next=9;break}return s.next=9,n.onAfterResponse(e,i);case 9:return s.abrupt("return",i);case 10:case"end":return s.stop()}},t)})),mI.apply(this,arguments)}function j0e(){var t=!0;return typeof window<"u"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}function sL(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!Mf(n,400)||n===409||n===423)&&j0e()}function oL(t,e){return new x0e(e,t).toString()}function z0e(t,e){for(var r=Math.floor(t/e),n=[],i=0;i<e;i++)n.push({start:r*i,end:r*(i+1)});return n[e-1].end=t,n}fx.defaultOptions=U0e;function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function V0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G0e(n.key),n)}}function Y0e(t,e,r){return e&&lL(t.prototype,e),r&&lL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G0e(t){var e=H0e(t,"string");return Nm(e)==="symbol"?e:String(e)}function H0e(t,e){if(Nm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W0e=function(){function t(){V0e(this,t)}return Y0e(t,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),t}();function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q0e(n.key),n)}}function K0e(t,e,r){return e&&uL(t.prototype,e),r&&uL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q0e(t){var e=Z0e(t,"string");return Lm(e)==="symbol"?e:String(e)}function Z0e(t,e){if(Lm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gI=!1;try{gI="localStorage"in window;var JS="tusSupport",cL=localStorage.getItem(JS);localStorage.setItem(JS,cL),cL===null&&localStorage.removeItem(JS)}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)gI=!1;else throw t}var X0e=gI,J0e=function(){function t(){q0e(this,t)}return K0e(t,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var i=Math.round(Math.random()*1e12),a="tus::".concat(r,"::").concat(i);return localStorage.setItem(a,JSON.stringify(n)),Promise.resolve(a)}},{key:"_findEntries",value:function(r){for(var n=[],i=0;i<localStorage.length;i++){var a=localStorage.key(i);if(a.indexOf(r)===0)try{var s=JSON.parse(localStorage.getItem(a));s.urlStorageKey=a,n.push(s)}catch{}}return n}}]),t}();function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function W4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,epe(n.key),n)}}function q4(t,e,r){return e&&fL(t.prototype,e),r&&fL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function epe(t){var e=tpe(t,"string");return Dm(e)==="symbol"?e:String(e)}function tpe(t,e){if(Dm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rpe=function(){function t(){W4(this,t)}return q4(t,[{key:"createRequest",value:function(r,n){return new npe(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}(),npe=function(){function t(e,r){W4(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return q4(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){n.lengthComputable&&r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(i,a){r._xhr.onload=function(){i(new ipe(r._xhr))},r._xhr.onerror=function(s){a(s)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),ipe=function(){function t(e){W4(this,t),this._xhr=e}return q4(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),NY=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function ape(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var i=n.response;e(i)},n.onerror=function(i){r(i)},n.open("GET",t),n.send()})}var spe=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function ope(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var i=new Uint8Array(n.result);e({value:i})},n.onerror=function(i){r(i)},n.readAsArrayBuffer(t)})}function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cpe(n.key),n)}}function upe(t,e,r){return e&&dL(t.prototype,e),r&&dL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cpe(t){var e=fpe(t,"string");return Mm(e)==="symbol"?e:String(e)}function fpe(t,e){if(Mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hL=function(){function t(e){lpe(this,t),this._file=e,this.size=e.size}return upe(t,[{key:"slice",value:function(r,n){if(spe())return ope(this._file.slice(r,n));var i=this._file.slice(r,n),a=n>=this.size;return Promise.resolve({value:i,done:a})}},{key:"close",value:function(){}}]),t}();function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ppe(n.key),n)}}function hpe(t,e,r){return e&&pL(t.prototype,e),r&&pL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t){var e=mpe(t,"string");return $m(e)==="symbol"?e:String(e)}function mpe(t,e){if($m(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mL(t){return t===void 0?0:t.size!==void 0?t.size:t.length}function gpe(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}var vpe=function(){function t(e){dpe(this,t),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return hpe(t,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var i=this,a=n<=this._bufferOffset+mL(this._buffer);if(this._done||a){var s=this._getDataFromBuffer(r,n),o=s==null?this._done:!1;return Promise.resolve({value:s,done:o})}return this._reader.read().then(function(l){var u=l.value,c=l.done;return c?i._done=!0:i._buffer===void 0?i._buffer=u:i._buffer=gpe(i._buffer,u),i._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var i=mL(this._buffer)===0;return this._done&&i?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function vI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vI=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(k,A,y){k[A]=y.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(k,A,y){return Object.defineProperty(k,A,{value:y,enumerable:!0,configurable:!0,writable:!0}),k[A]}try{l({},"")}catch{l=function(y,x,S){return y[x]=S}}function u(k,A,y,x){var S=A&&A.prototype instanceof d?A:d,C=Object.create(S.prototype),P=new F(x||[]);return n(C,"_invoke",{value:R(k,y,P)}),C}function c(k,A,y){try{return{type:"normal",arg:k.call(A,y)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};l(m,a,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g($([])));v&&v!==e&&r.call(v,a)&&(m=v);var b=p.prototype=d.prototype=Object.create(m);function w(k){["next","throw","return"].forEach(function(A){l(k,A,function(y){return this._invoke(A,y)})})}function E(k,A){function y(S,C,P,M){var B=c(k[S],k,C);if(B.type!=="throw"){var L=B.arg,_=L.value;return _&&fh(_)=="object"&&r.call(_,"__await")?A.resolve(_.__await).then(function(U){y("next",U,P,M)},function(U){y("throw",U,P,M)}):A.resolve(_).then(function(U){L.value=U,P(L)},function(U){return y("throw",U,P,M)})}M(B.arg)}var x;n(this,"_invoke",{value:function(C,P){function M(){return new A(function(B,L){y(C,P,B,L)})}return x=x?x.then(M,M):M()}})}function R(k,A,y){var x="suspendedStart";return function(S,C){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(S==="throw")throw C;return z()}for(y.method=S,y.arg=C;;){var P=y.delegate;if(P){var M=I(P,y);if(M){if(M===f)continue;return M}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(x==="suspendedStart")throw x="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);x="executing";var B=c(k,A,y);if(B.type==="normal"){if(x=y.done?"completed":"suspendedYield",B.arg===f)continue;return{value:B.arg,done:y.done}}B.type==="throw"&&(x="completed",y.method="throw",y.arg=B.arg)}}}function I(k,A){var y=A.method,x=k.iterator[y];if(x===void 0)return A.delegate=null,y==="throw"&&k.iterator.return&&(A.method="return",A.arg=void 0,I(k,A),A.method==="throw")||y!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+y+"' method")),f;var S=c(x,k.iterator,A.arg);if(S.type==="throw")return A.method="throw",A.arg=S.arg,A.delegate=null,f;var C=S.arg;return C?C.done?(A[k.resultName]=C.value,A.next=k.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,f):C:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,f)}function D(k){var A={tryLoc:k[0]};1 in k&&(A.catchLoc=k[1]),2 in k&&(A.finallyLoc=k[2],A.afterLoc=k[3]),this.tryEntries.push(A)}function N(k){var A=k.completion||{};A.type="normal",delete A.arg,k.completion=A}function F(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(D,this),this.reset(!0)}function $(k){if(k){var A=k[a];if(A)return A.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var y=-1,x=function S(){for(;++y<k.length;)if(r.call(k,y))return S.value=k[y],S.done=!1,S;return S.value=void 0,S.done=!0,S};return x.next=x}}return{next:z}}function z(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(k){var A=typeof k=="function"&&k.constructor;return!!A&&(A===h||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,p):(k.__proto__=p,l(k,o,"GeneratorFunction")),k.prototype=Object.create(b),k},t.awrap=function(k){return{__await:k}},w(E.prototype),l(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(k,A,y,x,S){S===void 0&&(S=Promise);var C=new E(u(k,A,y,x),S);return t.isGeneratorFunction(A)?C:C.next().then(function(P){return P.done?P.value:C.next()})},w(b),l(b,o,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),t.keys=function(k){var A=Object(k),y=[];for(var x in A)y.push(x);return y.reverse(),function S(){for(;y.length;){var C=y.pop();if(C in A)return S.value=C,S.done=!1,S}return S.done=!0,S}},t.values=$,F.prototype={constructor:F,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!A)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var y=this;function x(L,_){return P.type="throw",P.arg=A,y.next=L,_&&(y.method="next",y.arg=void 0),!!_}for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S],P=C.completion;if(C.tryLoc==="root")return x("end");if(C.tryLoc<=this.prev){var M=r.call(C,"catchLoc"),B=r.call(C,"finallyLoc");if(M&&B){if(this.prev<C.catchLoc)return x(C.catchLoc,!0);if(this.prev<C.finallyLoc)return x(C.finallyLoc)}else if(M){if(this.prev<C.catchLoc)return x(C.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<C.finallyLoc)return x(C.finallyLoc)}}}},abrupt:function(A,y){for(var x=this.tryEntries.length-1;x>=0;--x){var S=this.tryEntries[x];if(S.tryLoc<=this.prev&&r.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var C=S;break}}C&&(A==="break"||A==="continue")&&C.tryLoc<=y&&y<=C.finallyLoc&&(C=null);var P=C?C.completion:{};return P.type=A,P.arg=y,C?(this.method="next",this.next=C.finallyLoc,f):this.complete(P)},complete:function(A,y){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&y&&(this.next=y),f},finish:function(A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.finallyLoc===A)return this.complete(x.completion,x.afterLoc),N(x),f}},catch:function(A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.tryLoc===A){var S=x.completion;if(S.type==="throw"){var C=S.arg;N(x)}return C}}throw new Error("illegal catch attempt")},delegateYield:function(A,y,x){return this.delegate={iterator:$(A),resultName:y,nextLoc:x},this.method==="next"&&(this.arg=void 0),f}},t}function gL(t,e,r,n,i,a,s){try{var o=t[a](s),l=o.value}catch(u){r(u);return}o.done?e(l):Promise.resolve(l).then(n,i)}function ype(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(l){gL(a,n,i,s,o,"next",l)}function o(l){gL(a,n,i,s,o,"throw",l)}s(void 0)})}}function bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wpe(n.key),n)}}function xpe(t,e,r){return e&&vL(t.prototype,e),r&&vL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t){var e=Epe(t,"string");return fh(e)==="symbol"?e:String(e)}function Epe(t,e){if(fh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Spe=function(){function t(){bpe(this,t)}return xpe(t,[{key:"openFile",value:function(){var e=ype(vI().mark(function n(i,a){var s;return vI().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(NY()&&i&&typeof i.uri<"u")){l.next=11;break}return l.prev=1,l.next=4,ape(i.uri);case 4:return s=l.sent,l.abrupt("return",new hL(s));case 8:throw l.prev=8,l.t0=l.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(l.t0));case 11:if(!(typeof i.slice=="function"&&typeof i.size<"u")){l.next=13;break}return l.abrupt("return",Promise.resolve(new hL(i)));case 13:if(typeof i.read!="function"){l.next=18;break}if(a=Number(a),Number.isFinite(a)){l.next=17;break}return l.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return l.abrupt("return",Promise.resolve(new vpe(i,a)));case 18:return l.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return l.stop()}},n,null,[[1,8]])}));function r(n,i){return e.apply(this,arguments)}return r}()}]),t}();function Tpe(t,e){return NY()?Promise.resolve(Ape(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}function Ape(t,e){var r=t.exif?Rpe(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}function Rpe(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LY(n.key),n)}}function Ipe(t,e,r){return e&&yL(t.prototype,e),r&&yL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yI(t,e)}function yI(t,e){return yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yI(t,e)}function Ppe(t){var e=Npe();return function(){var n=dx(t),i;if(e){var a=dx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kpe(this,i)}}function kpe(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(t)}function Ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Npe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(t)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){Lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e,r){return e=LY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LY(t){var e=Dpe(t,"string");return dh(e)==="symbol"?e:String(e)}function Dpe(t,e){if(dh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=ud(ud({},fx.defaultOptions),{},{httpStack:new rpe,fileReader:new Spe,urlStorage:X0e?new J0e:new W0e,fingerprint:Tpe}),Mpe=function(t){Cpe(r,t);var e=Ppe(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _pe(this,r),i=ud(ud({},xL),i),e.call(this,n,i)}return Ipe(r,null,[{key:"terminate",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a=ud(ud({},xL),a),fx.terminate(i,a)}}]),r}(fx);class $pe{constructor(e){this._config=e}getConfig(){return this._config}async _get(e,r){const n=await Gb(`${this._config.baseUrl}${e}`,{method:"GET",...r,headers:{...r?.headers,"x-core-sdk-version":Fa.core,"x-react-sdk-version":Fa.react,"x-react-native-sdk-version":Fa.reactNative}});if(!n.ok)throw new HS(n.status,`Provider failed to get object from ${this._config.baseUrl}${e}, status code was ${n.status}`,await n.json());return n.json()}async _create(e,r){const n=await Gb(`${this._config.baseUrl}${e}`,{method:"POST",...r,...r?.json?{body:JSON.stringify(r.json)}:{},headers:{...r?.json?{"content-type":"application/json"}:{},...r?.headers,"x-core-sdk-version":Fa.core,"x-react-sdk-version":Fa.react,"x-react-native-sdk-version":Fa.reactNative}});if(!n.ok)throw new HS(n.status,"Provider failed to create object",await n.json());return n.json()}async _update(e,r){const n=await Gb(`${this._config.baseUrl}${e}`,{method:"PATCH",...r,...r?.json?{body:JSON.stringify(r.json)}:{},headers:{...r?.json?{"content-type":"application/json"}:{},...r?.headers,"x-core-sdk-version":Fa.core,"x-react-sdk-version":Fa.react,"x-react-native-sdk-version":Fa.reactNative}});if(!n.ok)throw new HS(n.status,"Provider failed to update object",await n.json())}}const Fpe=100*1024*1024;class Bpe extends $pe{constructor(e){super(e),this._defaultHeaders={...e.apiKey?{Authorization:`Bearer ${e.apiKey}`}:{},...e.origin?{Origin:e.origin}:{}}}async createStream(e){const r=this._getPlaybackPolicyMapped(e.playbackPolicy),n=await this._create("/stream",{json:{...e,...r?{playbackPolicy:r}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders});return this._mapToStream(n)}async updateStream(e){const r=typeof e=="string"?e:e.streamId,n=this._getPlaybackPolicyMapped(e.playbackPolicy);return await this._update(`/stream/${r}`,{json:{...typeof e?.record<"u"?{record:!!e.record}:{},...typeof e?.suspend<"u"?{suspended:!!e.suspend}:{},...typeof e?.multistream?.targets<"u"?{multistream:{targets:e.multistream.targets.map(i=>typeof i.id>"u"||"url"in(i.spec??{})?{...i,id:void 0}:{...i,spec:void 0})}}:{},...n?{playbackPolicy:n}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders}),this.getStream(r)}async getStream(e){const r=await this._get(`/stream/${typeof e=="string"?e:e.streamId}`,{headers:this._defaultHeaders});return this._mapToStream(r)}async getStreamSession(e){return await this._get(`/session/${typeof e=="string"?e:e.streamSessionId}`,{headers:this._defaultHeaders})}async getStreamSessions(e){return await this._get(`/stream/${typeof e=="string"?e:e.streamId}/sessions`,{headers:this._defaultHeaders})}async createAsset(e){const{sources:r,onProgress:n,noWait:i,chunkSize:a}=e;let s=r.map(f=>({name:f.name,progress:0,assetId:null,phase:f?.url?"waiting":"uploading"}));const o=await Promise.allSettled(r.map(async(f,d)=>{const h=this._getPlaybackPolicyMapped(f.playbackPolicy);if(f.url)return(await this._create("/asset/upload/url",{json:{name:f.name,url:f.url,storage:f?.storage?.ipfs?{ipfs:{spec:{nftMetadata:f?.storage?.metadata??{},...f?.storage?.metadataTemplate?{nftMetadataTemplate:f.storage.metadataTemplate}:{}}}}:void 0,...h?{playbackPolicy:h}:{},...f.creatorId?{creatorId:f.creatorId}:{}},headers:this._defaultHeaders}))?.asset?.id;{const p=await this._create("/asset/request-upload",{json:{name:f.name,storage:f?.storage?.ipfs?{ipfs:{spec:{nftMetadata:f?.storage?.metadata??{},...f?.storage?.metadataTemplate?{nftMetadataTemplate:f.storage.metadataTemplate}:{}}}}:void 0,...h?{playbackPolicy:h}:{},...f.creatorId?{creatorId:f.creatorId}:{}},headers:this._defaultHeaders}),{tusEndpoint:m,asset:{id:g}}=p;return await new Promise((v,b)=>{const w=new Mpe(f.file,{endpoint:m,metadata:{id:g},...a?{chunkSize:a}:typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"?null:{chunkSize:Fpe},onError:E=>{console.log("Failed because: ",E)},onProgress(E,R){const I=E/R,D={name:f.name,assetId:g,progress:I,phase:"uploading"},N=[...s];N[d]=D,s=N,n?.(s)},onSuccess(){v()}});w.findPreviousUploads().then(E=>{E?.length>0&&E[0]&&w.resumeFromPreviousUpload(E[0]),w.start()}).catch(b)}),g}}));if(i)return Promise.all(o.map(async f=>{if(f.status==="rejected")throw f.reason;return this.getAsset(f.value)}));const l=5;return[...(await Promise.allSettled(o.map(async(f,d)=>{if(f.status==="rejected")throw f.reason;let h=null,p=0;for(;h?.status?.phase!=="ready"&&h?.status?.phase!=="failed";)try{if(await new Promise(v=>setTimeout(v,Math.random()*1e3+4e3)),h=await this.getAsset(f.value),typeof h.status?.phase<"u"){const v={name:h.name,assetId:h.id,progress:h.status.progress??0,phase:h.status.phase},b=[...s];b[d]=v,s=b,n?.(s)}else throw new Error("Asset phase was undefined.")}catch(v){if(p>l)throw v;p+=1}const m={name:h.name,assetId:h.id,progress:1,phase:h.status.phase},g=[...s];return g[d]=m,s=g,n?.(s),h}))).map(f=>{if(f.status==="fulfilled")return f.value;throw f.reason})]}async getAsset(e){return await this._get(`/asset/${typeof e=="string"?e:e.assetId}`,{headers:this._defaultHeaders})}async updateAsset(e){const{assetId:r,name:n,storage:i}=e,a=this._getPlaybackPolicyMapped(e.playbackPolicy);return await this._update(`/asset/${r}`,{json:{name:typeof n<"u"?String(n):void 0,storage:i?.ipfs?{ipfs:{spec:{nftMetadata:i?.metadata??{},...i?.metadataTemplate?{nftMetadataTemplate:i.metadataTemplate}:{}}}}:void 0,...a?{playbackPolicy:a}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders}),this.getAsset({assetId:r})}_getRtmpIngestUrl(e){return`rtmp://rtmp.livepeer.com/live/${e}`}async getPlaybackInfo(e){const r=typeof e=="string"?e:e.playbackId,n=encodeURIComponent(r),i=await this._get(`/playback/${n}`,{headers:this._defaultHeaders});return this._mapToPlaybackInfo(i)}_getPlaybackUrl(e){return`https://livepeercdn.com/hls/${e}/index.m3u8`}async getAssetMetrics(e){const r=typeof e=="string"?e:e.assetId,n=await this._get(`/data/views/${r}/total`,{headers:this._defaultHeaders});return this._mapToViewsMetrics(n)}async _mapToStream(e){return{...e,multistream:await this._mapToMultistream(e.multistream),rtmpIngestUrl:this._getRtmpIngestUrl(e.streamKey),playbackUrl:this._getPlaybackUrl(e.playbackId)}}async _mapToMultistream(e){if(!e?.targets)return;const r=e.targets.map(async n=>{const{name:i}=await this._get(`/multistream/target/${n.id}`,{headers:this._defaultHeaders});return{...n,spec:{name:i}}});return{targets:await Promise.all(r)}}_mapToPlaybackInfo(e){return{type:e?.type,meta:{...e?.meta,live:!!e?.meta?.live,source:e?.meta?.source?.map(r=>({...r})),attestation:e?.meta?.attestation}}}_mapToViewsMetrics(e){return{type:"ViewsMetrics",metrics:e}}_getPlaybackPolicyMapped(e){return e&&typeof e?.type<"u"?e.type==="webhook"?{type:e.type,webhookId:e.webhookId,webhookContext:e.webhookContext}:{type:e.type}:null}}function Upe(t){return()=>new Bpe({...Ahe,...t})}var wL,Jt="colors",Xn="sizes",Ne="space",jpe={gap:Ne,gridGap:Ne,columnGap:Ne,gridColumnGap:Ne,rowGap:Ne,gridRowGap:Ne,inset:Ne,insetBlock:Ne,insetBlockEnd:Ne,insetBlockStart:Ne,insetInline:Ne,insetInlineEnd:Ne,insetInlineStart:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,marginBlock:Ne,marginBlockEnd:Ne,marginBlockStart:Ne,marginInline:Ne,marginInlineEnd:Ne,marginInlineStart:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,paddingBlock:Ne,paddingBlockEnd:Ne,paddingBlockStart:Ne,paddingInline:Ne,paddingInlineEnd:Ne,paddingInlineStart:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,scrollMargin:Ne,scrollMarginTop:Ne,scrollMarginRight:Ne,scrollMarginBottom:Ne,scrollMarginLeft:Ne,scrollMarginX:Ne,scrollMarginY:Ne,scrollMarginBlock:Ne,scrollMarginBlockEnd:Ne,scrollMarginBlockStart:Ne,scrollMarginInline:Ne,scrollMarginInlineEnd:Ne,scrollMarginInlineStart:Ne,scrollPadding:Ne,scrollPaddingTop:Ne,scrollPaddingRight:Ne,scrollPaddingBottom:Ne,scrollPaddingLeft:Ne,scrollPaddingX:Ne,scrollPaddingY:Ne,scrollPaddingBlock:Ne,scrollPaddingBlockEnd:Ne,scrollPaddingBlockStart:Ne,scrollPaddingInline:Ne,scrollPaddingInlineEnd:Ne,scrollPaddingInlineStart:Ne,fontSize:"fontSizes",background:Jt,backgroundColor:Jt,backgroundImage:Jt,borderImage:Jt,border:Jt,borderBlock:Jt,borderBlockEnd:Jt,borderBlockStart:Jt,borderBottom:Jt,borderBottomColor:Jt,borderColor:Jt,borderInline:Jt,borderInlineEnd:Jt,borderInlineStart:Jt,borderLeft:Jt,borderLeftColor:Jt,borderRight:Jt,borderRightColor:Jt,borderTop:Jt,borderTopColor:Jt,caretColor:Jt,color:Jt,columnRuleColor:Jt,fill:Jt,outline:Jt,outlineColor:Jt,stroke:Jt,textDecorationColor:Jt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Xn,minBlockSize:Xn,maxBlockSize:Xn,inlineSize:Xn,minInlineSize:Xn,maxInlineSize:Xn,width:Xn,minWidth:Xn,maxWidth:Xn,height:Xn,minHeight:Xn,maxHeight:Xn,flexBasis:Xn,gridTemplateColumns:Xn,gridTemplateRows:Xn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},zpe=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,lv=()=>{const t=Object.create(null);return(e,r,...n)=>{const i=(a=>JSON.stringify(a,zpe))(e);return i in t?t[i]:t[i]=r(e,...n)}},qb=Symbol.for("sxs.internal"),K4=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),EL=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Vpe}=Object.prototype,bI=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ype=/\s+(?![^()]*\))/,mf=t=>e=>t(...typeof e=="string"?String(e).split(Ype):[e]),SL={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:mf((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:mf((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:mf((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:mf((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:mf((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:mf((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},eT=/([\d.]+)([^]*)/,Gpe=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):e,Hpe=(t,e)=>t in Wpe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,a)=>n+(i==="stretch"?`-moz-available${a};${bI(t)}:${n}-webkit-fill-available`:`-moz-fit-content${a};${bI(t)}:${n}fit-content`)+a):String(e),Wpe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Mo=t=>t?t+"-":"",DY=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,a,s,o)=>s=="$"==!!a?n:(i||s=="--"?"calc(":"")+"var(--"+(s==="$"?Mo(e)+(o.includes("$")?"":Mo(r))+o.replace(/\$/g,"-"):o)+")"+(i||s=="--"?"*"+(i||"")+(a||"1")+")":"")),qpe=/\s*,\s*(?![^()]*\))/,Kpe=Object.prototype.toString,cd=(t,e,r,n,i)=>{let a,s,o;const l=(u,c,f)=>{let d,h;const p=m=>{for(d in m){const b=d.charCodeAt(0)===64,w=b&&Array.isArray(m[d])?m[d]:[m[d]];for(h of w){const E=/[A-Z]/.test(v=d)?v:v.replace(/-[^]/g,I=>I[1].toUpperCase()),R=typeof h=="object"&&h&&h.toString===Kpe&&(!n.utils[E]||!c.length);if(E in n.utils&&!R){const I=n.utils[E];if(I!==s){s=I,p(I(h)),s=null;continue}}else if(E in SL){const I=SL[E];if(I!==o){o=I,p(I(h)),o=null;continue}}if(b&&(g=d.slice(1)in n.media?"@media "+n.media[d.slice(1)]:d,d=g.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(I,D,N,F,$,z)=>{const k=eT.test(D),A=.0625*(k?-1:1),[y,x]=k?[F,D]:[D,F];return"("+(N[0]==="="?"":N[0]===">"===k?"max-":"min-")+y+":"+(N[0]!=="="&&N.length===1?x.replace(eT,(S,C,P)=>Number(C)+A*(N===">"?1:-1)+P):x)+($?") and ("+($[0]===">"?"min-":"max-")+y+":"+($.length===1?z.replace(eT,(S,C,P)=>Number(C)+A*($===">"?-1:1)+P):z):"")+")"})),R){const I=b?f.concat(d):[...f],D=b?[...c]:Gpe(c,d.split(qpe));a!==void 0&&i(TL(...a)),a=void 0,l(h,D,I)}else a===void 0&&(a=[[],c,f]),d=b||d.charCodeAt(0)!==36?d:`--${Mo(n.prefix)}${d.slice(1).replace(/\$/g,"-")}`,h=R?h:typeof h=="number"?h&&E in Qpe?String(h)+"px":String(h):DY(Hpe(E,h??""),n.prefix,n.themeMap[E]),a[0].push(`${b?`${d} `:`${bI(d)}:`}${h}`)}}var g,v};p(u),a!==void 0&&i(TL(...a)),a=void 0};l(t,e,r)},TL=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,Qpe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},AL=t=>String.fromCharCode(t+(t>25?39:97)),dc=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=AL(r%52)+n;return AL(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),dp=["themed","global","styled","onevar","resonevar","allvar","inline"],Zpe=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Xpe=t=>{let e;const r=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(a,s)=>{const{cssText:o}=a;let l="";if(o.startsWith("--sxs"))return"";if(i[s-1]&&(l=i[s-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===a)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${o}`;return a.cssRules.length?`${l}${o}`:""}return o}).join("")},n=()=>{if(e){const{rules:o,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in o)delete o[u]}const i=Object(t).styleSheets||[];for(const o of i)if(Zpe(o)){for(let l=0,u=o.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=c;if(!d.startsWith("--sxs"))continue;const h=d.slice(14,-3).trim().split(/\s+/),p=dp[h[0]];p&&(e||(e={sheet:o,reset:n,rules:{},toString:r}),e.rules[p]={group:f,index:l,cache:new Set(h)})}if(e)break}if(!e){const o=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,o(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:o("","text/css"),rules:{},reset:n,toString:r}}const{sheet:a,rules:s}=e;for(let o=dp.length-1;o>=0;--o){const l=dp[o];if(!s[l]){const u=dp[o+1],c=s[u]?s[u].index:a.cssRules.length;a.insertRule("@media{}",c),a.insertRule(`--sxs{--sxs:${o}}`,c),s[l]={group:a.cssRules[c+1],index:c,cache:new Set([o])}}Jpe(s[l])}};return n(),e},Jpe=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},R0=Symbol(),eme=lv(),tme=(t,e)=>eme(t,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[qb]){n.type==null&&(n.type=i[qb].type);for(const a of i[qb].composers)n.composers.add(a)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(rme(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),nme(t,n,e)}),rme=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{const a=`${Mo(i.prefix)}c-${dc(n)}`,s=[],o=[],l=Object.create(null),u=[];for(const d in r)l[d]=String(r[d]);if(typeof t=="object"&&t)for(const d in t){c=l,f=d,Vpe.call(c,f)||(l[d]="undefined");const h=t[d];for(const p in h){const m={[d]:String(p)};String(p)==="undefined"&&u.push(d);const g=h[p],v=[m,g,!EL(g)];s.push(v)}}var c,f;if(typeof e=="object"&&e)for(const d of e){let{css:h,...p}=d;h=typeof h=="object"&&h||{};for(const g in p)p[g]=String(p[g]);const m=[p,h,!EL(h)];o.push(m)}return[a,n,s,o,l,u]},nme=(t,e,r)=>{const[n,i,a,s]=ime(e.composers),o=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let h=0;h<d[R0].length;h++){const[p,m]=d[R0][h];f.rules[p].apply(m)}return d[R0]=[],null}return d[R0]=[],d.rules={},dp.forEach(h=>d.rules[h]={apply:p=>d[R0].push([h,p])}),d})(r):null,l=(o||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||ame;const{css:d,...h}=f,p={};for(const v in a)if(delete h[v],v in f){let b=f[v];typeof b=="object"&&b?p[v]={"@initial":a[v],...b}:(b=String(b),p[v]=b!=="undefined"||s.has(v)?b:a[v])}else p[v]=a[v];const m=new Set([...i]);for(const[v,b,w,E]of e.composers){r.rules.styled.cache.has(v)||(r.rules.styled.cache.add(v),cd(b,[`.${v}`],[],t,D=>{l.styled.apply(D)}));const R=RL(w,p,t.media),I=RL(E,p,t.media,!0);for(const D of R)if(D!==void 0)for(const[N,F,$]of D){const z=`${v}-${dc(F)}-${N}`;m.add(z);const k=($?r.rules.resonevar:r.rules.onevar).cache,A=$?l.resonevar:l.onevar;k.has(z)||(k.add(z),cd(F,[`.${z}`],[],t,y=>{A.apply(y)}))}for(const D of I)if(D!==void 0)for(const[N,F]of D){const $=`${v}-${dc(F)}-${N}`;m.add($),r.rules.allvar.cache.has($)||(r.rules.allvar.cache.add($),cd(F,[`.${$}`],[],t,z=>{l.allvar.apply(z)}))}}if(typeof d=="object"&&d){const v=`${n}-i${dc(d)}-css`;m.add(v),r.rules.inline.cache.has(v)||(r.rules.inline.cache.add(v),cd(d,[`.${v}`],[],t,b=>{l.inline.apply(b)}))}for(const v of String(f.className||"").trim().split(/\s+/))v&&m.add(v);const g=h.className=[...m].join(" ");return{type:e.type,className:g,selector:u,props:h,toString:()=>g,deferredInjector:o}};return K4(c,{className:n,selector:u,[qb]:e,toString:()=>(r.rules.styled.cache.has(n)||c(),n)})},ime=t=>{let e="";const r=[],n={},i=[];for(const[a,,,,s,o]of t){e===""&&(e=a),r.push(a),i.push(...o);for(const l in s){const u=s[l];(n[l]===void 0||u!=="undefined"||o.includes(u))&&(n[l]=u)}}return[e,r,n,new Set(i)]},RL=(t,e,r,n)=>{const i=[];e:for(let[a,s,o]of t){if(o)continue;let l,u=0,c=!1;for(l in a){const f=a[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let h,p,m=0;for(const g in d){if(f===String(d[g])){if(g!=="@initial"){const v=g.slice(1);(p=p||[]).push(v in r?r[v]:g.replace(/^@media ?/,"")),c=!0}u+=m,h=!0}++m}if(p&&p.length&&(s={["@media "+p.join(", ")]:s}),!h)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${a[l]}`,s,c])}return i},ame={},sme=lv(),ome=(t,e)=>sme(t,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let a=dc(i);if(!e.rules.global.cache.has(a)){if(e.rules.global.cache.add(a),"@import"in i){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let o of[].concat(i["@import"]))o=o.includes('"')||o.includes("'")?o:`"${o}"`,e.sheet.insertRule(`@import ${o};`,s++);delete i["@import"]}cd(i,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return K4(n,{toString:n})}),lme=lv(),ume=(t,e)=>lme(t,()=>r=>{const n=`${Mo(t.prefix)}k-${dc(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const a=[];cd(r,[],[],t,o=>a.push(o));const s=`@keyframes ${n}{${a.join("")}}`;e.rules.global.apply(s)}return n};return K4(i,{get name(){return i()},toString:i})}),cme=class{constructor(e,r,n,i){this.token=e==null?"":String(e),this.value=r==null?"":String(r),this.scale=n==null?"":String(n),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Mo(this.prefix)+Mo(this.scale)+this.token}toString(){return this.computedValue}},fme=lv(),dme=(t,e)=>fme(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${Mo(t.prefix)}t-${dc(n)}`}`,a={},s=[];for(const l in n){a[l]={};for(const u in n[l]){const c=`--${Mo(t.prefix)}${l}-${u}`,f=DY(String(n[l][u]),t.prefix,l);a[l][u]=new cme(u,f,l,t.prefix),s.push(`${c}:${f}`)}}const o=()=>{if(s.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const l=`${n===t.theme?":root,":""}.${r}{${s.join(";")}}`;e.rules.themed.apply(l)}return r};return{...a,get className(){return o()},selector:i,toString:o}}),hme=lv(),MY=t=>{let e=!1;const r=hme(t,n=>{e=!0;const i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",a=typeof n.media=="object"&&n.media||{},s=typeof n.root=="object"?n.root||null:globalThis.document||null,o=typeof n.theme=="object"&&n.theme||{},l={prefix:i,media:a,theme:o,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...jpe},utils:typeof n.utils=="object"&&n.utils||{}},u=Xpe(s),c={css:tme(l,u),globalCss:ome(l,u),keyframes:ume(l,u),createTheme:dme(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(o)),c});return e||r.reset(),r},pme=()=>wL||(wL=MY()),Jo=(...t)=>pme().keyframes(...t),Ey=function(t){return t&&t.Math===Math&&t},zr=Ey(typeof globalThis=="object"&&globalThis)||Ey(typeof window=="object"&&window)||Ey(typeof self=="object"&&self)||Ey(typeof Cn=="object"&&Cn)||function(){return this}()||Cn||Function("return this")(),uv={},br=function(t){try{return!!t()}catch{return!0}},mme=br,ki=!mme(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),gme=br,c2=!gme(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),vme=c2,Sy=Function.prototype.call,bn=vme?Sy.bind(Sy):function(){return Sy.apply(Sy,arguments)},Q4={},$Y={}.propertyIsEnumerable,FY=Object.getOwnPropertyDescriptor,yme=FY&&!$Y.call({1:2},1);Q4.f=yme?function(e){var r=FY(this,e);return!!r&&r.enumerable}:$Y;var cv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},BY=c2,UY=Function.prototype,xI=UY.call,bme=BY&&UY.bind.bind(xI,xI),Nr=BY?bme:function(t){return function(){return xI.apply(t,arguments)}},jY=Nr,xme=jY({}.toString),wme=jY("".slice),Yc=function(t){return wme(xme(t),8,-1)},Eme=Nr,Sme=br,Tme=Yc,tT=Object,Ame=Eme("".split),f2=Sme(function(){return!tT("z").propertyIsEnumerable(0)})?function(t){return Tme(t)==="String"?Ame(t,""):tT(t)}:tT,fv=function(t){return t==null},Rme=fv,_me=TypeError,Wh=function(t){if(Rme(t))throw _me("Can't call method on "+t);return t},Ime=f2,Cme=Wh,qh=function(t){return Ime(Cme(t))},wI=typeof document=="object"&&document.all,Pme=typeof wI>"u"&&wI!==void 0,zY={all:wI,IS_HTMLDDA:Pme},VY=zY,kme=VY.all,Lr=VY.IS_HTMLDDA?function(t){return typeof t=="function"||t===kme}:function(t){return typeof t=="function"},_L=Lr,YY=zY,Ome=YY.all,Xi=YY.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:_L(t)||t===Ome}:function(t){return typeof t=="object"?t!==null:_L(t)},rT=zr,Nme=Lr,Lme=function(t){return Nme(t)?t:void 0},Gc=function(t,e){return arguments.length<2?Lme(rT[t]):rT[t]&&rT[t][e]},Dme=Nr,d2=Dme({}.isPrototypeOf),h2=typeof navigator<"u"&&String(navigator.userAgent)||"",GY=zr,nT=h2,IL=GY.process,CL=GY.Deno,PL=IL&&IL.versions||CL&&CL.version,kL=PL&&PL.v8,Ga,hx;kL&&(Ga=kL.split("."),hx=Ga[0]>0&&Ga[0]<4?1:+(Ga[0]+Ga[1]));!hx&&nT&&(Ga=nT.match(/Edge\/(\d+)/),(!Ga||Ga[1]>=74)&&(Ga=nT.match(/Chrome\/(\d+)/),Ga&&(hx=+Ga[1])));var dv=hx,OL=dv,Mme=br,$me=zr,Fme=$me.String,HY=!!Object.getOwnPropertySymbols&&!Mme(function(){var t=Symbol("symbol detection");return!Fme(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&OL&&OL<41}),Bme=HY,WY=Bme&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ume=Gc,jme=Lr,zme=d2,Vme=WY,Yme=Object,qY=Vme?function(t){return typeof t=="symbol"}:function(t){var e=Ume("Symbol");return jme(e)&&zme(e.prototype,Yme(t))},Gme=String,p2=function(t){try{return Gme(t)}catch{return"Object"}},Hme=Lr,Wme=p2,qme=TypeError,el=function(t){if(Hme(t))return t;throw qme(Wme(t)+" is not a function")},Kme=el,Qme=fv,m2=function(t,e){var r=t[e];return Qme(r)?void 0:Kme(r)},iT=bn,aT=Lr,sT=Xi,Zme=TypeError,Xme=function(t,e){var r,n;if(e==="string"&&aT(r=t.toString)&&!sT(n=iT(r,t))||aT(r=t.valueOf)&&!sT(n=iT(r,t))||e!=="string"&&aT(r=t.toString)&&!sT(n=iT(r,t)))return n;throw Zme("Can't convert object to primitive value")},KY={exports:{}},Jme=!1,NL=zr,ege=Object.defineProperty,Z4=function(t,e){try{ege(NL,t,{value:e,configurable:!0,writable:!0})}catch{NL[t]=e}return e},tge=zr,rge=Z4,LL="__core-js_shared__",nge=tge[LL]||rge(LL,{}),X4=nge,DL=X4;(KY.exports=function(t,e){return DL[t]||(DL[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.32.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"});var J4=KY.exports,ige=Wh,age=Object,Cu=function(t){return age(ige(t))},sge=Nr,oge=Cu,lge=sge({}.hasOwnProperty),Ji=Object.hasOwn||function(e,r){return lge(oge(e),r)},uge=Nr,cge=0,fge=Math.random(),dge=uge(1 .toString),QY=function(t){return"Symbol("+(t===void 0?"":t)+")_"+dge(++cge+fge,36)},hge=zr,pge=J4,ML=Ji,mge=QY,gge=HY,vge=WY,fd=hge.Symbol,oT=pge("wks"),yge=vge?fd.for||fd:fd&&fd.withoutSetter||mge,xr=function(t){return ML(oT,t)||(oT[t]=gge&&ML(fd,t)?fd[t]:yge("Symbol."+t)),oT[t]},bge=bn,$L=Xi,FL=qY,xge=m2,wge=Xme,Ege=xr,Sge=TypeError,Tge=Ege("toPrimitive"),Age=function(t,e){if(!$L(t)||FL(t))return t;var r=xge(t,Tge),n;if(r){if(e===void 0&&(e="default"),n=bge(r,t,e),!$L(n)||FL(n))return n;throw Sge("Can't convert object to primitive value")}return e===void 0&&(e="number"),wge(t,e)},Rge=Age,_ge=qY,eP=function(t){var e=Rge(t,"string");return _ge(e)?e:e+""},Ige=zr,BL=Xi,EI=Ige.document,Cge=BL(EI)&&BL(EI.createElement),g2=function(t){return Cge?EI.createElement(t):{}},Pge=ki,kge=br,Oge=g2,ZY=!Pge&&!kge(function(){return Object.defineProperty(Oge("div"),"a",{get:function(){return 7}}).a!==7}),Nge=ki,Lge=bn,Dge=Q4,Mge=cv,$ge=qh,Fge=eP,Bge=Ji,Uge=ZY,UL=Object.getOwnPropertyDescriptor;uv.f=Nge?UL:function(e,r){if(e=$ge(e),r=Fge(r),Uge)try{return UL(e,r)}catch{}if(Bge(e,r))return Mge(!Lge(Dge.f,e,r),e[r])};var Qs={},jge=ki,zge=br,XY=jge&&zge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Vge=Xi,Yge=String,Gge=TypeError,qn=function(t){if(Vge(t))return t;throw Gge(Yge(t)+" is not an object")},Hge=ki,Wge=ZY,qge=XY,Ty=qn,jL=eP,Kge=TypeError,lT=Object.defineProperty,Qge=Object.getOwnPropertyDescriptor,uT="enumerable",cT="configurable",fT="writable";Qs.f=Hge?qge?function(e,r,n){if(Ty(e),r=jL(r),Ty(n),typeof e=="function"&&r==="prototype"&&"value"in n&&fT in n&&!n[fT]){var i=Qge(e,r);i&&i[fT]&&(e[r]=n.value,n={configurable:cT in n?n[cT]:i[cT],enumerable:uT in n?n[uT]:i[uT],writable:!1})}return lT(e,r,n)}:lT:function(e,r,n){if(Ty(e),r=jL(r),Ty(n),Wge)try{return lT(e,r,n)}catch{}if("get"in n||"set"in n)throw Kge("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Zge=ki,Xge=Qs,Jge=cv,hv=Zge?function(t,e,r){return Xge.f(t,e,Jge(1,r))}:function(t,e,r){return t[e]=r,t},JY={exports:{}},SI=ki,eve=Ji,eG=Function.prototype,tve=SI&&Object.getOwnPropertyDescriptor,tP=eve(eG,"name"),rve=tP&&function(){}.name==="something",nve=tP&&(!SI||SI&&tve(eG,"name").configurable),rP={EXISTS:tP,PROPER:rve,CONFIGURABLE:nve},ive=Nr,ave=Lr,TI=X4,sve=ive(Function.toString);ave(TI.inspectSource)||(TI.inspectSource=function(t){return sve(t)});var nP=TI.inspectSource,ove=zr,lve=Lr,zL=ove.WeakMap,uve=lve(zL)&&/native code/.test(String(zL)),cve=J4,fve=QY,VL=cve("keys"),iP=function(t){return VL[t]||(VL[t]=fve(t))},aP={},dve=uve,tG=zr,hve=Xi,pve=hv,dT=Ji,hT=X4,mve=iP,gve=aP,YL="Object already initialized",AI=tG.TypeError,vve=tG.WeakMap,px,Fm,mx,yve=function(t){return mx(t)?Fm(t):px(t,{})},bve=function(t){return function(e){var r;if(!hve(e)||(r=Fm(e)).type!==t)throw AI("Incompatible receiver, "+t+" required");return r}};if(dve||hT.state){var ds=hT.state||(hT.state=new vve);ds.get=ds.get,ds.has=ds.has,ds.set=ds.set,px=function(t,e){if(ds.has(t))throw AI(YL);return e.facade=t,ds.set(t,e),e},Fm=function(t){return ds.get(t)||{}},mx=function(t){return ds.has(t)}}else{var gf=mve("state");gve[gf]=!0,px=function(t,e){if(dT(t,gf))throw AI(YL);return e.facade=t,pve(t,gf,e),e},Fm=function(t){return dT(t,gf)?t[gf]:{}},mx=function(t){return dT(t,gf)}}var Hc={set:px,get:Fm,has:mx,enforce:yve,getterFor:bve},sP=Nr,xve=br,wve=Lr,Ay=Ji,RI=ki,Eve=rP.CONFIGURABLE,Sve=nP,rG=Hc,Tve=rG.enforce,Ave=rG.get,GL=String,Kb=Object.defineProperty,Rve=sP("".slice),_ve=sP("".replace),Ive=sP([].join),Cve=RI&&!xve(function(){return Kb(function(){},"length",{value:8}).length!==8}),Pve=String(String).split("String"),kve=JY.exports=function(t,e,r){Rve(GL(e),0,7)==="Symbol("&&(e="["+_ve(GL(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Ay(t,"name")||Eve&&t.name!==e)&&(RI?Kb(t,"name",{value:e,configurable:!0}):t.name=e),Cve&&r&&Ay(r,"arity")&&t.length!==r.arity&&Kb(t,"length",{value:r.arity});try{r&&Ay(r,"constructor")&&r.constructor?RI&&Kb(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=Tve(t);return Ay(n,"source")||(n.source=Ive(Pve,typeof e=="string"?e:"")),t};Function.prototype.toString=kve(function(){return wve(this)&&Ave(this).source||Sve(this)},"toString");var nG=JY.exports,Ove=Lr,Nve=Qs,Lve=nG,Dve=Z4,us=function(t,e,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(Ove(r)&&Lve(r,a,n),n.global)i?t[e]=r:Dve(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:Nve.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},iG={},Mve=Math.ceil,$ve=Math.floor,Fve=Math.trunc||function(e){var r=+e;return(r>0?$ve:Mve)(r)},Bve=Fve,v2=function(t){var e=+t;return e!==e||e===0?0:Bve(e)},Uve=v2,jve=Math.max,zve=Math.min,oP=function(t,e){var r=Uve(t);return r<0?jve(r+e,0):zve(r,e)},Vve=v2,Yve=Math.min,lP=function(t){return t>0?Yve(Vve(t),9007199254740991):0},Gve=lP,Pu=function(t){return Gve(t.length)},Hve=qh,Wve=oP,qve=Pu,HL=function(t){return function(e,r,n){var i=Hve(e),a=qve(i),s=Wve(n,a),o;if(t&&r!==r){for(;a>s;)if(o=i[s++],o!==o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},aG={includes:HL(!0),indexOf:HL(!1)},Kve=Nr,pT=Ji,Qve=qh,Zve=aG.indexOf,Xve=aP,WL=Kve([].push),sG=function(t,e){var r=Qve(t),n=0,i=[],a;for(a in r)!pT(Xve,a)&&pT(r,a)&&WL(i,a);for(;e.length>n;)pT(r,a=e[n++])&&(~Zve(i,a)||WL(i,a));return i},uP=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Jve=sG,eye=uP,tye=eye.concat("length","prototype");iG.f=Object.getOwnPropertyNames||function(e){return Jve(e,tye)};var cP={};cP.f=Object.getOwnPropertySymbols;var rye=Gc,nye=Nr,iye=iG,aye=cP,sye=qn,oye=nye([].concat),lye=rye("Reflect","ownKeys")||function(e){var r=iye.f(sye(e)),n=aye.f;return n?oye(r,n(e)):r},qL=Ji,uye=lye,cye=uv,fye=Qs,dye=function(t,e,r){for(var n=uye(e),i=fye.f,a=cye.f,s=0;s<n.length;s++){var o=n[s];!qL(t,o)&&!(r&&qL(r,o))&&i(t,o,a(e,o))}},hye=br,pye=Lr,mye=/#|\.prototype\./,pv=function(t,e){var r=vye[gye(t)];return r===bye?!0:r===yye?!1:pye(e)?hye(e):!!e},gye=pv.normalize=function(t){return String(t).replace(mye,".").toLowerCase()},vye=pv.data={},yye=pv.NATIVE="N",bye=pv.POLYFILL="P",oG=pv,mT=zr,xye=uv.f,wye=hv,Eye=us,Sye=Z4,Tye=dye,Aye=oG,un=function(t,e){var r=t.target,n=t.global,i=t.stat,a,s,o,l,u,c;if(n?s=mT:i?s=mT[r]||Sye(r,{}):s=(mT[r]||{}).prototype,s)for(o in e){if(u=e[o],t.dontCallGetSet?(c=xye(s,o),l=c&&c.value):l=s[o],a=Aye(n?o:r+(i?".":"#")+o,t.forced),!a&&l!==void 0){if(typeof u==typeof l)continue;Tye(u,l)}(t.sham||l&&l.sham)&&wye(u,"sham",!0),Eye(s,o,u,t)}},Rye=xr,_ye=Rye("toStringTag"),lG={};lG[_ye]="z";var fP=String(lG)==="[object z]",Iye=fP,Cye=Lr,Qb=Yc,Pye=xr,kye=Pye("toStringTag"),Oye=Object,Nye=Qb(function(){return arguments}())==="Arguments",Lye=function(t,e){try{return t[e]}catch{}},mv=Iye?Qb:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Lye(e=Oye(t),kye))=="string"?r:Nye?Qb(e):(n=Qb(e))==="Object"&&Cye(e.callee)?"Arguments":n},Dye=mv,Mye=String,tl=function(t){if(Dye(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Mye(t)},$ye=qn,uG=function(){var t=$ye(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},dP=br,Fye=zr,hP=Fye.RegExp,pP=dP(function(){var t=hP("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),Bye=pP||dP(function(){return!hP("a","y").sticky}),Uye=pP||dP(function(){var t=hP("^r","gy");return t.lastIndex=2,t.exec("str")!==null}),jye={BROKEN_CARET:Uye,MISSED_STICKY:Bye,UNSUPPORTED_Y:pP},cG={},zye=sG,Vye=uP,fG=Object.keys||function(e){return zye(e,Vye)},Yye=ki,Gye=XY,Hye=Qs,Wye=qn,qye=qh,Kye=fG;cG.f=Yye&&!Gye?Object.defineProperties:function(e,r){Wye(e);for(var n=qye(r),i=Kye(r),a=i.length,s=0,o;a>s;)Hye.f(e,o=i[s++],n[o]);return e};var Qye=Gc,dG=Qye("document","documentElement"),Zye=qn,Xye=cG,KL=uP,Jye=aP,ebe=dG,tbe=g2,rbe=iP,QL=">",ZL="<",_I="prototype",II="script",hG=rbe("IE_PROTO"),gT=function(){},pG=function(t){return ZL+II+QL+t+ZL+"/"+II+QL},XL=function(t){t.write(pG("")),t.close();var e=t.parentWindow.Object;return t=null,e},nbe=function(){var t=tbe("iframe"),e="java"+II+":",r;return t.style.display="none",ebe.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(pG("document.F=Object")),r.close(),r.F},Ry,Zb=function(){try{Ry=new ActiveXObject("htmlfile")}catch{}Zb=typeof document<"u"?document.domain&&Ry?XL(Ry):nbe():XL(Ry);for(var t=KL.length;t--;)delete Zb[_I][KL[t]];return Zb()};Jye[hG]=!0;var y2=Object.create||function(e,r){var n;return e!==null?(gT[_I]=Zye(e),n=new gT,gT[_I]=null,n[hG]=e):n=Zb(),r===void 0?n:Xye.f(n,r)},ibe=br,abe=zr,sbe=abe.RegExp,obe=ibe(function(){var t=sbe(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),lbe=br,ube=zr,cbe=ube.RegExp,fbe=lbe(function(){var t=cbe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),dd=bn,b2=Nr,dbe=tl,hbe=uG,pbe=jye,mbe=J4,gbe=y2,vbe=Hc.get,ybe=obe,bbe=fbe,xbe=mbe("native-string-replace",String.prototype.replace),gx=RegExp.prototype.exec,CI=gx,wbe=b2("".charAt),Ebe=b2("".indexOf),Sbe=b2("".replace),vT=b2("".slice),PI=function(){var t=/a/,e=/b*/g;return dd(gx,t,"a"),dd(gx,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),mG=pbe.BROKEN_CARET,kI=/()??/.exec("")[1]!==void 0,Tbe=PI||kI||mG||ybe||bbe;Tbe&&(CI=function(e){var r=this,n=vbe(r),i=dbe(e),a=n.raw,s,o,l,u,c,f,d;if(a)return a.lastIndex=r.lastIndex,s=dd(CI,a,i),r.lastIndex=a.lastIndex,s;var h=n.groups,p=mG&&r.sticky,m=dd(hbe,r),g=r.source,v=0,b=i;if(p&&(m=Sbe(m,"y",""),Ebe(m,"g")===-1&&(m+="g"),b=vT(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&wbe(i,r.lastIndex-1)!==`
`)&&(g="(?: "+g+")",b=" "+b,v++),o=new RegExp("^(?:"+g+")",m)),kI&&(o=new RegExp("^"+g+"$(?!\\s)",m)),PI&&(l=r.lastIndex),u=dd(gx,p?o:r,b),p?u?(u.input=vT(u.input,v),u[0]=vT(u[0],v),u.index=r.lastIndex,r.lastIndex+=u[0].length):r.lastIndex=0:PI&&u&&(r.lastIndex=r.global?u.index+u[0].length:l),kI&&u&&u.length>1&&dd(xbe,u[0],o,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(u[c]=void 0)}),u&&h)for(u.groups=f=gbe(null),c=0;c<h.length;c++)d=h[c],f[d[0]]=u[d[1]];return u});var mP=CI,Abe=un,JL=mP;Abe({target:"RegExp",proto:!0,forced:/./.exec!==JL},{exec:JL});var Rbe=fP,_be=mv,Ibe=Rbe?{}.toString:function(){return"[object "+_be(this)+"]"},Cbe=fP,Pbe=us,kbe=Ibe;Cbe||Pbe(Object.prototype,"toString",kbe,{unsafe:!0});var Obe=zr,Nbe=Yc,gv=Nbe(Obe.process)==="process",Lbe=Nr,Dbe=el,Mbe=function(t,e,r){try{return Lbe(Dbe(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},$be=Lr,Fbe=String,Bbe=TypeError,Ube=function(t){if(typeof t=="object"||$be(t))return t;throw Bbe("Can't set "+Fbe(t)+" as a prototype")},jbe=Mbe,zbe=qn,Vbe=Ube,gG=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=jbe(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(i,a){return zbe(i),Vbe(a),t?r(i,a):i.__proto__=a,i}}():void 0),Ybe=Qs.f,Gbe=Ji,Hbe=xr,eD=Hbe("toStringTag"),vv=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Gbe(t,eD)&&Ybe(t,eD,{configurable:!0,value:e})},tD=nG,Wbe=Qs,gP=function(t,e,r){return r.get&&tD(r.get,e,{getter:!0}),r.set&&tD(r.set,e,{setter:!0}),Wbe.f(t,e,r)},qbe=Gc,Kbe=gP,Qbe=xr,Zbe=ki,rD=Qbe("species"),Xbe=function(t){var e=qbe(t);Zbe&&e&&!e[rD]&&Kbe(e,rD,{configurable:!0,get:function(){return this}})},Jbe=d2,e1e=TypeError,vP=function(t,e){if(Jbe(e,t))return t;throw e1e("Incorrect invocation")},t1e=Nr,r1e=br,vG=Lr,n1e=mv,i1e=Gc,a1e=nP,yG=function(){},s1e=[],bG=i1e("Reflect","construct"),yP=/^\s*(?:class|function)\b/,o1e=t1e(yP.exec),l1e=!yP.exec(yG),_0=function(e){if(!vG(e))return!1;try{return bG(yG,s1e,e),!0}catch{return!1}},xG=function(e){if(!vG(e))return!1;switch(n1e(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l1e||!!o1e(yP,a1e(e))}catch{return!0}};xG.sham=!0;var x2=!bG||r1e(function(){var t;return _0(_0.call)||!_0(Object)||!_0(function(){t=!0})||t})?xG:_0,u1e=x2,c1e=p2,f1e=TypeError,d1e=function(t){if(u1e(t))return t;throw f1e(c1e(t)+" is not a constructor")},nD=qn,h1e=d1e,p1e=fv,m1e=xr,g1e=m1e("species"),v1e=function(t,e){var r=nD(t).constructor,n;return r===void 0||p1e(n=nD(r)[g1e])?e:h1e(n)},y1e=c2,wG=Function.prototype,iD=wG.apply,aD=wG.call,EG=typeof Reflect=="object"&&Reflect.apply||(y1e?aD.bind(iD):function(){return aD.apply(iD,arguments)}),b1e=Yc,x1e=Nr,bP=function(t){if(b1e(t)==="Function")return x1e(t)},sD=bP,w1e=el,E1e=c2,S1e=sD(sD.bind),Wc=function(t,e){return w1e(t),e===void 0?t:E1e?S1e(t,e):function(){return t.apply(e,arguments)}},T1e=Nr,SG=T1e([].slice),A1e=TypeError,xP=function(t,e){if(t<e)throw A1e("Not enough arguments");return t},R1e=h2,TG=/(?:ipad|iphone|ipod).*applewebkit/i.test(R1e),ji=zr,_1e=EG,I1e=Wc,oD=Lr,C1e=Ji,AG=br,lD=dG,P1e=SG,uD=g2,k1e=xP,O1e=TG,N1e=gv,OI=ji.setImmediate,NI=ji.clearImmediate,L1e=ji.process,yT=ji.Dispatch,D1e=ji.Function,cD=ji.MessageChannel,M1e=ji.String,bT=0,Fp={},fD="onreadystatechange",Bm,Fu,xT,wT;AG(function(){Bm=ji.location});var wP=function(t){if(C1e(Fp,t)){var e=Fp[t];delete Fp[t],e()}},ET=function(t){return function(){wP(t)}},dD=function(t){wP(t.data)},hD=function(t){ji.postMessage(M1e(t),Bm.protocol+"//"+Bm.host)};(!OI||!NI)&&(OI=function(e){k1e(arguments.length,1);var r=oD(e)?e:D1e(e),n=P1e(arguments,1);return Fp[++bT]=function(){_1e(r,void 0,n)},Fu(bT),bT},NI=function(e){delete Fp[e]},N1e?Fu=function(t){L1e.nextTick(ET(t))}:yT&&yT.now?Fu=function(t){yT.now(ET(t))}:cD&&!O1e?(xT=new cD,wT=xT.port2,xT.port1.onmessage=dD,Fu=I1e(wT.postMessage,wT)):ji.addEventListener&&oD(ji.postMessage)&&!ji.importScripts&&Bm&&Bm.protocol!=="file:"&&!AG(hD)?(Fu=hD,ji.addEventListener("message",dD,!1)):fD in uD("script")?Fu=function(t){lD.appendChild(uD("script"))[fD]=function(){lD.removeChild(this),wP(t)}}:Fu=function(t){setTimeout(ET(t),0)});var RG={set:OI,clear:NI},_G=function(){this.head=null,this.tail=null};_G.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var IG=_G,$1e=h2,F1e=/ipad|iphone|ipod/i.test($1e)&&typeof Pebble<"u",B1e=h2,U1e=/web0s(?!.*chrome)/i.test(B1e),Ac=zr,pD=Wc,j1e=uv.f,ST=RG.set,z1e=IG,V1e=TG,Y1e=F1e,G1e=U1e,TT=gv,mD=Ac.MutationObserver||Ac.WebKitMutationObserver,gD=Ac.document,vD=Ac.process,_y=Ac.Promise,yD=j1e(Ac,"queueMicrotask"),LI=yD&&yD.value,vf,AT,RT,Iy,bD;if(!LI){var Cy=new z1e,Py=function(){var t,e;for(TT&&(t=vD.domain)&&t.exit();e=Cy.get();)try{e()}catch(r){throw Cy.head&&vf(),r}t&&t.enter()};!V1e&&!TT&&!G1e&&mD&&gD?(AT=!0,RT=gD.createTextNode(""),new mD(Py).observe(RT,{characterData:!0}),vf=function(){RT.data=AT=!AT}):!Y1e&&_y&&_y.resolve?(Iy=_y.resolve(void 0),Iy.constructor=_y,bD=pD(Iy.then,Iy),vf=function(){bD(Py)}):TT?vf=function(){vD.nextTick(Py)}:(ST=pD(ST,Ac),vf=function(){ST(Py)}),LI=function(t){Cy.head||vf(),Cy.add(t)}}var H1e=LI,W1e=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},EP=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},q1e=zr,w2=q1e.Promise,CG=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",K1e=CG,Q1e=gv,Z1e=!K1e&&!Q1e&&typeof window=="object"&&typeof document=="object",X1e=zr,Bp=w2,J1e=Lr,exe=oG,txe=nP,rxe=xr,nxe=Z1e,ixe=CG,_T=dv;Bp&&Bp.prototype;var axe=rxe("species"),DI=!1,PG=J1e(X1e.PromiseRejectionEvent),sxe=exe("Promise",function(){var t=txe(Bp),e=t!==String(Bp);if(!e&&_T===66)return!0;if(!_T||_T<51||!/native code/.test(t)){var r=new Bp(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[axe]=n,DI=r.then(function(){})instanceof n,!DI)return!0}return!e&&(nxe||ixe)&&!PG}),yv={CONSTRUCTOR:sxe,REJECTION_EVENT:PG,SUBCLASSING:DI},Kh={},xD=el,oxe=TypeError,lxe=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw oxe("Bad Promise constructor");e=n,r=i}),this.resolve=xD(e),this.reject=xD(r)};Kh.f=function(t){return new lxe(t)};var uxe=un,vx=gv,su=zr,hh=bn,wD=us,ED=gG,cxe=vv,fxe=Xbe,dxe=el,Xb=Lr,hxe=Xi,pxe=vP,mxe=v1e,kG=RG.set,SP=H1e,gxe=W1e,vxe=EP,yxe=IG,OG=Hc,yx=w2,TP=yv,NG=Kh,E2="Promise",LG=TP.CONSTRUCTOR,bxe=TP.REJECTION_EVENT,xxe=TP.SUBCLASSING,IT=OG.getterFor(E2),wxe=OG.set,$f=yx&&yx.prototype,Qu=yx,ky=$f,DG=su.TypeError,MI=su.document,AP=su.process,$I=NG.f,Exe=$I,Sxe=!!(MI&&MI.createEvent&&su.dispatchEvent),MG="unhandledrejection",Txe="rejectionhandled",SD=0,$G=1,Axe=2,RP=1,FG=2,Oy,TD,Rxe,AD,BG=function(t){var e;return hxe(t)&&Xb(e=t.then)?e:!1},UG=function(t,e){var r=e.value,n=e.state===$G,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,o=t.domain,l,u,c;try{i?(n||(e.rejection===FG&&Ixe(e),e.rejection=RP),i===!0?l=r:(o&&o.enter(),l=i(r),o&&(o.exit(),c=!0)),l===t.promise?s(DG("Promise-chain cycle")):(u=BG(l))?hh(u,l,a,s):a(l)):s(r)}catch(f){o&&!c&&o.exit(),s(f)}},jG=function(t,e){t.notified||(t.notified=!0,SP(function(){for(var r=t.reactions,n;n=r.get();)UG(n,t);t.notified=!1,e&&!t.rejection&&_xe(t)}))},zG=function(t,e,r){var n,i;Sxe?(n=MI.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),su.dispatchEvent(n)):n={promise:e,reason:r},!bxe&&(i=su["on"+t])?i(n):t===MG&&gxe("Unhandled promise rejection",r)},_xe=function(t){hh(kG,su,function(){var e=t.facade,r=t.value,n=RD(t),i;if(n&&(i=vxe(function(){vx?AP.emit("unhandledRejection",r,e):zG(MG,e,r)}),t.rejection=vx||RD(t)?FG:RP,i.error))throw i.value})},RD=function(t){return t.rejection!==RP&&!t.parent},Ixe=function(t){hh(kG,su,function(){var e=t.facade;vx?AP.emit("rejectionHandled",e):zG(Txe,e,t.value)})},hd=function(t,e,r){return function(n){t(e,n,r)}},Ld=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=Axe,jG(t,!0))},FI=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw DG("Promise can't be resolved itself");var n=BG(e);n?SP(function(){var i={done:!1};try{hh(n,e,hd(FI,i,t),hd(Ld,i,t))}catch(a){Ld(i,a,t)}}):(t.value=e,t.state=$G,jG(t,!1))}catch(i){Ld({done:!1},i,t)}}};if(LG&&(Qu=function(e){pxe(this,ky),dxe(e),hh(Oy,this);var r=IT(this);try{e(hd(FI,r),hd(Ld,r))}catch(n){Ld(r,n)}},ky=Qu.prototype,Oy=function(e){wxe(this,{type:E2,done:!1,notified:!1,parent:!1,reactions:new yxe,rejection:!1,state:SD,value:void 0})},Oy.prototype=wD(ky,"then",function(e,r){var n=IT(this),i=$I(mxe(this,Qu));return n.parent=!0,i.ok=Xb(e)?e:!0,i.fail=Xb(r)&&r,i.domain=vx?AP.domain:void 0,n.state===SD?n.reactions.add(i):SP(function(){UG(i,n)}),i.promise}),TD=function(){var t=new Oy,e=IT(t);this.promise=t,this.resolve=hd(FI,e),this.reject=hd(Ld,e)},NG.f=$I=function(t){return t===Qu||t===Rxe?new TD(t):Exe(t)},Xb(yx)&&$f!==Object.prototype)){AD=$f.then,xxe||wD($f,"then",function(e,r){var n=this;return new Qu(function(i,a){hh(AD,n,i,a)}).then(e,r)},{unsafe:!0});try{delete $f.constructor}catch{}ED&&ED($f,ky)}uxe({global:!0,constructor:!0,wrap:!0,forced:LG},{Promise:Qu});cxe(Qu,E2,!1);fxe(E2);var bv={},Cxe=xr,Pxe=bv,kxe=Cxe("iterator"),Oxe=Array.prototype,VG=function(t){return t!==void 0&&(Pxe.Array===t||Oxe[kxe]===t)},Nxe=mv,_D=m2,Lxe=fv,Dxe=bv,Mxe=xr,$xe=Mxe("iterator"),S2=function(t){if(!Lxe(t))return _D(t,$xe)||_D(t,"@@iterator")||Dxe[Nxe(t)]},Fxe=bn,Bxe=el,Uxe=qn,jxe=p2,zxe=S2,Vxe=TypeError,_P=function(t,e){var r=arguments.length<2?zxe(t):e;if(Bxe(r))return Uxe(Fxe(r,t));throw Vxe(jxe(t)+" is not iterable")},Yxe=bn,ID=qn,Gxe=m2,YG=function(t,e,r){var n,i;ID(t);try{if(n=Gxe(t,"return"),!n){if(e==="throw")throw r;return r}n=Yxe(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return ID(n),r},Hxe=Wc,Wxe=bn,qxe=qn,Kxe=p2,Qxe=VG,Zxe=Pu,CD=d2,Xxe=_P,Jxe=S2,PD=YG,ewe=TypeError,Jb=function(t,e){this.stopped=t,this.result=e},kD=Jb.prototype,GG=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),l=Hxe(e,n),u,c,f,d,h,p,m,g=function(b){return u&&PD(u,"normal",b),new Jb(!0,b)},v=function(b){return i?(qxe(b),o?l(b[0],b[1],g):l(b[0],b[1])):o?l(b,g):l(b)};if(a)u=t.iterator;else if(s)u=t;else{if(c=Jxe(t),!c)throw ewe(Kxe(t)+" is not iterable");if(Qxe(c)){for(f=0,d=Zxe(t);d>f;f++)if(h=v(t[f]),h&&CD(kD,h))return h;return new Jb(!1)}u=Xxe(t,c)}for(p=a?t.next:u.next;!(m=Wxe(p,u)).done;){try{h=v(m.value)}catch(b){PD(u,"throw",b)}if(typeof h=="object"&&h&&CD(kD,h))return h}return new Jb(!1)},twe=xr,HG=twe("iterator"),WG=!1;try{var rwe=0,OD={next:function(){return{done:!!rwe++}},return:function(){WG=!0}};OD[HG]=function(){return this},Array.from(OD,function(){throw 2})}catch{}var nwe=function(t,e){try{if(!e&&!WG)return!1}catch{return!1}var r=!1;try{var n={};n[HG]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},iwe=w2,awe=nwe,swe=yv.CONSTRUCTOR,qG=swe||!awe(function(t){iwe.all(t).then(void 0,function(){})}),owe=un,lwe=bn,uwe=el,cwe=Kh,fwe=EP,dwe=GG,hwe=qG;owe({target:"Promise",stat:!0,forced:hwe},{all:function(e){var r=this,n=cwe.f(r),i=n.resolve,a=n.reject,s=fwe(function(){var o=uwe(r.resolve),l=[],u=0,c=1;dwe(e,function(f){var d=u++,h=!1;c++,lwe(o,r,f).then(function(p){h||(h=!0,l[d]=p,--c||i(l))},a)}),--c||i(l)});return s.error&&a(s.value),n.promise}});var pwe=un,mwe=yv.CONSTRUCTOR,BI=w2,gwe=Gc,vwe=Lr,ywe=us,ND=BI&&BI.prototype;pwe({target:"Promise",proto:!0,forced:mwe,real:!0},{catch:function(t){return this.then(void 0,t)}});if(vwe(BI)){var LD=gwe("Promise").prototype.catch;ND.catch!==LD&&ywe(ND,"catch",LD,{unsafe:!0})}var bwe=un,xwe=bn,wwe=el,Ewe=Kh,Swe=EP,Twe=GG,Awe=qG;bwe({target:"Promise",stat:!0,forced:Awe},{race:function(e){var r=this,n=Ewe.f(r),i=n.reject,a=Swe(function(){var s=wwe(r.resolve);Twe(e,function(o){xwe(s,r,o).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var Rwe=un,_we=bn,Iwe=Kh,Cwe=yv.CONSTRUCTOR;Rwe({target:"Promise",stat:!0,forced:Cwe},{reject:function(e){var r=Iwe.f(this);return _we(r.reject,void 0,e),r.promise}});var Pwe=qn,kwe=Xi,Owe=Kh,Nwe=function(t,e){if(Pwe(t),kwe(e)&&e.constructor===t)return e;var r=Owe.f(t),n=r.resolve;return n(e),r.promise},Lwe=un,Dwe=Gc,Mwe=yv.CONSTRUCTOR,$we=Nwe;Dwe("Promise");Lwe({target:"Promise",stat:!0,forced:Mwe},{resolve:function(e){return $we(this,e)}});var Fwe=xr,Bwe=y2,Uwe=Qs.f,UI=Fwe("unscopables"),jI=Array.prototype;jI[UI]===void 0&&Uwe(jI,UI,{configurable:!0,value:Bwe(null)});var KG=function(t){jI[UI][t]=!0},jwe=un,zwe=aG.includes,Vwe=br,Ywe=KG,Gwe=Vwe(function(){return!Array(1).includes()});jwe({target:"Array",proto:!0,forced:Gwe},{includes:function(e){return zwe(this,e,arguments.length>1?arguments[1]:void 0)}});Ywe("includes");var Hwe=Xi,Wwe=Yc,qwe=xr,Kwe=qwe("match"),Qwe=function(t){var e;return Hwe(t)&&((e=t[Kwe])!==void 0?!!e:Wwe(t)==="RegExp")},Zwe=Qwe,Xwe=TypeError,QG=function(t){if(Zwe(t))throw Xwe("The method doesn't accept regular expressions");return t},Jwe=xr,e2e=Jwe("match"),ZG=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[e2e]=!1,"/./"[t](e)}catch{}}return!1},t2e=un,r2e=Nr,n2e=QG,i2e=Wh,DD=tl,a2e=ZG,s2e=r2e("".indexOf);t2e({target:"String",proto:!0,forced:!a2e("includes")},{includes:function(e){return!!~s2e(DD(i2e(this)),DD(n2e(e)),arguments.length>1?arguments[1]:void 0)}});function o2e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l2e(t){var e=o2e(t,"string");return typeof e=="symbol"?e:String(e)}function Ma(t,e,r){return e=l2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qc=function(){return typeof window<"u"},XG=function(){var e,r,n;return qc()?(e=window)===null||e===void 0||(r=e.navigator)===null||r===void 0||(n=r.userAgent)===null||n===void 0?void 0:n.toLowerCase():""},JG=function(){return/iphone|ipad|ipod|ios|CriOS|FxiOS/.test(XG())},eH=function(){return/android/.test(XG())},bx=function(){return qc()&&(JG()||eH())},tH=function(e){if(qc()&&e!==null&&e!==void 0&&e.mime){var r;if(e!=null&&(r=e.type)!==null&&r!==void 0&&r.includes("audio")){var n=document.createElement("audio");return n.canPlayType(e.mime).length>0}else{var i=document.createElement("video");return i.canPlayType(e.mime).length>0}}return!0},gl="#00a55f",u2e="#B7B7B7",CT="rgba(255,255,255,1)",c2e={borderStyles:{containerBorderStyle:"solid"},borderWidths:{containerBorderWidth:0,loadingWidth:"3px"},colors:{accent:gl,background:"#000000",containerBorderColor:"transparent",icon:CT,iconHover:"rgba(255,255,255,0.8)",liveIndicator:"#e5484d",loading:gl,progressLeft:gl,progressMiddle:gl,progressRight:gl,progressThumb:CT,volumeLeft:gl,volumeMiddle:gl,volumeRight:gl,volumeThumb:CT,errorText:u2e},fonts:{display:"ui-sans-serif"},fontSizes:{timeFontSize:"1.0rem",timeFontSizeMd:"0.95rem",timeFontSizeSm:"0.85rem",titleFontSize:"1.1rem",titleFontSizeMd:"1rem",titleFontSizeSm:"0.9rem",errorTitleFontSize:"2.5rem",errorTitleFontSizeMd:"2.0rem",errorTitleFontSizeSm:"1.3rem",errorTextFontSize:"0.95rem",errorTextFontSizeMd:"0.85rem",errorTextFontSizeSm:"0.75rem"},fontWeights:{titleFontWeight:"400",errorTitleFontWeight:"700"},sizes:{iconButtonSize:"42px",iconButtonSizeSm:"36px",liveIndicatorSize:"5px",loading:"64px",thumb:"10px",thumbActive:"12px",trackActive:"5px",trackContainerHeight:"15px",trackContainerHeightSm:"20px",trackInactive:"3px"},space:{controlsBottomMarginX:"10px",controlsBottomMarginY:"5px",controlsTopMarginX:"15px",controlsTopMarginY:"10px",timeMarginX:"8px"},radii:{containerBorderRadius:"0px",slider:"3px"}},T2=MY({media:{sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},theme:c2e}),ct=T2.css,f2e=T2.createTheme;T2.theme;T2.getCssText;var d2e=Jo({"0%":{transform:"scale(1)"},"100%":{transform:"scale(1.1)"}}),h2e=ct("button",{background:"none",border:"none",cursor:"pointer",outline:"inherit",padding:0,height:"$iconButtonSizeSm",width:"$iconButtonSizeSm",minHeight:"$iconButtonSizeSm",minWidth:"$iconButtonSizeSm","@lg":{height:"$iconButtonSize",width:"$iconButtonSize",minHeight:"$iconButtonSize",minWidth:"$iconButtonSize"},color:"$icon","&:hover":{color:"$iconHover",animation:bx()?void 0:"".concat(d2e," 200ms")}}),Bu,p2e=ct("div",{variants:{aspectRatio:(Bu={},Ma(Bu,Qr[0].key,Ma({aspectRatio:Qr[0].value},"@supports not (aspect-ratio: ".concat(Qr[0].value,")"),{"&:before":{float:"left",paddingTop:"calc(".concat(Qr[0].value,")%"),content:""},"&:after":{display:"block",content:"",clear:"both"}})),Ma(Bu,Qr[1].key,Ma({aspectRatio:Qr[1].value},"@supports not (aspect-ratio: ".concat(Qr[1].value,")"),{"&:before":{float:"left",paddingTop:"calc(".concat(Qr[1].value,")%"),content:""},"&:after":{display:"block",content:"",clear:"both"}})),Ma(Bu,Qr[2].key,Ma({aspectRatio:Qr[2].value},"@supports not (aspect-ratio: ".concat(Qr[2].value,")"),{"&:before":{float:"left",paddingTop:"calc(".concat(Qr[2].value,")%"),content:""},"&:after":{display:"block",content:"",clear:"both"}})),Ma(Bu,Qr[3].key,Ma({aspectRatio:Qr[3].value},"@supports not (aspect-ratio: ".concat(Qr[3].value,")"),{"&:before":{float:"left",paddingTop:"calc(".concat(Qr[3].value,")%"),content:""},"&:after":{display:"block",content:"",clear:"both"}})),Ma(Bu,Qr[4].key,Ma({aspectRatio:Qr[4].value},"@supports not (aspect-ratio: ".concat(Qr[4].value,")"),{"&:before":{float:"left",paddingTop:"calc(".concat(Qr[4].value,")%"),content:""},"&:after":{display:"block",content:"",clear:"both"}})),Bu)}}),m2e=ct(p2e,{fontFamily:"$display, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",backgroundColor:"$background",overflow:"hidden",maxWidth:"100%",maxHeight:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flex:1,svg:{pointerEvents:"none"},variants:{size:{fullscreen:{zIndex:2147483647},default:{boxShadow:"rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px",borderStyle:"$containerBorderStyle",borderColor:"$containerBorderColor",borderRadius:"$containerBorderRadius",borderWidth:"$containerBorderWidth",zIndex:1}}},defaultVariants:{size:"default"}}),A2=ct("span",{color:"$icon",userSelect:"none"}),g2e=ct("div",{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"220px",marginTop:"1rem","@md":{maxWidth:"340px"},maxHeight:"100%"}),v2e=ct(A2,{fontWeight:"$errorTitleFontWeight",margin:"0.5rem 0 0.5rem 0",fontSize:"$errorTitleFontSizeSm","@md":{fontSize:"$errorTitleFontSizeMd",margin:"2rem 0 0.5rem 0"},"@lg":{fontSize:"$errorTitleFontSize"}}),y2e=ct(A2,{fontWeight:"$titleFontWeight",color:"$errorText",textAlign:"center",width:"90%",fontSize:"$errorTextFontSizeSm",marginBottom:"1rem","@md":{fontSize:"$errorTextFontSizeMd"},"@lg":{fontSize:"$errorTextFontSize"}}),b2e={background:g2e,title:v2e,text:y2e},x2e=Jo({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),w2e=ct("div",{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%","&:after":{content:" ",display:"block",width:"$loading",height:"$loading",maxWidth:"100%",maxHeight:"100%",borderRadius:"50%",borderWidth:"$loadingWidth",borderStyle:"solid",borderColor:"$loading transparent $loading transparent",animation:"".concat(x2e," 1.4s ease-in-out infinite")}}),E2e=Jo({"0%":{opacity:1},"100%":{opacity:0}}),S2e=Jo({"0%":{opacity:0},"100%":{opacity:1}}),xv=ct("div",{variants:{display:{shown:{opacity:1,animation:bx()?void 0:"".concat(S2e," 0.2s")},hidden:{opacity:0,animation:bx()?void 0:"".concat(E2e," 0.2s")}}},defaultVariants:{display:"shown"}}),T2e=ct(xv,{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",bottom:0,left:0,right:0,top:0,height:"100%",backgroundColor:"#000000"}),A2e=ct(xv,{position:"absolute",bottom:0,left:0,right:0,height:233,marginBottom:-1,maxWidth:"100%",maxHeight:"100%",overflow:"hidden",backgroundImage:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADpCAYAAADlAl1mAAAAAXNSR0IArs4c6QAAAexJREFUOE9V0ftrzXEcx/H3x+43l9lmGGaz65ld2YUZG2YYKUlJUpKSpNZSkpSkJClJSVKSkj9Sj8/3nJ12fnie5/v9en/en+/3nIjik6rfNOU6YwfJqNGp0ctWGylSLavTqzNe72S9YYgGaYOysYJodKxJ2uSeZseaC4uUWpQt0lbWWlhEtFnVZv1O5RbSLkHGbifKiBR7XJnR7kS7dG+BSNlSh7TDvZ02d5rL6DLXxfYZriCiW69bbz+rIKUDyoyDW+hxB0RPpJQOCTIOb8cRZUavB+r1QCyOVpD6WJ97s/Wb67f5GINsMaA3YG6QDbIh7zZUWEQaNjesHHHRiB7EqLlRx0qsZKQkHdMb0zturopx5bhgwqoJJaRJNmnBlGBKj8W0YNq+GTbjFzrBqjipzJh1bNYxFnNsjs1bMF9YpFhgC3qnCkQkiNMMYlGwqDzDyoiIJc+35O85a66MFHFOmbHsjmVnM1Y884rgvLKClC4oIS5ux6pg1ZZLgow1v9pa2SIus4wrBVKkbFedhVhn67Zku2bBdcENr3CT3ZLe9oJ32F12T3DfCz7QewiP9B7b8kT5VPmMbVi6yZ7DCwtemnvFXrvoDXtr7p3gPXxQfhR8suqz8gv7Kv3mZb5Lf+j91PvFfsMf+Av//gMAXDGpZ05jKQAAAABJRU5ErkJggg==")'}),R2e=ct(xv,{top:0,marginTop:"$controlsTopMarginY",marginBottom:"$controlsTopMarginY",marginLeft:"$controlsTopMarginX",marginRight:"$controlsTopMarginX",display:"inline-flex",alignItems:"center",justifyContent:"space-between",position:"absolute",left:0,right:0}),_2e=ct(xv,{justifyContent:"center",bottom:0,marginTop:"$controlsBottomMarginY",marginBottom:"$controlsBottomMarginY",marginLeft:"$controlsBottomMarginX",marginRight:"$controlsBottomMarginX",display:"inline-flex",alignItems:"center",position:"absolute",flexDirection:"column",left:0,right:0}),xx=ct("div",{width:"100%",display:"inline-flex",alignItems:"center",justifyContent:"space-between"}),I2e=ct(xx,{width:"auto"}),C2e=ct(xx,{width:"auto"}),P2e=ct(xv,{top:0,userSelect:"none",color:"$icon",marginTop:"$controlsTopMarginY",marginBottom:"$controlsTopMarginY",marginLeft:"$controlsTopMarginX",marginRight:"$controlsTopMarginX",display:"inline-flex",alignItems:"flex-start",justifyContent:"flex-start",position:"absolute",fontSize:"$timeFontSizeSm","@md":{fontSize:"$timeFontSizeMd"},"@lg":{fontSize:"$timeFontSize"},left:0,right:0,bottom:0}),k2e={background:T2e,gradient:A2e,loading:w2e,loadingText:P2e,error:b2e,top:{container:R2e},bottom:{container:_2e,middle:{container:xx},lower:{container:xx,left:C2e,right:I2e}}},O2e=ct("img",{maxWidth:"100%",width:"100%",maxHeight:"100%",height:"100%",pointerEvents:"none",userSelect:"none",objectPosition:"center",objectFit:"cover",variants:{size:{fullscreen:{width:"100% !important",height:"100% !important"},default:{}}},defaultVariants:{size:"default"}}),rH=ct("video",{width:"100% !important",height:"100% !important",objectPosition:"center",variants:{size:{fullscreen:{objectFit:"contain","&::-webkit-media-overlay-enclosure":{display:"none !important"},"&::-webkit-media-controls-enclosure":{display:"none !important"}},contain:{objectFit:"contain"},cover:{objectFit:"cover"}}},defaultVariants:{size:"cover"}}),N2e=ct("audio",rH),L2e={audio:N2e,poster:O2e,video:rH},D2e=Jo({"0%":{opacity:0},"100%":{opacity:1}}),M2e=Jo({"0%":{opacity:0,transform:"translate(-50%, -48%) scale(.96)"},"100%":{opacity:1,transform:"translate(-50%, -50%) scale(1)"}}),$2e=ct("div",{backgroundColor:"hsla(0, 0%, 0%, 0.439)",position:"fixed",inset:0,animation:"".concat(D2e," 150ms cubic-bezier(0.16, 1, 0.3, 1)")}),F2e=ct("div",{fontFamily:"$display, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",backgroundColor:"white",color:"black",borderRadius:6,display:"inline-flex",flexDirection:"column",gap:12,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"350px",maxWidth:"85%",maxHeight:"85vh",padding:25,animation:"".concat(M2e," 150ms cubic-bezier(0.16, 1, 0.3, 1)"),"&:focus":{outline:"none"}}),B2e=ct("span",{margin:0,fontWeight:600,color:"black",fontSize:20,marginBottom:12}),U2e=ct("button",{all:"unset",fontFamily:"inherit",borderRadius:"100%",height:20,width:20,display:"inline-flex",alignItems:"center",justifyContent:"center",position:"absolute",top:10,right:10,cursor:"pointer"}),j2e=ct("div",{display:"inline-flex",flexDirection:"column",gap:8}),z2e=ct("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,padding:"0 15px",fontSize:13,lineHeight:1,height:35,gap:5,backgroundColor:"white",color:"black",borderStyle:"solid",borderWidth:1,borderColor:"black",boxShadow:"0 2px 10px hsla(0, 0%, 0%, 0.141)","&:hover":{backgroundColor:"hsl(294, 5.5%, 95.3%)"},"&:focus":{boxShadow:"0 0 0 2px black"},"&[data-placeholder]":{color:"hsl(0, 0%, 9.0%)"}}),V2e=ct("span",{fontSize:16,fontWeight:600}),Y2e=ct("span",{}),G2e=ct("div",{overflow:"hidden",backgroundColor:"white",display:"flex",flexDirection:"column",borderRadius:6,borderStyle:"solid",borderWidth:1,borderColor:"black",boxShadow:"0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)"}),H2e=ct("div",{padding:5}),W2e=ct("div",{fontFamily:"$display, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",fontSize:13,lineHeight:1,borderRadius:3,display:"flex",alignItems:"center",height:25,padding:"10px 35px 10px 30px",position:"relative",userSelect:"none",color:"black","&[data-disabled]":{pointerEvents:"none"},"&[data-highlighted]":{outline:"none",backgroundColor:"#fafafa"}}),q2e=ct("div",{position:"absolute",left:4,width:30,display:"inline-flex",alignItems:"center",justifyContent:"center"}),K2e={overlay:$2e,content:F2e,title:B2e,close:U2e,select:{content:G2e,group:j2e,label:V2e,icon:Y2e,item:W2e,itemIndicator:q2e,trigger:z2e,viewport:H2e}},Q2e=Jo({"0%":{height:"$trackInactive"},"100%":{height:"$trackActive"}}),Z2e=Jo({"0%":{height:"$trackActive"},"100%":{height:"$trackInactive"}}),X2e=ct("div",{minHeight:"$trackContainerHeightSm","@lg":{minHeight:"$trackContainerHeight"},"@media (hover: none)":{minHeight:"$trackContainerHeightSm"},position:"relative",display:"flex",alignItems:"center",minWidth:80,touchAction:"none",cursor:"pointer",height:"100%",width:"100%"}),IP=ct("div",{variants:{size:{default:{height:"$trackInactive",animation:"".concat(Z2e," 0.1s")},active:{height:"$trackActive",animation:"".concat(Q2e," 0.1s")}},rounded:{full:{borderRadius:"$slider"},left:{borderTopLeftRadius:"$slider",borderBottomLeftRadius:"$slider"},right:{borderTopRightRadius:"$slider",borderBottomRightRadius:"$slider"},none:{}}},defaultVariants:{size:"default",rounded:"none"}}),J2e=ct(IP,{backgroundColor:"$accent",opacity:.95}),eEe=ct(IP,{backgroundColor:"$accent",opacity:.55}),tEe=ct(IP,{backgroundColor:"$accent",opacity:.2}),rEe=ct("div",{variants:{size:{default:{width:"$thumb",height:"$thumb"},active:{width:"$thumbActive",height:"$thumbActive"}}},defaultVariants:{size:"default"},backgroundColor:"$icon",borderRadius:"100%"}),nEe={container:X2e,thumb:rEe,track:{left:J2e,middle:eEe,right:tEe}},iEe=Jo({"0%, 100%":{opacity:1},"50%":{opacity:.5}}),aEe=ct("div",{marginLeft:"$timeMarginX",marginRight:"$timeMarginX",display:"flex",alignItems:"center"}),sEe=ct("div",{backgroundColor:"$liveIndicator",borderRadius:"100%",width:"$liveIndicatorSize",height:"$liveIndicatorSize",animation:"".concat(iEe," 2s cubic-bezier(0.4, 0, 0.6, 1) infinite")}),oEe=ct(A2,{marginLeft:"$timeMarginX",marginRight:"$timeMarginX",fontVariant:"tabular-nums",fontSize:"$timeFontSizeSm","@md":{fontSize:"$timeFontSizeMd"},"@lg":{fontSize:"$timeFontSize"}}),lEe={container:aEe,text:oEe,liveIndicator:sEe},uEe=ct(A2,{fontWeight:"$titleFontWeight",fontSize:"$titleFontSizeSm","@md":{fontSize:"$titleFontSizeMd"},"@lg":{fontSize:"$titleFontSize"}}),cEe=ct("div",{display:"inline-flex",alignItems:"center",justifyContent:"center"}),fEe={container:cEe},Oe={container:m2e,controlsContainer:k2e,iconButton:h2e,media:L2e,settings:K2e,slider:nEe,time:lEe,title:uEe,volume:fEe};function dEe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hEe(t){var e=dEe(t,"string");return typeof e=="symbol"?e:String(e)}function pEe(t,e,r){return e=hEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(r),!0).forEach(function(n){pEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $D=ki,mEe=Nr,gEe=bn,vEe=br,PT=fG,yEe=cP,bEe=Q4,xEe=Cu,wEe=f2,yf=Object.assign,FD=Object.defineProperty,EEe=mEe([].concat),nH=!yf||vEe(function(){if($D&&yf({b:1},yf(FD({},"a",{enumerable:!0,get:function(){FD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),yf({},t)[r]!==7||PT(yf({},e)).join("")!==n})?function(e,r){for(var n=xEe(e),i=arguments.length,a=1,s=yEe.f,o=bEe.f;i>a;)for(var l=wEe(arguments[a++]),u=s?EEe(PT(l),s(l)):PT(l),c=u.length,f=0,d;c>f;)d=u[f++],(!$D||gEe(o,l,d))&&(n[d]=l[d]);return n}:yf,SEe=un,BD=nH;SEe({target:"Object",stat:!0,arity:2,forced:Object.assign!==BD},{assign:BD});const TEe=()=>{};function AEe(t,{interval:e=1e3,onError:r=TEe}={}){if(typeof t!="function")throw new Error("argument is not function.");let n=!1,i=0,a,s=null;const o=async()=>{if(s){const u=s;s=null;try{n=!0,await t(...u)}catch(c){r(c)}finally{i=Date.now(),n=!1}}},l=async()=>{clearTimeout(a),a=setTimeout(()=>{n?l():o()},e)};return(...u)=>{s=u;const c=Date.now()-i<e;n||c?l():o()}}const REe=({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:r=1e3,serialize:n=JSON.stringify,deserialize:i=JSON.parse,retry:a})=>{if(t){const s=async o=>{try{await t.setItem(e,n(o));return}catch(l){return l}};return{persistClient:AEe(async o=>{let l=o,u=await s(l),c=0;for(;u&&l;)c++,l=await a?.({persistedClient:l,error:u,errorCount:c}),l&&(u=await s(l))},{interval:r}),restoreClient:async()=>{const o=await t.getItem(e);if(o)return i(o)},removeClient:()=>t.removeItem(e)}}return{persistClient:UD,restoreClient:()=>Promise.resolve(void 0),removeClient:UD}};function UD(){}class Qh{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Um=typeof window>"u"||"Deno"in window;function ua(){}function _Ee(t,e){return typeof t=="function"?t(e):t}function zI(t){return typeof t=="number"&&t>=0&&t!==1/0}function iH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hp(t,e,r){return wv(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function IEe(t,e,r){return wv(t)?typeof e=="function"?{...r,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Il(t,e,r){return wv(t)?[{...e,queryKey:t},r]:[t||{},e]}function jD(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(wv(s)){if(n){if(e.queryHash!==CP(s,e.options))return!1}else if(!wx(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof i<"u"&&i!==e.state.fetchStatus||a&&!a(e))}function zD(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:a}=t;if(wv(a)){if(!e.options.mutationKey)return!1;if(r){if(ac(e.options.mutationKey)!==ac(a))return!1}else if(!wx(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function CP(t,e){return(e?.queryKeyHashFn||ac)(t)}function ac(t){return JSON.stringify(t,(e,r)=>YI(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wx(t,e){return aH(t,e)}function aH(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!aH(t[r],e[r])):!1}function sH(t,e){if(t===e)return t;const r=VD(t)&&VD(e);if(r||YI(t)&&YI(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,s=r?[]:{};let o=0;for(let l=0;l<a;l++){const u=r?l:i[l];s[u]=sH(t[u],e[u]),s[u]===t[u]&&o++}return n===a&&o===n?t:s}return e}function VI(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function VD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YI(t){if(!YD(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!YD(r)||!r.hasOwnProperty("isPrototypeOf"))}function YD(t){return Object.prototype.toString.call(t)==="[object Object]"}function wv(t){return Array.isArray(t)}function oH(t){return new Promise(e=>{setTimeout(e,t)})}function GD(t){oH(0).then(t)}function CEe(){if(typeof AbortController=="function")return new AbortController}function GI(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?sH(t,e):e}class PEe extends Qh{constructor(){super(),this.setup=e=>{if(!Um&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ex=new PEe,HD=["online","offline"];class kEe extends Qh{constructor(){super(),this.setup=e=>{if(!Um&&window.addEventListener){const r=()=>e();return HD.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{HD.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Sx=new kEe;function OEe(t){return Math.min(1e3*2**t,3e4)}function R2(t){return(t??"online")==="online"?Sx.isOnline():!0}class lH{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function e1(t){return t instanceof lH}function uH(t){let e=!1,r=0,n=!1,i,a,s;const o=new Promise((g,v)=>{a=g,s=v}),l=g=>{n||(h(new lH(g)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!Ex.isFocused()||t.networkMode!=="always"&&!Sx.isOnline(),d=g=>{n||(n=!0,t.onSuccess==null||t.onSuccess(g),i?.(),a(g))},h=g=>{n||(n=!0,t.onError==null||t.onError(g),i?.(),s(g))},p=()=>new Promise(g=>{i=v=>{const b=n||!f();return b&&g(v),b},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),m=()=>{if(n)return;let g;try{g=t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var b,w;if(n)return;const E=(b=t.retry)!=null?b:3,R=(w=t.retryDelay)!=null?w:OEe,I=typeof R=="function"?R(r,v):R,D=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,v);if(e||!D){h(v);return}r++,t.onFail==null||t.onFail(r,v),oH(I).then(()=>{if(f())return p()}).then(()=>{e?h(v):m()})})};return R2(t.networkMode)?m():p().then(m),{promise:o,cancel:l,continue:()=>i?.()?o:Promise.resolve(),cancelRetry:u,continueRetry:c}}const PP=console;function NEe(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||o()}return f},a=c=>{e?t.push(c):GD(()=>{r(c)})},s=c=>(...f)=>{a(()=>{c(...f)})},o=()=>{const c=t;t=[],c.length&&GD(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:s,schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const Br=NEe();class cH{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zI(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Um?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class LEe extends cH{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||PP,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||DEe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=GI(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(ua).catch(ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!iH(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const s=CEe(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};l(o);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const d=h=>{if(e1(h)&&h.silent||this.dispatch({type:"error",error:h}),!e1(h)){var p,m,g,v;(p=(m=this.cache.config).onError)==null||p.call(m,h,this),(g=(v=this.cache.config).onSettled)==null||g.call(v,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=uH({fn:c.fetchFn,abort:s?.abort.bind(s),onSuccess:h=>{var p,m,g,v;if(typeof h>"u"){d(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(p=(m=this.cache.config).onSuccess)==null||p.call(m,h,this),(g=(v=this.cache.config).onSettled)==null||g.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(h,p)=>{this.dispatch({type:"failed",failureCount:h,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,a;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:R2(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return e1(s)&&s.revert&&this.revertState?{...this.revertState}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function DEe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class MEe extends Qh{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const a=r.queryKey,s=(i=r.queryHash)!=null?i:CP(a,r);let o=this.get(s);return o||(o=new LEe({cache:this,logger:e.getLogger(),queryKey:a,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=Il(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>jD(n,i))}findAll(e,r){const[n]=Il(e,r);return Object.keys(n).length>0?this.queries.filter(i=>jD(n,i)):this.queries}notify(e){Br.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){Br.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class $Ee extends cH{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||PP,this.observers=[],this.state=e.state||fH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=uH({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(N,F)=>{this.dispatch({type:"failed",failureCount:N,error:F})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,a,s,o,l,u,c;if(!r){var f,d,h,p;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(d=this.mutationCache.config).onMutate)==null?void 0:f.call(d,this.state.variables,this));const N=await((h=(p=this.options).onMutate)==null?void 0:h.call(p,this.state.variables));N!==this.state.context&&this.dispatch({type:"loading",context:N,variables:this.state.variables})}const D=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,D,this.state.variables,this.state.context,this)),await((a=(s=this.options).onSuccess)==null?void 0:a.call(s,D,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,D,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var m,g,v,b,w,E,R,I;throw await((m=(g=this.mutationCache.config).onError)==null?void 0:m.call(g,D,this.state.variables,this.state.context,this)),await((v=(b=this.options).onError)==null?void 0:v.call(b,D,this.state.variables,this.state.context)),await((w=(E=this.mutationCache.config).onSettled)==null?void 0:w.call(E,void 0,D,this.state.variables,this.state.context,this)),await((R=(I=this.options).onSettled)==null?void 0:R.call(I,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!R2(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function fH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class FEe extends Qh{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new $Ee({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){Br.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>zD(e,r))}findAll(e){return this.mutations.filter(r=>zD(e,r))}notify(e){Br.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return Br.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(ua)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function BEe(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,a,s;const o=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,l=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,u=l?.pageParam,c=l?.direction==="forward",f=l?.direction==="backward",d=((a=t.state.data)==null?void 0:a.pages)||[],h=((s=t.state.data)==null?void 0:s.pageParams)||[];let p=h,m=!1;const g=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>{var D;if((D=t.signal)!=null&&D.aborted)m=!0;else{var N;(N=t.signal)==null||N.addEventListener("abort",()=>{m=!0})}return t.signal}})},v=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),b=(I,D,N,F)=>(p=F?[D,...p]:[...p,D],F?[N,...I]:[...I,N]),w=(I,D,N,F)=>{if(m)return Promise.reject("Cancelled");if(typeof N>"u"&&!D&&I.length)return Promise.resolve(I);const $={queryKey:t.queryKey,pageParam:N,meta:t.options.meta};g($);const z=v($);return Promise.resolve(z).then(A=>b(I,N,A,F))};let E;if(!d.length)E=w([]);else if(c){const I=typeof u<"u",D=I?u:WD(t.options,d);E=w(d,I,D)}else if(f){const I=typeof u<"u",D=I?u:UEe(t.options,d);E=w(d,I,D,!0)}else{p=[];const I=typeof t.options.getNextPageParam>"u";E=(o&&d[0]?o(d[0],0,d):!0)?w([],I,h[0]):Promise.resolve(b([],h[0],d[0]));for(let N=1;N<d.length;N++)E=E.then(F=>{if(o&&d[N]?o(d[N],N,d):!0){const z=I?h[N]:WD(t.options,F);return w(F,I,z)}return Promise.resolve(b(F,h[N],d[N]))})}return E.then(I=>({pages:I,pageParams:p}))}}}}function WD(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function UEe(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class jEe{constructor(e={}){this.queryCache=e.queryCache||new MEe,this.mutationCache=e.mutationCache||new FEe,this.logger=e.logger||PP,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Ex.subscribe(()=>{Ex.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Sx.subscribe(()=>{Sx.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=Il(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=hp(e,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),a=i?.state.data,s=_Ee(r,a);if(typeof s>"u")return;const o=hp(e),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(s,{...n,manual:!0})}setQueriesData(e,r,n){return Br.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=Il(e,r),i=this.queryCache;Br.batch(()=>{i.findAll(n).forEach(a=>{i.remove(a)})})}resetQueries(e,r,n){const[i,a]=Il(e,r,n),s=this.queryCache,o={type:"active",...i};return Br.batch(()=>(s.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(o,a)))}cancelQueries(e,r,n){const[i,a={}]=Il(e,r,n);typeof a.revert>"u"&&(a.revert=!0);const s=Br.batch(()=>this.queryCache.findAll(i).map(o=>o.cancel(a)));return Promise.all(s).then(ua).catch(ua)}invalidateQueries(e,r,n){const[i,a]=Il(e,r,n);return Br.batch(()=>{var s,o;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(s=(o=i.refetchType)!=null?o:i.type)!=null?s:"active"};return this.refetchQueries(l,a)})}refetchQueries(e,r,n){const[i,a]=Il(e,r,n),s=Br.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a?.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let o=Promise.all(s).then(ua);return a!=null&&a.throwOnError||(o=o.catch(ua)),o}fetchQuery(e,r,n){const i=hp(e,r,n),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const s=this.queryCache.build(this,a);return s.isStaleByTime(a.staleTime)?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(ua).catch(ua)}fetchInfiniteQuery(e,r,n){const i=hp(e,r,n);return i.behavior=BEe(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(ua).catch(ua)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>ac(e)===ac(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>wx(e,n.queryKey));return r?.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>ac(e)===ac(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>wx(e,n.mutationKey));return r?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=CP(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class zEe extends Qh{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),qD(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return HI(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return HI(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),VI(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const a=this.hasListeners();a&&KD(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),n=this.createResult(r,e);return YEe(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ua)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Um||this.currentResult.isStale||!zI(this.options.staleTime))return;const r=iH(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Um||this.options.enabled===!1||!zI(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ex.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,a=this.currentResult,s=this.currentResultState,o=this.currentResultOptions,l=e!==n,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:d,error:h,errorUpdatedAt:p,fetchStatus:m,status:g}=f,v=!1,b=!1,w;if(r._optimisticResults){const N=this.hasListeners(),F=!N&&qD(e,r),$=N&&KD(e,n,r,i);(F||$)&&(m=R2(e.options.networkMode)?"fetching":"paused",d||(g="loading")),r._optimisticResults==="isRestoring"&&(m="idle")}if(r.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&g!=="error")w=c.data,d=c.dataUpdatedAt,g=c.status,v=!0;else if(r.select&&typeof f.data<"u")if(a&&f.data===s?.data&&r.select===this.selectFn)w=this.selectResult;else try{this.selectFn=r.select,w=r.select(f.data),w=GI(a?.data,w,r),this.selectResult=w,this.selectError=null}catch(N){this.selectError=N}else w=f.data;if(typeof r.placeholderData<"u"&&typeof w>"u"&&g==="loading"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===o?.placeholderData)N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof N<"u")try{N=r.select(N),this.selectError=null}catch(F){this.selectError=F}typeof N<"u"&&(g="success",w=GI(a?.data,N,r),b=!0)}this.selectError&&(h=this.selectError,w=this.selectResult,p=Date.now(),g="error");const E=m==="fetching",R=g==="loading",I=g==="error";return{status:g,fetchStatus:m,isLoading:R,isSuccess:g==="success",isError:I,isInitialLoading:R&&E,data:w,dataUpdatedAt:d,error:h,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!R,isLoadingError:I&&f.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:b,isPreviousData:v,isRefetchError:I&&f.dataUpdatedAt!==0,isStale:kP(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,VI(n,r))return;this.currentResult=n;const i={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const o=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==r[u]&&o.has(u)})};e?.listeners!==!1&&a()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!e1(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){Br.batch(()=>{if(e.onSuccess){var r,n,i,a;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(e.onError){var s,o,l,u;(s=(o=this.options).onError)==null||s.call(o,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function VEe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qD(t,e){return VEe(t,e)||t.state.dataUpdatedAt>0&&HI(t,e,e.refetchOnMount)}function HI(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&kP(t,e)}return!1}function KD(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&kP(t,r)}function kP(t,e){return t.isStaleByTime(e.staleTime)}function YEe(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:t.getCurrentResult()!==e}let GEe=class extends Qh{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=this.client.defaultMutationOptions(e),VI(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:fH(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){Br.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,a;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var s,o,l,u;(s=(o=this.mutateOptions).onError)==null||s.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};function HEe(t){return{mutationKey:t.options.mutationKey,state:t.state}}function WEe(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function qEe(t){return t.state.isPaused}function KEe(t){return t.state.status==="success"}function QEe(t,e={}){const r=[],n=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||qEe;t.getMutationCache().getAll().forEach(a=>{i(a)&&r.push(HEe(a))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||KEe;t.getQueryCache().getAll().forEach(a=>{i(a)&&n.push(WEe(a))})}return{mutations:r,queries:n}}function dH(t,e,r){if(typeof e!="object"||e===null)return;const n=t.getMutationCache(),i=t.getQueryCache(),a=e.mutations||[],s=e.queries||[];a.forEach(o=>{var l;n.build(t,{...r==null||(l=r.defaultOptions)==null?void 0:l.mutations,mutationKey:o.mutationKey},o.state)}),s.forEach(o=>{var l;const u=i.get(o.queryHash),c={...o.state,fetchStatus:"idle"};if(u){u.state.dataUpdatedAt<c.dataUpdatedAt&&u.setState(c);return}i.build(t,{...r==null||(l=r.defaultOptions)==null?void 0:l.queries,queryKey:o.queryKey,queryHash:o.queryHash},c)})}var hH={exports:{}},pH={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=T;function ZEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XEe=typeof Object.is=="function"?Object.is:ZEe,JEe=ph.useState,eSe=ph.useEffect,tSe=ph.useLayoutEffect,rSe=ph.useDebugValue;function nSe(t,e){var r=e(),n=JEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return tSe(function(){i.value=r,i.getSnapshot=e,kT(i)&&a({inst:i})},[t,r,e]),eSe(function(){return kT(i)&&a({inst:i}),t(function(){kT(i)&&a({inst:i})})},[t]),rSe(r),r}function kT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!XEe(t,r)}catch{return!0}}function iSe(t,e){return e()}var aSe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iSe:nSe;pH.useSyncExternalStore=ph.useSyncExternalStore!==void 0?ph.useSyncExternalStore:aSe;hH.exports=pH;var mH=hH.exports;const gH=mH.useSyncExternalStore,QD=T.createContext(void 0),vH=T.createContext(!1);function yH(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=QD),window.ReactQueryClientContext):QD)}const OP=({context:t}={})=>{const e=T.useContext(yH(t,T.useContext(vH)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},sSe=({client:t,children:e,context:r,contextSharing:n=!1})=>{T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=yH(r,n);return T.createElement(vH.Provider,{value:!r&&n},T.createElement(i.Provider,{value:t},e))},bH=T.createContext(!1),oSe=()=>T.useContext(bH);bH.Provider;function lSe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const uSe=T.createContext(lSe()),cSe=()=>T.useContext(uSe);function xH(t,e){return typeof t=="function"?t(...e):!!t}const fSe=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},dSe=t=>{T.useEffect(()=>{t.clearReset()},[t])},hSe=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&xH(r,[t.error,n]),pSe=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},mSe=(t,e)=>t.isLoading&&t.isFetching&&!e,gSe=(t,e,r)=>t?.suspense&&mSe(e,r),vSe=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function ySe(t,e){const r=OP({context:t.context}),n=oSe(),i=cSe(),a=r.defaultQueryOptions(t);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=Br.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Br.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Br.batchCalls(a.onSettled)),pSe(a),fSe(a,i),dSe(i);const[s]=T.useState(()=>new e(r,a)),o=s.getOptimisticResult(a);if(gH(T.useCallback(l=>{const u=n?()=>{}:s.subscribe(Br.batchCalls(l));return s.updateResult(),u},[s,n]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),T.useEffect(()=>{s.setOptions(a,{listeners:!1})},[a,s]),gSe(a,o,n))throw vSe(a,s,i);if(hSe({result:o,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:s.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:s.trackResult(o)}function bSe(t,e,r){const n=hp(t,e,r);return ySe(n,zEe)}function xSe(t,e={}){const r=OP({context:e.context}),n=T.useRef(e);n.current=e,T.useMemo(()=>{t&&dH(r,t,n.current)},[r,t])}const wSe=({children:t,options:e,state:r})=>(xSe(r,e),t);function ESe(t,e,r){const n=IEe(t,e,r),i=OP({context:n.context}),[a]=T.useState(()=>new GEe(i,n));T.useEffect(()=>{a.setOptions(n)},[a,n]);const s=gH(T.useCallback(l=>a.subscribe(Br.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=T.useCallback((l,u)=>{a.mutate(l,u).catch(SSe)},[a]);if(s.error&&xH(a.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function SSe(){}const TSe=["added","removed","updated"];function ZD(t){return TSe.includes(t)}async function ASe({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{const a=await e.restoreClient();if(a)if(a.timestamp){const s=Date.now()-a.timestamp>r,o=a.buster!==n;s||o?e.removeClient():dH(t,a.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function XD({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){const i={buster:r,timestamp:Date.now(),clientState:QEe(t,n)};await e.persistClient(i)}function RSe(t){const e=t.queryClient.getQueryCache().subscribe(n=>{ZD(n.type)&&XD(t)}),r=t.queryClient.getMutationCache().subscribe(n=>{ZD(n.type)&&XD(t)});return()=>{e(),r()}}function _Se(t){let e=!1,r;const n=()=>{e=!0,r?.()},i=ASe(t).then(()=>{e||(r=RSe(t))});return[n,i]}function ISe(t){try{return JSON.parse(t)}catch{return{}}}function JD(t,e){return t.slice(0,e).join(".")||"."}function e9(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function CSe(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],a=[];return function(o,l){if(typeof l=="object")if(i.length){const u=e9(i,this);u===0?i[i.length]=this:(i.splice(u),a.splice(u)),a[a.length]=o;const c=e9(i,l);if(c!==0)return n?e.call(this,o,l,JD(a,c)):`[ref=${JD(a,c)}]`}else i[0]=l,a[0]=o;return r?t.call(this,o,l):l}}function PSe(t,e,r,n){try{return JSON.stringify(t,CSe(e,n),r??void 0)}catch{return"{}"}}const kSe=()=>new jEe({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}});function OSe({queryClient:t=kSe(),...e}){const r=whe(e),n=e?.storage?REe({key:"livepeer.cache",storage:e.storage,serialize:PSe,deserialize:ISe}):void 0;return n&&_Se({queryClient:t,persister:n,dehydrateOptions:{shouldDehydrateQuery:i=>i.cacheTime!==0}}),Object.assign(r,{queryClient:t})}function NSe(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function LSe(t){var e=Object.assign({},(NSe(t),t));return OSe(dt({storage:typeof window<"u"?e.storage?e.storage:j4({storage:window.localStorage}):void 0},e))}const wH=T.createContext(void 0),Tx=T.createContext(void 0);function DSe({children:t,client:e,dehydratedState:r}){return j.jsx(wH.Provider,{value:e,children:j.jsx(sSe,{context:Tx,client:e.queryClient,children:j.jsx(wSe,{options:{context:Tx},state:r??void 0,children:t})})})}function MSe(){const t=T.useContext(wH);if(!t)throw new Error(["`useClient` must be used within `LivepeerConfig`."].join(`
`));return t}const $Se=["cacheTime","networkMode","onError","onMutate","onSettled","onSuccess","retry","retryDelay","useErrorBoundary","meta"];function FSe(t,e,r){const{data:n,error:i,isError:a,isIdle:s,isLoading:o,isSuccess:l,mutate:u,mutateAsync:c,reset:f,variables:d,status:h}=ESe(e,{context:Tx,mutationKey:r,...typeof t?.mutationConfig=="object"?lY(t.mutationConfig,...$Se):{},useErrorBoundary:!1});return T.useMemo(()=>({data:n,error:i,isError:a,isIdle:s,isLoading:o,isSuccess:l,mutate:t?()=>u({...t,config:void 0}):void 0,mutateAsync:()=>t?c({...t,config:void 0}):void 0,variables:d,status:h,internal:{reset:f}}),[n,i,a,s,o,l,u,c,f,d,h,t])}const BSe=["cacheTime","enabled","networkMode","initialData","initialDataUpdatedAt","isDataEqual","keepPreviousData","meta","notifyOnChangeProps","onError","onSettled","onSuccess","placeholderData","refetchInterval","refetchIntervalInBackground","refetchOnMount","refetchOnReconnect","refetchOnWindowFocus","retry","retryOnMount","retryDelay","select","staleTime","structuralSharing","suspense","useErrorBoundary"];function EH(t){const{data:e,dataUpdatedAt:r,error:n,errorUpdatedAt:i,failureCount:a,isError:s,isFetched:o,isFetchedAfterMount:l,isFetching:u,isPaused:c,isLoadingError:f,isPlaceholderData:d,isPreviousData:h,isRefetchError:p,isRefetching:m,isStale:g,isSuccess:v,refetch:b,remove:w,status:E,fetchStatus:R}=bSe({...t,context:Tx}),I=T.useMemo(()=>E==="loading"&&R==="idle"?"idle":E,[E,R]),D=T.useMemo(()=>I==="idle",[I]),N=T.useMemo(()=>I==="loading"&&R==="fetching",[I,R]);return{data:e,error:n,isError:s,isFetched:o,isFetching:u,isIdle:D,isLoading:N,isRefetching:m,isSuccess:v,refetch:b,status:I,internal:{fetchStatus:R,dataUpdatedAt:r,errorUpdatedAt:i,failureCount:a,isFetchedAfterMount:l,isLoadingError:f,isPaused:c,isPlaceholderData:d,isPreviousData:h,isRefetchError:p,isStale:g,remove:w}}}var USe=SH,t9=128,jSe=127,zSe=~jSe,VSe=Math.pow(2,31);function SH(t,e,r){e=e||[],r=r||0;for(var n=r;t>=VSe;)e[r++]=t&255|t9,t/=128;for(;t&zSe;)e[r++]=t&255|t9,t>>>=7;return e[r]=t|0,SH.bytes=r-n+1,e}var YSe=WI,GSe=128,r9=127;function WI(t,n){var r=0,n=n||0,i=0,a=n,s,o=t.length;do{if(a>=o)throw WI.bytes=0,new RangeError("Could not decode varint");s=t[a++],r+=i<28?(s&r9)<<i:(s&r9)*Math.pow(2,i),i+=7}while(s>=GSe);return WI.bytes=a-n,r}var HSe=Math.pow(2,7),WSe=Math.pow(2,14),qSe=Math.pow(2,21),KSe=Math.pow(2,28),QSe=Math.pow(2,35),ZSe=Math.pow(2,42),XSe=Math.pow(2,49),JSe=Math.pow(2,56),eTe=Math.pow(2,63),tTe=function(t){return t<HSe?1:t<WSe?2:t<qSe?3:t<KSe?4:t<QSe?5:t<ZSe?6:t<XSe?7:t<JSe?8:t<eTe?9:10},rTe={encode:USe,decode:YSe,encodingLength:tTe},Ax=rTe;const qI=(t,e=0)=>[Ax.decode(t,e),Ax.decode.bytes],Rx=(t,e,r=0)=>(Ax.encode(t,e,r),e),_x=t=>Ax.encodingLength(t),nTe=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},NP=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},iTe=(t,e)=>{const r=e.byteLength,n=_x(t),i=n+_x(r),a=new Uint8Array(i+r);return Rx(t,a,0),Rx(r,a,n),a.set(e,i),new LP(t,r,e,a)},aTe=t=>{const e=NP(t),[r,n]=qI(e),[i,a]=qI(e.subarray(n)),s=e.subarray(n+a);if(s.byteLength!==i)throw new Error("Incorrect length");return new LP(r,i,s,e)},sTe=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&nTe(t.bytes,e.bytes);class LP{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}function oTe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,g=0,v=0,b=p.length;v!==b&&p[v]===0;)v++,m++;for(var w=(b-v)*c+1>>>0,E=new Uint8Array(w);v!==b;){for(var R=p[v],I=0,D=w-1;(R!==0||I<g)&&D!==-1;D--,I++)R+=256*E[D]>>>0,E[D]=R%o>>>0,R=R/o>>>0;if(R!==0)throw new Error("Non-zero carry");g=I,v++}for(var N=w-g;N!==w&&E[N]===0;)N++;for(var F=l.repeat(m);N<w;++N)F+=t.charAt(E[N]);return F}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var g=0,v=0;p[m]===l;)g++,m++;for(var b=(p.length-m)*u+1>>>0,w=new Uint8Array(b);p[m];){var E=r[p.charCodeAt(m)];if(E===255)return;for(var R=0,I=b-1;(E!==0||R<v)&&I!==-1;I--,R++)E+=o*w[I]>>>0,w[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");v=R,m++}if(p[m]!==" "){for(var D=b-v;D!==b&&w[D]===0;)D++;for(var N=new Uint8Array(g+(b-D)),F=g;D!==b;)N[F++]=w[D++];return N}}}function h(p){var m=d(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var lTe=oTe,uTe=lTe;class cTe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class fTe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return TH(this,e)}}class dTe{constructor(e){this.decoders=e}or(e){return TH(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const TH=(t,e)=>new dTe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hTe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cTe(e,r,n),this.decoder=new fTe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const AH=({name:t,prefix:e,encode:r,decode:n})=>new hTe(t,e,r,n),RH=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=uTe(r,e);return AH({prefix:t,name:e,encode:n,decode:a=>NP(i(a))})},pTe=(t,e,r,n)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let a=t.length;for(;t[a-1]==="=";)--a;const s=new Uint8Array(a*r/8|0);let o=0,l=0,u=0;for(let c=0;c<a;++c){const f=i[t[c]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,o+=r,o>=8&&(o-=8,s[u++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return s},mTe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let a="",s=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},rl=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>AH({prefix:e,name:t,encode(i){return mTe(i,n,r)},decode(i){return pTe(i,n,r,t)}}),Cl=RH({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});RH({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const t1=rl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class dn{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ly,byteLength:Ly,code:Ny,version:Ny,multihash:Ny,bytes:Ny,_baseCache:Ly,asCID:Ly})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==I0)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==bTe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return dn.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=iTe(e,r);return dn.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&sTe(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return vTe(r,i,e||Cl.encoder);default:return yTe(r,i,e||t1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return wTe(/^0\.0/,ETe),!!(e&&(e[i9]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof dn)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:i,bytes:a}=e;return new dn(r,n,i,a||n9(r,n,i.bytes))}else if(e!=null&&e[i9]===!0){const{version:r,multihash:n,code:i}=e,a=aTe(n);return dn.create(r,i,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==I0)throw new Error(`Version 0 CID must use dag-pb (code: ${I0}) block encoding`);return new dn(e,r,n,n.bytes)}case 1:{const i=n9(e,r,n.bytes);return new dn(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return dn.create(0,I0,e)}static createV1(e,r){return dn.create(1,e,r)}static decode(e){const[r,n]=dn.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=dn.inspectBytes(e),n=r.size-r.multihashSize,i=NP(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");const a=i.subarray(r.multihashSize-r.digestSize),s=new LP(r.multihashCode,r.digestSize,a,i);return[r.version===0?dn.createV0(s):dn.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[f,d]=qI(e.subarray(r));return r+=d,f};let i=n(),a=I0;if(i===18?(i=0,r=0):i===1&&(a=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=r,o=n(),l=n(),u=r+l,c=u-s;return{version:i,codec:a,multihashCode:o,digestSize:l,multihashSize:c,size:u}}static parse(e,r){const[n,i]=gTe(e,r),a=dn.decode(i);return a._baseCache.set(n,e),a}}const gTe=(t,e)=>{switch(t[0]){case"Q":{const r=e||Cl;return[Cl.prefix,r.decode(`${Cl.prefix}${t}`)]}case Cl.prefix:{const r=e||Cl;return[Cl.prefix,r.decode(t)]}case t1.prefix:{const r=e||t1;return[t1.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},vTe=(t,e,r)=>{const{prefix:n}=r;if(n!==Cl.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=e.get(n);if(i==null){const a=r.encode(t).slice(1);return e.set(n,a),a}else return i},yTe=(t,e,r)=>{const{prefix:n}=r,i=e.get(n);if(i==null){const a=r.encode(t);return e.set(n,a),a}else return i},I0=112,bTe=18,n9=(t,e,r)=>{const n=_x(t),i=n+_x(e),a=new Uint8Array(i+r.byteLength);return Rx(t,a,0),Rx(e,a,n),a.set(r,i),a},i9=Symbol.for("@ipld/js-cid/CID"),Ny={writable:!1,configurable:!1,enumerable:!0},Ly={writable:!1,enumerable:!1,configurable:!1},xTe="0.0.0-dev",wTe=(t,e)=>{if(t.test(xTe))console.warn(e);else throw new Error(e)},ETe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,a9=/^(ar):\/\/([^/?#]+)(.*)$/,s9=/^https:\/\/(arweave\.net|arweave\.dev)\/([^/?#]+)(.*)$/,o9=/^https:\/\/([^/]+)\.(arweave\.net|arweave\.dev)\/([^/?#]+)(.*)$/,l9=t=>{if(!t)return null;const e=t.match(a9)?.[2],r=t.match(a9)?.[3];if(e)return OT(e,r);const n=t.match(o9)?.[3],i=t.match(o9)?.[4];if(n)return OT(n,i);const a=t.match(s9)?.[2],s=t.match(s9)?.[3];return a?OT(a,s):null},OT=(t,e)=>{const r=`${t}${e??""}`;return{url:`ar://${r}`,id:r}},STe=/^([^/?#]+)$/,u9=/^(ipfs):\/\/([^/?#]+)(.*)$/,c9=/^https?:\/\/[^/]+\/(ipfs)\/([^/?#]+)(.*)$/,f9=/^https?:\/\/([^/]+)\.(ipfs)\.[^/?#]+(.*)$/,d9=t=>{if(!t)return null;const e=t.match(u9)?.[2],r=t.match(u9)?.[3];if(Dy(e))return My(e,r);const n=t.match(f9)?.[1],i=t.match(f9)?.[3];if(Dy(n))return My(n,i);const a=t.match(c9)?.[2],s=t.match(c9)?.[3];if(Dy(a))return My(a,s);const o=t.match(STe)?.[1];return Dy(o)?My(o):null},Dy=t=>{try{return t?typeof t=="string"?!!dn.parse(t):t instanceof Uint8Array?!!dn.decode(t):!!dn.asCID(t):!1}catch{return!1}},My=(t,e)=>{const r=`${t}${e??""}`;return{url:`ipfs://${r}`,id:r}},TTe=t=>typeof t=="number"&&!Number.isNaN(t);var _H={exports:{}},IH={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2=T,ATe=mH;function RTe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _Te=typeof Object.is=="function"?Object.is:RTe,ITe=ATe.useSyncExternalStore,CTe=_2.useRef,PTe=_2.useEffect,kTe=_2.useMemo,OTe=_2.useDebugValue;IH.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=CTe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=kTe(function(){function l(h){if(!u){if(u=!0,c=h,h=n(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,_Te(c,h))return p;var m=n(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var u=!1,c,f,d=r===void 0?null:r;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,r,n,i]);var o=ITe(t,a[0],a[1]);return PTe(function(){s.hasValue=!0,s.value=o},[o]),OTe(o),o};_H.exports=IH;var CH=_H.exports;const PH=Pi(CH);function DP(){return CH.useSyncExternalStoreWithSelector(t=>Rhe(t),()=>Pm(),()=>Pm(),t=>t)}function NTe(t){const e=DP(),[r,n]=T.useState(void 0),i=FSe(t,async a=>_he({...a,onProgress:s=>n(s)}),[{entity:"createAsset",livepeerProvider:e}]);return T.useMemo(()=>({...i,progress:r}),[i,r])}const LTe=(t,e)=>[{entity:"getPlaybackInfo",args:t,config:e}];function DTe(t){const e=DP();return EH(MTe(t,e))}function MTe(t,e){const r=typeof t=="string"?t:{playbackId:t?.playbackId??""};return{clearClient:t.clearClient,queryKey:LTe(r,e.getConfig()),queryFn:async()=>Ihe(t),enabled:!!(typeof t=="string"?t:t?.playbackId),...typeof t=="object"?lY(t,...BSe):{}}}const I2=(t,e,r,n,i)=>{const a=T.useMemo(()=>t?e??r:n??i,[t,e,r,n,i]);return T.useMemo(()=>T.isValidElement(a)?T.cloneElement(a):null,[a])},$Te=(t,e)=>T.useMemo(()=>t&&T.isValidElement(t)?T.cloneElement(t):e,[t,e]),FTe=({streamKey:t,children:e,controls:r,theme:n,title:i,onError:a,aspectRatio:s="16to9",objectFit:o="contain",mediaElementRef:l,onPlaybackStatusUpdate:u,playbackStatusSelector:c,renderChildrenOutsideContainer:f})=>{const d=DP(),h=T.useMemo(()=>{const N=d.getConfig().webrtcIngestBaseUrl;return!t||!N?null:`${N}/${t}`},[t,d]),[p,m]=T.useState(null),[g,v]=T.useState(null),b=T.useCallback(N=>{const F=N?{type:nY(N)?"access-control":rY(N)?"offline":"unknown",message:N?.message??"Error with playback."}:null;return v(F),N&&(console.warn(N),a?.(N)),N},[a]);T.useEffect(()=>{t&&v(null)},[t]);const w=T.useCallback(N=>{N&&(m(N),l?.(N))},[l]),E=T.useMemo(()=>({ref:w,ingestUrl:h,objectFit:o,options:r,broadcastError:g,onBroadcastError:b,onPlaybackStatusUpdate:u,playbackStatusSelector:c}),[g,w,r,h,o,b,u,c]),R=T.useMemo(()=>({autoPlay:!1,playbackId:void 0,muted:!1,priority:!1,ingestUrl:h??void 0}),[h]),I=T.useMemo(()=>({hidePosterOnPlayed:!0,showLoadingSpinner:!0,loadingText:null,showUploadingIndicator:!1,error:g}),[g]),D=T.useMemo(()=>({ingestUrl:h,children:e,controls:r,theme:n,title:i,aspectRatio:s,objectFit:o,onBroadcastError:b,onPlaybackStatusUpdate:u,renderChildrenOutsideContainer:f}),[h,s,e,r,o,n,i,b,u,f]);return{mediaElement:p,broadcastProps:E,mediaControllerProps:R,controlsContainerProps:I,props:D}},BTe=t=>{const[e,r]=T.useState(null),{onChange:n,thumbIcon:i,defaultThumbIcon:a,sliderWidth:s,ariaName:o,isActive:l,leftCss:u,middleCss:c,rightCss:f,thumbCss:d}=t,h=l||e!==null,p=T.useCallback(async(R,I)=>{if(s){const D=R/s,N=Math.min(Math.max(0,D),1);I?(await n?.(N),r(null)):r(N)}},[n,s]),{value:m,middleValue:g}=T.useMemo(()=>{const R=e!==null?e:isNaN(t.value)?0:t.value,I=e!==null?0:t.secondaryValue&&!isNaN(t.value)&&!isNaN(t.secondaryValue)?t.secondaryValue-t.value:0;return{value:R,middleValue:I>0?I:0}},[e,t.value,t.secondaryValue]),v=T.useMemo(()=>({css:{...d,zIndex:1},size:h?"active":"default"}),[d,h]),b=$Te(i,T.cloneElement(a,v)),w=T.useMemo(()=>1-(m+g),[m,g]),E=T.useMemo(()=>Math.round(m*100),[m]);return{title:`${E}% ${o}`,value:E,active:h,handle:b,sliderProps:{onUpdate:p},sliderLeftTrackProps:{shown:m>.001,rounded:m===1&&!h?"full":"left",css:{...u,flex:m}},sliderMiddleTrackProps:{shown:(g??0)>0,rounded:g===1?h?"right":"full":m<=.001?"left":w===0?"right":"none",css:{...c,flex:g}},sliderRightTrackProps:{shown:(w??0)>0,rounded:m<=.001&&!h?"full":"right",css:{...f,flex:w}}}},UTe=t=>{const{togglePlay:e,canPlay:r,buffered:n,isBroadcast:i,_updateLastInteraction:a}=t,s=T.useMemo(()=>r||n!==0,[r,n]),o=T.useCallback(()=>{s&&(i?a():e())},[e,s,i,a]);return{isLoaded:s,containerProps:{onPress:o}}},jTe=t=>{const{enterIcon:e,exitIcon:r,onPress:n,fullscreen:i,pictureInPicture:a,requestToggleFullscreen:s,defaultEnterIcon:o,defaultExitIcon:l,...u}=t,c=T.useCallback(async()=>{await n?.(),await s()},[n,s]),f=I2(i,r,l,e,o);return{title:T.useMemo(()=>i?"Exit full screen (f)":"Full screen (f)",[i]),buttonProps:a?null:{onPress:c,children:f,...u}}},zTe=t=>{const{playIcon:e,pauseIcon:r,onPress:n,togglePlay:i,playing:a,defaultPauseIcon:s,defaultPlayIcon:o,...l}=t,u=async()=>{await n?.(),await i()},c=I2(a,r,s,e,o);return{title:T.useMemo(()=>a?"Pause (k)":"Play (k)",[a]),buttonProps:{onPress:u,children:c,...l}}},VTe=t=>{const{duration:e,progress:r,requestSeek:n,buffered:i,live:a,...s}=t,[o,l,u]=T.useMemo(()=>[0,e&&!isNaN(e)?e:0,r&&!isNaN(r)?r:0],[e,r]),c=T.useMemo(()=>u/(l-o),[o,l,u]),f=T.useMemo(()=>i/(l-o),[o,l,i]),d=T.useCallback(async p=>{const m=p*(l-o);await t?.onSeek?.(m),n(m)},[l,o,n,t]),h=T.useMemo(()=>(e/60).toFixed(1),[e]);return{isVisible:!a,title:`progress of ${h} minutes`,progressProps:{onChange:d,value:c,secondaryValue:f,leftCss:{backgroundColor:"$progressLeft"},middleCss:{backgroundColor:"$progressMiddle"},rightCss:{backgroundColor:"$progressRight"},thumbCss:{backgroundColor:"$progressThumb"},...s}}},h9=t=>{if(t!=null&&!isNaN(t)&&isFinite(t)){const e=Math.round(t),r=Math.floor(e/3600),n=Math.floor(e%60);if(r>0){const a=Math.floor(e%3600/60);return`${r}:${a.toString().padStart(2,"0")}:${n<10?"0":""}${n}`}return`${Math.floor(e/60)}:${n.toString().padStart(2,"0")}`}return"0:00"},YTe=t=>{const{duration:e,progress:r,live:n}=t,i=T.useMemo(()=>h9(r??null),[r]),a=T.useMemo(()=>h9(e??null),[e]);return{title:T.useMemo(()=>n?i:`${i} / ${a}`,[i,a,n]),live:n}},kH=t=>{const{unmutedIcon:e,mutedIcon:r,onPress:n,showSlider:i=!0,defaultUnmutedIcon:a,defaultMutedIcon:s,requestVolume:o,requestToggleMute:l,isVolumeChangeSupported:u,muted:c,...f}=t,d=T.useCallback(async()=>{await n?.(),l()},[n,l]),h=I2(!c,e,a,r,s),p=T.useMemo(()=>c?"Unmute (m)":"Mute (m)",[c]),m=T.useCallback(async g=>{o(g)},[o]);return{title:p,buttonProps:{onPress:d,children:h,...f},progressProps:{shown:u&&i,onChange:m,leftCss:{backgroundColor:"$volumeLeft"},middleCss:{backgroundColor:"$volumeMiddle"},rightCss:{backgroundColor:"$volumeRight"},thumbCss:{backgroundColor:"$volumeThumb"}}}},GTe=({decentralizedSrcOrPlaybackId:t,playbackId:e,refetchPlaybackInfoInterval:r,autoUrlUpload:n,onAssetStatusChange:i})=>{const{mutate:a,status:s,progress:o}=NTe(t?{sources:[{name:t.id,url:t.url}]}:null);T.useEffect(()=>{o?.[0]&&i(o[0])},[o,i]);const{data:l,error:u}=DTe({playbackId:t?.id??e??void 0,staleTime:1e3*60*60*24,refetchInterval:f=>f?!1:r}),c=T.useMemo(()=>u?.code,[u]);return T.useEffect(()=>{n&&a&&s==="idle"&&c===404&&a()},[n,c,a,s]),l},p9="https://w3s.link",m9="https://arweave.net",HTe=2.5,WTe=({src:t,playbackId:e,jwt:r,refetchPlaybackInfoInterval:n,autoUrlUpload:i={fallback:!0},playbackInfo:a,screenWidth:s,accessKey:o,onAccessKeyRequest:l})=>{const[u,c]=T.useState(null),f=T.useCallback(D=>{c(D)},[c]),d=T.useMemo(()=>e?d9(e)??l9(e):Array.isArray(t)?null:d9(t)??l9(t),[e,t]),h=GTe({decentralizedSrcOrPlaybackId:d,playbackId:e,refetchPlaybackInfoInterval:n,autoUrlUpload:i,onAssetStatusChange:f}),p=T.useMemo(()=>a??h,[a,h]),m=T.useCallback(async()=>o||(p?.meta?.playbackPolicy?.type==="webhook"?await l?.(p.meta.playbackPolicy)??null:null),[o,l,p]),{data:g}=EH({queryKey:[p,l,o],queryFn:m,enabled:!!(p||o),staleTime:1/0}),[v,b]=T.useState([]);T.useEffect(()=>{const D=(s??1280)*HTe,N=(a??h)?.meta?.source?.map(F=>({url:F?.url,screenWidthDelta:F?.width?Math.abs(D-F.width):F?.url.includes("static360p")||F?.url.includes("low-bitrate")?Math.abs(D-480):F?.url.includes("static720p")?Math.abs(D-1280):F?.url.includes("static1080p")?Math.abs(D-1920):F?.url.includes("static2160p")?Math.abs(D-3840):null}))??null;N&&b(N)},[a,h,s]);const w=T.useMemo(()=>{if(d&&i){const D=typeof i!="boolean"?{arweaveGateway:i.arweaveGateway??m9,ipfsGateway:i.ipfsGateway??p9}:{arweaveGateway:m9,ipfsGateway:p9};if(d.url.startsWith("ar://")){const{host:N}=new URL(D.arweaveGateway);return{type:"video",mime:"video/mp4",src:`https://${N}/${d.id}`}}else if(d.url.startsWith("ipfs://")){const{host:N}=new URL(D.ipfsGateway);return{type:"video",mime:"video/mp4",src:`https://${N}/ipfs/${d.id}`}}else return{type:"video",mime:"video/mp4",src:t}}return null},[i,d,t]),[E,R]=T.useMemo(()=>{const D=["none",null],N=v.length>0?v.map(z=>z.url):typeof t=="string"?[t]:t;if(!N)return D;const $=N.map(z=>{if(r){const k=new URL(z);return k.searchParams.append("jwt",r),k.toString()}if(g){const k=new URL(z);return k.searchParams.append("accessKey",g),k.toString()}return z}).map(z=>typeof z=="string"?uY(z):null).filter(z=>z);return $?.[0]?.type==="audio"?["audio",$.filter(z=>z.type==="audio")]:$?.[0]?.type==="video"||$?.[0]?.type==="hls"||$?.[0]?.type==="webrtc"?["video",$.filter(z=>z.type==="video"||z.type==="hls"||z.type==="webrtc")]:D},[v,t,r,g]);return{source:T.useMemo(()=>!R&&w?[w]:E==="video"?[...R].sort((N,F)=>{if(N.type==="video"&&F.type==="video"){const $=v.find(k=>k.url===N.src),z=v.find(k=>k.url===F.src);return z?.screenWidthDelta&&$?.screenWidthDelta?$.screenWidthDelta-z.screenWidthDelta:1}else{if(N.type==="video"&&(F.type==="hls"||F.type==="webrtc"))return-1;if(N.type==="webrtc"&&F.type==="hls")return-1}return 1}):R,[R,E,w,v]),uploadStatus:u}},qTe=({autoPlay:t,children:e,controls:r,muted:n,playbackId:i,src:a,playbackInfo:s,theme:o,title:l,poster:u,loop:c,onStreamStatusChange:f,onAccessControlError:d,onError:h,onSourceUpdated:p,jwt:m,viewerId:g,refetchPlaybackInfoInterval:v=5e3,autoUrlUpload:b=!0,accessKey:w,onAccessKeyRequest:E,showLoadingSpinner:R=!0,showUploadingIndicator:I=!0,showTitle:D=!0,priority:N,aspectRatio:F="16to9",objectFit:$="contain",mediaElementRef:z,_isCurrentlyShown:k,onPlaybackStatusUpdate:A,playbackStatusSelector:y,renderChildrenOutsideContainer:x},{_screenWidth:S})=>{const[C,P]=T.useState(null),{source:M,uploadStatus:B}=WTe({src:a,playbackId:i,jwt:m,refetchPlaybackInfoInterval:v,autoUrlUpload:b,screenWidth:S,playbackInfo:s,accessKey:w,onAccessKeyRequest:E}),[L,_]=T.useState(null),U=T.useCallback(ve=>{const Ae=ve?{type:nY(ve)?"access-control":hhe(ve)?"b-frames":rY(ve)?"offline":"unknown",message:ve?.message??"Error with playback."}:null;_(Ae);try{Ae&&console.log(Ae),ve?Ae?.type==="offline"?f?.(!1):Ae?.type==="access-control"?d?.(new Error(Ae.message)):Ae?.message&&h?.(new Error(Ae.message)):f?.(!0)}catch{}return Ae},[d,f,h]);T.useEffect(()=>{M&&(p?.(M),_(null))},[M,p]);const[G,O]=T.useState(!1),Y=T.useMemo(()=>N||k||G,[N,k,G]);T.useEffect(()=>{k&&!G&&O(!0)},[k,G]);const H=T.useMemo(()=>Array.isArray(M)&&M?.[0]?.type!=="audio"?!0:void 0,[M]),W=T.useCallback(ve=>{ve&&(P(ve),z?.(ve))},[z]),K=T.useMemo(()=>I?B?.phase==="processing"&&TTe(B?.progress)?`Processing: ${(Number(B?.progress)*100).toFixed(0)}%`:B?.phase==="failed"?"Upload Failed":null:null,[B,I]),ie=T.useMemo(()=>({ref:W,autoPlay:t,playbackId:i,muted:n,poster:u,loop:c,objectFit:$,options:r,priority:N,playbackError:L,onPlaybackError:U,isCurrentlyShown:k,viewerId:g,onPlaybackStatusUpdate:A,playbackStatusSelector:y}),[W,i,t,n,u,c,$,r,N,L,U,k,g,A,y]),Q=T.useMemo(()=>({autoPlay:t,playbackId:i??void 0,muted:n,priority:N,viewerId:g}),[t,i,n,N,g]),te=T.useMemo(()=>({hidePosterOnPlayed:H,showLoadingSpinner:R,loadingText:K,showUploadingIndicator:I,error:L}),[H,R,K,I,L]),xe=T.useMemo(()=>({autoPlay:t,children:e,controls:r,playbackId:i,src:a,theme:o,title:l,poster:u,loop:c,jwt:m,refetchPlaybackInfoInterval:v,autoUrlUpload:b,showTitle:D,aspectRatio:F,objectFit:$,renderChildrenOutsideContainer:x,playbackError:L}),[t,e,r,i,a,o,l,u,c,m,v,b,D,F,$,x,L]),oe=T.useMemo(()=>Y?M:null,[Y,M]);return{mediaElement:C,source:oe,uploadStatus:B,playerProps:ie,mediaControllerProps:Q,controlsContainerProps:te,props:xe}};var KTe=bn,QTe=Ji,ZTe=d2,XTe=uG,g9=RegExp.prototype,JTe=function(t){var e=t.flags;return e===void 0&&!("flags"in g9)&&!QTe(t,"flags")&&ZTe(g9,t)?KTe(XTe,t):e},eAe=rP.PROPER,tAe=us,rAe=qn,v9=tl,nAe=br,iAe=JTe,MP="toString",aAe=RegExp.prototype,OH=aAe[MP],sAe=nAe(function(){return OH.call({source:"a",flags:"b"})!=="/a/b"}),oAe=eAe&&OH.name!==MP;(sAe||oAe)&&tAe(RegExp.prototype,MP,function(){var e=rAe(this),r=v9(e.source),n=v9(iAe(e));return"/"+r+"/"+n},{unsafe:!0});function y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(r),!0).forEach(function(n){Ma(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qe(){Qe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(k,A,y){k[A]=y.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(k,A,y){return Object.defineProperty(k,A,{value:y,enumerable:!0,configurable:!0,writable:!0}),k[A]}try{l({},"")}catch{l=function(A,y,x){return A[y]=x}}function u(k,A,y,x){var S=A&&A.prototype instanceof d?A:d,C=Object.create(S.prototype),P=new F(x||[]);return n(C,"_invoke",{value:R(k,y,P)}),C}function c(k,A,y){try{return{type:"normal",arg:k.call(A,y)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};l(m,a,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g($([])));v&&v!==e&&r.call(v,a)&&(m=v);var b=p.prototype=d.prototype=Object.create(m);function w(k){["next","throw","return"].forEach(function(A){l(k,A,function(y){return this._invoke(A,y)})})}function E(k,A){function y(S,C,P,M){var B=c(k[S],k,C);if(B.type!=="throw"){var L=B.arg,_=L.value;return _&&typeof _=="object"&&r.call(_,"__await")?A.resolve(_.__await).then(function(U){y("next",U,P,M)},function(U){y("throw",U,P,M)}):A.resolve(_).then(function(U){L.value=U,P(L)},function(U){return y("throw",U,P,M)})}M(B.arg)}var x;n(this,"_invoke",{value:function(S,C){function P(){return new A(function(M,B){y(S,C,M,B)})}return x=x?x.then(P,P):P()}})}function R(k,A,y){var x="suspendedStart";return function(S,C){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(S==="throw")throw C;return z()}for(y.method=S,y.arg=C;;){var P=y.delegate;if(P){var M=I(P,y);if(M){if(M===f)continue;return M}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(x==="suspendedStart")throw x="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);x="executing";var B=c(k,A,y);if(B.type==="normal"){if(x=y.done?"completed":"suspendedYield",B.arg===f)continue;return{value:B.arg,done:y.done}}B.type==="throw"&&(x="completed",y.method="throw",y.arg=B.arg)}}}function I(k,A){var y=A.method,x=k.iterator[y];if(x===void 0)return A.delegate=null,y==="throw"&&k.iterator.return&&(A.method="return",A.arg=void 0,I(k,A),A.method==="throw")||y!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+y+"' method")),f;var S=c(x,k.iterator,A.arg);if(S.type==="throw")return A.method="throw",A.arg=S.arg,A.delegate=null,f;var C=S.arg;return C?C.done?(A[k.resultName]=C.value,A.next=k.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,f):C:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,f)}function D(k){var A={tryLoc:k[0]};1 in k&&(A.catchLoc=k[1]),2 in k&&(A.finallyLoc=k[2],A.afterLoc=k[3]),this.tryEntries.push(A)}function N(k){var A=k.completion||{};A.type="normal",delete A.arg,k.completion=A}function F(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(D,this),this.reset(!0)}function $(k){if(k){var A=k[a];if(A)return A.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var y=-1,x=function S(){for(;++y<k.length;)if(r.call(k,y))return S.value=k[y],S.done=!1,S;return S.value=void 0,S.done=!0,S};return x.next=x}}return{next:z}}function z(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(k){var A=typeof k=="function"&&k.constructor;return!!A&&(A===h||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,p):(k.__proto__=p,l(k,o,"GeneratorFunction")),k.prototype=Object.create(b),k},t.awrap=function(k){return{__await:k}},w(E.prototype),l(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(k,A,y,x,S){S===void 0&&(S=Promise);var C=new E(u(k,A,y,x),S);return t.isGeneratorFunction(A)?C:C.next().then(function(P){return P.done?P.value:C.next()})},w(b),l(b,o,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),t.keys=function(k){var A=Object(k),y=[];for(var x in A)y.push(x);return y.reverse(),function S(){for(;y.length;){var C=y.pop();if(C in A)return S.value=C,S.done=!1,S}return S.done=!0,S}},t.values=$,F.prototype={constructor:F,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!k)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var A=this;function y(B,L){return C.type="throw",C.arg=k,A.next=B,L&&(A.method="next",A.arg=void 0),!!L}for(var x=this.tryEntries.length-1;x>=0;--x){var S=this.tryEntries[x],C=S.completion;if(S.tryLoc==="root")return y("end");if(S.tryLoc<=this.prev){var P=r.call(S,"catchLoc"),M=r.call(S,"finallyLoc");if(P&&M){if(this.prev<S.catchLoc)return y(S.catchLoc,!0);if(this.prev<S.finallyLoc)return y(S.finallyLoc)}else if(P){if(this.prev<S.catchLoc)return y(S.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return y(S.finallyLoc)}}}},abrupt:function(k,A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.tryLoc<=this.prev&&r.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var S=x;break}}S&&(k==="break"||k==="continue")&&S.tryLoc<=A&&A<=S.finallyLoc&&(S=null);var C=S?S.completion:{};return C.type=k,C.arg=A,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(C)},complete:function(k,A){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&A&&(this.next=A),f},finish:function(k){for(var A=this.tryEntries.length-1;A>=0;--A){var y=this.tryEntries[A];if(y.finallyLoc===k)return this.complete(y.completion,y.afterLoc),N(y),f}},catch:function(k){for(var A=this.tryEntries.length-1;A>=0;--A){var y=this.tryEntries[A];if(y.tryLoc===k){var x=y.completion;if(x.type==="throw"){var S=x.arg;N(y)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(k,A,y){return this.delegate={iterator:$(k),resultName:A,nextLoc:y},this.method==="next"&&(this.arg=void 0),f}},t}function b9(t,e,r,n,i,a,s){try{var o=t[a](s),l=o.value}catch(u){r(u);return}o.done?e(l):Promise.resolve(l).then(n,i)}function lr(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(l){b9(a,n,i,s,o,"next",l)}function o(l){b9(a,n,i,s,o,"throw",l)}s(void 0)})}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NH(t,e){if(t){if(typeof t=="string")return KI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KI(t,e)}}function jm(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=NH(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var lAe=Yc,$P=Array.isArray||function(e){return lAe(e)==="Array"},x9=$P,uAe=x2,cAe=Xi,fAe=xr,dAe=fAe("species"),w9=Array,hAe=function(t){var e;return x9(t)&&(e=t.constructor,uAe(e)&&(e===w9||x9(e.prototype))?e=void 0:cAe(e)&&(e=e[dAe],e===null&&(e=void 0))),e===void 0?w9:e},pAe=hAe,LH=function(t,e){return new(pAe(t))(e===0?0:e)},mAe=Wc,gAe=Nr,vAe=f2,yAe=Cu,bAe=Pu,xAe=LH,E9=gAe([].push),vl=function(t){var e=t===1,r=t===2,n=t===3,i=t===4,a=t===6,s=t===7,o=t===5||a;return function(l,u,c,f){for(var d=yAe(l),h=vAe(d),p=mAe(u,c),m=bAe(h),g=0,v=f||xAe,b=e?v(l,m):r||s?v(l,0):void 0,w,E;m>g;g++)if((o||g in h)&&(w=h[g],E=p(w,g,d),t))if(e)b[g]=E;else if(E)switch(t){case 3:return!0;case 5:return w;case 6:return g;case 2:E9(b,w)}else switch(t){case 4:return!1;case 7:E9(b,w)}return a?-1:n||i?i:b}},DH={forEach:vl(0),map:vl(1),filter:vl(2),some:vl(3),every:vl(4),find:vl(5),findIndex:vl(6),filterReject:vl(7)},wAe=br,EAe=xr,SAe=dv,TAe=EAe("species"),C2=function(t){return SAe>=51||!wAe(function(){var e=[],r=e.constructor={};return r[TAe]=function(){return{foo:1}},e[t](Boolean).foo!==1})},AAe=un,RAe=DH.filter,_Ae=C2,IAe=_Ae("filter");AAe({target:"Array",proto:!0,forced:!IAe},{filter:function(e){return RAe(this,e,arguments.length>1?arguments[1]:void 0)}});var CAe=un,PAe=DH.map,kAe=C2,OAe=kAe("map");CAe({target:"Array",proto:!0,forced:!OAe},{map:function(e){return PAe(this,e,arguments.length>1?arguments[1]:void 0)}});var NAe=un,MH=bP,LAe=uv.f,DAe=lP,S9=tl,MAe=QG,$Ae=Wh,FAe=ZG,T9=MH("".startsWith),BAe=MH("".slice),UAe=Math.min,$H=FAe("startsWith"),jAe=!$H&&!!function(){var t=LAe(String.prototype,"startsWith");return t&&!t.writable}();NAe({target:"String",proto:!0,forced:!jAe&&!$H},{startsWith:function(e){var r=S9($Ae(this));MAe(e);var n=DAe(UAe(arguments.length>1?arguments[1]:void 0,r.length)),i=S9(e);return T9?T9(r,i,n):BAe(r,n,n+i.length)===i}});var zAe=eP,VAe=Qs,YAe=cv,P2=function(t,e,r){var n=zAe(e);n in t?VAe.f(t,n,YAe(0,r)):t[n]=r},GAe=un,A9=$P,HAe=x2,WAe=Xi,R9=oP,qAe=Pu,KAe=qh,QAe=P2,ZAe=xr,XAe=C2,JAe=SG,eRe=XAe("slice"),tRe=ZAe("species"),NT=Array,rRe=Math.max;GAe({target:"Array",proto:!0,forced:!eRe},{slice:function(e,r){var n=KAe(this),i=qAe(n),a=R9(e,i),s=R9(r===void 0?i:r,i),o,l,u;if(A9(n)&&(o=n.constructor,HAe(o)&&(o===NT||A9(o.prototype))?o=void 0:WAe(o)&&(o=o[tRe],o===null&&(o=void 0)),o===NT||o===void 0))return JAe(n,a,s);for(l=new(o===void 0?NT:o)(rRe(s-a,0)),u=0;a<s;a++,u++)a in n&&QAe(l,u,n[a]);return l.length=u,l}});var nRe=br,iRe=!nRe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),aRe=Ji,sRe=Lr,oRe=Cu,lRe=iP,uRe=iRe,_9=lRe("IE_PROTO"),QI=Object,cRe=QI.prototype,FH=uRe?QI.getPrototypeOf:function(t){var e=oRe(t);if(aRe(e,_9))return e[_9];var r=e.constructor;return sRe(r)&&e instanceof r?r.prototype:e instanceof QI?cRe:null},fRe=br,dRe=Lr,hRe=Xi,I9=FH,pRe=us,mRe=xr,ZI=mRe("iterator"),BH=!1,Rc,LT,DT;[].keys&&(DT=[].keys(),"next"in DT?(LT=I9(I9(DT)),LT!==Object.prototype&&(Rc=LT)):BH=!0);var gRe=!hRe(Rc)||fRe(function(){var t={};return Rc[ZI].call(t)!==t});gRe&&(Rc={});dRe(Rc[ZI])||pRe(Rc,ZI,function(){return this});var UH={IteratorPrototype:Rc,BUGGY_SAFARI_ITERATORS:BH},vRe=UH.IteratorPrototype,yRe=y2,bRe=cv,xRe=vv,wRe=bv,ERe=function(){return this},jH=function(t,e,r,n){var i=e+" Iterator";return t.prototype=yRe(vRe,{next:bRe(+!n,r)}),xRe(t,i,!1),wRe[i]=ERe,t},SRe=un,TRe=bn,zH=rP,ARe=Lr,RRe=jH,C9=FH,P9=gG,_Re=vv,IRe=hv,MT=us,CRe=xr,PRe=bv,VH=UH,kRe=zH.PROPER,ORe=zH.CONFIGURABLE,k9=VH.IteratorPrototype,$y=VH.BUGGY_SAFARI_ITERATORS,C0=CRe("iterator"),O9="keys",P0="values",N9="entries",NRe=function(){return this},YH=function(t,e,r,n,i,a,s){RRe(r,e,n);var o=function(v){if(v===i&&d)return d;if(!$y&&v&&v in c)return c[v];switch(v){case O9:return function(){return new r(this,v)};case P0:return function(){return new r(this,v)};case N9:return function(){return new r(this,v)}}return function(){return new r(this)}},l=e+" Iterator",u=!1,c=t.prototype,f=c[C0]||c["@@iterator"]||i&&c[i],d=!$y&&f||o(i),h=e==="Array"&&c.entries||f,p,m,g;if(h&&(p=C9(h.call(new t)),p!==Object.prototype&&p.next&&(C9(p)!==k9&&(P9?P9(p,k9):ARe(p[C0])||MT(p,C0,NRe)),_Re(p,l,!0))),kRe&&i===P0&&f&&f.name!==P0&&(ORe?IRe(c,"name",P0):(u=!0,d=function(){return TRe(f,this)})),i)if(m={values:o(P0),keys:a?d:o(O9),entries:o(N9)},s)for(g in m)($y||u||!(g in c))&&MT(c,g,m[g]);else SRe({target:e,proto:!0,forced:$y||u},m);return c[C0]!==d&&MT(c,C0,d,{name:i}),PRe[e]=d,m},GH=function(t,e){return{value:t,done:e}},LRe=qh,FP=KG,L9=bv,HH=Hc,DRe=Qs.f,MRe=YH,Fy=GH,$Re=ki,WH="Array Iterator",FRe=HH.set,BRe=HH.getterFor(WH),URe=MRe(Array,"Array",function(t,e){FRe(this,{type:WH,target:LRe(t),index:0,kind:e})},function(){var t=BRe(this),e=t.target,r=t.kind,n=t.index++;if(!e||n>=e.length)return t.target=void 0,Fy(void 0,!0);switch(r){case"keys":return Fy(n,!1);case"values":return Fy(e[n],!1)}return Fy([n,e[n]],!1)},"values"),D9=L9.Arguments=L9.Array;FP("keys");FP("values");FP("entries");if($Re&&D9.name!=="values")try{DRe(D9,"name",{value:"values"})}catch{}var BP=Nr,jRe=v2,zRe=tl,VRe=Wh,YRe=BP("".charAt),M9=BP("".charCodeAt),GRe=BP("".slice),$9=function(t){return function(e,r){var n=zRe(VRe(e)),i=jRe(r),a=n.length,s,o;return i<0||i>=a?t?"":void 0:(s=M9(n,i),s<55296||s>56319||i+1===a||(o=M9(n,i+1))<56320||o>57343?t?YRe(n,i):s:t?GRe(n,i,i+2):(s-55296<<10)+(o-56320)+65536)}},UP={codeAt:$9(!1),charAt:$9(!0)},HRe=UP.charAt,WRe=tl,qH=Hc,qRe=YH,F9=GH,KH="String Iterator",KRe=qH.set,QRe=qH.getterFor(KH);qRe(String,"String",function(t){KRe(this,{type:KH,string:WRe(t),index:0})},function(){var e=QRe(this),r=e.string,n=e.index,i;return n>=r.length?F9(void 0,!0):(i=HRe(r,n),e.index+=i.length,F9(i,!1))});var ZRe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},XRe=g2,$T=XRe("span").classList,B9=$T&&$T.constructor&&$T.constructor.prototype,JRe=B9===Object.prototype?void 0:B9,U9=zr,QH=ZRe,e_e=JRe,pp=URe,FT=hv,ZH=xr,BT=ZH("iterator"),j9=ZH("toStringTag"),UT=pp.values,XH=function(t,e){if(t){if(t[BT]!==UT)try{FT(t,BT,UT)}catch{t[BT]=UT}if(t[j9]||FT(t,j9,e),QH[e]){for(var r in pp)if(t[r]!==pp[r])try{FT(t,r,pp[r])}catch{t[r]=pp[r]}}}};for(var jT in QH)XH(U9[jT]&&U9[jT].prototype,jT);XH(e_e,"DOMTokenList");var t_e=br,r_e=xr,n_e=ki,z9=Jme,i_e=r_e("iterator"),JH=!t_e(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(i,a){e.delete("b"),n+=a+i}),r.delete("a",2),r.delete("b",void 0),z9&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(z9||!n_e)||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[i_e]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),a_e=qn,s_e=YG,o_e=function(t,e,r,n){try{return n?e(a_e(r)[0],r[1]):e(r)}catch(i){s_e(t,"throw",i)}},l_e=Wc,u_e=bn,c_e=Cu,f_e=o_e,d_e=VG,h_e=x2,p_e=Pu,V9=P2,m_e=_P,g_e=S2,Y9=Array,v_e=function(e){var r=c_e(e),n=h_e(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=l_e(a,i>2?arguments[2]:void 0));var o=g_e(r),l=0,u,c,f,d,h,p;if(o&&!(this===Y9&&d_e(o)))for(d=m_e(r,o),h=d.next,c=n?new this:[];!(f=u_e(h,d)).done;l++)p=s?f_e(d,a,[f.value,l],!0):f.value,V9(c,l,p);else for(u=p_e(r),c=n?new this(u):Y9(u);u>l;l++)p=s?a(r[l],l):r[l],V9(c,l,p);return c.length=l,c},G9=oP,y_e=Pu,b_e=P2,x_e=Array,w_e=Math.max,eW=function(t,e,r){for(var n=y_e(t),i=G9(e,n),a=G9(r===void 0?n:r,n),s=x_e(w_e(a-i,0)),o=0;i<a;i++,o++)b_e(s,o,t[i]);return s.length=o,s},Kc=Nr,zT=2147483647,Up=36,tW=1,XI=26,E_e=38,S_e=700,T_e=72,A_e=128,R_e="-",__e=/[^\0-\u007E]/,rW=/[.\u3002\uFF0E\uFF61]/g,H9="Overflow: input needs wider integers to process",VT=Up-tW,W9=RangeError,I_e=Kc(rW.exec),pd=Math.floor,YT=String.fromCharCode,q9=Kc("".charCodeAt),nW=Kc([].join),Ul=Kc([].push),C_e=Kc("".replace),P_e=Kc("".split),k_e=Kc("".toLowerCase),O_e=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=q9(t,r++);if(i>=55296&&i<=56319&&r<n){var a=q9(t,r++);(a&64512)===56320?Ul(e,((i&1023)<<10)+(a&1023)+65536):(Ul(e,i),r--)}else Ul(e,i)}return e},K9=function(t){return t+22+75*(t<26)},N_e=function(t,e,r){var n=0;for(t=r?pd(t/S_e):t>>1,t+=pd(t/e);t>VT*XI>>1;)t=pd(t/VT),n+=Up;return pd(n+(VT+1)*t/(t+E_e))},L_e=function(t){var e=[];t=O_e(t);var r=t.length,n=A_e,i=0,a=T_e,s,o;for(s=0;s<t.length;s++)o=t[s],o<128&&Ul(e,YT(o));var l=e.length,u=l;for(l&&Ul(e,R_e);u<r;){var c=zT;for(s=0;s<t.length;s++)o=t[s],o>=n&&o<c&&(c=o);var f=u+1;if(c-n>pd((zT-i)/f))throw W9(H9);for(i+=(c-n)*f,n=c,s=0;s<t.length;s++){if(o=t[s],o<n&&++i>zT)throw W9(H9);if(o===n){for(var d=i,h=Up;;){var p=h<=a?tW:h>=a+XI?XI:h-a;if(d<p)break;var m=d-p,g=Up-p;Ul(e,YT(K9(p+m%g))),d=pd(m/g),h+=Up}Ul(e,YT(K9(d))),a=N_e(i,f,u===l),i=0,u++}}i++,n++}return nW(e,"")},D_e=function(t){var e=[],r=P_e(C_e(k_e(t),rW,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Ul(e,I_e(__e,i)?"xn--"+L_e(i):i);return nW(e,".")},M_e=us,$_e=function(t,e,r){for(var n in e)M_e(t,n,e[n],r);return t},Q9=eW,F_e=Math.floor,JI=function(t,e){var r=t.length,n=F_e(r/2);return r<8?B_e(t,e):U_e(t,JI(Q9(t,0,n),e),JI(Q9(t,n),e),e)},B_e=function(t,e){for(var r=t.length,n=1,i,a;n<r;){for(a=n,i=t[n];a&&e(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}return t},U_e=function(t,e,r,n){for(var i=e.length,a=r.length,s=0,o=0;s<i||o<a;)t[s+o]=s<i&&o<a?n(e[s],r[o])<=0?e[s++]:r[o++]:s<i?e[s++]:r[o++];return t},j_e=JI,e6=un,mh=zr,By=bn,Bs=Nr,Dd=ki,iW=JH,aW=us,z_e=gP,V_e=$_e,Y_e=vv,G_e=jH,jP=Hc,sW=vP,GT=Lr,H_e=Ji,W_e=Wc,q_e=mv,K_e=qn,oW=Xi,ei=tl,Q_e=y2,Z9=cv,t6=_P,Z_e=S2,bf=xP,X_e=xr,J_e=j_e,eIe=X_e("iterator"),Ev="URLSearchParams",lW=Ev+"Iterator",uW=jP.set,ca=jP.getterFor(Ev),tIe=jP.getterFor(lW),rIe=Object.getOwnPropertyDescriptor,zP=function(t){if(!Dd)return mh[t];var e=rIe(mh,t);return e&&e.value},X9=zP("fetch"),Ix=zP("Request"),jp=zP("Headers"),HT=Ix&&Ix.prototype,J9=jp&&jp.prototype,nIe=mh.RegExp,iIe=mh.TypeError,cW=mh.decodeURIComponent,aIe=mh.encodeURIComponent,sIe=Bs("".charAt),eM=Bs([].join),sc=Bs([].push),r6=Bs("".replace),oIe=Bs([].shift),tM=Bs([].splice),rM=Bs("".split),lIe=Bs("".slice),uIe=/\+/g,nM=Array(4),cIe=function(t){return nM[t-1]||(nM[t-1]=nIe("((?:%[\\da-f]{2}){"+t+"})","gi"))},fIe=function(t){try{return cW(t)}catch{return t}},iM=function(t){var e=r6(t,uIe," "),r=4;try{return cW(e)}catch{for(;r;)e=r6(e,cIe(r--),fIe);return e}},dIe=/[!'()~]|%20/g,hIe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pIe=function(t){return hIe[t]},aM=function(t){return r6(aIe(t),dIe,pIe)},WT=G_e(function(e,r){uW(this,{type:lW,iterator:t6(ca(e).entries),kind:r})},"Iterator",function(){var e=tIe(this),r=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),fW=function(t){this.entries=[],this.url=null,t!==void 0&&(oW(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?sIe(t,0)==="?"?lIe(t,1):t:ei(t)))};fW.prototype={type:Ev,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=Z_e(t),r,n,i,a,s,o,l;if(e)for(r=t6(t,e),n=r.next;!(i=By(n,r)).done;){if(a=t6(K_e(i.value)),s=a.next,(o=By(s,a)).done||(l=By(s,a)).done||!By(s,a).done)throw iIe("Expected sequence with length 2");sc(this.entries,{key:ei(o.value),value:ei(l.value)})}else for(var u in t)H_e(t,u)&&sc(this.entries,{key:u,value:ei(t[u])})},parseQuery:function(t){if(t)for(var e=rM(t,"&"),r=0,n,i;r<e.length;)n=e[r++],n.length&&(i=rM(n,"="),sc(this.entries,{key:iM(oIe(i)),value:iM(eM(i,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],sc(e,aM(n.key)+"="+aM(n.value));return eM(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var k2=function(){sW(this,gh);var e=arguments.length>0?arguments[0]:void 0,r=uW(this,new fW(e));Dd||(this.size=r.entries.length)},gh=k2.prototype;V_e(gh,{append:function(e,r){var n=ca(this);bf(arguments.length,2),sc(n.entries,{key:ei(e),value:ei(r)}),Dd||this.length++,n.updateURL()},delete:function(t){for(var e=ca(this),r=bf(arguments.length,1),n=e.entries,i=ei(t),a=r<2?void 0:arguments[1],s=a===void 0?a:ei(a),o=0;o<n.length;){var l=n[o];if(l.key===i&&(s===void 0||l.value===s)){if(tM(n,o,1),s!==void 0)break}else o++}Dd||(this.size=n.length),e.updateURL()},get:function(e){var r=ca(this).entries;bf(arguments.length,1);for(var n=ei(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(e){var r=ca(this).entries;bf(arguments.length,1);for(var n=ei(e),i=[],a=0;a<r.length;a++)r[a].key===n&&sc(i,r[a].value);return i},has:function(e){for(var r=ca(this).entries,n=bf(arguments.length,1),i=ei(e),a=n<2?void 0:arguments[1],s=a===void 0?a:ei(a),o=0;o<r.length;){var l=r[o++];if(l.key===i&&(s===void 0||l.value===s))return!0}return!1},set:function(e,r){var n=ca(this);bf(arguments.length,1);for(var i=n.entries,a=!1,s=ei(e),o=ei(r),l=0,u;l<i.length;l++)u=i[l],u.key===s&&(a?tM(i,l--,1):(a=!0,u.value=o));a||sc(i,{key:s,value:o}),Dd||(this.size=i.length),n.updateURL()},sort:function(){var e=ca(this);J_e(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=ca(this).entries,n=W_e(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new WT(this,"keys")},values:function(){return new WT(this,"values")},entries:function(){return new WT(this,"entries")}},{enumerable:!0});aW(gh,eIe,gh.entries,{name:"entries"});aW(gh,"toString",function(){return ca(this).serialize()},{enumerable:!0});Dd&&z_e(gh,"size",{get:function(){return ca(this).entries.length},configurable:!0,enumerable:!0});Y_e(k2,Ev);e6({global:!0,constructor:!0,forced:!iW},{URLSearchParams:k2});if(!iW&&GT(jp)){var mIe=Bs(J9.has),gIe=Bs(J9.set),sM=function(t){if(oW(t)){var e=t.body,r;if(q_e(e)===Ev)return r=t.headers?new jp(t.headers):new jp,mIe(r,"content-type")||gIe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Q_e(t,{body:Z9(0,ei(e)),headers:Z9(0,r)})}return t};if(GT(X9)&&e6({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return X9(e,arguments.length>1?sM(arguments[1]):{})}}),GT(Ix)){var qT=function(e){return sW(this,HT),new Ix(e,arguments.length>1?sM(arguments[1]):{})};HT.constructor=qT,qT.prototype=HT,e6({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:qT})}}var vIe={URLSearchParams:k2,getState:ca},yIe=un,VP=ki,bIe=JH,YP=zr,oM=Wc,Ta=Nr,Cx=us,ra=gP,xIe=vP,n6=Ji,GP=nH,xf=v_e,ka=eW,wIe=UP.codeAt,EIe=D_e,ao=tl,SIe=vv,TIe=xP,dW=vIe,hW=Hc,AIe=hW.set,Px=hW.getterFor("URL"),RIe=dW.URLSearchParams,_Ie=dW.getState,k0=YP.URL,i6=YP.TypeError,kx=YP.parseInt,IIe=Math.floor,lM=Math.pow,ga=Ta("".charAt),qa=Ta(/./.exec),mp=Ta([].join),CIe=Ta(1 .toString),PIe=Ta([].pop),Ff=Ta([].push),KT=Ta("".replace),kIe=Ta([].shift),OIe=Ta("".split),zp=Ta("".slice),Ox=Ta("".toLowerCase),NIe=Ta([].unshift),LIe="Invalid authority",QT="Invalid scheme",Uu="Invalid host",uM="Invalid port",pW=/[a-z]/i,DIe=/[\d+-.a-z]/i,a6=/\d/,MIe=/^0x/i,$Ie=/^[0-7]+$/,FIe=/^\d+$/,mW=/^[\da-f]+$/i,BIe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,UIe=/[\0\t\n\r #/:<>?@[\\\]^|]/,jIe=/^[\u0000-\u0020]+/,zIe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,VIe=/[\t\n\r]/g,na,YIe=function(t){var e=OIe(t,"."),r,n,i,a,s,o,l;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],i=0;i<r;i++){if(a=e[i],a==="")return t;if(s=10,a.length>1&&ga(a,0)==="0"&&(s=qa(MIe,a)?16:8,a=zp(a,s===8?1:2)),a==="")o=0;else{if(!qa(s===10?FIe:s===8?$Ie:mW,a))return t;o=kx(a,s)}Ff(n,o)}for(i=0;i<r;i++)if(o=n[i],i===r-1){if(o>=lM(256,5-r))return null}else if(o>255)return null;for(l=PIe(n),i=0;i<n.length;i++)l+=n[i]*lM(256,3-i);return l},GIe=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,a,s,o,l,u,c,f,d=function(){return ga(t,i)};if(d()===":"){if(ga(t,1)!==":")return;i+=2,r++,n=r}for(;d();){if(r===8)return;if(d()===":"){if(n!==null)return;i++,r++,n=r;continue}for(a=s=0;s<4&&qa(mW,d());)a=a*16+kx(d(),16),i++,s++;if(d()==="."){if(s===0||(i-=s,r>6))return;for(o=0;d();){if(l=null,o>0)if(d()==="."&&o<4)i++;else return;if(!qa(a6,d()))return;for(;qa(a6,d());){if(u=kx(d(),10),l===null)l=u;else{if(l===0)return;l=l*10+u}if(l>255)return;i++}e[r]=e[r]*256+l,o++,(o===2||o===4)&&r++}if(o!==4)return;break}else if(d()===":"){if(i++,!d())return}else if(d())return;e[r++]=a}if(n!==null)for(c=r-n,r=7;r!==0&&c>0;)f=e[r],e[r--]=e[n+c-1],e[n+--c]=f;else if(r!==8)return;return e},HIe=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)t[a]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=a),++i);return i>r&&(e=n,r=i),e},O0=function(t){var e,r,n,i;if(typeof t=="number"){for(e=[],r=0;r<4;r++)NIe(e,t%256),t=IIe(t/256);return mp(e,".")}else if(typeof t=="object"){for(e="",n=HIe(t),r=0;r<8;r++)i&&t[r]===0||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=CIe(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},r1={},gW=GP({},r1,{" ":1,'"':1,"<":1,">":1,"`":1}),vW=GP({},gW,{"#":1,"?":1,"{":1,"}":1}),ZT=GP({},vW,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),yl=function(t,e){var r=wIe(t,0);return r>32&&r<127&&!n6(e,t)?t:encodeURIComponent(t)},Uy={ftp:21,file:null,http:80,https:443,ws:80,wss:443},gp=function(t,e){var r;return t.length===2&&qa(pW,ga(t,0))&&((r=ga(t,1))===":"||!e&&r==="|")},cM=function(t){var e;return t.length>1&&gp(zp(t,0,2))&&(t.length===2||(e=ga(t,2))==="/"||e==="\\"||e==="?"||e==="#")},WIe=function(t){return t==="."||Ox(t)==="%2e"},qIe=function(t){return t=Ox(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},XT={},fM={},JT={},dM={},hM={},eA={},pM={},mM={},jy={},zy={},tA={},rA={},nA={},iA={},gM={},aA={},wf={},hs={},vM={},ju={},eo={},HP=function(t,e,r){var n=ao(t),i,a,s;if(e){if(a=this.parse(n),a)throw i6(a);this.searchParams=null}else{if(r!==void 0&&(i=new HP(r,!0)),a=this.parse(n,null,i),a)throw i6(a);s=_Ie(new RIe),s.bindURL(this),this.searchParams=s}};HP.prototype={type:"URL",parse:function(t,e,r){var n=this,i=e||XT,a=0,s="",o=!1,l=!1,u=!1,c,f,d,h;for(t=ao(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=KT(t,jIe,""),t=KT(t,zIe,"$1")),t=KT(t,VIe,""),c=xf(t);a<=c.length;){switch(f=c[a],i){case XT:if(f&&qa(pW,f))s+=Ox(f),i=fM;else{if(e)return QT;i=JT;continue}break;case fM:if(f&&(qa(DIe,f)||f==="+"||f==="-"||f==="."))s+=Ox(f);else if(f===":"){if(e&&(n.isSpecial()!==n6(Uy,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,e){n.isSpecial()&&Uy[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?i=iA:n.isSpecial()&&r&&r.scheme===n.scheme?i=dM:n.isSpecial()?i=mM:c[a+1]==="/"?(i=hM,a++):(n.cannotBeABaseURL=!0,Ff(n.path,""),i=vM)}else{if(e)return QT;s="",i=JT,a=0;continue}break;case JT:if(!r||r.cannotBeABaseURL&&f!=="#")return QT;if(r.cannotBeABaseURL&&f==="#"){n.scheme=r.scheme,n.path=ka(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=eo;break}i=r.scheme==="file"?iA:eA;continue;case dM:if(f==="/"&&c[a+1]==="/")i=jy,a++;else{i=eA;continue}break;case hM:if(f==="/"){i=zy;break}else{i=hs;continue}case eA:if(n.scheme=r.scheme,f===na)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ka(r.path),n.query=r.query;else if(f==="/"||f==="\\"&&n.isSpecial())i=pM;else if(f==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ka(r.path),n.query="",i=ju;else if(f==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ka(r.path),n.query=r.query,n.fragment="",i=eo;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=ka(r.path),n.path.length--,i=hs;continue}break;case pM:if(n.isSpecial()&&(f==="/"||f==="\\"))i=jy;else if(f==="/")i=zy;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=hs;continue}break;case mM:if(i=jy,f!=="/"||ga(s,a+1)!=="/")continue;a++;break;case jy:if(f!=="/"&&f!=="\\"){i=zy;continue}break;case zy:if(f==="@"){o&&(s="%40"+s),o=!0,d=xf(s);for(var p=0;p<d.length;p++){var m=d[p];if(m===":"&&!u){u=!0;continue}var g=yl(m,ZT);u?n.password+=g:n.username+=g}s=""}else if(f===na||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(o&&s==="")return LIe;a-=xf(s).length+1,s="",i=tA}else s+=f;break;case tA:case rA:if(e&&n.scheme==="file"){i=aA;continue}else if(f===":"&&!l){if(s==="")return Uu;if(h=n.parseHost(s),h)return h;if(s="",i=nA,e===rA)return}else if(f===na||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return Uu;if(e&&s===""&&(n.includesCredentials()||n.port!==null))return;if(h=n.parseHost(s),h)return h;if(s="",i=wf,e)return;continue}else f==="["?l=!0:f==="]"&&(l=!1),s+=f;break;case nA:if(qa(a6,f))s+=f;else if(f===na||f==="/"||f==="?"||f==="#"||f==="\\"&&n.isSpecial()||e){if(s!==""){var v=kx(s,10);if(v>65535)return uM;n.port=n.isSpecial()&&v===Uy[n.scheme]?null:v,s=""}if(e)return;i=wf;continue}else return uM;break;case iA:if(n.scheme="file",f==="/"||f==="\\")i=gM;else if(r&&r.scheme==="file")switch(f){case na:n.host=r.host,n.path=ka(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=ka(r.path),n.query="",i=ju;break;case"#":n.host=r.host,n.path=ka(r.path),n.query=r.query,n.fragment="",i=eo;break;default:cM(mp(ka(c,a),""))||(n.host=r.host,n.path=ka(r.path),n.shortenPath()),i=hs;continue}else{i=hs;continue}break;case gM:if(f==="/"||f==="\\"){i=aA;break}r&&r.scheme==="file"&&!cM(mp(ka(c,a),""))&&(gp(r.path[0],!0)?Ff(n.path,r.path[0]):n.host=r.host),i=hs;continue;case aA:if(f===na||f==="/"||f==="\\"||f==="?"||f==="#"){if(!e&&gp(s))i=hs;else if(s===""){if(n.host="",e)return;i=wf}else{if(h=n.parseHost(s),h)return h;if(n.host==="localhost"&&(n.host=""),e)return;s="",i=wf}continue}else s+=f;break;case wf:if(n.isSpecial()){if(i=hs,f!=="/"&&f!=="\\")continue}else if(!e&&f==="?")n.query="",i=ju;else if(!e&&f==="#")n.fragment="",i=eo;else if(f!==na&&(i=hs,f!=="/"))continue;break;case hs:if(f===na||f==="/"||f==="\\"&&n.isSpecial()||!e&&(f==="?"||f==="#")){if(qIe(s)?(n.shortenPath(),f!=="/"&&!(f==="\\"&&n.isSpecial())&&Ff(n.path,"")):WIe(s)?f!=="/"&&!(f==="\\"&&n.isSpecial())&&Ff(n.path,""):(n.scheme==="file"&&!n.path.length&&gp(s)&&(n.host&&(n.host=""),s=ga(s,0)+":"),Ff(n.path,s)),s="",n.scheme==="file"&&(f===na||f==="?"||f==="#"))for(;n.path.length>1&&n.path[0]==="";)kIe(n.path);f==="?"?(n.query="",i=ju):f==="#"&&(n.fragment="",i=eo)}else s+=yl(f,vW);break;case vM:f==="?"?(n.query="",i=ju):f==="#"?(n.fragment="",i=eo):f!==na&&(n.path[0]+=yl(f,r1));break;case ju:!e&&f==="#"?(n.fragment="",i=eo):f!==na&&(f==="'"&&n.isSpecial()?n.query+="%27":f==="#"?n.query+="%23":n.query+=yl(f,r1));break;case eo:f!==na&&(n.fragment+=yl(f,gW));break}a++}},parseHost:function(t){var e,r,n;if(ga(t,0)==="["){if(ga(t,t.length-1)!=="]"||(e=GIe(zp(t,1,-1)),!e))return Uu;this.host=e}else if(this.isSpecial()){if(t=EIe(t),qa(BIe,t)||(e=YIe(t),e===null))return Uu;this.host=e}else{if(qa(UIe,t))return Uu;for(e="",r=xf(t),n=0;n<r.length;n++)e+=yl(r[n],r1);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return n6(Uy,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!gp(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,s=t.path,o=t.query,l=t.fragment,u=e+":";return i!==null?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=O0(i),a!==null&&(u+=":"+a)):e==="file"&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+mp(s,"/"):"",o!==null&&(u+="?"+o),l!==null&&(u+="#"+l),u},setHref:function(t){var e=this.parse(t);if(e)throw i6(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new vh(t.path[0]).origin}catch{return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+O0(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(ao(t)+":",XT)},getUsername:function(){return this.username},setUsername:function(t){var e=xf(ao(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=yl(e[r],ZT)}},getPassword:function(){return this.password},setPassword:function(t){var e=xf(ao(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=yl(e[r],ZT)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?O0(t):O0(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,tA)},getHostname:function(){var t=this.host;return t===null?"":O0(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,rA)},getPort:function(){var t=this.port;return t===null?"":ao(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=ao(t),t===""?this.port=null:this.parse(t,nA))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+mp(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,wf))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=ao(t),t===""?this.query=null:(ga(t,0)==="?"&&(t=zp(t,1)),this.query="",this.parse(t,ju)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=ao(t),t===""){this.fragment=null;return}ga(t,0)==="#"&&(t=zp(t,1)),this.fragment="",this.parse(t,eo)},update:function(){this.query=this.searchParams.serialize()||null}};var vh=function(e){var r=xIe(this,Jn),n=TIe(arguments.length,1)>1?arguments[1]:void 0,i=AIe(r,new HP(e,!1,n));VP||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Jn=vh.prototype,ia=function(t,e){return{get:function(){return Px(this)[t]()},set:e&&function(r){return Px(this)[e](r)},configurable:!0,enumerable:!0}};VP&&(ra(Jn,"href",ia("serialize","setHref")),ra(Jn,"origin",ia("getOrigin")),ra(Jn,"protocol",ia("getProtocol","setProtocol")),ra(Jn,"username",ia("getUsername","setUsername")),ra(Jn,"password",ia("getPassword","setPassword")),ra(Jn,"host",ia("getHost","setHost")),ra(Jn,"hostname",ia("getHostname","setHostname")),ra(Jn,"port",ia("getPort","setPort")),ra(Jn,"pathname",ia("getPathname","setPathname")),ra(Jn,"search",ia("getSearch","setSearch")),ra(Jn,"searchParams",ia("getSearchParams")),ra(Jn,"hash",ia("getHash","setHash")));Cx(Jn,"toJSON",function(){return Px(this).serialize()},{enumerable:!0});Cx(Jn,"toString",function(){return Px(this).serialize()},{enumerable:!0});if(k0){var yM=k0.createObjectURL,bM=k0.revokeObjectURL;yM&&Cx(vh,"createObjectURL",oM(yM,k0)),bM&&Cx(vh,"revokeObjectURL",oM(bM,k0))}SIe(vh,"URL");yIe({global:!0,constructor:!0,forced:!bIe,sham:!VP},{URL:vh});var s6={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Cn<"u"&&Cn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(x){return x&&DataView.prototype.isPrototypeOf(x)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(x){return x&&c.indexOf(Object.prototype.toString.call(x))>-1};function d(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function h(x){return typeof x!="string"&&(x=String(x)),x}function p(x){var S={next:function(){var C=x.shift();return{done:C===void 0,value:C}}};return l.iterable&&(S[Symbol.iterator]=function(){return S}),S}function m(x){this.map={},x instanceof m?x.forEach(function(S,C){this.append(C,S)},this):Array.isArray(x)?x.forEach(function(S){this.append(S[0],S[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(S){this.append(S,x[S])},this)}m.prototype.append=function(x,S){x=d(x),S=h(S);var C=this.map[x];this.map[x]=C?C+", "+S:S},m.prototype.delete=function(x){delete this.map[d(x)]},m.prototype.get=function(x){return x=d(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(d(x))},m.prototype.set=function(x,S){this.map[d(x)]=h(S)},m.prototype.forEach=function(x,S){for(var C in this.map)this.map.hasOwnProperty(C)&&x.call(S,this.map[C],C,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(S,C){x.push(C)}),p(x)},m.prototype.values=function(){var x=[];return this.forEach(function(S){x.push(S)}),p(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(S,C){x.push([C,S])}),p(x)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function v(x){return new Promise(function(S,C){x.onload=function(){S(x.result)},x.onerror=function(){C(x.error)}})}function b(x){var S=new FileReader,C=v(S);return S.readAsArrayBuffer(x),C}function w(x){var S=new FileReader,C=v(S);return S.readAsText(x),C}function E(x){for(var S=new Uint8Array(x),C=new Array(S.length),P=0;P<S.length;P++)C[P]=String.fromCharCode(S[P]);return C.join("")}function R(x){if(x.slice)return x.slice(0);var S=new Uint8Array(x.byteLength);return S.set(new Uint8Array(x)),S.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:l.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:l.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():l.arrayBuffer&&l.blob&&u(x)?(this._bodyArrayBuffer=R(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||f(x))?this._bodyArrayBuffer=R(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var x=g(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=g(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(b)}),this.text=function(){var x=g(this);if(x)return x;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function N(x){var S=x.toUpperCase();return D.indexOf(S)>-1?S:x}function F(x,S){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var C=S.body;if(x instanceof F){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,S.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!C&&x._bodyInit!=null&&(C=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new m(S.headers)),this.method=N(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(C),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function $(x){var S=new FormData;return x.trim().split("&").forEach(function(C){if(C){var P=C.split("="),M=P.shift().replace(/\+/g," "),B=P.join("=").replace(/\+/g," ");S.append(decodeURIComponent(M),decodeURIComponent(B))}}),S}function z(x){var S=new m,C=x.replace(/\r?\n[\t ]+/g," ");return C.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var M=P.split(":"),B=M.shift().trim();if(B){var L=M.join(":").trim();S.append(B,L)}}),S}I.call(F.prototype);function k(x,S){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new m(S.headers),this.url=S.url||"",this._initBody(x)}I.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var x=new k(null,{status:0,statusText:""});return x.type="error",x};var A=[301,302,303,307,308];k.redirect=function(x,S){if(A.indexOf(S)===-1)throw new RangeError("Invalid status code");return new k(null,{status:S,headers:{location:x}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(S,C){this.message=S,this.name=C;var P=Error(S);this.stack=P.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function y(x,S){return new Promise(function(C,P){var M=new F(x,S);if(M.signal&&M.signal.aborted)return P(new s.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function L(){B.abort()}B.onload=function(){var U={status:B.status,statusText:B.statusText,headers:z(B.getAllResponseHeaders()||"")};U.url="responseURL"in B?B.responseURL:U.headers.get("X-Request-URL");var G="response"in B?B.response:B.responseText;setTimeout(function(){C(new k(G,U))},0)},B.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){P(new s.DOMException("Aborted","AbortError"))},0)};function _(U){try{return U===""&&o.location.href?o.location.href:U}catch{return U}}B.open(M.method,_(M.url),!0),M.credentials==="include"?B.withCredentials=!0:M.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(l.blob?B.responseType="blob":l.arrayBuffer&&M.headers.get("Content-Type")&&M.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(B.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof m)?Object.getOwnPropertyNames(S.headers).forEach(function(U){B.setRequestHeader(U,h(S.headers[U]))}):M.headers.forEach(function(U,G){B.setRequestHeader(G,U)}),M.signal&&(M.signal.addEventListener("abort",L),B.onreadystatechange=function(){B.readyState===4&&M.signal.removeEventListener("abort",L)}),B.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return y.polyfill=!0,o.fetch||(o.fetch=y,o.Headers=m,o.Request=F,o.Response=k),s.Headers=m,s.Request=F,s.Response=k,s.fetch=y,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(s6,s6.exports);var KIe=s6.exports;const WP=Pi(KIe);var xM=bP,wM=us,QIe=mP,EM=br,yW=xr,ZIe=hv,XIe=yW("species"),sA=RegExp.prototype,JIe=function(t,e,r,n){var i=yW(t),a=!EM(function(){var u={};return u[i]=function(){return 7},""[t](u)!==7}),s=a&&!EM(function(){var u=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[XIe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return u=!0,null},c[i](""),!u});if(!a||!s||r){var o=xM(/./[i]),l=e(i,""[t],function(u,c,f,d,h){var p=xM(u),m=c.exec;return m===QIe||m===sA.exec?a&&!h?{done:!0,value:o(c,f,d)}:{done:!0,value:p(f,c,d)}:{done:!1}});wM(String.prototype,t,l[0]),wM(sA,i,l[1])}n&&ZIe(sA[i],"sham",!0)},e6e=UP.charAt,t6e=function(t,e,r){return e+(r?e6e(t,e).length:1)},qP=Nr,r6e=Cu,n6e=Math.floor,oA=qP("".charAt),i6e=qP("".replace),lA=qP("".slice),a6e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s6e=/\$([$&'`]|\d{1,2})/g,o6e=function(t,e,r,n,i,a){var s=r+t.length,o=n.length,l=s6e;return i!==void 0&&(i=r6e(i),l=a6e),i6e(a,l,function(u,c){var f;switch(oA(c,0)){case"$":return"$";case"&":return t;case"`":return lA(e,0,r);case"'":return lA(e,s);case"<":f=i[lA(c,1,-1)];break;default:var d=+c;if(d===0)return u;if(d>o){var h=n6e(d/10);return h===0?u:h<=o?n[h-1]===void 0?oA(c,1):n[h-1]+oA(c,1):u}f=n[d-1]}return f===void 0?"":f})},SM=bn,l6e=qn,u6e=Lr,c6e=Yc,f6e=mP,d6e=TypeError,h6e=function(t,e){var r=t.exec;if(u6e(r)){var n=SM(r,t,e);return n!==null&&l6e(n),n}if(c6e(t)==="RegExp")return SM(f6e,t,e);throw d6e("RegExp#exec called on incompatible receiver")},p6e=EG,TM=bn,O2=Nr,m6e=JIe,g6e=br,v6e=qn,y6e=Lr,b6e=fv,x6e=v2,w6e=lP,Ef=tl,E6e=Wh,S6e=t6e,T6e=m2,A6e=o6e,R6e=h6e,_6e=xr,o6=_6e("replace"),I6e=Math.max,C6e=Math.min,P6e=O2([].concat),uA=O2([].push),AM=O2("".indexOf),RM=O2("".slice),k6e=function(t){return t===void 0?t:String(t)},O6e=function(){return"a".replace(/./,"$0")==="$0"}(),_M=function(){return/./[o6]?/./[o6]("a","$0")==="":!1}(),N6e=!g6e(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});m6e("replace",function(t,e,r){var n=_M?"$":"$0";return[function(a,s){var o=E6e(this),l=b6e(a)?void 0:T6e(a,o6);return l?TM(l,a,o,s):TM(e,Ef(o),a,s)},function(i,a){var s=v6e(this),o=Ef(i);if(typeof a=="string"&&AM(a,n)===-1&&AM(a,"$<")===-1){var l=r(e,s,o,a);if(l.done)return l.value}var u=y6e(a);u||(a=Ef(a));var c=s.global,f;c&&(f=s.unicode,s.lastIndex=0);for(var d=[],h;h=R6e(s,o),!(h===null||(uA(d,h),!c));){var p=Ef(h[0]);p===""&&(s.lastIndex=S6e(o,w6e(s.lastIndex),f))}for(var m="",g=0,v=0;v<d.length;v++){h=d[v];for(var b=Ef(h[0]),w=I6e(C6e(x6e(h.index),o.length),0),E=[],R,I=1;I<h.length;I++)uA(E,k6e(h[I]));var D=h.groups;if(u){var N=P6e([b],E,w,o);D!==void 0&&uA(N,D),R=Ef(p6e(a,void 0,N))}else R=A6e(b,o,w,E,D,a);w>=g&&(m+=RM(o,g,w)+R,g=w+b.length)}return m+RM(o,g)}]},!N6e||!O6e||_M);var L6e=function(){var e,r,n,i,a,s,o,l,u,c,f,d;if(!qc())return!1;var h=!!((e=window)!==null&&e!==void 0&&e.RTCPeerConnection||(r=window)!==null&&r!==void 0&&r.webkitRTCPeerConnection||(n=window)!==null&&n!==void 0&&n.mozRTCPeerConnection),p=!!((i=navigator)!==null&&i!==void 0&&i.getUserMedia||(a=navigator)!==null&&a!==void 0&&(s=a.mediaDevices)!==null&&s!==void 0&&s.getUserMedia||(o=navigator)!==null&&o!==void 0&&o.webkitGetUserMedia||(l=navigator)!==null&&l!==void 0&&l.mozGetUserMedia||(u=navigator)!==null&&u!==void 0&&u.msGetUserMedia),m=!!((c=window)!==null&&c!==void 0&&c.RTCDataChannel||(f=window)!==null&&f!==void 0&&f.webkitRTCDataChannel||(d=window)!==null&&d!==void 0&&d.mozRTCDataChannel);return h&&p&&m};function bW(t){var e,r,n,i=((e=window)===null||e===void 0?void 0:e.RTCPeerConnection)||((r=window)===null||r===void 0?void 0:r.webkitRTCPeerConnection)||((n=window)===null||n===void 0?void 0:n.mozRTCPeerConnection),a=t?.split(":")[0],s=t?[{urls:"stun:".concat(a)},{urls:"turn:".concat(a),username:"livepeer",credential:"livepeer"}]:[];return i?new i({iceServers:s}):null}var xW=1e4;function wW(t,e,r,n){return l6.apply(this,arguments)}function l6(){return l6=lr(Qe().mark(function t(e,r,n,i){var a,s,o,l;return Qe().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(e&&r&&n)){c.next=20;break}return c.next=3,D6e(r,n.sdp,i);case 3:if(a=c.sent,!a.ok){c.next=14;break}return c.next=7,a.text();case 7:return s=c.sent,c.next=10,e.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:s}));case 10:return o=a.headers.get("Link"),c.abrupt("return",$6e(o));case 14:return c.next=16,a.text();case 16:throw l=c.sent,new Error(l);case 18:c.next=21;break;case 20:throw new Error("Peer connection not defined.");case 21:case"end":return c.stop()}},t)})),l6.apply(this,arguments)}function EW(t,e){return u6.apply(this,arguments)}function u6(){return u6=lr(Qe().mark(function t(e,r){var n,i;return Qe().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(e&&r)){s.next=12;break}return s.next=3,e.createOffer();case 3:return n=s.sent,s.next=6,e.setLocalDescription(n);case 6:return s.next=8,M6e(e);case 8:if(i=s.sent,i){s.next=11;break}throw Error("failed to gather ICE candidates for offer");case 11:return s.abrupt("return",i);case 12:return s.abrupt("return",null);case 13:case"end":return s.stop()}},t)})),u6.apply(this,arguments)}function D6e(t,e,r){return c6.apply(this,arguments)}function c6(){return c6=lr(Qe().mark(function t(e,r,n){var i,a,s;return Qe().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=new AbortController,a=setTimeout(function(){return i.abort()},n??xW),l.next=4,WP(e,{method:"POST",mode:"cors",headers:{"content-type":"application/sdp"},body:r,signal:i.signal});case 4:return s=l.sent,clearTimeout(a),l.abrupt("return",s);case 7:case"end":return l.stop()}},t)})),c6.apply(this,arguments)}function SW(t,e,r){return f6.apply(this,arguments)}function f6(){return f6=lr(Qe().mark(function t(e,r,n){var i,a,s;return Qe().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=setTimeout(function(){return r.abort()},n??xW),l.prev=1,l.next=4,WP(e,{method:"HEAD",signal:r.signal});case 4:return a=l.sent,clearTimeout(i),s=new URL(a.url),l.abrupt("return",s);case 10:return l.prev=10,l.t0=l.catch(1),l.abrupt("return",null);case 13:case"end":return l.stop()}},t,null,[[1,10]])})),f6.apply(this,arguments)}function M6e(t){return d6.apply(this,arguments)}function d6(){return d6=lr(Qe().mark(function t(e){return Qe().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(i){setTimeout(function(){i(e.localDescription)},5e3),e.onicegatheringstatechange=function(a){e.iceGatheringState==="complete"&&i(e.localDescription)}}));case 1:case"end":return n.stop()}},t)})),d6.apply(this,arguments)}function $6e(t){try{var e,r=t?.split(", ").map(function(n){var i=n.split("; "),a={urls:""},s=jm(i),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;l.startsWith("stun:")||l.startsWith("turn:")?a.urls=l:l.startsWith("username=")?a.username=l.slice(10,-1):l.startsWith("credential=")&&(a.credential=l.slice(12,-1))}}catch(u){s.e(u)}finally{s.f()}return a}).filter(function(n){return n.urls});return r&&((e=r?.length)!==null&&e!==void 0?e:0)>0?r:null}catch(n){console.error(n)}return null}var F6e=function(e,r,n,i){var a=!1,s=new AbortController,o=null,l=new MediaStream,u=function(f){var d;r&&(r.srcObject=null),n==null||(d=n.onError)===null||d===void 0||d.call(n,f)};return SW(e,s,i?.sdpTimeout).then(function(c){if(!(a||!c)){var f=c.toString();o=bW(c.host),o&&(o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"}),o.ontrack=function(){var d=lr(Qe().mark(function h(p){var m,g,v,b;return Qe().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(E.prev=0,!l){E.next=18;break}m=p.track,g=l.getTracks(),v=g.some(function(R){return R.kind==="video"}),b=g.some(function(R){return R.kind==="audio"}),E.t0=m.kind,E.next=E.t0==="video"?9:E.t0==="audio"?13:17;break;case 9:if(!v){E.next=11;break}return E.abrupt("break",18);case 11:return l.addTrack(m),E.abrupt("break",18);case 13:if(!b){E.next=15;break}return E.abrupt("break",18);case 15:return l.addTrack(m),E.abrupt("break",18);case 17:console.log("got unknown track "+m);case 18:E.next=23;break;case 20:E.prev=20,E.t1=E.catch(0),u(E.t1);case 23:case"end":return E.stop()}},h,null,[[0,20]])}));return function(h){return d.apply(this,arguments)}}(),o.addEventListener("connectionstatechange",function(){var d=lr(Qe().mark(function h(p){var m,g,v;return Qe().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,((m=o)===null||m===void 0?void 0:m.connectionState)!=="failed"){w.next=3;break}throw new Error("Failed to connect to peer.");case 3:((g=o)===null||g===void 0?void 0:g.connectionState)==="connected"&&!r.srcObject&&(r.srcObject=l,n==null||(v=n.onConnected)===null||v===void 0||v.call(n)),w.next=9;break;case 6:w.prev=6,w.t0=w.catch(0),u(w.t0);case 9:case"end":return w.stop()}},h,null,[[0,6]])}));return function(h){return d.apply(this,arguments)}}()),o.addEventListener("negotiationneeded",function(){var d=lr(Qe().mark(function h(p){var m;return Qe().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,EW(o,f);case 3:return m=v.sent,v.next=6,wW(o,f,m,i?.sdpTimeout);case 6:v.next=11;break;case 8:v.prev=8,v.t0=v.catch(0),u(v.t0);case 11:case"end":return v.stop()}},h,null,[[0,8]])}));return function(h){return d.apply(this,arguments)}}()))}}).catch(function(c){return u(c)}),{destroy:function(){var f,d,h;a=!0,s==null||(f=s.abort)===null||f===void 0||f.call(s),r&&(r.srcObject=null),(d=o)===null||d===void 0||(h=d.close)===null||h===void 0||h.call(d)}}};function h6(t){"@babel/helpers - typeof";return h6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h6(t)}var B6e=function(e,r,n,i,a){var s=!1,o=new AbortController,l=null,u=null,c=null,f=null,d=null;return SW(e,o,a?.sdpTimeout).then(function(h){if(!(s||!h)){var p=h.toString().replace("video+","");l=bW(h.host),l&&(l.addEventListener("negotiationneeded",function(){var m=lr(Qe().mark(function g(v){var b,w;return Qe().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,EW(l,p);case 3:return b=R.sent,R.next=6,wW(l,p,b,a?.sdpTimeout);case 6:R.next=11;break;case 8:R.prev=8,R.t0=R.catch(0),i==null||(w=i.onError)===null||w===void 0||w.call(i,R.t0);case 11:case"end":return R.stop()}},g,null,[[0,8]])}));return function(g){return m.apply(this,arguments)}}()),l.addEventListener("connectionstatechange",function(){var m=lr(Qe().mark(function g(v){var b,w,E,R;return Qe().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(D.prev=0,((b=l)===null||b===void 0?void 0:b.connectionState)!=="failed"){D.next=3;break}throw new Error("Failed to connect to peer.");case 3:((w=l)===null||w===void 0?void 0:w.connectionState)==="connected"&&u&&f&&c&&(r.srcObject=u,i==null||(E=i.onConnected)===null||E===void 0||E.call(i,{stream:u,videoTransceiver:c,audioTransceiver:f})),D.next=9;break;case 6:D.prev=6,D.t0=D.catch(0),i==null||(R=i.onError)===null||R===void 0||R.call(i,D.t0);case 9:case"end":return D.stop()}},g,null,[[0,6]])}));return function(g){return m.apply(this,arguments)}}()),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(){var m=lr(Qe().mark(function g(v){var b,w,E,R,I,D,N,F,$,z,k,A;return Qe().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(N=(b=v==null||(w=v.getVideoTracks)===null||w===void 0||(E=w.call(v))===null||E===void 0?void 0:E[0])!==null&&b!==void 0?b:null,F=(R=v==null||(I=v.getAudioTracks)===null||I===void 0||(D=I.call(v))===null||D===void 0?void 0:D[0])!==null&&R!==void 0?R:null,!N){x.next=6;break}return x.next=5,N.applyConstraints(RW(n??"16to9"));case 5:c=($=(z=l)===null||z===void 0?void 0:z.addTransceiver(N,{direction:"sendonly"}))!==null&&$!==void 0?$:null;case 6:F&&(f=(k=(A=l)===null||A===void 0?void 0:A.addTransceiver(F,{direction:"sendonly"}))!==null&&k!==void 0?k:null),u=v;case 8:case"end":return x.stop()}},g)}));return function(g){return m.apply(this,arguments)}}()).catch(function(m){var g;return i==null||(g=i.onError)===null||g===void 0?void 0:g.call(i,m)}),d=function(){WP(p,{method:"DELETE",mode:"cors"}).catch(function(g){var v;return i==null||(v=i.onError)===null||v===void 0?void 0:v.call(i,g)})})}}).catch(function(h){var p;return i==null||(p=i.onError)===null||p===void 0?void 0:p.call(i,h)}),{destroy:function(){var p,m,g,v,b,w,E;(p=d)===null||p===void 0||p(),s=!0,o==null||(m=o.abort)===null||m===void 0||m.call(o),r&&(r.srcObject=null),(g=l)===null||g===void 0||(v=g.close)===null||v===void 0||v.call(g);var R=(b=(w=u)===null||w===void 0||(E=w.getTracks)===null||E===void 0?void 0:E.call(w))!==null&&b!==void 0?b:[],I=jm(R),D;try{for(I.s();!(D=I.n()).done;){var N,F=D.value;F==null||(N=F.stop)===null||N===void 0||N.call(F)}}catch($){I.e($)}finally{I.f()}}}},U6e=function(){var t=lr(Qe().mark(function e(r){var n,i,a,s,o,l,u,c,f,d,h,p,m,g,v,b,w,E,R,I,D,N,F,$,z;return Qe().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(m=r.newMediaStream,g=r.prevMediaStream,v=r.aspectRatio,b=r.element,w=r.onConnected,E=r.videoTransceiver,R=r.audioTransceiver,I=(n=g==null||(i=g.getVideoTracks)===null||i===void 0||(a=i.call(g))===null||a===void 0?void 0:a[0])!==null&&n!==void 0?n:null,D=(s=g==null||(o=g.getAudioTracks)===null||o===void 0||(l=o.call(g))===null||l===void 0?void 0:l[0])!==null&&s!==void 0?s:null,N=(u=m==null||(c=m.getVideoTracks)===null||c===void 0||(f=c.call(m))===null||f===void 0?void 0:f[0])!==null&&u!==void 0?u:null,F=(d=m==null||(h=m.getAudioTracks)===null||h===void 0||(p=h.call(m))===null||p===void 0?void 0:p[0])!==null&&d!==void 0?d:null,!N){A.next=11;break}return A.next=8,N.applyConstraints(RW(v));case 8:return A.next=10,E.sender.replaceTrack(N);case 10:N.enabled=($=I?.enabled)!==null&&$!==void 0?$:!0;case 11:if(!F){A.next=15;break}return A.next=14,R.sender.replaceTrack(F);case 14:F.enabled=(z=D?.enabled)!==null&&z!==void 0?z:!0;case 15:b.srcObject=m,w({stream:m,videoTransceiver:E,audioTransceiver:R});case 17:case"end":return A.stop()}},e)}));return function(r){return t.apply(this,arguments)}}(),TW=function(){var t=lr(Qe().mark(function e(r){var n,i,a,s,o,l,u,c;return Qe().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=r.source,d.prev=1,d.next=4,(i=navigator)===null||i===void 0||(a=i.mediaDevices)===null||a===void 0?void 0:a.getUserMedia(po(po({},h6(n.streamConstraints)==="object"?n.streamConstraints:{}),{},{video:po(po({},typeof((s=n.streamConstraints)===null||s===void 0?void 0:s.video)!="boolean"?(o=n.streamConstraints)===null||o===void 0?void 0:o.video:{}),n!=null&&n.videoDeviceId?{deviceId:n?.videoDeviceId}:{}),audio:po(po({},typeof((l=n.streamConstraints)===null||l===void 0?void 0:l.audio)!="boolean"?(u=n.streamConstraints)===null||u===void 0?void 0:u.audio:{}),n!=null&&n.audioDeviceId?{deviceId:n?.audioDeviceId}:{})}));case 4:return c=d.sent,d.abrupt("return",c??null);case 8:return d.prev=8,d.t0=d.catch(1),console.error(d.t0),d.abrupt("return",null);case 12:case"end":return d.stop()}},e,null,[[1,8]])}));return function(r){return t.apply(this,arguments)}}(),AW=function(e){var r,n;if(typeof navigator<"u"&&(r=navigator)!==null&&r!==void 0&&(n=r.mediaDevices)!==null&&n!==void 0&&n.enumerateDevices){var i=function(){navigator.mediaDevices.enumerateDevices().then(function(s){return e(s)})};return navigator.mediaDevices.addEventListener("devicechange",i),i(),function(){navigator.mediaDevices.removeEventListener("devicechange",i)}}return function(){}},j6e=function(){var t=lr(Qe().mark(function e(r){var n,i,a;return Qe().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!(typeof navigator<"u"&&(n=navigator)!==null&&n!==void 0&&(i=n.mediaDevices)!==null&&i!==void 0&&i.getDisplayMedia)){o.next=6;break}return o.next=4,navigator.mediaDevices.getDisplayMedia(r);case 4:return a=o.sent,o.abrupt("return",a);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.error(o.t0);case 11:return o.abrupt("return",null);case 12:case"end":return o.stop()}},e,null,[[0,8]])}));return function(r){return t.apply(this,arguments)}}(),RW=function(e){var r={width:{ideal:1280},height:{ideal:720},aspectRatio:{ideal:e==="9to16"?.5625:e==="1to1"?1:e==="21to9"?2.3333333333333335:e==="4to5"?.8:1.7777777777777777}};return r};const z6e=(t,e,r)=>{const n=T.useContext(t);return T.useMemo(()=>{const a=n?r?QS(n,r):QS(n):r,s=a?QS({colors:{progressLeft:a.colors?.progressLeft??a.colors?.accent,progressMiddle:a.colors?.progressMiddle??a.colors?.accent,progressRight:a.colors?.progressRight??a.colors?.accent,volumeLeft:a.colors?.volumeLeft??a.colors?.accent,volumeMiddle:a.colors?.volumeMiddle??a.colors?.accent,volumeRight:a.colors?.volumeRight??a.colors?.accent,progressThumb:a.colors?.progressThumb??a.colors?.icon,volumeThumb:a.colors?.volumeThumb??a.colors?.icon,loading:a.colors?.loading??a.colors?.accent}},a):void 0,o=s?_W(s):void 0;return o?e(o):void 0},[r,n,e])};function _W(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>r!=null).map(([e,r])=>[e,r===Object(r)?_W(r):r]))}var V6e=el,Y6e=Cu,G6e=f2,H6e=Pu,W6e=TypeError,IM=function(t){return function(e,r,n,i){V6e(r);var a=Y6e(e),s=G6e(a),o=H6e(a),l=t?o-1:0,u=t?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=u;break}if(l+=u,t?l<0:o<=l)throw W6e("Reduce of empty array with no initial value")}for(;t?l>=0:o>l;l+=u)l in s&&(i=r(i,s[l],l,a));return i}},q6e={left:IM(!1),right:IM(!0)},K6e=br,Q6e=function(t,e){var r=[][t];return!!r&&K6e(function(){r.call(null,e||function(){return 1},1)})},Z6e=un,X6e=q6e.left,J6e=Q6e,CM=dv,e3e=gv,t3e=!e3e&&CM>79&&CM<83,r3e=t3e||!J6e("reduce");Z6e({target:"Array",proto:!0,forced:r3e},{reduce:function(e){var r=arguments.length;return X6e(this,e,r,r>1?arguments[1]:void 0)}});function n3e(t){if(Array.isArray(t))return KI(t)}function i3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(t){return n3e(t)||i3e(t)||NH(t)||a3e()}var o3e=[{requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenElement:"fullscreenElement",fullscreenEnabled:"fullscreenEnabled",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"},{requestFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",fullscreenElement:"webkitFullscreenElement",fullscreenEnabled:"webkitFullscreenEnabled",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror"},{requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitCancelFullScreen",fullscreenElement:"webkitCurrentFullScreenElement",fullscreenEnabled:"webkitCancelFullScreen",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror"},{requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",fullscreenElement:"mozFullScreenElement",fullscreenEnabled:"mozFullScreenEnabled",fullscreenchange:"mozfullscreenchange",fullscreenerror:"mozfullscreenerror"},{requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",fullscreenElement:"msFullscreenElement",fullscreenEnabled:"msFullscreenEnabled",fullscreenchange:"MSFullscreenChange",fullscreenerror:"MSFullscreenError"}],PM={requestFullscreen:"webkitEnterFullscreen",exitFullscreen:"webkitExitFullscreen",fullscreenElement:null,fullscreenEnabled:"webkitDisplayingFullscreen",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"},KP=function(e){var r=Sv(e),n=r.methods,i=r.element;return n!=null&&n.fullscreenElement?!!document[n.fullscreenElement]:i?.webkitPresentationMode==="fullscreen"},l3e=function(e){var r=Sv(e),n=r.methods,i=r.element;return n?new Promise(function(a,s){var o,l,u,c,f=n.requestFullscreen,d=function p(){ZP(e,p),a()};QP(e,d);var h=n.fullscreenElement?i==null||(o=i.parentElement)===null||o===void 0||(l=o[f])===null||l===void 0?void 0:l.call(o):(u=i==null||(c=i[f])===null||c===void 0?void 0:c.call(i))!==null&&u!==void 0?u:null;if(h===null)return a();h instanceof Promise&&h.then(d).catch(s)}):!1},u3e=function(e){var r=Sv(e),n=r.methods,i=r.element;return n?new Promise(function(a,s){var o,l,u,c;if(!KP(e)){a();return}var f=function h(){ZP(e,h),a()};QP(e,f);var d=n.fullscreenElement?(o=document)===null||o===void 0||(l=o[n.exitFullscreen])===null||l===void 0?void 0:l.call(o):(u=i==null||(c=i[n.exitFullscreen])===null||c===void 0?void 0:c.call(i))!==null&&u!==void 0?u:null;d instanceof Promise&&d.then(f).catch(s)}):!1},QP=function(e,r){var n=Sv(e),i=n.methods,a=n.element;if(i&&a){var s,o=(s=a?.parentElement)!==null&&s!==void 0?s:a;return o?.addEventListener(i.fullscreenchange,r,!1),function(){ZP(e,r)}}return null},ZP=function(e,r){var n=Sv(e),i=n.methods,a=n.element;if(i&&a){var s,o=(s=a?.parentElement)!==null&&s!==void 0?s:a;return o?.removeEventListener(i.fullscreenchange,r,!1),!0}return!1},Sv=function(e){if(qc()){var r=jm(o3e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.exitFullscreen;if(a in document)return{methods:i,element:e}}}catch(s){r.e(s)}finally{r.f()}if(e&&PM.requestFullscreen in e)return{methods:PM,element:e}}return{methods:null}},c3e=function(e){var r=Zh(e),n=r.apiType;return!!n},f3e=function(e){var r=Zh(e),n=r.apiType,i=r.element;if(n==="w3c"){var a;return!!(!((a=document)===null||a===void 0)&&a.pictureInPictureElement)}else if(n==="webkit")return i?.webkitPresentationMode==="picture-in-picture";return!1},d3e=function(){var t=lr(Qe().mark(function e(r){var n,i,a,s,o;return Qe().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=Zh(r),i=n.apiType,a=n.element,u.prev=1,i!=="w3c"){u.next=7;break}return u.next=5,a==null||(s=a.requestPictureInPicture)===null||s===void 0?void 0:s.call(a);case 5:u.next=10;break;case 7:if(i!=="webkit"){u.next=10;break}return u.next=10,a==null||(o=a.webkitSetPresentationMode)===null||o===void 0?void 0:o.call(a,"picture-in-picture");case 10:u.next=15;break;case 12:u.prev=12,u.t0=u.catch(1),console.warn(u.t0);case 15:return u.abrupt("return",null);case 16:case"end":return u.stop()}},e,null,[[1,12]])}));return function(r){return t.apply(this,arguments)}}(),h3e=function(e){var r=Zh(e),n=r.apiType,i=r.element;if(n==="w3c"){var a,s,o;return(a=(s=document)===null||s===void 0||(o=s.exitPictureInPicture)===null||o===void 0?void 0:o.call(s))!==null&&a!==void 0?a:null}else if(n==="webkit"){var l,u;return(l=i==null||(u=i.webkitSetPresentationMode)===null||u===void 0?void 0:u.call(i,"inline"))!==null&&l!==void 0?l:null}return null},p3e=function(e,r){var n=Zh(e),i=n.apiType,a=n.element;if(i==="w3c"&&a)return a.addEventListener("enterpictureinpicture",r,!1),function(){a.removeEventListener("enterpictureinpicture",r,!1)};if(i==="webkit"&&a){var s=function(l){a?.webkitPresentationMode==="picture-in-picture"&&r?.(l)};return document.addEventListener("webkitpresentationmodechanged",s,!1),function(){document.removeEventListener("webkitpresentationmodechanged",s,!1)}}return null},m3e=function(e,r){var n=Zh(e),i=n.apiType,a=n.element;if(i==="w3c"&&a)return a.addEventListener("leavepictureinpicture",r,!1),function(){a.removeEventListener("leavepictureinpicture",r,!1)};if(i==="webkit"&&a){var s=function(l){a?.webkitPresentationMode==="inline"&&r?.(l)};return document.addEventListener("webkitpresentationmodechanged",s,!1),function(){document.removeEventListener("webkitpresentationmodechanged",s,!1)}}return null},Zh=function(e){if(qc()&&e instanceof HTMLVideoElement){var r,n;if((r=document)!==null&&r!==void 0&&r.pictureInPictureEnabled)return{apiType:"w3c",element:e};if(e!=null&&(n=e.webkitSupportsPresentationMode)!==null&&n!==void 0&&n.call(e,"picture-in-picture"))return{apiType:"webkit",element:e}}return{apiType:null}},kM="data-controller-initialized",g3e=["KeyF","KeyK","KeyM","KeyI","KeyV","Space","ArrowRight","ArrowLeft"],v3e=function(e){return Math.min(Math.max(0,e&&!isNaN(e)&&isFinite(e)?e:0),1)},y3e=function(e){return new Promise(function(r){var n,i=(n=e?.volume)!==null&&n!==void 0?n:z4,a=.342;e.volume=a,setTimeout(function(){var s=e.volume!==1;e.volume=v3e(i),r(s)})})},b3e=function(e){return new Promise(function(r){return setTimeout(r,e)})},x3e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.hotkeys,a=i===void 0?!0:i,s=n.autohide,o=s===void 0?Ohe:s,l=null,u=e==null||(r=e.getState())===null||r===void 0?void 0:r._element,c=e.getState();u&&setTimeout(function(){u&&!e.getState().muted&&e.getState().requestVolume(c.volume)},1);var f=e.subscribe(function(d){return d._element},function(d){var h;(h=l)===null||h===void 0||h();var p=function(){return e.getState().onCanPlay()},m=function(){e.getState().onPlay()},g=function(){e.getState().onPause()},v=function(){var O;return e.getState().onDurationChange((O=d?.duration)!==null&&O!==void 0?O:0)},b=function(O){O.preventDefault(),O.stopPropagation();var Y=O.code;e.getState()._updateLastInteraction(),g3e.includes(Y)&&(Y==="Space"||Y==="KeyK"?e.getState().togglePlay():Y==="KeyF"?e.getState().requestToggleFullscreen():Y==="KeyI"?e.getState().requestTogglePictureInPicture():Y==="ArrowRight"?e.getState().requestSeekForward():Y==="ArrowLeft"?e.getState().requestSeekBack():Y==="KeyM"?e.getState().requestToggleMute():Y==="KeyV"&&e.getState().toggleVideo())},w=function(){e.getState()._updateLastInteraction()},E=function(){o&&e.getState().setHidden(!0)},R=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState()._updateLastInteraction();case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}(),I=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState()._updateLastInteraction();case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}(),D=function(){typeof d?.volume<"u"&&d?.volume!==e.getState().volume&&e.getState()._setVolume(d.volume)},N=function(){var O,Y;if(e.getState().onProgress((O=d?.currentTime)!==null&&O!==void 0?O:0),d&&((Y=d?.duration)!==null&&Y!==void 0?Y:0)>0){var H=d.currentTime,W=s3e(Array(d.buffered.length)).reduce(function(K,ie,Q){var te=d.buffered.start(d.buffered.length-1-Q),xe=d.buffered.end(d.buffered.length-1-Q);return te<=H&&xe>=H?xe:K},0);e.getState()._updateBuffered(W)}},F=0,$=function(){var G=lr(Qe().mark(function O(Y){return Qe().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return e.getState().setError(Y.message),W.next=3,new Promise(function(K){return setTimeout(K,1e3*++F)});case 3:d?.load();case 4:case"end":return W.stop()}},O)}));return function(Y){return G.apply(this,arguments)}}(),z=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState().setWaiting(!0);case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}(),k=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState().setStalled(!0);case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}(),A=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState().setLoading(!0);case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}(),y=function(){var G=lr(Qe().mark(function O(){return Qe().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:e.getState().setSize(po(po({},d!=null&&d.videoHeight&&d!==null&&d!==void 0&&d.videoWidth?{media:{height:d.videoHeight,width:d.videoWidth}}:{}),d!=null&&d.clientHeight&&d!==null&&d!==void 0&&d.clientWidth?{container:{height:d.clientHeight,width:d.clientWidth}}:{}));case 1:case"end":return H.stop()}},O)}));return function(){return G.apply(this,arguments)}}();if(d&&y(),d){var x;d.addEventListener("volumechange",D),d.addEventListener("loadedmetadata",p),d.addEventListener("play",m),d.addEventListener("pause",g),d.addEventListener("durationchange",v),d.addEventListener("timeupdate",N),d.addEventListener("error",$),d.addEventListener("waiting",z),d.addEventListener("stalled",k),d.addEventListener("loadstart",A),d.addEventListener("resize",y);var S=(x=d?.parentElement)!==null&&x!==void 0?x:d;a&&S.addEventListener("keyup",b),o&&(S.addEventListener("mouseenter",w),S.addEventListener("mouseleave",E),S.addEventListener("mousemove",R),S.addEventListener("touchstart",I),S.addEventListener("touchend",I),S.addEventListener("touchmove",I)),d.load(),y3e(d).then(function(G){return e.getState().setIsVolumeChangeSupported(G)}),d.setAttribute(kM,"true")}var C=function(){e.getState().setFullscreen(KP(d))},P=function(){e.getState().setPictureInPicture(!0)},M=function(){e.getState().setPictureInPicture(!1)},B=w3e(e,{autohide:o}),L=QP(d,C),_=p3e(d,P),U=m3e(d,M);l=function(){var O,Y,H,W,K,ie,Q,te,xe,oe,ve,Ae,Ie,Fe,Gt,Be,st,jt,We,ze;L?.(),_?.(),U?.(),d==null||(O=d.removeEventListener)===null||O===void 0||O.call(d,"volumechange",D),d==null||(Y=d.removeEventListener)===null||Y===void 0||Y.call(d,"loadedmetadata",p),d==null||(H=d.removeEventListener)===null||H===void 0||H.call(d,"play",m),d==null||(W=d.removeEventListener)===null||W===void 0||W.call(d,"pause",g),d==null||(K=d.removeEventListener)===null||K===void 0||K.call(d,"durationchange",v),d==null||(ie=d.removeEventListener)===null||ie===void 0||ie.call(d,"timeupdate",N),d==null||(Q=d.removeEventListener)===null||Q===void 0||Q.call(d,"error",$),d==null||(te=d.removeEventListener)===null||te===void 0||te.call(d,"waiting",z),d==null||(xe=d.removeEventListener)===null||xe===void 0||xe.call(d,"stalled",k),d==null||(oe=d.removeEventListener)===null||oe===void 0||oe.call(d,"loadstart",A),d==null||(ve=d.removeEventListener)===null||ve===void 0||ve.call(d,"resize",y);var Ye=(Ae=d?.parentElement)!==null&&Ae!==void 0?Ae:d;Ye==null||(Ie=Ye.removeEventListener)===null||Ie===void 0||Ie.call(Ye,"keyup",b),Ye==null||(Fe=Ye.removeEventListener)===null||Fe===void 0||Fe.call(Ye,"mouseenter",w),Ye==null||(Gt=Ye.removeEventListener)===null||Gt===void 0||Gt.call(Ye,"mouseleave",E),Ye==null||(Be=Ye.removeEventListener)===null||Be===void 0||Be.call(Ye,"mousemove",R),Ye==null||(st=Ye.addEventListener)===null||st===void 0||st.call(Ye,"touchstart",I),Ye==null||(jt=Ye.addEventListener)===null||jt===void 0||jt.call(Ye,"touchend",I),Ye==null||(We=Ye.addEventListener)===null||We===void 0||We.call(Ye,"touchmove",I),B?.(),d==null||(ze=d.removeAttribute)===null||ze===void 0||ze.call(d,kM)}});return{destroy:function(){var h;f?.(),(h=l)===null||h===void 0||h()}}},zu,w3e=function(e,r){return e.subscribe(function(){var n=lr(Qe().mark(function i(a,s){var o,l,u,c,f,d,h,p,m,g,v,b,w,E,R,I,D,N;return Qe().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,!a._element){$.next=23;break}if(!zu){$.next=11;break}return $.prev=3,$.next=6,zu;case 6:$.next=11;break;case 8:$.prev=8,$.t0=$.catch(3),console.warn($.t0);case 11:if(a._requestedPlayPauseLastTime!==s._requestedPlayPauseLastTime&&(a._element.paused?zu=a._element.play():a._element.pause()),a.volume!==s.volume&&(a._element.volume=a.volume),!a.ingestUrl)a._element.muted=a.muted,a.muted!==s.muted&&a.volume===0&&(a._element.volume=z4);else{if(a.muted!==s.muted){c=(o=a==null||(l=a._mediaStream)===null||l===void 0||(u=l.getAudioTracks)===null||u===void 0?void 0:u.call(l))!==null&&o!==void 0?o:[],f=jm(c);try{for(f.s();!(d=f.n()).done;)h=d.value,h.enabled=!a.muted}catch(z){f.e(z)}finally{f.f()}}if(a.video!==s.video){v=(p=a==null||(m=a._mediaStream)===null||m===void 0||(g=m.getVideoTracks)===null||g===void 0?void 0:g.call(m))!==null&&p!==void 0?p:[],b=jm(v);try{for(b.s();!(w=b.n()).done;)E=w.value,E.enabled=!!a.video}catch(z){b.e(z)}finally{b.f()}}}if(a._requestedRangeToSeekTo!==s._requestedRangeToSeekTo&&(typeof a._element.readyState>"u"||a._element.readyState>0)&&(a._element.currentTime=a._requestedRangeToSeekTo),!(r.autohide&&a._lastInteraction!==s._lastInteraction)){$.next=21;break}return R=e.getState(),I=R.device,I.isMobile||e.getState().setHidden(!1),$.next=20,b3e(r.autohide);case 20:!e.getState().hidden&&a._lastInteraction===e.getState()._lastInteraction&&e.getState().setHidden(!0);case 21:a._requestedFullscreenLastTime!==s._requestedFullscreenLastTime&&(D=KP(a._element),D?zu=u3e(a._element):zu=l3e(a._element)),a._requestedPictureInPictureLastTime!==s._requestedPictureInPictureLastTime&&(N=f3e(a._element),N?zu=h3e(a._element):zu=d3e(a._element));case 23:$.next=28;break;case 25:$.prev=25,$.t1=$.catch(0),console.warn($.t1);case 28:case"end":return $.stop()}},i,null,[[0,25],[3,8]])}));return function(i,a){return n.apply(this,arguments)}}())},IW=function(e){return{version:e,isAndroid:eH(),isIos:JG(),isMobile:bx(),userAgent:typeof navigator<"u"?navigator.userAgent:"Node.js or unknown"}};const{useSyncExternalStoreWithSelector:E3e}=PH;let OM=!1;function S3e(t,e=t.getState,r){r&&!OM&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),OM=!0);const n=E3e(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return T.useDebugValue(n),n}var CW=T.createContext(null),N2=T.createContext(cY({element:void 0,device:IW(Fa.react),storage:j4({}),mediaProps:{},opts:{}})),PW=function(e){var r=e.element,n=e.children,i=e.mediaProps,a=e.opts,s=T3e(r,a,i);return j.jsx(N2.Provider,{value:s,children:n})},T3e=function(e,r,n){var i=MSe(),a=T.useMemo(function(){return cY({device:IW(Fa.react),storage:i.storage,opts:r??{},mediaProps:n})},[i?.storage,r,n]);return T.useEffect(function(){var s=x3e(a,r),o=s.destroy;return function(){o?.()}},[a,r]),T.useEffect(function(){e&&a.setState({_element:e})},[a,e]),a},Vr=function(e){var r=T.useContext(N2);return S3e(r,e)},A3e=function(e){return z6e(CW,f2e,e)};function At(){return At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},At.apply(this,arguments)}function Jr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function R3e(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kW(...t){return e=>t.forEach(r=>R3e(r,e))}function vn(...t){return T.useCallback(kW(...t),t)}function L2(t,e=[]){let r=[];function n(a,s){const o=T.createContext(s),l=r.length;r=[...r,s];function u(f){const{scope:d,children:h,...p}=f,m=d?.[t][l]||o,g=T.useMemo(()=>p,Object.values(p));return T.createElement(m.Provider,{value:g},h)}function c(f,d){const h=d?.[t][l]||o,p=T.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,c]}const i=()=>{const a=r.map(s=>T.createContext(s));return function(o){const l=o?.[t]||a;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,_3e(i,...e)]}function _3e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...o,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}const is=globalThis?.document?T.useLayoutEffect:()=>{},I3e=$U["useId".toString()]||(()=>{});let C3e=0;function Md(t){const[e,r]=T.useState(I3e());return is(()=>{t||r(n=>n??String(C3e++))},[t]),t||(e?`radix-${e}`:"")}function $o(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function p6({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=P3e({defaultProp:e,onChange:r}),a=t!==void 0,s=a?t:n,o=$o(r),l=T.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&o(f)}else i(u)},[a,t,i,o]);return[s,l]}function P3e({defaultProp:t,onChange:e}){const r=T.useState(t),[n]=r,i=T.useRef(n),a=$o(e);return T.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}const yh=T.forwardRef((t,e)=>{const{children:r,...n}=t,i=T.Children.toArray(r),a=i.find(O3e);if(a){const s=a.props.children,o=i.map(l=>l===a?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return T.createElement(m6,At({},n,{ref:e}),T.isValidElement(s)?T.cloneElement(s,void 0,o):null)}return T.createElement(m6,At({},n,{ref:e}),r)});yh.displayName="Slot";const m6=T.forwardRef((t,e)=>{const{children:r,...n}=t;return T.isValidElement(r)?T.cloneElement(r,{...N3e(n,r.props),ref:e?kW(e,r.ref):r.ref}):T.Children.count(r)>1?T.Children.only(null):null});m6.displayName="SlotClone";const k3e=({children:t})=>T.createElement(T.Fragment,null,t);function O3e(t){return T.isValidElement(t)&&t.type===k3e}function N3e(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}const L3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],cn=L3e.reduce((t,e)=>{const r=T.forwardRef((n,i)=>{const{asChild:a,...s}=n,o=a?yh:e;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),T.createElement(o,At({},s,{ref:i}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function D3e(t,e){t&&Nn.flushSync(()=>t.dispatchEvent(e))}function M3e(t,e=globalThis?.document){const r=$o(t);T.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const g6="dismissableLayer.update",$3e="dismissableLayer.pointerDownOutside",F3e="dismissableLayer.focusOutside";let NM;const B3e=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OW=T.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,c=T.useContext(B3e),[f,d]=T.useState(null),h=(r=f?.ownerDocument)!==null&&r!==void 0?r:globalThis?.document,[,p]=T.useState({}),m=vn(e,N=>d(N)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=f?g.indexOf(f):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,R=w>=b,I=U3e(N=>{const F=N.target,$=[...c.branches].some(z=>z.contains(F));!R||$||(a?.(N),o?.(N),N.defaultPrevented||l?.())},h),D=j3e(N=>{const F=N.target;[...c.branches].some(z=>z.contains(F))||(s?.(N),o?.(N),N.defaultPrevented||l?.())},h);return M3e(N=>{w===c.layers.size-1&&(i?.(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),T.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(NM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),LM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=NM)}},[f,h,n,c]),T.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),LM())},[f,c]),T.useEffect(()=>{const N=()=>p({});return document.addEventListener(g6,N),()=>document.removeEventListener(g6,N)},[]),T.createElement(cn.div,At({},u,{ref:m,style:{pointerEvents:E?R?"auto":"none":void 0,...t.style},onFocusCapture:Jr(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Jr(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Jr(t.onPointerDownCapture,I.onPointerDownCapture)}))});function U3e(t,e=globalThis?.document){const r=$o(t),n=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let u=function(){NW($3e,r,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function j3e(t,e=globalThis?.document){const r=$o(t),n=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!n.current&&NW(F3e,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function LM(){const t=new CustomEvent(g6);document.dispatchEvent(t)}function NW(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?D3e(i,a):i.dispatchEvent(a)}const cA="focusScope.autoFocusOnMount",fA="focusScope.autoFocusOnUnmount",DM={bubbles:!1,cancelable:!0},LW=T.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=T.useState(null),u=$o(i),c=$o(a),f=T.useRef(null),d=vn(e,m=>l(m)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let m=function(w){if(h.paused||!o)return;const E=w.target;o.contains(E)?f.current=E:Tl(f.current,{select:!0})},g=function(w){if(h.paused||!o)return;const E=w.relatedTarget;E!==null&&(o.contains(E)||Tl(f.current,{select:!0}))},v=function(w){const E=document.activeElement;for(const R of w)R.removedNodes.length>0&&(o!=null&&o.contains(E)||Tl(o))};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,o,h.paused]),T.useEffect(()=>{if(o){$M.add(h);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(cA,DM);o.addEventListener(cA,u),o.dispatchEvent(v),v.defaultPrevented||(z3e(W3e(DW(o)),{select:!0}),document.activeElement===m&&Tl(o))}return()=>{o.removeEventListener(cA,u),setTimeout(()=>{const v=new CustomEvent(fA,DM);o.addEventListener(fA,c),o.dispatchEvent(v),v.defaultPrevented||Tl(m??document.body,{select:!0}),o.removeEventListener(fA,c),$M.remove(h)},0)}}},[o,u,c,h]);const p=T.useCallback(m=>{if(!r&&!n||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const b=m.currentTarget,[w,E]=V3e(b);w&&E?!m.shiftKey&&v===E?(m.preventDefault(),r&&Tl(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),r&&Tl(E,{select:!0})):v===b&&m.preventDefault()}},[r,n,h.paused]);return T.createElement(cn.div,At({tabIndex:-1},s,{ref:d,onKeyDown:p}))});function z3e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Tl(n,{select:e}),document.activeElement!==r)return}function V3e(t){const e=DW(t),r=MM(e,t),n=MM(e.reverse(),t);return[r,n]}function DW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function MM(t,e){for(const r of t)if(!Y3e(r,{upTo:e}))return r}function Y3e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function G3e(t){return t instanceof HTMLInputElement&&"select"in t}function Tl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&G3e(t)&&e&&t.select()}}const $M=H3e();function H3e(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=FM(t,e),t.unshift(e)},remove(e){var r;t=FM(t,e),(r=t[0])===null||r===void 0||r.resume()}}}function FM(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function W3e(t){return t.filter(e=>e.tagName!=="A")}const MW=T.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...i}=t;return n?op.createPortal(T.createElement(cn.div,At({},i,{ref:e})),n):null});function q3e(t,e){return T.useReducer((r,n)=>{const i=e[r][n];return i??r},t)}const D2=t=>{const{present:e,children:r}=t,n=K3e(e),i=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),a=vn(n.ref,i.ref);return typeof r=="function"||n.isPresent?T.cloneElement(i,{ref:a}):null};D2.displayName="Presence";function K3e(t){const[e,r]=T.useState(),n=T.useRef({}),i=T.useRef(t),a=T.useRef("none"),s=t?"mounted":"unmounted",[o,l]=q3e(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=Vy(n.current);a.current=o==="mounted"?u:"none"},[o]),is(()=>{const u=n.current,c=i.current;if(c!==t){const d=a.current,h=Vy(u);t?l("MOUNT"):h==="none"||u?.display==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),is(()=>{if(e){const u=f=>{const h=Vy(n.current).includes(f.animationName);f.target===e&&h&&Nn.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===e&&(a.current=Vy(n.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Vy(t){return t?.animationName||"none"}let dA=0;function $W(){T.useEffect(()=>{var t,e;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:BM()),document.body.insertAdjacentElement("beforeend",(e=r[1])!==null&&e!==void 0?e:BM()),dA++,()=>{dA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),dA--}},[])}function BM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var v6=function(t,e){return v6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},v6(t,e)};function Kn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");v6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ne=function(){return ne=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ne.apply(this,arguments)};function Fo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mo(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function xs(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function bh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function si(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function $d(t){return this instanceof $d?(this.v=t,this):new $d(t)}function Q3e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(h){return new Promise(function(p,m){a.push([d,h,p,m])>1||o(d,h)})})}function o(d,h){try{l(n[d](h))}catch(p){f(a[0][3],p)}}function l(d){d.value instanceof $d?Promise.resolve(d.value.v).then(u,c):f(a[0][2],d)}function u(d){o("next",d)}function c(d){o("throw",d)}function f(d,h){d(h),a.shift(),a.length&&o(a[0][0],a[0][1])}}function Z3e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof bh=="function"?bh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}var n1="right-scroll-bar-position",i1="width-before-scroll-bar",X3e="with-scroll-bars-hidden",J3e="--removed-body-scroll-bar-size";function eCe(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tCe(t,e){var r=T.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}function rCe(t,e){return tCe(e||null,function(r){return t.forEach(function(n){return eCe(n,r)})})}var Nx=function(){return Nx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Nx.apply(this,arguments)};function nCe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function iCe(t){return t}function aCe(t,e){e===void 0&&(e=iCe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var c=s;s=[],c.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),r}}}};return i}function sCe(t){t===void 0&&(t={});var e=aCe(null);return e.options=Nx({async:!0,ssr:!1},t),e}var FW=function(t){var e=t.sideCar,r=nCe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,Nx({},r))};FW.isSideCarExport=!0;function oCe(t,e){return t.useMedium(e),FW}var BW=sCe(),hA=function(){},M2=T.forwardRef(function(t,e){var r=T.useRef(null),n=T.useState({onScrollCapture:hA,onWheelCapture:hA,onTouchMoveCapture:hA}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,f=t.shards,d=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,b=Fo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=d,E=rCe([r,e]),R=ne(ne({},b),i);return T.createElement(T.Fragment,null,c&&T.createElement(w,{sideCar:BW,removeScrollBar:u,shards:f,noIsolation:h,inert:p,setCallbacks:a,allowPinchZoom:!!m,lockRef:r}),s?T.cloneElement(T.Children.only(o),ne(ne({},R),{ref:E})):T.createElement(v,ne({},R,{className:l,ref:E}),o))});M2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M2.classNames={fullWidth:i1,zeroRight:n1};var UM,lCe=function(){if(UM)return UM;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uCe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=lCe();return e&&t.setAttribute("nonce",e),t}function cCe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fCe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dCe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=uCe())&&(cCe(e,r),fCe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hCe=function(){var t=dCe();return function(e,r){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},UW=function(){var t=hCe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},pCe={left:0,top:0,right:0,gap:0},pA=function(t){return parseInt(t||"",10)||0},mCe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[pA(r),pA(n),pA(i)]},gCe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pCe;var e=mCe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},vCe=UW(),yCe=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(X3e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(n1,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(i1,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(n1," .").concat(n1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(i1," .").concat(i1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(J3e,": ").concat(o,`px;
  }
`)},bCe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n,a=T.useMemo(function(){return gCe(i)},[i]);return T.createElement(vCe,{styles:yCe(a,!e,i,r?"":"!important")})},y6=!1;if(typeof window<"u")try{var Yy=Object.defineProperty({},"passive",{get:function(){return y6=!0,!0}});window.addEventListener("test",Yy,Yy),window.removeEventListener("test",Yy,Yy)}catch{y6=!1}var Sf=y6?{passive:!1}:!1,xCe=function(t){return t.tagName==="TEXTAREA"},jW=function(t,e){var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!xCe(t)&&r[e]==="visible")},wCe=function(t){return jW(t,"overflowY")},ECe=function(t){return jW(t,"overflowX")},jM=function(t,e){var r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=zW(t,r);if(n){var i=VW(t,r),a=i[1],s=i[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},SCe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},TCe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},zW=function(t,e){return t==="v"?wCe(e):ECe(e)},VW=function(t,e){return t==="v"?SCe(e):TCe(e)},ACe=function(t,e){return t==="h"&&e==="rtl"?-1:1},RCe=function(t,e,r,n,i){var a=ACe(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),u=!1,c=s>0,f=0,d=0;do{var h=VW(t,o),p=h[0],m=h[1],g=h[2],v=m-g-a*p;(p||v)&&zW(t,o)&&(f+=v,d+=p),o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(c&&(i&&f===0||!i&&s>f)||!c&&(i&&d===0||!i&&-s>d))&&(u=!0),u},Gy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zM=function(t){return[t.deltaX,t.deltaY]},VM=function(t){return t&&"current"in t?t.current:t},_Ce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ICe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CCe=0,Tf=[];function PCe(t){var e=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),i=T.useState(CCe++)[0],a=T.useState(function(){return UW()})[0],s=T.useRef(t);T.useEffect(function(){s.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=si([t.lockRef.current],(t.shards||[]).map(VM),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var v=Gy(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-v[0],E="deltaY"in m?m.deltaY:b[1]-v[1],R,I=m.target,D=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&D==="h"&&I.type==="range")return!1;var N=jM(D,I);if(!N)return!0;if(N?R=D:(R=D==="v"?"h":"v",N=jM(D,I)),!N)return!1;if(!n.current&&"changedTouches"in m&&(w||E)&&(n.current=R),!R)return!0;var F=n.current||R;return RCe(F,g,m,F==="h"?w:E,!0)},[]),l=T.useCallback(function(m){var g=m;if(!(!Tf.length||Tf[Tf.length-1]!==a)){var v="deltaY"in g?zM(g):Gy(g),b=e.current.filter(function(R){return R.name===g.type&&R.target===g.target&&_Ce(R.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(s.current.shards||[]).map(VM).filter(Boolean).filter(function(R){return R.contains(g.target)}),E=w.length>0?o(g,w[0]):!s.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=T.useCallback(function(m,g,v,b){var w={name:m,delta:g,target:v,should:b};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),c=T.useCallback(function(m){r.current=Gy(m),n.current=void 0},[]),f=T.useCallback(function(m){u(m.type,zM(m),m.target,o(m,t.lockRef.current))},[]),d=T.useCallback(function(m){u(m.type,Gy(m),m.target,o(m,t.lockRef.current))},[]);T.useEffect(function(){return Tf.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Sf),document.addEventListener("touchmove",l,Sf),document.addEventListener("touchstart",c,Sf),function(){Tf=Tf.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Sf),document.removeEventListener("touchmove",l,Sf),document.removeEventListener("touchstart",c,Sf)}},[]);var h=t.removeScrollBar,p=t.inert;return T.createElement(T.Fragment,null,p?T.createElement(a,{styles:ICe(i)}):null,h?T.createElement(bCe,{gapMode:"margin"}):null)}const kCe=oCe(BW,PCe);var YW=T.forwardRef(function(t,e){return T.createElement(M2,ne({},t,{ref:e,sideCar:kCe}))});YW.classNames=M2.classNames;const GW=YW;var OCe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Af=new WeakMap,Hy=new WeakMap,Wy={},mA=0,HW=function(t){return t&&(t.host||HW(t.parentNode))},NCe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=HW(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},LCe=function(t,e,r,n){var i=NCe(e,Array.isArray(t)?t:[t]);Wy[r]||(Wy[r]=new WeakMap);var a=Wy[r],s=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(o.has(d))c(d);else{var h=d.getAttribute(n),p=h!==null&&h!=="false",m=(Af.get(d)||0)+1,g=(a.get(d)||0)+1;Af.set(d,m),a.set(d,g),s.push(d),m===1&&p&&Hy.set(d,!0),g===1&&d.setAttribute(r,"true"),p||d.setAttribute(n,"true")}})};return c(e),o.clear(),mA++,function(){s.forEach(function(f){var d=Af.get(f)-1,h=a.get(f)-1;Af.set(f,d),a.set(f,h),d||(Hy.has(f)||f.removeAttribute(n),Hy.delete(f)),h||f.removeAttribute(r)}),mA--,mA||(Af=new WeakMap,Af=new WeakMap,Hy=new WeakMap,Wy={})}},WW=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=e||OCe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),LCe(n,i,r,"aria-hidden")):function(){return null}};const qW="Dialog",[KW,cet]=L2(qW),[DCe,Zs]=KW(qW),MCe=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=T.useRef(null),l=T.useRef(null),[u=!1,c]=p6({prop:n,defaultProp:i,onChange:a});return T.createElement(DCe,{scope:e,triggerRef:o,contentRef:l,contentId:Md(),titleId:Md(),descriptionId:Md(),open:u,onOpenChange:c,onOpenToggle:T.useCallback(()=>c(f=>!f),[c]),modal:s},r)},$Ce="DialogTrigger",FCe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs($Ce,r),a=vn(e,i.triggerRef);return T.createElement(cn.button,At({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":XP(i.open)},n,{ref:a,onClick:Jr(t.onClick,i.onOpenToggle)}))}),QW="DialogPortal",[BCe,ZW]=KW(QW,{forceMount:void 0}),UCe=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Zs(QW,e);return T.createElement(BCe,{scope:e,forceMount:r},T.Children.map(n,s=>T.createElement(D2,{present:r||a.open},T.createElement(MW,{asChild:!0,container:i},s))))},b6="DialogOverlay",jCe=T.forwardRef((t,e)=>{const r=ZW(b6,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Zs(b6,t.__scopeDialog);return a.modal?T.createElement(D2,{present:n||a.open},T.createElement(zCe,At({},i,{ref:e}))):null}),zCe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(b6,r);return T.createElement(GW,{as:yh,allowPinchZoom:!0,shards:[i.contentRef]},T.createElement(cn.div,At({"data-state":XP(i.open)},n,{ref:e,style:{pointerEvents:"auto",...n.style}})))}),zm="DialogContent",VCe=T.forwardRef((t,e)=>{const r=ZW(zm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Zs(zm,t.__scopeDialog);return T.createElement(D2,{present:n||a.open},a.modal?T.createElement(YCe,At({},i,{ref:e})):T.createElement(GCe,At({},i,{ref:e})))}),YCe=T.forwardRef((t,e)=>{const r=Zs(zm,t.__scopeDialog),n=T.useRef(null),i=vn(e,r.contentRef,n);return T.useEffect(()=>{const a=n.current;if(a)return WW(a)},[]),T.createElement(XW,At({},t,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jr(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:Jr(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:Jr(t.onFocusOutside,a=>a.preventDefault())}))}),GCe=T.forwardRef((t,e)=>{const r=Zs(zm,t.__scopeDialog),n=T.useRef(!1),i=T.useRef(!1);return T.createElement(XW,At({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,a),!a.defaultPrevented){var o;n.current||(o=r.triggerRef.current)===null||o===void 0||o.focus(),a.preventDefault()}n.current=!1,i.current=!1},onInteractOutside:a=>{var s,o;(s=t.onInteractOutside)===null||s===void 0||s.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((o=r.triggerRef.current)===null||o===void 0?void 0:o.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}}))}),XW=T.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Zs(zm,r),l=T.useRef(null),u=vn(e,l);return $W(),T.createElement(T.Fragment,null,T.createElement(LW,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a},T.createElement(OW,At({role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":XP(o.open)},s,{ref:u,onDismiss:()=>o.onOpenChange(!1)}))),!1)}),HCe="DialogTitle",WCe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(HCe,r);return T.createElement(cn.h2,At({id:i.titleId},n,{ref:e}))}),qCe="DialogClose",KCe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Zs(qCe,r);return T.createElement(cn.button,At({type:"button"},n,{ref:e,onClick:Jr(t.onClick,()=>i.onOpenChange(!1))}))});function XP(t){return t?"open":"closed"}const QCe=MCe,ZCe=FCe,XCe=UCe,JCe=jCe,e4e=VCe,t4e=WCe,r4e=KCe;var n4e=TypeError,i4e=9007199254740991,a4e=function(t){if(t>i4e)throw n4e("Maximum allowed index exceeded");return t},s4e=un,o4e=br,l4e=$P,u4e=Xi,c4e=Cu,f4e=Pu,YM=a4e,GM=P2,d4e=LH,h4e=C2,p4e=xr,m4e=dv,JW=p4e("isConcatSpreadable"),g4e=m4e>=51||!o4e(function(){var t=[];return t[JW]=!1,t.concat()[0]!==t}),v4e=function(t){if(!u4e(t))return!1;var e=t[JW];return e!==void 0?!!e:l4e(t)},y4e=!g4e||!h4e("concat");s4e({target:"Array",proto:!0,arity:1,forced:y4e},{concat:function(e){var r=c4e(this),n=d4e(r,0),i=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?r:arguments[a],v4e(u))for(l=f4e(u),YM(i+l),s=0;s<l;s++,i++)s in u&&GM(n,i,u[s]);else YM(i+1),GM(n,i++,u);return n.length=i,n}});function HM(t,[e,r]){return Math.min(r,Math.max(e,t))}function b4e(t){const e=t+"CollectionProvider",[r,n]=L2(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:p,children:m}=h,g=vt.useRef(null),v=vt.useRef(new Map).current;return vt.createElement(i,{scope:p,itemMap:v,collectionRef:g},m)},o=t+"CollectionSlot",l=vt.forwardRef((h,p)=>{const{scope:m,children:g}=h,v=a(o,m),b=vn(p,v.collectionRef);return vt.createElement(yh,{ref:b},g)}),u=t+"CollectionItemSlot",c="data-radix-collection-item",f=vt.forwardRef((h,p)=>{const{scope:m,children:g,...v}=h,b=vt.useRef(null),w=vn(p,b),E=a(u,m);return vt.useEffect(()=>(E.itemMap.set(b,{ref:b,...v}),()=>void E.itemMap.delete(b))),vt.createElement(yh,{[c]:"",ref:w},g)});function d(h){const p=a(t+"CollectionConsumer",h);return vt.useCallback(()=>{const g=p.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${c}]`));return Array.from(p.itemMap.values()).sort((E,R)=>v.indexOf(E.ref.current)-v.indexOf(R.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},d,n]}const x4e=T.createContext(void 0);function w4e(t){const e=T.useContext(x4e);return t||e||"ltr"}const E4e=["top","right","bottom","left"],ou=Math.min,$i=Math.max,Lx=Math.round,qy=Math.floor,lu=t=>({x:t,y:t}),S4e={left:"right",right:"left",bottom:"top",top:"bottom"},T4e={start:"end",end:"start"};function x6(t,e,r){return $i(t,ou(e,r))}function Bo(t,e){return typeof t=="function"?t(e):t}function Uo(t){return t.split("-")[0]}function Xh(t){return t.split("-")[1]}function JP(t){return t==="x"?"y":"x"}function ek(t){return t==="y"?"height":"width"}function Jh(t){return["top","bottom"].includes(Uo(t))?"y":"x"}function tk(t){return JP(Jh(t))}function A4e(t,e,r){r===void 0&&(r=!1);const n=Xh(t),i=tk(t),a=ek(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Dx(s)),[s,Dx(s)]}function R4e(t){const e=Dx(t);return[w6(t),e,w6(e)]}function w6(t){return t.replace(/start|end/g,e=>T4e[e])}function _4e(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function I4e(t,e,r,n){const i=Xh(t);let a=_4e(Uo(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(w6)))),a}function Dx(t){return t.replace(/left|right|bottom|top/g,e=>S4e[e])}function C4e(t){return{top:0,right:0,bottom:0,left:0,...t}}function eq(t){return typeof t!="number"?C4e(t):{top:t,right:t,bottom:t,left:t}}function Mx(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function WM(t,e,r){let{reference:n,floating:i}=t;const a=Jh(e),s=tk(e),o=ek(s),l=Uo(e),u=a==="y",c=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,d=n[o]/2-i[o]/2;let h;switch(l){case"top":h={x:c,y:n.y-i.height};break;case"bottom":h={x:c,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Xh(e)){case"start":h[s]-=d*(r&&u?-1:1);break;case"end":h[s]+=d*(r&&u?-1:1);break}return h}const P4e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=WM(u,n,l),d=n,h={},p=0;for(let m=0;m<o.length;m++){const{name:g,fn:v}=o[m],{x:b,y:w,data:E,reset:R}=await v({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});if(c=b??c,f=w??f,h={...h,[g]:{...h[g],...E}},R&&p<=50){p++,typeof R=="object"&&(R.placement&&(d=R.placement),R.rects&&(u=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:c,y:f}=WM(u,d,l)),m=-1;continue}}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function Vm(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Bo(e,t),p=eq(h),g=o[d?f==="floating"?"reference":"floating":f],v=Mx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),b=f==="floating"?{...s.floating,x:n,y:i}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),E=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},R=Mx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:l}):b);return{top:(v.top-R.top+p.top)/E.y,bottom:(R.bottom-v.bottom+p.bottom)/E.y,left:(v.left-R.left+p.left)/E.x,right:(R.right-v.right+p.right)/E.x}}const qM=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o}=e,{element:l,padding:u=0}=Bo(t,e)||{};if(l==null)return{};const c=eq(u),f={x:r,y:n},d=tk(i),h=ek(d),p=await s.getDimensions(l),m=d==="y",g=m?"top":"left",v=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=a.reference[h]+a.reference[d]-f[d]-a.floating[h],E=f[d]-a.reference[d],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let I=R?R[b]:0;(!I||!await(s.isElement==null?void 0:s.isElement(R)))&&(I=o.floating[b]||a.floating[h]);const D=w/2-E/2,N=I/2-p[h]/2-1,F=ou(c[g],N),$=ou(c[v],N),z=F,k=I-p[h]-$,A=I/2-p[h]/2+D,y=x6(z,A,k),S=Xh(i)!=null&&A!=y&&a.reference[h]/2-(A<z?F:$)-p[h]/2<0?A<z?z-A:k-A:0;return{[d]:f[d]-S,data:{[d]:y,centerOffset:A-y+S}}}}),k4e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r;const{placement:n,middlewareData:i,rects:a,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...m}=Bo(t,e),g=Uo(n),v=Uo(s)===s,b=await(o.isRTL==null?void 0:o.isRTL(l.floating)),w=f||(v||!p?[Dx(s)]:R4e(s));!f&&h!=="none"&&w.push(...I4e(s,p,h,b));const E=[s,...w],R=await Vm(e,m),I=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(R[g]),c){const z=A4e(n,a,b);I.push(R[z[0]],R[z[1]])}if(D=[...D,{placement:n,overflows:I}],!I.every(z=>z<=0)){var N,F;const z=(((N=i.flip)==null?void 0:N.index)||0)+1,k=E[z];if(k)return{data:{index:z,overflows:D},reset:{placement:k}};let A=(F=D.filter(y=>y.overflows[0]<=0).sort((y,x)=>y.overflows[1]-x.overflows[1])[0])==null?void 0:F.placement;if(!A)switch(d){case"bestFit":{var $;const y=($=D.map(x=>[x.placement,x.overflows.filter(S=>S>0).reduce((S,C)=>S+C,0)]).sort((x,S)=>x[1]-S[1])[0])==null?void 0:$[0];y&&(A=y);break}case"initialPlacement":A=s;break}if(n!==A)return{reset:{placement:A}}}return{}}}};function KM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function QM(t){return E4e.some(e=>t[e]>=0)}const O4e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Bo(t,e);switch(n){case"referenceHidden":{const a=await Vm(e,{...i,elementContext:"reference"}),s=KM(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:QM(s)}}}case"escaped":{const a=await Vm(e,{...i,altBoundary:!0}),s=KM(a,r.floating);return{data:{escapedOffsets:s,escaped:QM(s)}}}default:return{}}}}};async function N4e(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Uo(r),o=Xh(r),l=Jh(r)==="y",u=["left","top"].includes(s)?-1:1,c=a&&l?-1:1,f=Bo(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const L4e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:r,y:n}=e,i=await N4e(e,t);return{x:r+i.x,y:n+i.y,data:i}}}},D4e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:v,y:b}=g;return{x:v,y:b}}},...l}=Bo(t,e),u={x:r,y:n},c=await Vm(e,l),f=Jh(Uo(i)),d=JP(f);let h=u[d],p=u[f];if(a){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=h+c[g],w=h-c[v];h=x6(b,h,w)}if(s){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+c[g],w=p-c[v];p=x6(b,p,w)}const m=o.fn({...e,[d]:h,[f]:p});return{...m,data:{x:m.x-r,y:m.y-n}}}}},M4e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Bo(t,e),c={x:r,y:n},f=Jh(i),d=JP(f);let h=c[d],p=c[f];const m=Bo(o,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=d==="y"?"height":"width",E=a.reference[d]-a.floating[w]+g.mainAxis,R=a.reference[d]+a.reference[w]-g.mainAxis;h<E?h=E:h>R&&(h=R)}if(u){var v,b;const w=d==="y"?"width":"height",E=["top","left"].includes(Uo(i)),R=a.reference[f]-a.floating[w]+(E&&((v=s.offset)==null?void 0:v[f])||0)+(E?0:g.crossAxis),I=a.reference[f]+a.reference[w]+(E?0:((b=s.offset)==null?void 0:b[f])||0)-(E?g.crossAxis:0);p<R?p=R:p>I&&(p=I)}return{[d]:h,[f]:p}}}},$4e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:r,rects:n,platform:i,elements:a}=e,{apply:s=()=>{},...o}=Bo(t,e),l=await Vm(e,o),u=Uo(r),c=Xh(r),f=Jh(r)==="y",{width:d,height:h}=n.floating;let p,m;u==="top"||u==="bottom"?(p=u,m=c===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,p=c==="end"?"top":"bottom");const g=h-l[p],v=d-l[m],b=!e.middlewareData.shift;let w=g,E=v;if(f){const I=d-l.left-l.right;E=c||b?ou(v,I):I}else{const I=h-l.top-l.bottom;w=c||b?ou(g,I):I}if(b&&!c){const I=$i(l.left,0),D=$i(l.right,0),N=$i(l.top,0),F=$i(l.bottom,0);f?E=d-2*(I!==0||D!==0?I+D:$i(l.left,l.right)):w=h-2*(N!==0||F!==0?N+F:$i(l.top,l.bottom))}await s({...e,availableWidth:E,availableHeight:w});const R=await i.getDimensions(a.floating);return d!==R.width||h!==R.height?{reset:{rects:!0}}:{}}}};function uu(t){return tq(t)?(t.nodeName||"").toLowerCase():"#document"}function Hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nl(t){var e;return(e=(tq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tq(t){return t instanceof Node||t instanceof Hi(t).Node}function jo(t){return t instanceof Element||t instanceof Hi(t).Element}function Us(t){return t instanceof HTMLElement||t instanceof Hi(t).HTMLElement}function ZM(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hi(t).ShadowRoot}function Tv(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=wa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function F4e(t){return["table","td","th"].includes(uu(t))}function rk(t){const e=nk(),r=wa(t);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function B4e(t){let e=wh(t);for(;Us(e)&&!$2(e);){if(rk(e))return e;e=wh(e)}return null}function nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $2(t){return["html","body","#document"].includes(uu(t))}function wa(t){return Hi(t).getComputedStyle(t)}function F2(t){return jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wh(t){if(uu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZM(t)&&t.host||nl(t);return ZM(e)?e.host:e}function rq(t){const e=wh(t);return $2(e)?t.ownerDocument?t.ownerDocument.body:t.body:Us(e)&&Tv(e)?e:rq(e)}function Ym(t,e){var r;e===void 0&&(e=[]);const n=rq(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Hi(n);return i?e.concat(a,a.visualViewport||[],Tv(n)?n:[],a.frameElement?Ym(a.frameElement):[]):e.concat(n,Ym(n))}function nq(t){const e=wa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Us(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Lx(r)!==a||Lx(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function ik(t){return jo(t)?t:t.contextElement}function Fd(t){const e=ik(t);if(!Us(e))return lu(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=nq(e);let s=(a?Lx(r.width):r.width)/n,o=(a?Lx(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const U4e=lu(0);function iq(t){const e=Hi(t);return!nk()||!e.visualViewport?U4e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function j4e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Hi(t)?!1:e}function _c(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=ik(t);let s=lu(1);e&&(n?jo(n)&&(s=Fd(n)):s=Fd(t));const o=j4e(a,r,n)?iq(a):lu(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(a){const d=Hi(a),h=n&&jo(n)?Hi(n):n;let p=d.frameElement;for(;p&&n&&h!==d;){const m=Fd(p),g=p.getBoundingClientRect(),v=wa(p),b=g.left+(p.clientLeft+parseFloat(v.paddingLeft))*m.x,w=g.top+(p.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=b,u+=w,p=Hi(p).frameElement}}return Mx({width:c,height:f,x:l,y:u})}function z4e(t){let{rect:e,offsetParent:r,strategy:n}=t;const i=Us(r),a=nl(r);if(r===a)return e;let s={scrollLeft:0,scrollTop:0},o=lu(1);const l=lu(0);if((i||!i&&n!=="fixed")&&((uu(r)!=="body"||Tv(a))&&(s=F2(r)),Us(r))){const u=_c(r);o=Fd(r),l.x=u.x+r.clientLeft,l.y=u.y+r.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function V4e(t){return Array.from(t.getClientRects())}function aq(t){return _c(nl(t)).left+F2(t).scrollLeft}function Y4e(t){const e=nl(t),r=F2(t),n=t.ownerDocument.body,i=$i(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=$i(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+aq(t);const o=-r.scrollTop;return wa(n).direction==="rtl"&&(s+=$i(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function G4e(t,e){const r=Hi(t),n=nl(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=nk();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function H4e(t,e){const r=_c(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Us(t)?Fd(t):lu(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function XM(t,e,r){let n;if(e==="viewport")n=G4e(t,r);else if(e==="document")n=Y4e(nl(t));else if(jo(e))n=H4e(e,r);else{const i=iq(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Mx(n)}function sq(t,e){const r=wh(t);return r===e||!jo(r)||$2(r)?!1:wa(r).position==="fixed"||sq(r,e)}function W4e(t,e){const r=e.get(t);if(r)return r;let n=Ym(t).filter(o=>jo(o)&&uu(o)!=="body"),i=null;const a=wa(t).position==="fixed";let s=a?wh(t):t;for(;jo(s)&&!$2(s);){const o=wa(s),l=rk(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Tv(s)&&!l&&sq(t,s))?n=n.filter(c=>c!==s):i=o,s=wh(s)}return e.set(t,n),n}function q4e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?W4e(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,c)=>{const f=XM(e,c,i);return u.top=$i(f.top,u.top),u.right=ou(f.right,u.right),u.bottom=ou(f.bottom,u.bottom),u.left=$i(f.left,u.left),u},XM(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function K4e(t){return nq(t)}function Q4e(t,e,r){const n=Us(e),i=nl(e),a=r==="fixed",s=_c(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=lu(0);if(n||!n&&!a)if((uu(e)!=="body"||Tv(i))&&(o=F2(e)),n){const u=_c(e,!0,a,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=aq(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function JM(t,e){return!Us(t)||wa(t).position==="fixed"?null:e?e(t):t.offsetParent}function oq(t,e){const r=Hi(t);if(!Us(t))return r;let n=JM(t,e);for(;n&&F4e(n)&&wa(n).position==="static";)n=JM(n,e);return n&&(uu(n)==="html"||uu(n)==="body"&&wa(n).position==="static"&&!rk(n))?r:n||B4e(t)||r}const Z4e=async function(t){let{reference:e,floating:r,strategy:n}=t;const i=this.getOffsetParent||oq,a=this.getDimensions;return{reference:Q4e(e,await i(r),n),floating:{x:0,y:0,...await a(r)}}};function X4e(t){return wa(t).direction==="rtl"}const J4e={convertOffsetParentRelativeRectToViewportRelativeRect:z4e,getDocumentElement:nl,getClippingRect:q4e,getOffsetParent:oq,getElementRects:Z4e,getClientRects:V4e,getDimensions:K4e,getScale:Fd,isElement:jo,isRTL:X4e};function ePe(t,e){let r=null,n;const i=nl(t);function a(){clearTimeout(n),r&&r.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:f,height:d}=t.getBoundingClientRect();if(o||e(),!f||!d)return;const h=qy(c),p=qy(i.clientWidth-(u+f)),m=qy(i.clientHeight-(c+d)),g=qy(u),b={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:$i(0,ou(1,l))||1};let w=!0;function E(R){const I=R[0].intersectionRatio;if(I!==l){if(!w)return s();I?s(!1,I):n=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{r=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,b)}r.observe(t)}return s(!0),a}function tPe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=ik(t),c=i||a?[...u?Ym(u):[],...Ym(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=u&&o?ePe(u,r):null;let d=-1,h=null;s&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{h&&h.observe(e)})),r()}),u&&!l&&h.observe(u),h.observe(e));let p,m=l?_c(t):null;l&&g();function g(){const v=_c(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&r(),m=v,p=requestAnimationFrame(g)}return r(),()=>{c.forEach(v=>{i&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f&&f(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const rPe=(t,e,r)=>{const n=new Map,i={platform:J4e,...r},a={...i.platform,_c:n};return P4e(t,e,{...i,platform:a})},nPe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?qM({element:n.current,padding:i}).fn(r):{}:n?qM({element:n,padding:i}).fn(r):{}}}};var a1=typeof document<"u"?T.useLayoutEffect:T.useEffect;function $x(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!$x(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!$x(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function lq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function e7(t,e){const r=lq(t);return Math.round(e*r)/r}function t7(t){const e=T.useRef(t);return a1(()=>{e.current=t}),e}function iPe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[c,f]=T.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=T.useState(n);$x(d,n)||h(n);const[p,m]=T.useState(null),[g,v]=T.useState(null),b=T.useCallback(S=>{S!=I.current&&(I.current=S,m(S))},[m]),w=T.useCallback(S=>{S!==D.current&&(D.current=S,v(S))},[v]),E=a||p,R=s||g,I=T.useRef(null),D=T.useRef(null),N=T.useRef(c),F=t7(l),$=t7(i),z=T.useCallback(()=>{if(!I.current||!D.current)return;const S={placement:e,strategy:r,middleware:d};$.current&&(S.platform=$.current),rPe(I.current,D.current,S).then(C=>{const P={...C,isPositioned:!0};k.current&&!$x(N.current,P)&&(N.current=P,Nn.flushSync(()=>{f(P)}))})},[d,e,r,$]);a1(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const k=T.useRef(!1);a1(()=>(k.current=!0,()=>{k.current=!1}),[]),a1(()=>{if(E&&(I.current=E),R&&(D.current=R),E&&R){if(F.current)return F.current(E,R,z);z()}},[E,R,z,F]);const A=T.useMemo(()=>({reference:I,floating:D,setReference:b,setFloating:w}),[b,w]),y=T.useMemo(()=>({reference:E,floating:R}),[E,R]),x=T.useMemo(()=>{const S={position:r,left:0,top:0};if(!y.floating)return S;const C=e7(y.floating,c.x),P=e7(y.floating,c.y);return o?{...S,transform:"translate("+C+"px, "+P+"px)",...lq(y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:C,top:P}},[r,o,y.floating,c.x,c.y]);return T.useMemo(()=>({...c,update:z,refs:A,elements:y,floatingStyles:x}),[c,z,A,y,x])}function aPe(t){const[e,r]=T.useState(void 0);return is(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}const uq="Popper",[cq,fq]=L2(uq),[sPe,dq]=cq(uq),oPe=t=>{const{__scopePopper:e,children:r}=t,[n,i]=T.useState(null);return T.createElement(sPe,{scope:e,anchor:n,onAnchorChange:i},r)},lPe="PopperAnchor",uPe=T.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=dq(lPe,r),s=T.useRef(null),o=vn(e,s);return T.useEffect(()=>{a.onAnchorChange(n?.current||s.current)}),n?null:T.createElement(cn.div,At({},i,{ref:o}))}),hq="PopperContent",[cPe,fet]=cq(hq),fPe=T.forwardRef((t,e)=>{var r,n,i,a,s,o,l,u;const{__scopePopper:c,side:f="bottom",sideOffset:d=0,align:h="center",alignOffset:p=0,arrowPadding:m=0,collisionBoundary:g=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:w=!1,avoidCollisions:E=!0,onPlaced:R,...I}=t,D=dq(hq,c),[N,F]=T.useState(null),$=vn(e,oe=>F(oe)),[z,k]=T.useState(null),A=aPe(z),y=(r=A?.width)!==null&&r!==void 0?r:0,x=(n=A?.height)!==null&&n!==void 0?n:0,S=f+(h!=="center"?"-"+h:""),C=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},P=Array.isArray(g)?g:[g],M=P.length>0,B={padding:C,boundary:P.filter(dPe),altBoundary:M},{refs:L,floatingStyles:_,placement:U,isPositioned:G,middlewareData:O}=iPe({strategy:"fixed",placement:S,whileElementsMounted:tPe,elements:{reference:D.anchor},middleware:[L4e({mainAxis:d+x,alignmentAxis:p}),E&&D4e({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?M4e():void 0,...B}),E&&k4e({...B}),$4e({...B,apply:({elements:oe,rects:ve,availableWidth:Ae,availableHeight:Ie})=>{const{width:Fe,height:Gt}=ve.reference,Be=oe.floating.style;Be.setProperty("--radix-popper-available-width",`${Ae}px`),Be.setProperty("--radix-popper-available-height",`${Ie}px`),Be.setProperty("--radix-popper-anchor-width",`${Fe}px`),Be.setProperty("--radix-popper-anchor-height",`${Gt}px`)}}),z&&nPe({element:z,padding:m}),hPe({arrowWidth:y,arrowHeight:x}),w&&O4e({strategy:"referenceHidden"})]}),[Y,H]=pq(U),W=$o(R);is(()=>{G&&W?.()},[G,W]);const K=(i=O.arrow)===null||i===void 0?void 0:i.x,ie=(a=O.arrow)===null||a===void 0?void 0:a.y,Q=((s=O.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[te,xe]=T.useState();return is(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),T.createElement("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:G?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(o=O.transformOrigin)===null||o===void 0?void 0:o.x,(l=O.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},T.createElement(cPe,{scope:c,placedSide:Y,onArrowChange:k,arrowX:K,arrowY:ie,shouldHideArrow:Q},T.createElement(cn.div,At({"data-side":Y,"data-align":H},I,{ref:$,style:{...I.style,animation:G?void 0:"none",opacity:(u=O.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function dPe(t){return t!==null}const hPe=t=>({name:"transformOrigin",options:t,fn(e){var r,n,i,a,s;const{placement:o,rects:l,middlewareData:u}=e,f=((r=u.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,d=f?0:t.arrowWidth,h=f?0:t.arrowHeight,[p,m]=pq(o),g={start:"0%",center:"50%",end:"100%"}[m],v=((n=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0)+d/2,b=((a=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+h/2;let w="",E="";return p==="bottom"?(w=f?g:`${v}px`,E=`${-h}px`):p==="top"?(w=f?g:`${v}px`,E=`${l.floating.height+h}px`):p==="right"?(w=`${-h}px`,E=f?g:`${b}px`):p==="left"&&(w=`${l.floating.width+h}px`,E=f?g:`${b}px`),{data:{x:w,y:E}}}});function pq(t){const[e,r="center"]=t.split("-");return[e,r]}const pPe=oPe,mPe=uPe,gPe=fPe;function vPe(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const yPe=T.forwardRef((t,e)=>T.createElement(cn.span,At({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),bPe=[" ","Enter","ArrowUp","ArrowDown"],xPe=[" ","Enter"],B2="Select",[U2,ak,wPe]=b4e(B2),[e0,det]=L2(B2,[wPe,fq]),sk=fq(),[EPe,Qc]=e0(B2),[SPe,TPe]=e0(B2),APe=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:c,autoComplete:f,disabled:d,required:h}=t,p=sk(e),[m,g]=T.useState(null),[v,b]=T.useState(null),[w,E]=T.useState(!1),R=w4e(u),[I=!1,D]=p6({prop:n,defaultProp:i,onChange:a}),[N,F]=p6({prop:s,defaultProp:o,onChange:l}),$=T.useRef(null),z=m?!!m.closest("form"):!0,[k,A]=T.useState(new Set),y=Array.from(k).map(x=>x.props.value).join(";");return T.createElement(pPe,p,T.createElement(EPe,{required:h,scope:e,trigger:m,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:E,contentId:Md(),value:N,onValueChange:F,open:I,onOpenChange:D,dir:R,triggerPointerDownPosRef:$,disabled:d},T.createElement(U2.Provider,{scope:e},T.createElement(SPe,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(x=>{A(S=>new Set(S).add(x))},[]),onNativeOptionRemove:T.useCallback(x=>{A(S=>{const C=new Set(S);return C.delete(x),C})},[])},r)),z?T.createElement(vq,{key:y,"aria-hidden":!0,required:h,tabIndex:-1,name:c,autoComplete:f,value:N,onChange:x=>F(x.target.value),disabled:d},N===void 0?T.createElement("option",{value:""}):null,Array.from(k)):null))},RPe="SelectTrigger",_Pe=T.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=sk(r),s=Qc(RPe,r),o=s.disabled||n,l=vn(e,s.onTriggerChange),u=ak(r),[c,f,d]=yq(p=>{const m=u().filter(b=>!b.disabled),g=m.find(b=>b.value===s.value),v=bq(m,p,g);v!==void 0&&s.onValueChange(v.value)}),h=()=>{o||(s.onOpenChange(!0),d())};return T.createElement(mPe,At({asChild:!0},a),T.createElement(cn.button,At({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":s.value===void 0?"":void 0},i,{ref:l,onClick:Jr(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:Jr(i.onPointerDown,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:Jr(i.onKeyDown,p=>{const m=c.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(m&&p.key===" ")&&bPe.includes(p.key)&&(h(),p.preventDefault())})})))}),IPe="SelectValue",CPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s,...o}=t,l=Qc(IPe,r),{onValueNodeHasChildrenChange:u}=l,c=a!==void 0,f=vn(e,l.onValueNodeChange);return is(()=>{u(c)},[u,c]),T.createElement(cn.span,At({},o,{ref:f,style:{pointerEvents:"none"}}),l.value===void 0&&s!==void 0?s:a)}),PPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return T.createElement(cn.span,At({"aria-hidden":!0},i,{ref:e}),n||"▼")}),kPe=t=>T.createElement(MW,At({asChild:!0},t)),Eh="SelectContent",OPe=T.forwardRef((t,e)=>{const r=Qc(Eh,t.__scopeSelect),[n,i]=T.useState();if(is(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Nn.createPortal(T.createElement(mq,{scope:t.__scopeSelect},T.createElement(U2.Slot,{scope:t.__scopeSelect},T.createElement("div",null,t.children))),a):null}return T.createElement(NPe,At({},t,{ref:e}))}),oo=10,[mq,j2]=e0(Eh),NPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:g,...v}=t,b=Qc(Eh,r),[w,E]=T.useState(null),[R,I]=T.useState(null),D=vn(e,H=>E(H)),[N,F]=T.useState(null),[$,z]=T.useState(null),k=ak(r),[A,y]=T.useState(!1),x=T.useRef(!1);T.useEffect(()=>{if(w)return WW(w)},[w]),$W();const S=T.useCallback(H=>{const[W,...K]=k().map(te=>te.ref.current),[ie]=K.slice(-1),Q=document.activeElement;for(const te of H)if(te===Q||(te?.scrollIntoView({block:"nearest"}),te===W&&R&&(R.scrollTop=0),te===ie&&R&&(R.scrollTop=R.scrollHeight),te?.focus(),document.activeElement!==Q))return},[k,R]),C=T.useCallback(()=>S([N,w]),[S,N,w]);T.useEffect(()=>{A&&C()},[A,C]);const{onOpenChange:P,triggerPointerDownPosRef:M}=b;T.useEffect(()=>{if(w){let H={x:0,y:0};const W=ie=>{var Q,te,xe,oe;H={x:Math.abs(Math.round(ie.pageX)-((Q=(te=M.current)===null||te===void 0?void 0:te.x)!==null&&Q!==void 0?Q:0)),y:Math.abs(Math.round(ie.pageY)-((xe=(oe=M.current)===null||oe===void 0?void 0:oe.y)!==null&&xe!==void 0?xe:0))}},K=ie=>{H.x<=10&&H.y<=10?ie.preventDefault():w.contains(ie.target)||P(!1),document.removeEventListener("pointermove",W),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,P,M]),T.useEffect(()=>{const H=()=>P(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[P]);const[B,L]=yq(H=>{const W=k().filter(Q=>!Q.disabled),K=W.find(Q=>Q.ref.current===document.activeElement),ie=bq(W,H,K);ie&&setTimeout(()=>ie.ref.current.focus())}),_=T.useCallback((H,W,K)=>{const ie=!x.current&&!K;(b.value!==void 0&&b.value===W||ie)&&(F(H),ie&&(x.current=!0))},[b.value]),U=T.useCallback(()=>w?.focus(),[w]),G=T.useCallback((H,W,K)=>{const ie=!x.current&&!K;(b.value!==void 0&&b.value===W||ie)&&z(H)},[b.value]),O=n==="popper"?r7:LPe,Y=O===r7?{side:o,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return T.createElement(mq,{scope:r,content:w,viewport:R,onViewportChange:I,itemRefCallback:_,selectedItem:N,onItemLeave:U,itemTextRefCallback:G,focusSelectedItem:C,selectedItemText:$,position:n,isPositioned:A,searchRef:B},T.createElement(GW,{as:yh,allowPinchZoom:!0},T.createElement(LW,{asChild:!0,trapped:b.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Jr(i,H=>{var W;(W=b.trigger)===null||W===void 0||W.focus({preventScroll:!0}),H.preventDefault()})},T.createElement(OW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},T.createElement(O,At({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:H=>H.preventDefault()},v,Y,{onPlaced:()=>y(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Jr(v.onKeyDown,H=>{const W=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!W&&H.key.length===1&&L(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ie=k().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Q=H.target,te=ie.indexOf(Q);ie=ie.slice(te+1)}setTimeout(()=>S(ie)),H.preventDefault()}})}))))))}),LPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Qc(Eh,r),s=j2(Eh,r),[o,l]=T.useState(null),[u,c]=T.useState(null),f=vn(e,D=>c(D)),d=ak(r),h=T.useRef(!1),p=T.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:b}=s,w=T.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&m&&g&&v){const D=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),$=v.getBoundingClientRect();if(a.dir!=="rtl"){const Q=$.left-N.left,te=F.left-Q,xe=D.left-te,oe=D.width+xe,ve=Math.max(oe,N.width),Ae=window.innerWidth-oo,Ie=HM(te,[oo,Ae-ve]);o.style.minWidth=oe+"px",o.style.left=Ie+"px"}else{const Q=N.right-$.right,te=window.innerWidth-F.right-Q,xe=window.innerWidth-D.right-te,oe=D.width+xe,ve=Math.max(oe,N.width),Ae=window.innerWidth-oo,Ie=HM(te,[oo,Ae-ve]);o.style.minWidth=oe+"px",o.style.right=Ie+"px"}const z=d(),k=window.innerHeight-oo*2,A=m.scrollHeight,y=window.getComputedStyle(u),x=parseInt(y.borderTopWidth,10),S=parseInt(y.paddingTop,10),C=parseInt(y.borderBottomWidth,10),P=parseInt(y.paddingBottom,10),M=x+S+A+P+C,B=Math.min(g.offsetHeight*5,M),L=window.getComputedStyle(m),_=parseInt(L.paddingTop,10),U=parseInt(L.paddingBottom,10),G=D.top+D.height/2-oo,O=k-G,Y=g.offsetHeight/2,H=g.offsetTop+Y,W=x+S+H,K=M-W;if(W<=G){const Q=g===z[z.length-1].ref.current;o.style.bottom="0px";const te=u.clientHeight-m.offsetTop-m.offsetHeight,xe=Math.max(O,Y+(Q?U:0)+te+C),oe=W+xe;o.style.height=oe+"px"}else{const Q=g===z[0].ref.current;o.style.top="0px";const xe=Math.max(G,x+m.offsetTop+(Q?_:0)+Y)+K;o.style.height=xe+"px",m.scrollTop=W-G+m.offsetTop}o.style.margin=`${oo}px 0`,o.style.minHeight=B+"px",o.style.maxHeight=k+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[d,a.trigger,a.valueNode,o,u,m,g,v,a.dir,n]);is(()=>w(),[w]);const[E,R]=T.useState();is(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const I=T.useCallback(D=>{D&&p.current===!0&&(w(),b?.(),p.current=!1)},[w,b]);return T.createElement(DPe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:I},T.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E}},T.createElement(cn.div,At({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),r7=T.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=oo,...a}=t,s=sk(r);return T.createElement(gPe,At({},s,a,{ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[DPe,MPe]=e0(Eh,{}),n7="SelectViewport",$Pe=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=j2(n7,r),a=MPe(n7,r),s=vn(e,i.onViewportChange),o=T.useRef(0);return T.createElement(T.Fragment,null,T.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),T.createElement(U2.Slot,{scope:r},T.createElement(cn.div,At({"data-radix-select-viewport":"",role:"presentation"},n,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:Jr(n.onScroll,l=>{const u=l.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&c){const d=Math.abs(o.current-u.scrollTop);if(d>0){const h=window.innerHeight-oo*2,p=parseFloat(c.style.minHeight),m=parseFloat(c.style.height),g=Math.max(p,m);if(g<h){const v=g+d,b=Math.min(h,v),w=v-b;c.style.height=b+"px",c.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,c.style.justifyContent="flex-end")}}}o.current=u.scrollTop})}))))}),FPe="SelectGroup",[BPe,het]=e0(FPe),UPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Md();return T.createElement(BPe,{scope:r,id:i},T.createElement(cn.div,At({role:"group","aria-labelledby":i},n,{ref:e})))}),E6="SelectItem",[jPe,gq]=e0(E6),zPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Qc(E6,r),l=j2(E6,r),u=o.value===n,[c,f]=T.useState(a??""),[d,h]=T.useState(!1),p=vn(e,v=>{var b;return(b=l.itemRefCallback)===null||b===void 0?void 0:b.call(l,v,n,i)}),m=Md(),g=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};return T.createElement(jPe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:T.useCallback(v=>{f(b=>{var w;return b||((w=v?.textContent)!==null&&w!==void 0?w:"").trim()})},[])},T.createElement(U2.ItemSlot,{scope:r,value:n,disabled:i,textValue:c},T.createElement(cn.div,At({role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:p,onFocus:Jr(s.onFocus,()=>h(!0)),onBlur:Jr(s.onBlur,()=>h(!1)),onPointerUp:Jr(s.onPointerUp,g),onPointerMove:Jr(s.onPointerMove,v=>{if(i){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Jr(s.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var b;(b=l.onItemLeave)===null||b===void 0||b.call(l)}}),onKeyDown:Jr(s.onKeyDown,v=>{var b;((b=l.searchRef)===null||b===void 0?void 0:b.current)!==""&&v.key===" "||(xPe.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})}))))}),Ky="SelectItemText",VPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Qc(Ky,r),o=j2(Ky,r),l=gq(Ky,r),u=TPe(Ky,r),[c,f]=T.useState(null),d=vn(e,v=>f(v),l.onItemTextChange,v=>{var b;return(b=o.itemTextRefCallback)===null||b===void 0?void 0:b.call(o,v,l.value,l.disabled)}),h=c?.textContent,p=T.useMemo(()=>T.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return is(()=>(m(p),()=>g(p)),[m,g,p]),T.createElement(T.Fragment,null,T.createElement(cn.span,At({id:l.textId},a,{ref:d})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Nn.createPortal(a.children,s.valueNode):null)}),YPe="SelectItemIndicator",GPe=T.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return gq(YPe,r).isSelected?T.createElement(cn.span,At({"aria-hidden":!0},n,{ref:e})):null}),vq=T.forwardRef((t,e)=>{const{value:r,...n}=t,i=T.useRef(null),a=vn(e,i),s=vPe(r);return T.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==r&&c){const f=new Event("change",{bubbles:!0});c.call(o,r),o.dispatchEvent(f)}},[s,r]),T.createElement(yPe,{asChild:!0},T.createElement("select",At({},n,{ref:a,defaultValue:r})))});vq.displayName="BubbleSelect";function yq(t){const e=$o(t),r=T.useRef(""),n=T.useRef(0),i=T.useCallback(s=>{const o=r.current+s;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function bq(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=HPe(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function HPe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}const WPe=APe,qPe=_Pe,KPe=CPe,QPe=PPe,ZPe=kPe,XPe=OPe,JPe=$Pe,eke=UPe,i7=zPe,a7=VPe,s7=GPe;function tke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xq={exports:{}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return c.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):u;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=i.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(m.netLoc=h.netLoc,d.path[0]!=="/"))if(!d.path)m.path=h.path,d.params||(m.params=h.params,d.query||(m.query=h.query));else{var g=h.path,v=g.substring(0,g.lastIndexOf("/")+1)+d.path;m.path=o.normalizePath(v)}return m.path===null&&(m.path=c.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(m)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(xq);var ok=xq.exports;function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(n){rke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rke(t,e,r){return e=ike(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ln(){return ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ln.apply(this,arguments)}function nke(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ike(t){var e=nke(t,"string");return typeof e=="symbol"?e:String(e)}const Ge=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)};let V=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),Ze=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),ue=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const qu=function(){},S6={trace:qu,debug:qu,log:qu,warn:qu,info:qu,error:qu};let Vp=S6;function ake(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):qu}function ske(t,...e){e.forEach(function(r){Vp[r]=t[r]?t[r].bind(t):ake(r)})}function oke(t,e){if(self.console&&t===!0||typeof t=="object"){ske(t,"debug","log","info","warn","error");try{Vp.log(`Debug logs enabled for "${e}" in hls.js version 1.4.12`)}catch{Vp=S6}}else Vp=S6}const Z=Vp,lke=/^(\d+)x(\d+)$/,l7=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Tr{constructor(e){typeof e=="string"&&(e=Tr.parseAttrList(e));for(const r in e)e.hasOwnProperty(r)&&(r.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=e[r])}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}else return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const r=lke.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e){let r;const n={},i='"';for(l7.lastIndex=0;(r=l7.exec(e))!==null;){let a=r[2];a.indexOf(i)===0&&a.lastIndexOf(i)===a.length-1&&(a=a.slice(1,-1));const s=r[1].trim();n[s]=a}return n}}function uke(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function cke(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class wq{constructor(e,r){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){const n=r.attr;for(const i in n)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==n[i]){Z.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=ln(new Tr({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);Ge(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Ge(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Ge(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class z2{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var rr={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class Eq{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[rr.AUDIO]:null,[rr.VIDEO]:null,[rr.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,r){const n=e.split("@",2),i=[];n.length===1?i[0]=r?r.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=ok.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}let gA=class extends Eq{constructor(e,r){super(r),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new z2,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!Ge(this.programDateTime))return null;const e=Ge(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),n=r.length;if(n>1||n===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,a,s=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:a,partial:s};return}l.startPTS=Math.min(l.startPTS,r),l.endPTS=Math.max(l.endPTS,n),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,a)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[rr.AUDIO]=null,e[rr.VIDEO]=null,e[rr.AUDIOVIDEO]=null}};class fke extends Eq{constructor(e,r,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new z2,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const dke=10;class hke{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?Ge(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||dke}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function lk(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function pke(t){const e=Sq(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function mke(t){const e=function(n,i,a){const s=n[i];n[i]=n[a],n[a]=s};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function gke(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",s=i[1];a?(n.splice(-1,1),r=lk(s)):r=pke(s)}}return r}function Sq(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}var Cr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},wi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function u7(t){switch(t){case wi.FAIRPLAY:return Cr.FAIRPLAY;case wi.PLAYREADY:return Cr.PLAYREADY;case wi.WIDEVINE:return Cr.WIDEVINE;case wi.CLEARKEY:return Cr.CLEARKEY}}var Tq={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function vke(t){if(t===Tq.WIDEVINE)return Cr.WIDEVINE}function c7(t){switch(t){case Cr.FAIRPLAY:return wi.FAIRPLAY;case Cr.PLAYREADY:return wi.PLAYREADY;case Cr.WIDEVINE:return wi.WIDEVINE;case Cr.CLEARKEY:return wi.CLEARKEY}}function vA(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[Cr.FAIRPLAY,Cr.WIDEVINE,Cr.PLAYREADY,Cr.CLEARKEY].filter(i=>!!e[i]):[];return!n[Cr.WIDEVINE]&&r&&n.push(Cr.WIDEVINE),n}const Aq=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function yke(t,e,r,n){let i;switch(t){case Cr.FAIRPLAY:i=["cenc","sinf"];break;case Cr.WIDEVINE:case Cr.PLAYREADY:i=["cenc"];break;case Cr.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return bke(i,e,r,n)}function bke(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs="${a}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(a=>({contentType:`video/mp4; codecs="${a}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function hc(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}const uk=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Rq=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Fx=(t,e)=>{const r=e;let n=0;for(;uk(t,e);){n+=10;const i=V2(t,e+6);n+=i,Rq(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)},V2=(t,e)=>{let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r},xke=(t,e)=>uk(t,e)&&V2(t,e+6)+10<=t.length-e,wke=t=>{const e=Iq(t);for(let r=0;r<e.length;r++){const n=e[r];if(_q(n))return _ke(n)}},_q=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",Eke=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=V2(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}},Iq=t=>{let e=0;const r=[];for(;uk(t,e);){const n=V2(t,e+6);e+=10;const i=e+n;for(;e+8<i;){const a=Eke(t.subarray(e)),s=Ske(a);s&&r.push(s),e+=a.size+10}Rq(t,e)&&(e+=10)}return r},Ske=t=>t.type==="PRIV"?Tke(t):t.type[0]==="W"?Rke(t):Ake(t),Tke=t=>{if(t.size<2)return;const e=Os(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}},Ake=t=>{if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=Os(t.data.subarray(r),!0);r+=n.length+1;const i=Os(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Os(t.data.subarray(1));return{key:t.type,data:e}},Rke=t=>{if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=Os(t.data.subarray(r),!0);r+=n.length+1;const i=Os(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Os(t.data);return{key:t.type,data:e}},_ke=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}},Os=(t,e=!1)=>{const r=Ike();if(r){const u=r.decode(t);if(e){const c=u.indexOf("\0");return c!==-1?u.substring(0,c):u}return u.replace(/\0/g,"")}const n=t.length;let i,a,s,o="",l=0;for(;l<n;){if(i=t[l++],i===0&&e)return o;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=t[l++],o+=String.fromCharCode((i&31)<<6|a&63);break;case 14:a=t[l++],s=t[l++],o+=String.fromCharCode((i&15)<<12|(a&63)<<6|(s&63)<<0);break}}return o};let yA;function Ike(){return!yA&&typeof self.TextDecoder<"u"&&(yA=new self.TextDecoder("utf-8")),yA}const ys={hexDump:function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}},Bx=Math.pow(2,32)-1,Cke=[].push,Cq={video:1,audio:2,id3:3,text:4};function Rn(t){return String.fromCharCode.apply(null,t)}function Pq(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function nt(t,e){const r=kq(t,e);return r<0?4294967296+r:r}function kq(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function bA(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255}function Mt(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const a=nt(t,i),s=Rn(t.subarray(i+4,i+8)),o=a>1?i+a:n;if(s===e[0])if(e.length===1)r.push(t.subarray(i+8,o));else{const l=Mt(t.subarray(i+8,o),e.slice(1));l.length&&Cke.apply(r,l)}i=o}return r}function Pke(t){const e=[],r=t[0];let n=8;const i=nt(t,n);n+=4;const a=0,s=0;r===0?n+=8:n+=16,n+=2;let o=t.length+s;const l=Pq(t,n);n+=2;for(let u=0;u<l;u++){let c=n;const f=nt(t,c);c+=4;const d=f&2147483647;if((f&2147483648)>>>31===1)return Z.warn("SIDX has hierarchical references (not supported)"),null;const p=nt(t,c);c+=4,e.push({referenceSize:d,subsegmentDuration:p,info:{duration:p/i,start:o,end:o+d-1}}),o+=d,c+=4,n=c}return{earliestPresentationTime:a,timescale:i,version:r,referencesCount:l,references:e}}function Oq(t){const e=[],r=Mt(t,["moov","trak"]);for(let i=0;i<r.length;i++){const a=r[i],s=Mt(a,["tkhd"])[0];if(s){let o=s[0],l=o===0?12:20;const u=nt(s,l),c=Mt(a,["mdia","mdhd"])[0];if(c){o=c[0],l=o===0?12:20;const f=nt(c,l),d=Mt(a,["mdia","hdlr"])[0];if(d){const h=Rn(d.subarray(8,12)),p={soun:rr.AUDIO,vide:rr.VIDEO}[h];if(p){const m=Mt(a,["mdia","minf","stbl","stsd"])[0];let g;m&&(g=Rn(m.subarray(12,16))),e[u]={timescale:f,type:p},e[p]={timescale:f,id:u,codec:g}}}}}}return Mt(t,["moov","mvex","trex"]).forEach(i=>{const a=nt(i,4),s=e[a];s&&(s.default={duration:nt(i,12),flags:nt(i,20)})}),e}function kke(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&Mt(t,["moov","trak"]).forEach(i=>{const s=Mt(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=Mt(s,["enca"]);const l=o.length>0;l||(o=Mt(s,["encv"])),o.forEach(u=>{const c=l?u.subarray(28):u.subarray(78);Mt(c,["sinf"]).forEach(d=>{const h=Nq(d);if(h){const p=h.subarray(8,24);p.some(m=>m!==0)||(Z.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${ys.hexDump(p)} -> ${ys.hexDump(r)}`),h.set(r,8))}})})}),t}function Nq(t){const e=Mt(t,["schm"])[0];if(e){const r=Rn(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return Mt(t,["schi","tenc"])[0]}return Z.error("[eme] missing 'schm' box"),null}function Oke(t,e){return Mt(e,["moof","traf"]).reduce((r,n)=>{const i=Mt(n,["tfdt"])[0],a=i[0],s=Mt(n,["tfhd"]).reduce((o,l)=>{const u=nt(l,4),c=t[u];if(c){let f=nt(i,4);if(a===1){if(f===Bx)return Z.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;f*=Bx+1,f+=nt(i,8)}const d=c.timescale||9e4,h=f/d;if(isFinite(h)&&(o===null||h<o))return h}return o},null);return s!==null&&isFinite(s)&&(r===null||s<r)?s:r},null)}function Nke(t,e){let r=0,n=0,i=0;const a=Mt(t,["moof","traf"]);for(let s=0;s<a.length;s++){const o=a[s],l=Mt(o,["tfhd"])[0],u=nt(l,4),c=e[u];if(!c)continue;const f=c.default,d=nt(l,0)|f?.flags;let h=f?.duration;d&8&&(d&2?h=nt(l,12):h=nt(l,8));const p=c.timescale||9e4,m=Mt(o,["trun"]);for(let g=0;g<m.length;g++){if(r=Lke(m[g]),!r&&h){const v=nt(m[g],4);r=h*v}c.type===rr.VIDEO?n+=r/p:c.type===rr.AUDIO&&(i+=r/p)}}if(n===0&&i===0){let s=0;const o=Mt(t,["sidx"]);for(let l=0;l<o.length;l++){const u=Pke(o[l]);u!=null&&u.references&&(s+=u.references.reduce((c,f)=>c+f.info.duration||0,0))}return s}return n||i}function Lke(t){const e=nt(t,0);let r=8;e&1&&(r+=4),e&4&&(r+=4);let n=0;const i=nt(t,4);for(let a=0;a<i;a++){if(e&256){const s=nt(t,r);n+=s,r+=4}e&512&&(r+=4),e&1024&&(r+=4),e&2048&&(r+=4)}return n}function Dke(t,e,r){Mt(e,["moof","traf"]).forEach(n=>{Mt(n,["tfhd"]).forEach(i=>{const a=nt(i,4),s=t[a];if(!s)return;const o=s.timescale||9e4;Mt(n,["tfdt"]).forEach(l=>{const u=l[0];let c=nt(l,4);if(u===0)c-=r*o,c=Math.max(c,0),bA(l,4,c);else{c*=Math.pow(2,32),c+=nt(l,8),c-=r*o,c=Math.max(c,0);const f=Math.floor(c/(Bx+1)),d=Math.floor(c%(Bx+1));bA(l,4,f),bA(l,8,d)}})})})}function Mke(t){const e={valid:null,remainder:null},r=Mt(t,["moof"]);if(r){if(r.length<2)return e.remainder=t,e}else return e;const n=r[r.length-1];return e.valid=hc(t,0,n.byteOffset-8),e.remainder=hc(t,n.byteOffset-8),e}function Ic(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function f7(t,e){const r=[],n=e.samples,i=e.timescale,a=e.id;let s=!1;return Mt(n,["moof"]).map(l=>{const u=l.byteOffset-8;Mt(l,["traf"]).map(f=>{const d=Mt(f,["tfdt"]).map(h=>{const p=h[0];let m=nt(h,4);return p===1&&(m*=Math.pow(2,32),m+=nt(h,8)),m/i})[0];return d!==void 0&&(t=d),Mt(f,["tfhd"]).map(h=>{const p=nt(h,4),m=nt(h,0)&16777215,g=(m&1)!==0,v=(m&2)!==0,b=(m&8)!==0;let w=0;const E=(m&16)!==0;let R=0;const I=(m&32)!==0;let D=8;p===a&&(g&&(D+=8),v&&(D+=4),b&&(w=nt(h,D),D+=4),E&&(R=nt(h,D),D+=4),I&&(D+=4),e.type==="video"&&(s=$ke(e.codec)),Mt(f,["trun"]).map(N=>{const F=N[0],$=nt(N,0)&16777215,z=($&1)!==0;let k=0;const A=($&4)!==0,y=($&256)!==0;let x=0;const S=($&512)!==0;let C=0;const P=($&1024)!==0,M=($&2048)!==0;let B=0;const L=nt(N,4);let _=8;z&&(k=nt(N,_),_+=4),A&&(_+=4);let U=k+u;for(let G=0;G<L;G++){if(y?(x=nt(N,_),_+=4):x=w,S?(C=nt(N,_),_+=4):C=R,P&&(_+=4),M&&(F===0?B=nt(N,_):B=kq(N,_),_+=4),e.type===rr.VIDEO){let O=0;for(;O<C;){const Y=nt(n,U);if(U+=4,Fke(s,n[U])){const H=n.subarray(U,U+Y);Lq(H,s?2:1,t+B/i,r)}U+=Y,O+=Y+4}}t+=x/i}}))})})}),r}function $ke(t){if(!t)return!1;const e=t.indexOf("."),r=e<0?t:t.substring(0,e);return r==="hvc1"||r==="hev1"||r==="dvh1"||r==="dvhe"}function Fke(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function Lq(t,e,r,n){const i=Dq(t);let a=0;a+=e;let s=0,o=0,l=!1,u=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;u=i[a++],s+=u}while(u===255);o=0;do{if(a>=i.length)break;u=i[a++],o+=u}while(u===255);const c=i.length-a;if(!l&&s===4&&a<i.length){if(l=!0,i[a++]===181){const d=Pq(i,a);if(a+=2,d===49){const h=nt(i,a);if(a+=4,h===1195456820){const p=i[a++];if(p===3){const m=i[a++],g=31&m,v=64&m,b=v?2+g*3:0,w=new Uint8Array(b);if(v){w[0]=m;for(let E=1;E<b;E++)w[E]=i[a++]}n.push({type:p,payloadType:s,pts:r,bytes:w})}}}}}else if(s===5&&o<c){if(l=!0,o>16){const f=[];for(let p=0;p<16;p++){const m=i[a++].toString(16);f.push(m.length==1?"0"+m:m),(p===3||p===5||p===7||p===9)&&f.push("-")}const d=o-16,h=new Uint8Array(d);for(let p=0;p<d;p++)h[p]=i[a++];n.push({payloadType:s,pts:r,uuid:f.join(""),userData:Os(h),userDataBytes:h})}}else if(o<c)a+=o;else if(o>c)break}}function Dq(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,a=new Uint8Array(i);let s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=t[s];return a}function Bke(t){const e=t[0];let r="",n="",i=0,a=0,s=0,o=0,l=0,u=0;if(e===0){for(;Rn(t.subarray(u,u+1))!=="\0";)r+=Rn(t.subarray(u,u+1)),u+=1;for(r+=Rn(t.subarray(u,u+1)),u+=1;Rn(t.subarray(u,u+1))!=="\0";)n+=Rn(t.subarray(u,u+1)),u+=1;n+=Rn(t.subarray(u,u+1)),u+=1,i=nt(t,12),a=nt(t,16),o=nt(t,20),l=nt(t,24),u=28}else if(e===1){u+=4,i=nt(t,u),u+=4;const f=nt(t,u);u+=4;const d=nt(t,u);for(u+=4,s=2**32*f+d,Number.isSafeInteger(s)||(s=Number.MAX_SAFE_INTEGER,Z.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=nt(t,u),u+=4,l=nt(t,u),u+=4;Rn(t.subarray(u,u+1))!=="\0";)r+=Rn(t.subarray(u,u+1)),u+=1;for(r+=Rn(t.subarray(u,u+1)),u+=1;Rn(t.subarray(u,u+1))!=="\0";)n+=Rn(t.subarray(u,u+1)),u+=1;n+=Rn(t.subarray(u,u+1)),u+=1}const c=t.subarray(u,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:c}}function Uke(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(t,4),i=0,n=8;i<r;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function jke(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;if(e){n=1,i=new Uint8Array(e.length*16);for(let o=0;o<e.length;o++){const l=e[o];if(l.byteLength!==16)throw new RangeError("Invalid key");i.set(l,o*16)}}else n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(s.buffer).setUint32(0,r.byteLength,!1),Uke([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,i,s,r||new Uint8Array)}function zke(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},r=new DataView(t),n=r.getUint32(0);if(t.byteLength!==n&&n>44||r.getUint32(4)!==1886614376||(e.version=r.getUint32(8)>>>24,e.version>1))return null;e.systemId=ys.hexDump(new Uint8Array(t,12,16));const a=r.getUint32(28);if(e.version===0){if(n-32<a)return null;e.data=new Uint8Array(t,32,a)}else if(e.version===1){e.kids=[];for(let s=0;s<a;s++)e.kids.push(new Uint8Array(t,32+s*16,16))}return e}let Qy={};class Gm{static clearKeyUriToKeyIdMap(){Qy={}}constructor(e,r,n,i=[1],a=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case wi.FAIRPLAY:case wi.WIDEVINE:case wi.PLAYREADY:case wi.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&Z.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=Vke(e);return new Gm(this.method,this.uri,"identity",this.keyFormatVersions,n)}const r=gke(this.uri);if(r)switch(this.keyFormat){case wi.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case wi.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=jke(n,null,r);const i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),a=String.fromCharCode.apply(null,Array.from(i)),s=a.substring(a.indexOf("<"),a.length),u=new DOMParser().parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(u){const c=u.childNodes[0]?u.childNodes[0].nodeValue:u.getAttribute("VALUE");if(c){const f=lk(c).subarray(0,16);mke(f),this.keyId=f}}break}default:{let n=r.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=Qy[this.uri];if(!n){const i=Object.keys(Qy).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),Qy[this.uri]=n}this.keyId=n}return this}}function Vke(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const Mq=/\{\$([a-zA-Z0-9-_]+)\}/g;function d7(t){return Mq.test(t)}function vi(t,e,r){if(t.variableList!==null||t.hasVariableRefs)for(let n=r.length;n--;){const i=r[n],a=e[i];a&&(e[i]=T6(t,a))}}function T6(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(Mq,n=>{const i=n.substring(2,n.length-1),a=r?.[i];return a===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function h7(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const s=new self.URL(r).searchParams;if(s.has(i))a=s.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else i=e.NAME,a=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function Yke(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function Y2(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const Gke={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},p7=Y2();function Hke(t,e){const r=Gke[e];return!!r&&r[t.slice(0,4)]===!0}function xA(t,e){var r;return(r=p7?.isTypeSupported(`${e||"video"}/mp4;codecs="${t}"`))!=null?r:!1}const m7=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,g7=/#EXT-X-MEDIA:(.*)/g,Wke=/^#EXT(?:INF|-X-TARGETDURATION):/m,v7=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),qke=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ka{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static convertAVC1ToAVCOTI(e){const r=e.split(".");if(r.length>2){let n=r.shift()+".";return n+=parseInt(r.shift()).toString(16),n+=("000"+parseInt(r.shift()).toString(16)).slice(-4),n}return e}static resolve(e,r){return ok.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Wke.test(e)}static parseMasterPlaylist(e,r){const n=d7(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];m7.lastIndex=0;let s;for(;(s=m7.exec(e))!=null;)if(s[1]){var o;const u=new Tr(s[1]);vi(i,u,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const c=T6(i,s[2]),f={attrs:u,bitrate:u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),name:u.NAME,url:Ka.resolve(c,r)},d=u.decimalResolution("RESOLUTION");d&&(f.width=d.width,f.height=d.height),Kke((u.CODECS||"").split(/[ ,]+/).filter(h=>h),f),f.videoCodec&&f.videoCodec.indexOf("avc1")!==-1&&(f.videoCodec=Ka.convertAVC1ToAVCOTI(f.videoCodec)),(o=f.unknownCodecs)!=null&&o.length||a.push(f),i.levels.push(f)}else if(s[3]){const u=s[3],c=s[4];switch(u){case"SESSION-DATA":{const f=new Tr(c);vi(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);const d=f["DATA-ID"];d&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[d]=f);break}case"SESSION-KEY":{const f=y7(c,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):Z.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${c}"`);break}case"DEFINE":{{const f=new Tr(c);vi(i,f,["NAME","VALUE","QUERYPARAM"]),h7(i,f,r)}break}case"CONTENT-STEERING":{const f=new Tr(c);vi(i,f,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:Ka.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=b7(c);break}}}const l=a.length>0&&a.length<i.levels.length;return i.levels=l?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const a={},s=n.levels,o={AUDIO:s.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:s.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(g7.lastIndex=0;(i=g7.exec(e))!==null;){const u=new Tr(i[1]),c=u.TYPE;if(c){const f=o[c],d=a[c]||[];a[c]=d,vi(n,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?Ka.resolve(u.URI,r):""};if(f!=null&&f.length){const p=Ka.findGroup(f,h.groupId)||f[0];x7(h,p,"audioCodec"),x7(h,p,"textCodec")}d.push(h)}}return a}static parseLevelPlaylist(e,r,n,i,a,s){const o=new hke(r),l=o.fragments;let u=null,c=0,f=0,d=0,h=0,p=null,m=new gA(i,r),g,v,b,w=-1,E=!1;for(v7.lastIndex=0,o.m3u8=e,o.hasVariableRefs=d7(e);(g=v7.exec(e))!==null;){E&&(E=!1,m=new gA(i,r),m.start=d,m.sn=c,m.cc=h,m.level=n,u&&(m.initSegment=u,m.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null));const N=g[1];if(N){m.duration=parseFloat(N);const F=(" "+g[2]).slice(1);m.title=F||null,m.tagList.push(F?["INF",N,F]:["INF",N])}else if(g[3]){if(Ge(m.duration)){m.start=d,b&&S7(m,b,o),m.sn=c,m.level=n,m.cc=h,m.urlId=a,l.push(m);const F=(" "+g[3]).slice(1);m.relurl=T6(o,F),w7(m,p),p=m,d+=m.duration,c++,f=0,E=!0}}else if(g[4]){const F=(" "+g[4]).slice(1);p?m.setByteRange(F,p):m.setByteRange(F)}else if(g[5])m.rawProgramDateTime=(" "+g[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),w===-1&&(w=l.length);else{if(g=g[0].match(qke),!g){Z.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<g.length&&!(typeof g[v]<"u");v++);const F=(" "+g[v]).slice(1),$=(" "+g[v+1]).slice(1),z=g[v+2]?(" "+g[v+2]).slice(1):"";switch(F){case"PLAYLIST-TYPE":o.type=$.toUpperCase();break;case"MEDIA-SEQUENCE":c=o.startSN=parseInt($);break;case"SKIP":{const k=new Tr($);vi(o,k,["RECENTLY-REMOVED-DATERANGES"]);const A=k.decimalInteger("SKIPPED-SEGMENTS");if(Ge(A)){o.skippedSegments=A;for(let x=A;x--;)l.unshift(null);c+=A}const y=k.enumeratedString("RECENTLY-REMOVED-DATERANGES");y&&(o.recentlyRemovedDateranges=y.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt($),1);break;case"VERSION":o.version=parseInt($);break;case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":($||z)&&m.tagList.push(z?[$,z]:[$]);break;case"DISCONTINUITY":h++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([F]);break;case"BITRATE":m.tagList.push([F,$]);break;case"DATERANGE":{const k=new Tr($);vi(o,k,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),vi(o,k,k.clientAttrs);const A=new wq(k,o.dateRanges[k.ID]);A.isValid||o.skippedSegments?o.dateRanges[A.id]=A:Z.warn(`Ignoring invalid DATERANGE tag: "${$}"`),m.tagList.push(["EXT-X-DATERANGE",$]);break}case"DEFINE":{{const k=new Tr($);vi(o,k,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in k?Yke(o,k,s):h7(o,k,r)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt($);break;case"KEY":{const k=y7($,r,o);if(k.isSupported()){if(k.method==="NONE"){b=void 0;break}b||(b={}),b[k.keyFormat]&&(b=ln({},b)),b[k.keyFormat]=k}else Z.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${$}"`);break}case"START":o.startTimeOffset=b7($);break;case"MAP":{const k=new Tr($);if(vi(o,k,["BYTERANGE","URI"]),m.duration){const A=new gA(i,r);E7(A,k,n,b),u=A,m.initSegment=u,u.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=u.rawProgramDateTime)}else E7(m,k,n,b),u=m,E=!0;break}case"SERVER-CONTROL":{const k=new Tr($);o.canBlockReload=k.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=k.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&k.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=k.optionalFloat("PART-HOLD-BACK",0),o.holdBack=k.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const k=new Tr($);o.partTarget=k.decimalFloatingPoint("PART-TARGET");break}case"PART":{let k=o.partList;k||(k=o.partList=[]);const A=f>0?k[k.length-1]:void 0,y=f++,x=new Tr($);vi(o,x,["BYTERANGE","URI"]);const S=new fke(x,m,r,y,A);k.push(S),m.duration+=S.duration;break}case"PRELOAD-HINT":{const k=new Tr($);vi(o,k,["URI"]),o.preloadHint=k;break}case"RENDITION-REPORT":{const k=new Tr($);vi(o,k,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(k);break}default:Z.warn(`line parsed but not handled: ${g}`);break}}}p&&!p.relurl?(l.pop(),d-=p.duration,o.partList&&(o.fragmentHint=p)):o.partList&&(w7(m,p),m.cc=h,o.fragmentHint=m,b&&S7(m,b,o));const R=l.length,I=l[0],D=l[R-1];if(d+=o.skippedSegments*o.targetduration,d>0&&R&&D){o.averagetargetduration=d/R;const N=D.sn;o.endSN=N!=="initSegment"?N:0,o.live||(D.endList=!0),I&&(o.startCC=I.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(d+=o.fragmentHint.duration),o.totalduration=d,o.endCC=h,w>0&&Qke(l,w),o}}function y7(t,e,r){var n,i;const a=new Tr(t);vi(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=(n=a.METHOD)!=null?n:"",o=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=(i=a.KEYFORMAT)!=null?i:"identity";o&&a.IV&&!l&&Z.error(`Invalid IV: ${a.IV}`);const f=o?Ka.resolve(o,e):"",d=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Gm(s,f,c,d,l)}function b7(t){const r=new Tr(t).decimalFloatingPoint("TIME-OFFSET");return Ge(r)?r:null}function Kke(t,e){["video","audio","text"].forEach(r=>{const n=t.filter(i=>Hke(i,r));if(n.length){const i=n.filter(a=>a.lastIndexOf("avc1",0)===0||a.lastIndexOf("mp4a",0)===0);e[`${r}Codec`]=i.length>0?i[0]:n[0],t=t.filter(a=>n.indexOf(a)===-1)}}),e.unknownCodecs=t}function x7(t,e,r){const n=e[r];n&&(t[r]=n)}function Qke(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function w7(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Ge(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function E7(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function S7(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}var Bt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Xe={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function T7(t){const{type:e}=t;switch(e){case Bt.AUDIO_TRACK:return Xe.AUDIO;case Bt.SUBTITLE_TRACK:return Xe.SUBTITLE;default:return Xe.MAIN}}function wA(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class Zke{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.LEVEL_LOADING,this.onLevelLoading,this),e.on(V.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(V.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.LEVEL_LOADING,this.onLevelLoading,this),e.off(V.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(V.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,a=n||i,s=new a(r);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Bt.MANIFEST,url:n,deliveryDirectives:null})}onLevelLoading(e,r){const{id:n,level:i,url:a,deliveryDirectives:s}=r;this.load({id:n,level:i,responseType:"text",type:Bt.LEVEL,url:a,deliveryDirectives:s})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:Bt.AUDIO_TRACK,url:a,deliveryDirectives:s})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:Bt.SUBTITLE_TRACK,url:a,deliveryDirectives:s})}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=i.context;if(u&&u.url===e.url){Z.trace("[playlist-loader]: playlist request ongoing");return}Z.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===Bt.MANIFEST?a=n.manifestLoadPolicy.default:a=ln({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),(r=e.deliveryDirectives)!=null&&r.part){let u;if(e.type===Bt.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===Bt.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===Bt.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const c=u.partTarget,f=u.targetduration;if(c&&f){const d=Math.max(c*3,f*.8)*1e3;a=ln({},a,{maxTimeToFirstByteMs:Math.min(d,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,a.maxTimeToFirstByteMs)})}}}const s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(u,c,f,d)=>{const h=this.getInternalLoader(f);this.resetInternalLoader(f.type);const p=u.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,f,new Error("no EXTM3U delimiter"),d||null,c);return}c.parsing.start=performance.now(),Ka.isMediaPlaylist(p)?this.handleTrackOrLevelPlaylist(u,c,f,d||null,h):this.handleMasterPlaylist(u,c,f,d)},onError:(u,c,f,d)=>{this.handleNetworkError(c,f,!1,u,d)},onTimeout:(u,c,f)=>{this.handleNetworkError(c,f,!0,void 0,u)}};i.load(e,o,l)}handleMasterPlaylist(e,r,n,i){const a=this.hls,s=e.data,o=wA(e,n),l=Ka.parseMasterPlaylist(s,o);if(l.playlistParsingError){this.handleManifestParsingError(e,n,l.playlistParsingError,i,r);return}const{contentSteering:u,levels:c,sessionData:f,sessionKeys:d,startTimeOffset:h,variableList:p}=l;this.variableList=p;const{AUDIO:m=[],SUBTITLES:g,"CLOSED-CAPTIONS":v}=Ka.parseMasterPlaylistMedia(s,o,l);m.length&&!m.some(w=>!w.url)&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(Z.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Tr({}),bitrate:0,url:""})),a.trigger(V.MANIFEST_LOADED,{levels:c,audioTracks:m,subtitles:g,captions:v,contentSteering:u,url:o,stats:r,networkDetails:i,sessionData:f,sessionKeys:d,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,r,n,i,a){const s=this.hls,{id:o,level:l,type:u}=n,c=wA(e,n),f=Ge(o)?o:0,d=Ge(l)?l:f,h=T7(n),p=Ka.parseLevelPlaylist(e.data,c,d,h,f,this.variableList);if(u===Bt.MANIFEST){const m={attrs:new Tr({}),bitrate:0,details:p,name:"",url:c};s.trigger(V.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:c,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,r,n,i,a)}handleManifestParsingError(e,r,n,i,a){this.hls.trigger(V.ERROR,{type:Ze.NETWORK_ERROR,details:ue.MANIFEST_PARSING_ERROR,fatal:r.type===Bt.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:a})}handleNetworkError(e,r,n=!1,i,a){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Bt.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===Bt.AUDIO_TRACK||e.type===Bt.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(s);Z.warn(`[playlist-loader]: ${s}`);let l=ue.UNKNOWN,u=!1;const c=this.getInternalLoader(e);switch(e.type){case Bt.MANIFEST:l=n?ue.MANIFEST_LOAD_TIMEOUT:ue.MANIFEST_LOAD_ERROR,u=!0;break;case Bt.LEVEL:l=n?ue.LEVEL_LOAD_TIMEOUT:ue.LEVEL_LOAD_ERROR,u=!1;break;case Bt.AUDIO_TRACK:l=n?ue.AUDIO_TRACK_LOAD_TIMEOUT:ue.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Bt.SUBTITLE_TRACK:l=n?ue.SUBTITLE_TRACK_LOAD_TIMEOUT:ue.SUBTITLE_LOAD_ERROR,u=!1;break}c&&this.resetInternalLoader(e.type);const f={type:Ze.NETWORK_ERROR,details:l,fatal:u,url:e.url,loader:c,context:e,error:o,networkDetails:r,stats:a};if(i){const d=r?.url||e.url;f.response=Ii({url:d,data:void 0},i)}this.hls.trigger(V.ERROR,f)}handlePlaylistLoaded(e,r,n,i,a,s){const o=this.hls,{type:l,level:u,id:c,groupId:f,deliveryDirectives:d}=i,h=wA(r,i),p=T7(i),m=typeof i.level=="number"&&p===Xe.MAIN?u:void 0;if(!e.fragments.length){const v=new Error("No Segments found in Playlist");o.trigger(V.ERROR,{type:Ze.NETWORK_ERROR,details:ue.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:r,context:i,level:m,parent:p,networkDetails:a,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const g=e.playlistParsingError;if(g){o.trigger(V.ERROR,{type:Ze.NETWORK_ERROR,details:ue.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:r,context:i,level:m,parent:p,networkDetails:a,stats:n});return}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case Bt.MANIFEST:case Bt.LEVEL:o.trigger(V.LEVEL_LOADED,{details:e,level:m||0,id:c||0,stats:n,networkDetails:a,deliveryDirectives:d});break;case Bt.AUDIO_TRACK:o.trigger(V.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:d});break;case Bt.SUBTITLE_TRACK:o.trigger(V.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:d});break}}}function $q(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function Fq(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){Z.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){Z.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function md(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)t.removeCue(t.cues[r]);e==="disabled"&&(t.mode=e)}function A6(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const a=Jke(t.cues,e,r);for(let s=0;s<a.length;s++)(!n||n(a[s]))&&t.removeCue(a[s])}i==="disabled"&&(t.mode=i)}function Xke(t,e){if(e<t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r;for(;n<=i;){const a=Math.floor((i+n)/2);if(e<t[a].startTime)i=a-1;else if(e>t[a].startTime&&n<r)n=a+1;else return a}return t[n].startTime-e<e-t[i].startTime?n:i}function Jke(t,e,r){const n=[],i=Xke(t,e);if(i>-1)for(let a=i,s=t.length;a<s;a++){const o=t[a];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}var Ha={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const e5e=.25;function R6(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const Zy=(()=>{const t=R6();try{new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function EA(t,e){return t.getTime()/1e3-e}function t5e(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class r5e{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(V.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(V.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,r){this.media=r.media}onMediaDetaching(){this.id3Track&&(md(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return $q(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:a}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=R6();for(let o=0;o<a.length;o++){const l=a[o].type;if(l===Ha.emsg&&!n||!i)continue;const u=Iq(a[o].data);if(u){const c=a[o].pts;let f=c+a[o].duration;f>Zy&&(f=Zy),f-c<=0&&(f=c+e5e);for(let h=0;h<u.length;h++){const p=u[h];if(!_q(p)){this.updateId3CueEnds(c,l);const m=new s(c,f,"");m.value=p,l&&(m.type=l),this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let a=i.length;a--;){const s=i[a];s.type===r&&s.startTime<e&&s.endTime===Zy&&(s.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=s;if(a&&(o||l)){let u;i==="audio"?u=c=>c.type===Ha.audioId3&&l:i==="video"?u=c=>c.type===Ha.emsg&&o:u=c=>c.type===Ha.audioId3&&l||c.type===Ha.emsg&&o,A6(a,r,n,u)}}onLevelUpdated(e,{details:r}){if(!this.media||!r.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:i}=this,{dateRanges:a}=r,s=Object.keys(a);if(i){const c=Object.keys(n).filter(f=>!s.includes(f));for(let f=c.length;f--;){const d=c[f];Object.keys(n[d].cues).forEach(h=>{i.removeCue(n[d].cues[h])}),delete n[d]}}const o=r.fragments[r.fragments.length-1];if(s.length===0||!Ge(o?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,u=R6();for(let c=0;c<s.length;c++){const f=s[c],d=a[f],h=n[f],p=h?.cues||{};let m=h?.durationKnown||!1;const g=EA(d.startDate,l);let v=Zy;const b=d.endDate;if(b)v=EA(b,l),m=!0;else if(d.endOnNext&&!m){const E=s.reduce((R,I)=>{const D=a[I];return D.class===d.class&&D.id!==I&&D.startDate>d.startDate&&R.push(D),R},[]).sort((R,I)=>R.startDate.getTime()-I.startDate.getTime())[0];E&&(v=EA(E.startDate,l),m=!0)}const w=Object.keys(d.attr);for(let E=0;E<w.length;E++){const R=w[E];if(!uke(R))continue;let I=p[R];if(I)m&&!h.durationKnown&&(I.endTime=v);else{let D=d.attr[R];I=new u(g,v,""),cke(R)&&(D=t5e(D)),I.value={key:R,data:D},I.type=Ha.dateRange,I.id=f,this.id3Track.addCue(I),p[R]=I}}n[f]={cues:p,dateRange:d,durationKnown:m}}}}class n5e{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:r}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:s,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let u=o&&n||r;(l.liveSyncDuration||l.liveSyncDurationCount||u===0)&&(u=a!==void 0?a:s*i);const c=i,f=1;return u+Math.min(this.stallCount*f,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency,n=this.levelDetails;if(e===null||r===null||n===null)return null;const i=n.edge,a=e-r-this.edgeStalled,s=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,a),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e,levelDetails:r}=this;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(V.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(V.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(V.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(V.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(V.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(V.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,r){var n;r.details===ue.BUFFER_STALLED_ERROR&&(this.stallCount++,(n=this.levelDetails)!=null&&n.live&&Z.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:r}=this;if(!e||!r)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:a}=this.config;if(!i||a===1)return;const s=this.targetLatency;if(s===null)return;const o=n-s,l=Math.min(this.maxLatency,s+r.targetduration),u=o<l;if(r.live&&u&&o>.05&&this.forwardBufferLength>1){const c=Math.min(2,Math.max(1,a)),f=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,f))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const _6=["NONE","TYPE-0","TYPE-1",null];var Yp={No:"",Yes:"YES",v2:"v2"};function i5e(t,e){const{canSkipUntil:r,canSkipDateRanges:n,endSN:i}=t,a=e!==void 0?e-i:0;return r&&a<r?n?Yp.v2:Yp.Yes:Yp.No}class A7{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class Hm{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>r).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(e){const r=e%this.url.length;this._urlId!==r&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=r)}get audioGroupId(){var e;return(e=this.audioGroupIds)==null?void 0:e[this.urlId]}get textGroupId(){var e;return(e=this.textGroupIds)==null?void 0:e[this.urlId]}addFallback(e){this.url.push(e.url),this._attrs.push(e.attrs)}}function SA(t,e){const r=e.startPTS;if(Ge(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&(i.duration=n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function Bq(t,e,r,n,i,a){n-r<=0&&(Z.warn("Fragment should have a positive duration",e),n=r+e.duration,a=i+e.duration);let o=r,l=n;const u=e.startPTS,c=e.endPTS;if(Ge(u)){const g=Math.abs(u-r);Ge(e.deltaPTS)?e.deltaPTS=Math.max(g,e.deltaPTS):e.deltaPTS=g,o=Math.max(r,u),r=Math.min(r,u),i=Math.min(i,e.startDTS),l=Math.min(n,c),n=Math.max(n,c),a=Math.max(a,e.endDTS)}const f=r-e.start;e.start!==0&&(e.start=r),e.duration=n-e.start,e.startPTS=r,e.maxStartPTS=o,e.startDTS=i,e.endPTS=n,e.minEndPTS=l,e.endDTS=a;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let h;const p=d-t.startSN,m=t.fragments;for(m[p]=e,h=p;h>0;h--)SA(m[h],m[h-1]);for(h=p;h<m.length-1;h++)SA(m[h],m[h+1]);return t.fragmentHint&&SA(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function a5e(t,e){let r=null;const n=t.fragments;for(let l=n.length-1;l>=0;l--){const u=n[l].initSegment;if(u){r=u;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,a;if(l5e(t,e,(l,u)=>{l.relurl&&(i=l.cc-u.cc),Ge(l.startPTS)&&Ge(l.endPTS)&&(u.start=u.startPTS=l.startPTS,u.startDTS=l.startDTS,u.maxStartPTS=l.maxStartPTS,u.endPTS=l.endPTS,u.endDTS=l.endDTS,u.minEndPTS=l.minEndPTS,u.duration=l.endPTS-l.startPTS,u.duration&&(a=u),e.PTSKnown=e.alignedSliding=!0),u.elementaryStreams=l.elementaryStreams,u.loader=l.loader,u.stats=l.stats,u.urlId=l.urlId,l.initSegment&&(u.initSegment=l.initSegment,r=l.initSegment)}),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(u=>{var c;(!u.initSegment||u.initSegment.relurl===((c=r)==null?void 0:c.relurl))&&(u.initSegment=r)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(l=>!l),e.deltaUpdateFailed){Z.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=s5e(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const s=e.fragments;if(i){Z.warn("discontinuity sliding from playlist, take drift into account");for(let l=0;l<s.length;l++)s[l].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),o5e(t.partList,e.partList,(l,u)=>{u.elementaryStreams=l.elementaryStreams,u.stats=l.stats}),a?Bq(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS):Uq(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const l=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=l),e.driftEndTime=o,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function s5e(t,e,r){const n=ln({},t);return r&&r.forEach(i=>{delete n[i]}),Object.keys(e).forEach(i=>{const a=new wq(e[i].attr,n[i]);a.isValid?n[i]=a:Z.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),n}function o5e(t,e,r){if(t&&e){let n=0;for(let i=0,a=t.length;i<=a;i++){const s=t[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}}function l5e(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let u=i;u<=a;u++){const c=l[s+u];let f=o[u];n&&!f&&u<n&&(f=e.fragments[u]=c),c&&f&&r(c,f)}}function Uq(t,e){const r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||I6(e,n[r].start)}function I6(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function u5e(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments,i=4;if(n.length&&r*i>e){const a=n[n.length-1].duration*1e3;a<r&&(r=a)}}else r/=2;return Math.round(r)}function c5e(t,e,r){if(!(t!=null&&t.details))return null;const n=t.details;let i=n.fragments[e-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===e)?i:e<n.startSN&&r&&r.sn===e?r:null}function R7(t,e,r){var n;return t!=null&&t.details?jq((n=t.details)==null?void 0:n.partList,e,r):null}function jq(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function Ux(t){switch(t.details){case ue.FRAG_LOAD_TIMEOUT:case ue.KEY_LOAD_TIMEOUT:case ue.LEVEL_LOAD_TIMEOUT:case ue.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function _7(t,e){const r=Ux(e);return t.default[`${r?"timeout":"error"}Retry`]}function ck(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function I7(t){return Ii(Ii({},t),{errorRetry:null,timeoutRetry:null})}function jx(t,e,r,n){return!!t&&e<t.maxNumRetry&&(f5e(n)||!!r)}function f5e(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const zq={search:function(t,e){let r=0,n=t.length-1,i=null,a=null;for(;r<=n;){i=(r+n)/2|0,a=t[i];const s=e(a);if(s>0)r=i+1;else if(s<0)n=i-1;else return a}return null}};function d5e(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!Ge(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;r=r||0;for(let a=0;a<t.length;++a){const s=t[a];if(h5e(e,r,s))return s}return null}function Wm(t,e,r=0,n=0){let i=null;if(t?i=e[t.sn-e[0].sn+1]||null:r===0&&e[0].start===0&&(i=e[0]),i&&C6(r,n,i)===0)return i;const a=zq.search(e,C6.bind(null,r,n));return a&&(a!==t||!i)?a:i}function C6(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function h5e(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function p5e(t,e){return zq.search(t,r=>r.cc<e?1:r.cc>e?-1:0)}const m5e=3e5;var Fn={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},oa={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class g5e{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=Z.log.bind(Z,"[info]:"),this.warn=Z.warn.bind(Z,"[warning]:"),this.error=Z.error.bind(Z,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(V.ERROR,this.onError,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(V.ERROR,this.onError,this),e.off(V.ERROR,this.onErrorOut,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){this.playlistError=0}stopLoad(){}getVariantLevelIndex(e){return e?.type===Xe.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,r){var n,i;if(r.fatal)return;const a=this.hls,s=r.context;switch(r.details){case ue.FRAG_LOAD_ERROR:case ue.FRAG_LOAD_TIMEOUT:case ue.KEY_LOAD_ERROR:case ue.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case ue.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction={action:Fn.DoNothing,flags:oa.None};return}case ue.FRAG_GAP:case ue.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Fn.SendAlternateToPenaltyBox;return}case ue.LEVEL_EMPTY_ERROR:case ue.LEVEL_PARSING_ERROR:{var o,l;const u=r.parent===Xe.MAIN?r.level:a.loadLevel;r.details===ue.LEVEL_EMPTY_ERROR&&((o=r.context)!=null&&(l=o.levelDetails)!=null&&l.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case ue.LEVEL_LOAD_ERROR:case ue.LEVEL_LOAD_TIMEOUT:typeof s?.level=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.level));return;case ue.AUDIO_TRACK_LOAD_ERROR:case ue.AUDIO_TRACK_LOAD_TIMEOUT:case ue.SUBTITLE_LOAD_ERROR:case ue.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=a.levels[a.loadLevel];if(u&&(s.type===Bt.AUDIO_TRACK&&s.groupId===u.audioGroupId||s.type===Bt.SUBTITLE_TRACK&&s.groupId===u.textGroupId)){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.loadLevel),r.errorAction.action=Fn.SendAlternateToPenaltyBox,r.errorAction.flags=oa.MoveAllAlternatesMatchingHost;return}}return;case ue.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=a.levels[a.loadLevel],c=u?.attrs["HDCP-LEVEL"];c&&(r.errorAction={action:Fn.SendAlternateToPenaltyBox,flags:oa.MoveAllAlternatesMatchingHDCP,hdcpLevel:c})}return;case ue.BUFFER_ADD_CODEC_ERROR:case ue.REMUX_ALLOC_ERROR:r.errorAction=this.getLevelSwitchAction(r,(i=r.level)!=null?i:a.loadLevel);return;case ue.INTERNAL_EXCEPTION:case ue.BUFFER_APPENDING_ERROR:case ue.BUFFER_APPEND_ERROR:case ue.BUFFER_FULL_ERROR:case ue.LEVEL_SWITCH_ERROR:case ue.BUFFER_STALLED_ERROR:case ue.BUFFER_SEEK_OVER_HOLE:case ue.BUFFER_NUDGE_ON_STALL:r.errorAction={action:Fn.DoNothing,flags:oa.None};return}if(r.type===Ze.KEY_SYSTEM_ERROR){const u=this.getVariantLevelIndex(r.frag);r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u);return}}getPlaylistRetryOrSwitchAction(e,r){var n;const i=this.hls,a=_7(i.config.playlistLoadPolicy,e),s=this.playlistError++,o=(n=e.response)==null?void 0:n.code;if(jx(a,s,Ux(e),o))return{action:Fn.RetryRequest,flags:oa.None,retryConfig:a,retryCount:s};const u=this.getLevelSwitchAction(e,r);return a&&(u.retryConfig=a,u.retryCount=s),u}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:a,keyLoadPolicy:s}=r.config,o=_7(e.details.startsWith("key")?s:a,e),l=r.levels.reduce((f,d)=>f+d.fragmentError,0);if(i){var u;e.details!==ue.FRAG_GAP&&i.fragmentError++;const f=(u=e.response)==null?void 0:u.code;if(jx(o,l,Ux(e),f))return{action:Fn.RetryRequest,flags:oa.None,retryConfig:o,retryCount:l}}const c=this.getLevelSwitchAction(e,n);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i&&(i.loadError++,n.autoLevelEnabled)){var a,s;let o=-1;const{levels:l,loadLevel:u,minAutoLevel:c,maxAutoLevel:f}=n,d=(a=e.frag)==null?void 0:a.type,{type:h,groupId:p}=(s=e.context)!=null?s:{};for(let m=l.length;m--;){const g=(m+u)%l.length;if(g!==u&&g>=c&&g<=f&&l[g].loadError===0){const v=l[g];if(e.details===ue.FRAG_GAP&&e.frag){const b=l[g].details;if(b){const w=Wm(e.frag,b.fragments,e.frag.start);if(w!=null&&w.gap)continue}}else{if(h===Bt.AUDIO_TRACK&&p===v.audioGroupId||h===Bt.SUBTITLE_TRACK&&p===v.textGroupId)continue;if(d===Xe.AUDIO&&i.audioGroupId===v.audioGroupId||d===Xe.SUBTITLE&&i.textGroupId===v.textGroupId)continue}o=g;break}}if(o>-1&&n.loadLevel!==o)return e.levelRetry=!0,this.playlistError=0,{action:Fn.SendAlternateToPenaltyBox,flags:oa.None,nextAutoLevel:o}}return{action:Fn.SendAlternateToPenaltyBox,flags:oa.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Fn.DoNothing:break;case Fn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==ue.FRAG_GAP&&(r.fatal=!0);break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:a,nextAutoLevel:s}=n;switch(i){case oa.None:this.switchLevel(e,s);break;case oa.MoveAllAlternatesMatchingHost:n.resolved||(n.resolved=this.redundantFailover(e));break;case oa.MoveAllAlternatesMatchingHDCP:a&&(r.maxHdcpLevel=_6[_6.indexOf(a)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(e){const{hls:r,penalizedRenditions:n}=this,i=e.parent===Xe.MAIN?e.level:r.loadLevel,a=r.levels[i],s=a.url.length,o=e.frag?e.frag.urlId:a.urlId;a.urlId===o&&(!e.frag||a.details)&&this.penalizeRendition(a,e);for(let l=1;l<s;l++){const u=(o+l)%s,c=n[u];if(!c||v5e(c,e,n[o]))return this.warn(`Switching to Redundant Stream ${u+1}/${s}: "${a.url[u]}" after ${e.details}`),this.playlistError=0,r.levels.forEach(f=>{f.urlId=u}),r.nextLoadLevel=i,!0}return!1}penalizeRendition(e,r){const{penalizedRenditions:n}=this,i=n[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};i.lastErrorPerfMs=performance.now(),i.errors.push(r),i.details=e.details,n[e.urlId]=i}}function v5e(t,e,r){if(performance.now()-t.lastErrorPerfMs>m5e)return!0;const n=t.details;if(e.details===ue.FRAG_GAP&&n&&e.frag){const i=e.frag.start,a=Wm(null,n.fragments,i);if(a&&!a.gap)return!0}if(r&&t.errors.length<r.errors.length){const i=t.errors[t.errors.length-1];if(n&&i.frag&&e.frag&&Math.abs(i.frag.start-e.frag.start)>n.targetduration*3)return!0}return!1}class fk{constructor(e,r){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Z.log.bind(Z,`${r}:`),this.warn=Z.warn.bind(Z,`${r}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r){const n=r?.renditionReports;if(n){let i=-1;for(let a=0;a<n.length;a++){const s=n[a];let o;try{o=new self.URL(s.URI,r.url).href}catch(l){Z.warn(`Could not construct new URL for Rendition Report: ${l}`),o=s.URI||""}if(o===e){i=a;break}else o===e.substring(0,o.length)&&(i=a)}if(i!==-1){const a=n[i],s=parseInt(a["LAST-MSN"])||r?.lastPartSn;let o=parseInt(a["LAST-PART"])||r?.lastPartIndex;if(this.hls.config.lowLatencyMode){const l=Math.min(r.age-r.partTarget,r.targetduration);o>=0&&l>r.partTarget&&(o+=1)}return new A7(s,o>=0?o:void 0,Yp.No)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,r,n){const{details:i,stats:a}=r,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||n!=null&&n.live){if(i.reloaded(n),n&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),n&&i.fragments.length>0&&a5e(n,i),!this.canLoad||!i.live)return;let l,u,c;if(i.canBlockReload&&i.endSN&&i.advanced){const g=this.hls.config.lowLatencyMode,v=i.lastPartSn,b=i.endSN,w=i.lastPartIndex,E=w!==-1,R=v===b,I=g?0:w;E?(u=R?b+1:v,c=R?I:w+1):u=b+1;const D=i.age,N=D+i.ageHeader;let F=Math.min(N-i.partTarget,i.targetduration*1.5);if(F>0){if(n&&F>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${F} with playlist age: ${i.age}`),F=0;else{const $=Math.floor(F/i.targetduration);if(u+=$,c!==void 0){const z=Math.round(F%i.targetduration/i.partTarget);c+=z}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${D.toFixed(2)}s goal: ${F} skip sn ${$} to part ${c}`)}i.tuneInGoal=F}if(l=this.getDeliveryDirectives(i,r.deliveryDirectives,u,c),g||!R){this.loadPlaylist(l);return}}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,r.deliveryDirectives,u,c));const f=this.hls.mainForwardBufferInfo,d=f?f.end-f.len:0,h=(i.edge-d)*1e3,p=u5e(i,h);i.updated&&s>this.requestScheduled+p&&(this.requestScheduled=a.loading.start),u!==void 0&&i.canBlockReload?this.requestScheduled=a.loading.first+p-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+p<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=p);let m=this.requestScheduled-s;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,r,n,i){let a=i5e(e,n);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,a=Yp.No),new A7(n,i,a)}checkRetry(e){const r=e.details,n=Ux(e),i=e.errorAction,{action:a,retryCount:s=0,retryConfig:o}=i||{},l=!!i&&!!o&&(a===Fn.RetryRequest||!i.resolved&&a===Fn.SendAlternateToPenaltyBox);if(l){var u;if(this.requestScheduled=-1,s>=o.maxNumRetry)return!1;if(n&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const c=ck(o,s);this.timer=self.setTimeout(()=>this.loadPlaylist(),c),this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" in ${c}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}let TA;class y5e extends fk{constructor(e,r){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(V.LEVEL_LOADED,this.onLevelLoaded,this),e.on(V.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(V.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(V.FRAG_LOADED,this.onFragLoaded,this),e.on(V.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(V.LEVEL_LOADED,this.onLevelLoaded,this),e.off(V.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(V.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(V.FRAG_LOADED,this.onFragLoaded,this),e.off(V.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=[],i={};let a;r.levels.forEach(s=>{var o;const l=s.attrs;((o=s.audioCodec)==null?void 0:o.indexOf("mp4a.40.34"))!==-1&&(TA||(TA=/chrome|firefox/i.test(navigator.userAgent)),TA&&(s.audioCodec=void 0));const{AUDIO:u,CODECS:c,"FRAME-RATE":f,"PATHWAY-ID":d,RESOLUTION:h,SUBTITLES:p}=l,g=`${`${d||"."}-`}${s.bitrate}-${h}-${f}-${c}`;a=i[g],a?a.addFallback(s):(a=new Hm(s),i[g]=a,n.push(a)),zx(a,"audio",u),zx(a,"text",p)}),this.filterAndSortMediaOptions(n,r)}filterAndSortMediaOptions(e,r){let n=[],i=[],a=!1,s=!1,o=!1,l=e.filter(({audioCodec:h,videoCodec:p,width:m,height:g,unknownCodecs:v})=>(a||(a=!!(m&&g)),s||(s=!!p),o||(o=!!h),!(v!=null&&v.length)&&(!h||xA(h,"audio"))&&(!p||xA(p,"video"))));if((a||s)&&o&&(l=l.filter(({videoCodec:h,width:p,height:m})=>!!h||!!(p&&m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){const h=new Error("no level with compatible codecs found in manifest");this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:h,reason:h.message})}});return}r.audioTracks&&(n=r.audioTracks.filter(h=>!h.audioCodec||xA(h.audioCodec,"audio")),C7(n)),r.subtitles&&(i=r.subtitles,C7(i));const u=l.slice(0);l.sort((h,p)=>h.attrs["HDCP-LEVEL"]!==p.attrs["HDCP-LEVEL"]?(h.attrs["HDCP-LEVEL"]||"")>(p.attrs["HDCP-LEVEL"]||"")?1:-1:h.bitrate!==p.bitrate?h.bitrate-p.bitrate:h.attrs["FRAME-RATE"]!==p.attrs["FRAME-RATE"]?h.attrs.decimalFloatingPoint("FRAME-RATE")-p.attrs.decimalFloatingPoint("FRAME-RATE"):h.attrs.SCORE!==p.attrs.SCORE?h.attrs.decimalFloatingPoint("SCORE")-p.attrs.decimalFloatingPoint("SCORE"):a&&h.height!==p.height?h.height-p.height:0);let c=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==u.length)){for(let h=0;h<u.length;h++)if(u[h].pathwayId===l[0].pathwayId){c=u[h];break}}this._levels=l;for(let h=0;h<l.length;h++)if(l[h]===c){this._firstLevel=h,this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${c.bitrate}`);break}const f=o&&!s,d={levels:l,audioTracks:n,subtitleTracks:i,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:o,video:s,altAudio:!f&&n.some(h=>!!h.url)};this.hls.trigger(V.MANIFEST_PARSED,d),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const c=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(V.ERROR,{type:Ze.OTHER_ERROR,details:ue.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:c,reason:c.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,s=r[e],o=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n===e&&s.details&&i&&a===o)return;this.log(`Switching to level ${e}${o?" with Pathway "+o:""} from level ${n}${a?" with Pathway "+a:""}`);const l=ln({},s,{level:e,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete l._attrs,delete l._urlId,this.hls.trigger(V.LEVEL_SWITCHING,l);const u=s.details;if(!u||u.live){const c=this.switchParams(s.uri,i?.details);this.loadPlaylist(c)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this._firstLevel}else return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,r){r.fatal||!r.context||r.context.type===Bt.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragLoaded(e,{frag:r}){if(r!==void 0&&r.type===Xe.MAIN){const n=this._levels[r.level];n!==void 0&&(n.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:a}=r,s=this._levels[i];if(!s){var o;this.warn(`Invalid level index ${i}`),(o=r.deliveryDirectives)!=null&&o.skip&&(a.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(s.fragmentError===0&&(s.loadError=0),this.playlistLoaded(i,r,s.details)):(n=r.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}onAudioTrackSwitched(e,r){const n=this.currentLevel;if(!n)return;const i=this.hls.audioTracks[r.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==i){let a=-1;for(let s=0;s<n.audioGroupIds.length;s++)if(n.audioGroupIds[s]===i){a=s;break}a!==-1&&a!==n.urlId&&(n.urlId=a,this.canLoad&&this.startLoad())}}loadPlaylist(e){super.loadPlaylist();const r=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const i=n.urlId;let a=n.uri;if(e)try{a=e.addDirectives(a)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${r}${e?.msn!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} URI ${i+1}/${n.url.length} ${a}`),this.clearTimer(),this.hls.trigger(V.LEVEL_LOADING,{url:a,level:r,id:i,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e,r){const n=(a,s)=>s!==r,i=this._levels.filter((a,s)=>s!==e?!0:a.url.length>1&&r!==void 0?(a.url=a.url.filter(n),a.audioGroupIds&&(a.audioGroupIds=a.audioGroupIds.filter(n)),a.textGroupIds&&(a.textGroupIds=a.textGroupIds.filter(n)),a.urlId=0,!0):(this.steering&&this.steering.removeLevel(a),!1));this.hls.trigger(V.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:r}){r.forEach((n,i)=>{const{details:a}=n;a!=null&&a.fragments&&a.fragments.forEach(s=>{s.level=i})}),this._levels=r}}function zx(t,e,r){r&&(e==="audio"?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=r):e==="text"&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=r))}function C7(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}var mn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class b5e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(V.BUFFER_APPENDED,this.onBufferAppended,this),e.on(V.FRAG_BUFFERED,this.onFragBuffered,this),e.on(V.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.BUFFER_APPENDED,this.onBufferAppended,this),e.off(V.FRAG_BUFFERED,this.onFragBuffered,this),e.off(V.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const a=n[i];if(!a)break;const s=a.end;if(a.start<=e&&s!==null&&e<=s)return a}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){const{fragments:n}=this,i=Object.keys(n);for(let a=i.length;a--;){const s=n[i[a]];if(s?.body.type===r&&s.buffered){const o=s.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,r,n,i){this.timeRanges&&(this.timeRanges[e]=r);const a=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o||a>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===n&&this.removeFragment(o.body);return}const l=o.range[e];l&&l.time.some(u=>{const c=!this.isTimeBuffered(u.startPTS,u.endPTS,r);return c&&this.removeFragment(o.body),c})})}detectPartialFragments(e){const r=this.timeRanges,{frag:n,part:i}=e;if(!r||n.sn==="initSegment")return;const a=Rf(n),s=this.fragments[a];if(!s||s.buffered&&n.gap)return;const o=!n.relurl;Object.keys(r).forEach(l=>{const u=n.elementaryStreams[l];if(!u)return;const c=r[l],f=o||u.partial===!0;s.range[l]=this.getBufferedTimes(n,i,f,c)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=n.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),Xy(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=n.filter(i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Rf(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,r,n,i){const a={time:[],partial:n},s=e.start,o=e.end,l=e.minEndPTS||o,u=e.maxStartPTS||s;for(let c=0;c<i.length;c++){const f=i.start(c)-this.bufferPadding,d=i.end(c)+this.bufferPadding;if(u>=f&&l<=d){a.time.push({startPTS:Math.max(s,i.start(c)),endPTS:Math.min(o,i.end(c))});break}else if(s<d&&o>f)a.partial=!0,a.time.push({startPTS:Math.max(s,i.start(c)),endPTS:Math.min(o,i.end(c))});else if(o<=f)break}return a}getPartialFragment(e){let r=null,n,i,a,s=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(u=>{const c=l[u];c&&Xy(c)&&(i=c.body.start-o,a=c.body.end+o,e>=i&&e<=a&&(n=Math.min(e-i,a-e),s<=n&&(r=c.body,s=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||Xy(r))}getState(e){const r=Rf(e),n=this.fragments[r];return n?n.buffered?Xy(n)?mn.PARTIAL:mn.OK:mn.APPENDING:mn.NOT_LOADED}isTimeBuffered(e,r,n){let i,a;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&r<=a)return!0;if(r<=i)return!1}return!1}onFragLoaded(e,r){const{frag:n,part:i}=r;if(n.sn==="initSegment"||n.bitrateTest)return;const a=i?null:r,s=Rf(n);this.fragments[s]={body:n,appendedPTS:null,loaded:a,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:a}=r;if(n.sn==="initSegment")return;const s=n.type;if(i){let o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(i)}this.timeRanges=a,Object.keys(a).forEach(o=>{const l=a[o];this.detectEvictedFragments(o,l,s,i)})}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Rf(e);return!!this.fragments[r]}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o)return;const l=o.body;l.type!==n||i&&!l.gap||l.start<r&&l.end>e&&(o.buffered||a)&&this.removeFragment(l)})}removeFragment(e){const r=Rf(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=n.filter(a=>a.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Xy(t){var e,r,n;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((r=t.range.audio)==null?void 0:r.partial)||((n=t.range.audiovideo)==null?void 0:n.partial))}function Rf(t){return`${t.type}_${t.level}_${t.urlId}_${t.sn}`}const P7=Math.pow(2,17);class x5e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new lo({type:Ze.NETWORK_ERROR,details:ue.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){l(O7(e));return}else e.gap=!1;const u=this.loader=e.loader=a?new a(i):new s(i),c=k7(e),f=I7(i.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:P7};e.stats=u.stats,u.load(c,d,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,u);let v=h.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(v.slice(0,16)),v=v.slice(16)),o({frag:e,part:null,payload:v,networkDetails:g})},onError:(h,p,m,g)=>{this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Ii({url:n,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:h}))},onProgress:(h,p,m,g)=>{r&&r({frag:e,part:null,payload:m,networkDetails:g})}})})}loadPart(e,r,n){this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){l(O7(e,r));return}const u=this.loader=e.loader=a?new a(i):new s(i),c=k7(e,r),f=I7(i.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:P7};r.stats=u.stats,u.load(c,d,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,r);const v={frag:e,part:r,payload:h.data,networkDetails:g};n(v),o(v)},onError:(h,p,m,g)=>{this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:Ii({url:c.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,u),l(new lo({type:Ze.NETWORK_ERROR,details:ue.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:h}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,a=i.total;if(n.loaded+=i.loaded,a){const l=Math.round(e.duration/r.duration),u=Math.min(Math.round(n.loaded/a),l),f=(l-u)*Math.round(n.loaded/u);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const s=n.loading,o=i.loading;s.start?s.first+=o.first-o.start:(s.start=o.start,s.first=o.first),s.end=o.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function k7(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(Ge(i)&&Ge(a)){var s;let o=i,l=a;if(t.sn==="initSegment"&&((s=t.decryptdata)==null?void 0:s.method)==="AES-128"){const u=a-i;u%16&&(l=a+(16-u%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=l}return n}function O7(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Ze.MEDIA_ERROR,details:ue.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new lo(n)}class lo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class w5e{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[r].loader;if(n){if(e&&e!==n.context.frag.type)return;n.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=ue.KEY_LOAD_ERROR,n,i,a){return new lo({type:Ze.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,r){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:i}=e;for(let a=0;a<r.length;a++){const s=r[a];if(i<=s.cc&&(n==="initSegment"||s.sn==="initSegment"||n<s.sn)){this.emeController.selectKeySystemFormat(s).then(o=>{s.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const a=e.decryptdata;if(!a){const u=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,ue.KEY_LOAD_ERROR,u))}const s=a.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,ue.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));let o=this.keyUriToKeyInfo[s];if((n=o)!=null&&n.decryptdata.key)return a.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(u=>(a.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[s]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,ue.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,a=new i(n);return r.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((s,o)=>{const l={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},u=n.keyLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(d,h,p,m)=>{const{frag:g,keyInfo:v,url:b}=p;if(!g.decryptdata||v!==this.keyUriToKeyInfo[b])return o(this.createKeyLoadError(g,ue.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));v.decryptdata.key=g.decryptdata.key=new Uint8Array(d.data),g.keyLoader=null,v.loader=null,s({frag:g,keyInfo:v})},onError:(d,h,p,m)=>{this.resetLoader(h),o(this.createKeyLoadError(r,ue.KEY_LOAD_ERROR,new Error(`HTTP Error ${d.code} loading key ${d.text}`),p,Ii({url:l.url,data:void 0},d)))},onTimeout:(d,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(r,ue.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(d,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(r,ue.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};a.load(l,c,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,a=n.loader;r.keyLoader===a&&(r.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],a&&a.destroy()}}class E5e{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const S5e={length:0,start:()=>0,end:()=>0};class pr{static isBuffered(e,r){try{if(e){const n=pr.getBuffered(e);for(let i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}}catch{}return!1}static bufferInfo(e,r,n){try{if(e){const i=pr.getBuffered(e),a=[];let s;for(s=0;s<i.length;s++)a.push({start:i.start(s),end:i.end(s)});return this.bufferedInfo(a,r,n)}}catch{}return{len:0,start:r,end:r,nextStart:void 0}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.sort(function(u,c){const f=u.start-c.start;return f||c.end-u.end});let i=[];if(n)for(let u=0;u<e.length;u++){const c=i.length;if(c){const f=i[c-1].end;e[u].start-f<n?e[u].end>f&&(i[c-1].end=e[u].end):i.push(e[u])}else i.push(e[u])}else i=e;let a=0,s,o=r,l=r;for(let u=0;u<i.length;u++){const c=i[u].start,f=i[u].end;if(r+n>=c&&r<f)o=c,l=f,a=l-r;else if(r+n<c){s=c;break}}return{len:a,start:o||0,end:l||0,nextStart:s}}static getBuffered(e){try{return e.buffered}catch(r){return Z.log("failed to get media.buffered",r),S5e}}}class dk{constructor(e,r,n,i=0,a=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Jy(),this.buffering={audio:Jy(),video:Jy(),audiovideo:Jy()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=s}}function Jy(){return{start:0,executeStart:0,executeEnd:0,end:0}}function Vq(t,e){let r=null;for(let n=0,i=t.length;n<i;n++){const a=t[n];if(a&&a.cc===e){r=a;break}}return r}function T5e(t,e,r){return!!(e.details&&(r.endCC>r.startCC||t&&t.cc<r.startCC))}function A5e(t,e,r=0){const n=t.fragments,i=e.fragments;if(!i.length||!n.length){Z.log("No fragments to align");return}const a=Vq(n,i[0].cc);if(!a||a&&!a.startPTS){Z.log("No frag in previous level to align on");return}return a}function N7(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function hk(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)N7(r[n],t);e.fragmentHint&&N7(e.fragmentHint,t),e.alignedSliding=!0}function R5e(t,e,r){e&&(_5e(t,r,e),!r.alignedSliding&&e.details&&I5e(r,e.details),!r.alignedSliding&&e.details&&!r.skippedSegments&&Uq(e.details,r))}function _5e(t,e,r){if(T5e(t,r,e)){const n=A5e(r.details,e);n&&Ge(n.start)&&(Z.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),hk(n.start,e))}}function I5e(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=e.fragments[0].programDateTime,n=t.fragments[0].programDateTime,i=(n-r)/1e3+e.fragments[0].start;i&&Ge(i)&&(Z.log(`Adjusting PTS using programDateTime delta ${n-r}ms, sliding:${i.toFixed(3)} ${t.url} `),hk(i,t))}function Yq(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;const i=Math.round(n.length/2)-1,a=n[i],s=Vq(r,a.cc)||r[Math.round(r.length/2)-1],o=a.programDateTime,l=s.programDateTime;if(o===null||l===null)return;const u=(l-o)/1e3-(s.start-a.start);hk(u,t)}class C5e{constructor(e,r){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=r}decrypt(e,r){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e)}}class P5e{constructor(e,r){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=r}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function k5e(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?hc(t,0,e-r):t}class O5e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],a=n[1],s=n[2],o=n[3],l=this.invSubMix,u=l[0],c=l[1],f=l[2],d=l[3],h=new Uint32Array(256);let p=0,m=0,g=0;for(g=0;g<256;g++)g<128?h[g]=g<<1:h[g]=g<<1^283;for(g=0;g<256;g++){let v=m^m<<1^m<<2^m<<3^m<<4;v=v>>>8^v&255^99,e[p]=v,r[v]=p;const b=h[p],w=h[b],E=h[w];let R=h[v]*257^v*16843008;i[p]=R<<24|R>>>8,a[p]=R<<16|R>>>16,s[p]=R<<8|R>>>24,o[p]=R,R=E*16843009^w*65537^b*257^p*16843008,u[v]=R<<24|R>>>8,c[v]=R<<16|R>>>16,f[v]=R<<8|R>>>24,d[v]=R,p?(p=b^h[h[h[E^b]]],m^=h[h[m]]):p=m=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const a=this.keySize=r.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const s=this.ksRows=(a+6+1)*4;let o,l;const u=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),f=this.sBox,d=this.rcon,h=this.invSubMix,p=h[0],m=h[1],g=h[2],v=h[3];let b,w;for(o=0;o<s;o++){if(o<a){b=u[o]=r[o];continue}w=b,o%a===0?(w=w<<8|w>>>24,w=f[w>>>24]<<24|f[w>>>16&255]<<16|f[w>>>8&255]<<8|f[w&255],w^=d[o/a|0]<<24):a>6&&o%a===4&&(w=f[w>>>24]<<24|f[w>>>16&255]<<16|f[w>>>8&255]<<8|f[w&255]),u[o]=b=(u[o-a]^w)>>>0}for(l=0;l<s;l++)o=s-l,l&3?w=u[o]:w=u[o-4],l<4||o<=4?c[l]=w:c[l]=p[f[w>>>24]]^m[f[w>>>16&255]]^g[f[w>>>8&255]]^v[f[w&255]],c[l]=c[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,o=this.invSubMix,l=o[0],u=o[1],c=o[2],f=o[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],p=d[1],m=d[2],g=d[3];const v=new Int32Array(e),b=new Int32Array(v.length);let w,E,R,I,D,N,F,$,z,k,A,y,x,S;const C=this.networkToHostOrderSwap;for(;r<v.length;){for(z=C(v[r]),k=C(v[r+1]),A=C(v[r+2]),y=C(v[r+3]),D=z^a[0],N=y^a[1],F=A^a[2],$=k^a[3],x=4,S=1;S<i;S++)w=l[D>>>24]^u[N>>16&255]^c[F>>8&255]^f[$&255]^a[x],E=l[N>>>24]^u[F>>16&255]^c[$>>8&255]^f[D&255]^a[x+1],R=l[F>>>24]^u[$>>16&255]^c[D>>8&255]^f[N&255]^a[x+2],I=l[$>>>24]^u[D>>16&255]^c[N>>8&255]^f[F&255]^a[x+3],D=w,N=E,F=R,$=I,x=x+4;w=s[D>>>24]<<24^s[N>>16&255]<<16^s[F>>8&255]<<8^s[$&255]^a[x],E=s[N>>>24]<<24^s[F>>16&255]<<16^s[$>>8&255]<<8^s[D&255]^a[x+1],R=s[F>>>24]<<24^s[$>>16&255]<<16^s[D>>8&255]<<8^s[N&255]^a[x+2],I=s[$>>>24]<<24^s[D>>16&255]<<16^s[N>>8&255]<<8^s[F&255]^a[x+3],b[r]=C(w^h),b[r+1]=C(I^p),b[r+2]=C(R^m),b[r+3]=C(E^g),h=z,p=k,m=A,g=y,r=r+4}return b.buffer}}const N5e=16;class pk{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?k5e(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n){return this.useSoftware?new Promise((i,a)=>{this.softwareDecrypt(new Uint8Array(e),r,n);const s=this.flush();s?i(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n)}softwareDecrypt(e,r,n){const{currentIV:i,currentResult:a,remainderData:s}=this;this.logOnce("JS AES decrypt"),s&&(e=Ic(s,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;i&&(n=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new O5e),l.expandKey(r);const u=a;return this.currentResult=l.decrypt(o.buffer,0,n),this.currentIV=hc(o,-16).buffer,u||null}webCryptoDecrypt(e,r,n){const i=this.subtle;return(this.key!==r||!this.fastAesKey)&&(this.key=r,this.fastAesKey=new P5e(i,r)),this.fastAesKey.expandKey().then(a=>i?(this.logOnce("WebCrypto AES decrypt"),new C5e(i,new Uint8Array(n)).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(Z.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,r,n)))}onWebCryptoError(e,r,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%N5e;return n!==e.length&&(r=hc(e,0,n),this.remainderData=hc(e,n)),r}logOnce(e){this.logEnabled&&(Z.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const L5e={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},pe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class mk extends E5e{constructor(e,r,n,i,a){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=pe.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=a,this.logPrefix=i,this.log=Z.log.bind(Z,`${i}:`),this.warn=Z.warn.bind(Z,`${i}:`),this.hls=e,this.fragmentLoader=new x5e(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new pk(e.config),e.on(V.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=pe.STOPPED}_streamEnded(e,r){if(r.live||e.nextStart||!e.end||!this.media)return!1;const n=r.partList;if(n!=null&&n.length){const a=n[n.length-1];return pr.isBuffered(this.media,a.start+a.duration/2)}const i=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levels[this.levelLastLoaded])==null?void 0:e.details}}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===pe.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:r,media:n,mediaBuffer:i,state:a}=this,s=n?n.currentTime:0,o=pr.bufferInfo(i||n,s,e.maxBufferHole);if(this.log(`media seeking to ${Ge(s)?s.toFixed(3):s}, state: ${a}`),this.state===pe.ENDED)this.resetLoadingState();else if(r){const l=e.maxFragLookUpTolerance,u=r.start-l,c=r.start+r.duration+l;if(!o.len||c<o.start||u>o.end){const f=s>c;(s<u||f)&&(f&&r.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(s,1/0,this.playlistType,!0),this.lastCurrentTime=s),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state=pe.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=a=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${a.part?" p: "+a.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,r,n,i).then(a=>{if(!a)return;const s=this.state;if(this.fragContextChanged(e)){(s===pe.FRAG_LOADING||!this.fragCurrent&&s===pe.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=pe.IDLE);return}"payload"in a&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(V.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===pe.STOPPED||this.state===pe.ERROR||(this.warn(a),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===mn.APPENDING){const a=e.type,s=this.getFwdBufferInfo(this.mediaBuffer,a),o=Math.max(e.duration,s?s.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===mn.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(V.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{if(!n||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{payload:a}=n,s=e.decryptdata;if(a&&a.byteLength>0&&s&&s.key&&s.iv&&s.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),s.key.buffer,s.iv.buffer).catch(l=>{throw i.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const u=self.performance.now();return i.trigger(V.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:o,tdecrypt:u}}),n.payload=l,n})}return n}).then(n=>{const{fragCurrent:i,hls:a,levels:s}=this;if(!s)throw new Error("init load aborted, missing levels");const o=e.stats;this.state=pe.IDLE,r.fragmentError=0,e.data=new Uint8Array(n.payload),o.parsing.start=o.buffering.start=self.performance.now(),o.parsing.end=o.buffering.end=self.performance.now(),n.frag===i&&a.trigger(V.FRAG_BUFFERED,{stats:o,frag:i,part:null,id:e.type}),this.tick()}).catch(n=>{this.state===pe.STOPPED||this.state===pe.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.level!==r.level||e.sn!==r.sn||e.urlId!==r.urlId}fragBufferedComplete(e,r){var n,i,a,s;const o=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.playlistType===Xe.MAIN?"level":"track"} ${e.level} (frag:[${((n=e.startPTS)!=null?n:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${o?L5e.toString(pr.getBuffered(o)):"(detached)"})`),this.state=pe.IDLE,o&&(!this.loadedmetadata&&e.type==Xe.MAIN&&o.buffered.length&&((a=this.fragCurrent)==null?void 0:a.sn)===((s=this.fragPrevious)==null?void 0:s.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:a}=e,s=!a||a.length===0||a.some(l=>!l),o=new dk(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);r.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var a;const s=r?.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let o=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)?(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=pe.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(c=>{if(!this.fragContextChanged(c.frag))return this.hls.trigger(V.KEY_LOADED,c),this.state===pe.KEY_LOADING&&(this.state=pe.IDLE),c}),this.hls.trigger(V.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const c=s.partList;if(c&&i){n>e.end&&s.fragmentHint&&(e=s.fragmentHint);const f=this.getNextPart(c,e,n);if(f>-1){const d=c[f];this.log(`Loading part sn: ${e.sn} p: ${d.index} cc: ${e.cc} of playlist [${s.startSN}-${s.endSN}] parts [0-${f}-${c.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=d.start+d.duration,this.state=pe.FRAG_LOADING;let h;return o?h=o.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,d,r,i)).catch(p=>this.handleFragLoadError(p)):h=this.doFragPartsLoad(e,d,r,i).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(V.FRAG_LOADING,{frag:e,part:d,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(c,n))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${s?"of ["+s.startSN+"-"+s.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),Ge(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=pe.FRAG_LOADING;const l=this.config.progressive;let u;return l&&o?u=o.then(c=>!c||this.fragContextChanged(c?.frag)?null:this.fragmentLoader.load(e,i)).catch(c=>this.handleFragLoadError(c)):u=Promise.all([this.fragmentLoader.load(e,l?i:void 0),o]).then(([c])=>(!l&&c&&i&&i(c),c)).catch(c=>this.handleFragLoadError(c)),this.hls.trigger(V.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,r,n,i){return new Promise((a,s)=>{var o;const l=[],u=(o=n.details)==null?void 0:o.partList,c=f=>{this.fragmentLoader.loadPart(e,f,i).then(d=>{l[f.index]=d;const h=d.part;this.hls.trigger(V.FRAG_LOADED,d);const p=R7(n,e.sn,f.index+1)||jq(u,e.sn,f.index+1);if(p)c(p);else return a({frag:e,part:h,partsLoaded:l})}).catch(s)};c(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===ue.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger(V.ERROR,r)}else this.hls.trigger(V.ERROR,{type:Ze.OTHER_ERROR,details:ue.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==pe.PARSING){!this.fragCurrent&&this.state!==pe.STOPPED&&this.state!==pe.ERROR&&(this.state=pe.IDLE);return}const{frag:n,part:i,level:a}=r,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s),this.updateLevelTiming(n,i,a,e.partial)}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:a,part:s}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of level ${i}. The current chunk will not be buffered.`),null;const o=r[i],l=s>-1?R7(o,a,s):null,u=l?l.fragment:c5e(o,a,n);return u?(n&&n!==u&&(u.stats=n.stats),{frag:u,part:l,level:o}):null}bufferFragmentData(e,r,n,i,a){var s;if(!e||this.state!==pe.PARSING)return;const{data1:o,data2:l}=e;let u=o;if(o&&l&&(u=Ic(o,l)),!((s=u)!=null&&s.length))return;const c={type:e.type,frag:r,part:n,chunkMeta:i,parent:r.type,data:u};if(this.hls.trigger(V.BUFFER_APPENDING,c),e.dropped&&e.independent&&!n){if(a)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!pr.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=pr.bufferInfo(r,n,0),a=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),o=Math.max(Math.min(e.start-s,i.end-s),n+s);e.start-o>s&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,r){const n=this.getLoadPosition();return Ge(n)?this.getFwdBufferInfoAtPos(e,n,r):null}getFwdBufferInfoAtPos(e,r,n){const{config:{maxBufferHole:i}}=this,a=pr.bufferInfo(e,r,i);if(a.len===0&&a.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(r,n);if(s&&a.nextStart<s.end)return pr.bufferInfo(e,r,Math.max(a.nextStart,i))}return a}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e){const r=this.config,n=e||r.maxBufferLength;return r.maxMaxBufferLength>=n?(r.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${r.maxMaxBufferLength}s`),!0):!1}getAppendedFrag(e,r=Xe.MAIN){const n=this.fragmentTracker.getAppendedFrag(e,Xe.MAIN);return n&&"fragment"in n?n.fragment:n}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:a}=this,s=n[0].start;let o;if(r.live){const l=a.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(o=this.getInitialLiveFragment(r,n),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=s&&(o=n[0]);if(!o){const l=a.lowLatencyMode?r.partEnd:r.fragmentEnd;o=this.getFragmentAtPosition(e,l,r)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===mn.OK||n===mn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,a){const s=e.gap,o=this.getNextFragment(this.nextLoadPosition,r);if(o===null)return o;if(e=o,s&&e&&!e.gap&&n.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i);if(l!==null&&n.len+l.len>=a)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,a=!1,s=!0;for(let o=0,l=e.length;o<l;o++){const u=e[o];if(s=s&&!u.independent,i>-1&&n<u.start)break;const c=u.loaded;c?i=-1:(a||u.independent||s)&&u.fragment===r&&(i=o),a=c}return i}loadedEndOfParts(e,r){const n=e[e.length-1];return n&&r>n.start&&n.loaded}getInitialLiveFragment(e,r){const n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=d5e(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const s=r[a-e.startSN];n.cc===s.cc&&(i=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=p5e(r,n.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:s,endSN:o}=n;const{fragmentHint:l}=n,u=i.maxFragLookUpTolerance,c=n.partList,f=!!(i.lowLatencyMode&&c!=null&&c.length&&l);f&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn);let d;if(e<r){const h=e>r-u?0:u;d=Wm(a,s,e,h)}else d=s[s.length-1];if(d){const h=d.sn-n.startSN,p=this.fragmentTracker.getState(d);if((p===mn.OK||p===mn.PARTIAL&&d.gap)&&(a=d),a&&d.sn===a.sn&&(!f||c[0].fragment.sn>d.sn)&&a&&d.level===a.level){const g=s[h+1];d.sn<o&&this.fragmentTracker.getState(g)!==mn.OK?d=g:d=null}}return d}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=n.currentTime,s=e.fragments[0].start,o=e.edge,l=a>=s-r.maxFragLookUpTolerance&&a<=o;if(i!==null&&n.duration>i&&(a<i||!l)){const u=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;(!l&&n.readyState<4||a<o-u)&&(this.loadedmetadata||(this.nextLoadPosition=i),n.readyState&&(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),n.currentTime=i))}}alignPlaylists(e,r){const{levels:n,levelLastLoaded:i,fragPrevious:a}=this,s=i!==null?n[i]:null,o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;const l=e.fragments[0].start,u=!r,c=e.alignedSliding&&Ge(l);if(u||!c&&!l){R5e(a,s,e);const f=e.fragments[0].start;return this.log(`Live playlist sliding: ${f.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} prev-sn: ${a?a.sn:"na"} fragments: ${o}`),f}return l}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;if(n<r&&(n=-1),n===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,a=i?this.startTimeOffset:e.startTimeOffset;a!==null&&Ge(a)?(n=r+a,a<0&&(n+=e.totalduration),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Start time offset ${a} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||r:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let r=0;return this.loadedmetadata&&e?r=e.currentTime:this.nextLoadPosition&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,r){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==pe.FRAG_LOADING_WAITING_RETRY)&&(this.state=pe.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const f=this.getCurrentContext(r.chunkMeta);f&&(r.frag=f.frag)}const n=r.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const a=r.details===ue.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);const s=r.errorAction,{action:o,retryCount:l=0,retryConfig:u}=s||{};if(s&&o===Fn.RetryRequest&&u){var c;this.resetStartWhenNotLoaded((c=this.levelLastLoaded)!=null?c:n.level);const f=ck(u,l);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${r.details}, retrying loading ${l+1}/${u.maxNumRetry} in ${f}ms`),s.resolved=!0,this.retryDate=self.performance.now()+f,this.state=pe.FRAG_LOADING_WAITING_RETRY}else u&&s?(this.resetFragmentErrors(e),l<u.maxNumRetry?a||(s.resolved=!0):Z.warn(`${r.details} reached or exceeded max retry (${l})`)):s?.action===Fn.SendAlternateToPenaltyBox?this.state=pe.WAITING_LEVEL:this.state=pe.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===pe.PARSING||this.state===pe.PARSED){const r=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,r),i=n&&n.len>.5;i&&this.reduceMaxBufferLength(n.len);const a=!i;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Xe.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==pe.STOPPED&&(this.state=pe.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=pr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===pe.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=pe.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const r=this.levels?this.levels[e].details:null;r!=null&&r.live?(this.startPosition=-1,this.setStartPosition(r,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){var r;this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((r=this.levelLastLoaded)!=null?r:e.level),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){var a;const s=n.details;if(!s){this.warn("level.details undefined");return}if(Object.keys(e.elementaryStreams).reduce((l,u)=>{const c=e.elementaryStreams[u];if(c){const f=c.endPTS-c.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${f})`),l||!1;const d=i?0:Bq(s,e,c.startPTS,c.endPTS,c.startDTS,c.endDTS);return this.hls.trigger(V.LEVEL_PTS_UPDATED,{details:s,level:n,drift:d,type:u,frag:e,start:c.startPTS,end:c.endPTS}),!0}return l},!1))n.fragmentError=0;else if(((a=this.transmuxer)==null?void 0:a.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(n.fragmentError===0&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=pe.PARSED,this.hls.trigger(V.FRAG_PARSED,{frag:e,part:r})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){if(e.event==="demuxerWorker"){var r,n,i;this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((r=(n=this.levelLastLoaded)!=null?n:(i=this.fragCurrent)==null?void 0:i.level)!=null?r:0),this.resetLoadingState()}}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function Gq(){return self.SourceBuffer||self.WebKitSourceBuffer}function D5e(){const t=Y2();if(!t)return!1;const e=Gq(),r=t&&typeof t.isTypeSupported=="function"&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function";return!!r&&!!n}function M5e(){var t;const e=Gq();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}function $5e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function F5e(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function B5e(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function ws(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Hq{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=Ic(this.cachedData,e),this.cachedData=null);let n=Fx(e,0),i=n?n.length:0,a;const s=this._audioTrack,o=this._id3Track,l=n?wke(n):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&Ge(l))&&(this.basePTS=U5e(l,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ha.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const c=this.appendFrame(s,e,i);c?(this.frameIndex++,this.lastPTS=c.sample.pts,i+=c.length,a=i):i=u}else xke(e,i)?(n=Fx(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Ha.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===u&&a!==u){const c=hc(e,a);this.cachedData?this.cachedData=Ic(this.cachedData,c):this.cachedData=c}}return{audioTrack:s,videoTrack:ws(),id3Track:o,textTrack:ws()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:ws(),id3Track:this._id3Track,textTrack:ws()}}destroy(){}}const U5e=(t,e,r)=>{if(Ge(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};function j5e(t,e,r,n){let i,a,s,o;const l=navigator.userAgent.toLowerCase(),u=n,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[r+2]&192)>>>6)+1;const f=(e[r+2]&60)>>>2;if(f>c.length-1){t.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${f}`});return}return s=(e[r+2]&1)<<2,s|=(e[r+3]&192)>>>6,Z.log(`manifest codec:${n}, ADTS type:${i}, samplingIndex:${f}`),/firefox/i.test(l)?f>=6?(i=5,o=new Array(4),a=f-3):(i=2,o=new Array(2),a=f):l.indexOf("android")!==-1?(i=2,o=new Array(2),a=f):(i=5,o=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&f>=6?a=f-3:((n&&n.indexOf("mp4a.40.2")!==-1&&(f>=6&&s===1||/vivaldi/i.test(l))||!n&&s===1)&&(i=2,o=new Array(2)),a=f)),o[0]=i<<3,o[0]|=(f&14)>>1,o[1]|=(f&1)<<7,o[1]|=s<<3,i===5&&(o[1]|=(a&14)>>1,o[2]=(a&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:c[f],channelCount:s,codec:"mp4a.40."+i,manifestCodec:u}}function Wq(t,e){return t[e]===255&&(t[e+1]&246)===240}function qq(t,e){return t[e+1]&1?7:9}function gk(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function z5e(t,e){return e+5<t.length}function Vx(t,e){return e+1<t.length&&Wq(t,e)}function V5e(t,e){return z5e(t,e)&&Wq(t,e)&&gk(t,e)<=t.length-e}function Y5e(t,e){if(Vx(t,e)){const r=qq(t,e);if(e+r>=t.length)return!1;const n=gk(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||Vx(t,i)}return!1}function Kq(t,e,r,n,i){if(!t.samplerate){const a=j5e(e,r,n,i);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,Z.log(`parsed codec:${t.codec}, rate:${a.samplerate}, channels:${a.channelCount}`)}}function Qq(t){return 1024*9e4/t}function G5e(t,e){const r=qq(t,e);if(e+r<=t.length){const n=gk(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function Zq(t,e,r,n,i){const a=Qq(t.samplerate),s=n+i*a,o=G5e(e,r);let l;if(o){const{frameLength:f,headerLength:d}=o,h=d+f,p=Math.max(0,r+h-e.length);p?(l=new Uint8Array(h-d),l.set(e.subarray(r+d,e.length),0)):l=e.subarray(r+d,r+h);const m={unit:l,pts:s};return p||t.samples.push(m),{sample:m,length:h,missing:p}}const u=e.length-r;return l=new Uint8Array(u),l.set(e.subarray(r,e.length),0),{sample:{unit:l,pts:s},length:u,missing:-1}}class H5e extends Hq{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let n=(Fx(e,0)||[]).length;for(let i=e.length;n<i;n++)if(Y5e(e,n))return Z.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return V5e(e,r)}appendFrame(e,r,n){Kq(e,this.observer,r,n,e.manifestCodec);const i=Zq(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const W5e=/\/emsg[-/]ID3/i;class q5e{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const a=this.videoTrack=ws("video",1),s=this.audioTrack=ws("audio",1),o=this.txtTrack=ws("text",1);if(this.id3Track=ws("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=Oq(e);if(l.video){const{id:u,timescale:c,codec:f}=l.video;a.id=u,a.timescale=o.timescale=c,a.codec=f}if(l.audio){const{id:u,timescale:c,codec:f}=l.audio;s.id=u,s.timescale=c,s.codec=f}o.id=Cq.text,a.sampleDuration=0,a.duration=s.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return e=e.length>16384?e.subarray(0,16384):e,Mt(e,["moof"]).length>0}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Ic(this.remainderData,e));const o=Mke(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,r);return a.samples=f7(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=f7(e,r),{videoTrack:r,audioTrack:ws(),id3Track:i,textTrack:ws()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=Mt(e.samples,["emsg"]);i&&i.forEach(a=>{const s=Bke(a);if(W5e.test(s.schemeIdUri)){const o=Ge(s.presentationTime)?s.presentationTime/s.timeScale:r+s.presentationTimeDelta/s.timeScale;let l=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const u=s.payload;n.samples.push({data:u,len:u.byteLength,dts:o,pts:o,type:Ha.emsg,duration:l})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}let eb=null;const K5e=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Q5e=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Z5e=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],X5e=[0,1,1,4];function Xq(t,e,r,n,i){if(r+24>e.length)return;const a=Jq(e,r);if(a&&r+a.frameLength<=e.length){const s=a.samplesPerFrame*9e4/a.sampleRate,o=n+i*s,l={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(l),{sample:l,length:a.frameLength,missing:0}}}function Jq(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&a!==3){const s=t[e+2]>>1&1,o=t[e+3]>>6,l=r===3?3-n:n===3?3:4,u=K5e[l*14+i-1]*1e3,f=Q5e[(r===3?0:r===2?1:2)*3+a],d=o===3?1:2,h=Z5e[r][n],p=X5e[n],m=h*8*p,g=Math.floor(h*u/f+s)*p;if(eb===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);eb=w?parseInt(w[1]):0}return!!eb&&eb<=87&&n===2&&u>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:d,frameLength:g,samplesPerFrame:m}}}function vk(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function eK(t,e){return e+1<t.length&&vk(t,e)}function J5e(t,e){return vk(t,e)&&4<=t.length-e}function e8e(t,e){if(e+1<t.length&&vk(t,e)){const n=Jq(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===t.length||eK(t,a)}return!1}class L7{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),a=Math.min(4,r);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&Z.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let r=8,n=8,i;for(let a=0;a<e;a++)n!==0&&(i=this.readEG(),n=(r+i+256)%256),r=n===0?r:n}readSPS(){let e=0,r=0,n=0,i=0,a,s,o;const l=this.readUByte.bind(this),u=this.readBits.bind(this),c=this.readUEG.bind(this),f=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();const g=l();if(u(5),d(3),l(),p(),g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128){const I=c();if(I===3&&d(1),p(),p(),d(1),f())for(s=I!==3?8:12,o=0;o<s;o++)f()&&(o<6?m(16):m(64))}p();const v=c();if(v===0)c();else if(v===1)for(d(1),h(),h(),a=c(),o=0;o<a;o++)h();p(),d(1);const b=c(),w=c(),E=u(1);E===0&&d(1),d(1),f()&&(e=c(),r=c(),n=c(),i=c());let R=[1,1];if(f()&&f())switch(l()){case 1:R=[1,1];break;case 2:R=[12,11];break;case 3:R=[10,11];break;case 4:R=[16,11];break;case 5:R=[40,33];break;case 6:R=[24,11];break;case 7:R=[20,11];break;case 8:R=[32,11];break;case 9:R=[80,33];break;case 10:R=[18,11];break;case 11:R=[15,11];break;case 12:R=[64,33];break;case 13:R=[160,99];break;case 14:R=[4,3];break;case 15:R=[3,2];break;case 16:R=[2,1];break;case 255:{R=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((b+1)*16-e*2-r*2),height:(2-E)*(w+1)*16-(E?2:4)*(n+i),pixelRatio:R}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class t8e{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new pk(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(o=>{const l=new Uint8Array(o);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)})}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,r,n,i,a){const s=Dq(a.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(l=>{a.data=this.getAvcDecryptedUnit(s,l),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)})}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const a=e[r].units;for(;!(n>=a.length);n++){const s=a[n];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,r,n,i,s),!this.decrypter.isSync()))return}}}}const $n=188;class Pl{constructor(e,r,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=r,this.typeSupported=n}static probe(e){const r=Pl.syncOffset(e);return r>0&&Z.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const r=e.length;let n=Math.min($n*5,e.length-$n)+1,i=0;for(;i<n;){let a=!1,s=-1,o=0;for(let l=i;l<r;l+=$n)if(e[l]===71){if(o++,s===-1&&(s=l,s!==0&&(n=Math.min(s+$n*99,e.length-$n)+1)),a||(a=P6(e,l)===0),a&&o>1&&(s===0&&o>2||l+$n>n))return s}else{if(o)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:Cq[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Pl.createTrack("video"),this._audioTrack=Pl.createTrack("audio",i),this._id3Track=Pl.createTrack("id3"),this._txtTrack=Pl.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_avcTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let a;const s=this._avcTrack,o=this._audioTrack,l=this._id3Track,u=this._txtTrack;let c=s.pid,f=s.pesData,d=o.pid,h=l.pid,p=o.pesData,m=l.pesData,g=null,v=this.pmtParsed,b=this._pmtId,w=e.length;if(this.remainderData&&(e=Ic(this.remainderData,e),w=e.length,this.remainderData=null),w<$n&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};const E=Math.max(0,Pl.syncOffset(e));w-=(w-E)%$n,w<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let R=0;for(let D=E;D<w;D+=$n)if(e[D]===71){const N=!!(e[D+1]&64),F=P6(e,D),$=(e[D+3]&48)>>4;let z;if($>1){if(z=D+5+e[D+4],z===D+$n)continue}else z=D+4;switch(F){case c:N&&(f&&(a=_f(f))&&this.parseAVCPES(s,u,a,!1),f={data:[],size:0}),f&&(f.data.push(e.subarray(z,D+$n)),f.size+=D+$n-z);break;case d:if(N){if(p&&(a=_f(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(z,D+$n)),p.size+=D+$n-z);break;case h:N&&(m&&(a=_f(m))&&this.parseID3PES(l,a),m={data:[],size:0}),m&&(m.data.push(e.subarray(z,D+$n)),m.size+=D+$n-z);break;case 0:N&&(z+=e[z]+1),b=this._pmtId=r8e(e,z);break;case b:{N&&(z+=e[z]+1);const k=n8e(e,z,this.typeSupported,n);c=k.avc,c>0&&(s.pid=c),d=k.audio,d>0&&(o.pid=d,o.segmentCodec=k.segmentCodec),h=k.id3,h>0&&(l.pid=h),g!==null&&!v&&(Z.warn(`MPEG-TS PMT found at ${D} after unknown PID '${g}'. Backtracking to sync byte @${E} to parse all TS packets.`),g=null,D=E-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=F;break}}else R++;if(R>0){const D=new Error(`Found ${R} TS packet/s that do not start with 0x47`);this.observer.emit(V.ERROR,V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,fatal:!1,error:D,reason:D.message})}s.pesData=f,o.pesData=p,l.pesData=m;const I={audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};return i&&this.extractRemainingSamples(I),I}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:a}=e,s=n.pesData,o=r.pesData,l=i.pesData;let u;if(s&&(u=_f(s))?(this.parseAVCPES(n,a,u,!0),n.pesData=null):n.pesData=s,o&&(u=_f(o))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,u);break;case"mp3":this.parseMPEGPES(r,u);break}r.pesData=null}else o!=null&&o.size&&Z.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;l&&(u=_f(l))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=l}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new t8e(this.observer,this.config,r);return this.decrypt(i,a)}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{a.samples?r.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&r.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this._duration=0}parseAVCPES(e,r,n,i){const a=this.parseAVCNALu(e,n.data);let s=this.avcSample,o,l=!1;n.data=null,s&&a.length&&!e.audFound&&(N0(s,e),s=this.avcSample=tb(!1,n.pts,n.dts,"")),a.forEach(u=>{var c;switch(u.type){case 1:{let d=!1;o=!0;const h=u.data;if(l&&h.length>4){const p=new L7(h).readSliceType();(p===2||p===4||p===7||p===9)&&(d=!0)}if(d){var f;(f=s)!=null&&f.frame&&!s.key&&(N0(s,e),s=this.avcSample=null)}s||(s=this.avcSample=tb(!0,n.pts,n.dts,"")),s.frame=!0,s.key=d;break}case 5:o=!0,(c=s)!=null&&c.frame&&!s.key&&(N0(s,e),s=this.avcSample=null),s||(s=this.avcSample=tb(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:{o=!0,Lq(u.data,1,n.pts,r.samples);break}case 7:if(o=!0,l=!0,!e.sps){const d=u.data,p=new L7(d).readSPS();e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.sps=[d],e.duration=this._duration;const m=d.subarray(1,4);let g="avc1.";for(let v=0;v<3;v++){let b=m[v].toString(16);b.length<2&&(b="0"+b),g+=b}e.codec=g}break;case 8:o=!0,e.pps||(e.pps=[u.data]);break;case 9:o=!1,e.audFound=!0,s&&N0(s,e),s=this.avcSample=tb(!1,n.pts,n.dts,"");break;case 12:o=!0;break;default:o=!1,s&&(s.debug+="unknown NAL "+u.type+" ");break}s&&o&&s.units.push(u)}),i&&s&&(N0(s,e),this.avcSample=null)}getLastNalUnit(e){var r;let n=this.avcSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const a=n.units;i=a[a.length-1]}return i}parseAVCNALu(e,r){const n=r.byteLength;let i=e.naluState||0;const a=i,s=[];let o=0,l,u,c,f=-1,d=0;for(i===-1&&(f=0,d=r[0]&31,i=0,o=1);o<n;){if(l=r[o++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(f>=0){const h={data:r.subarray(f,o-i-1),type:d};s.push(h)}else{const h=this.getLastNalUnit(e.samples);if(h&&(a&&o<=4-a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-a)),u=o-i-1,u>0)){const p=new Uint8Array(h.data.byteLength+u);p.set(h.data,0),p.set(r.subarray(0,u),h.data.byteLength),h.data=p,h.state=0}}o<n?(c=r[o]&31,f=o,d=c,i=0):i=-1}else i=0}if(f>=0&&i>=0){const h={data:r.subarray(f,n),type:d,state:i};s.push(h)}if(s.length===0){const h=this.getLastNalUnit(e.samples);if(h){const p=new Uint8Array(h.data.byteLength+r.byteLength);p.set(h.data,0),p.set(r,h.data.byteLength),h.data=p}}return e.naluState=i,s}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let a=r.data;if(i){this.aacOverFlow=null;const f=i.missing,d=i.sample.unit.byteLength;if(f===-1){const h=new Uint8Array(d+a.byteLength);h.set(i.sample.unit,0),h.set(a,d),a=h}else{const h=d-f;i.sample.unit.set(a.subarray(0,f),h),e.samples.push(i.sample),n=i.missing}}let s,o;for(s=n,o=a.length;s<o-1&&!Vx(a,s);s++);if(s!==n){let f;const d=s<o-1;d?f=`AAC PES did not start with ADTS header,offset:${s}`:f="No ADTS header found in AAC PES";const h=new Error(f);if(Z.warn(`parsing error: ${f}`),this.observer.emit(V.ERROR,V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,fatal:!1,levelRetry:d,error:h,reason:f}),!d)return}Kq(e,this.observer,a,s,this.audioCodec);let l;if(r.pts!==void 0)l=r.pts;else if(i){const f=Qq(e.samplerate);l=i.sample.pts+f}else{Z.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,c;for(;s<o;)if(c=Zq(e,a,s,l,u),s+=c.length,c.missing){this.aacOverFlow=c;break}else for(u++;s<o-1&&!Vx(a,s);s++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let a=0,s=0;const o=r.pts;if(o===void 0){Z.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<i;)if(eK(n,s)){const l=Xq(e,n,s,o,a);if(l)s+=l.length,a++;else break}else s++}parseID3PES(e,r){if(r.pts===void 0){Z.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=ln({},r,{type:this._avcTrack?Ha.emsg:Ha.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function tb(t,e,r,n){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:n,length:0}}function P6(t,e){return((t[e+1]&31)<<8)+t[e+2]}function r8e(t,e){return(t[e+10]&31)<<8|t[e+11]}function n8e(t,e,r,n){const i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],s=e+3+a-4,o=(t[e+10]&15)<<8|t[e+11];for(e+=12+o;e<s;){const l=P6(t,e);switch(t[e]){case 207:if(!n){Z.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:i.audio===-1&&(i.audio=l);break;case 21:i.id3===-1&&(i.id3=l);break;case 219:if(!n){Z.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:i.avc===-1&&(i.avc=l);break;case 3:case 4:r.mpeg!==!0&&r.mp3!==!0?Z.log("MPEG audio found, not supported in this browser"):i.audio===-1&&(i.audio=l,i.segmentCodec="mp3");break;case 36:Z.warn("Unsupported HEVC stream type found");break}e+=((t[e+3]&15)<<8|t[e+4])+5}return i}function _f(t){let e=0,r,n,i,a,s;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;){const u=new Uint8Array(o[0].length+o[1].length);u.set(o[0]),u.set(o[1],o[0].length),o[0]=u,o.splice(1,1)}if(r=o[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(n=(r[4]<<8)+r[5],n&&n>t.size-6)return null;const u=r[7];u&192&&(a=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,u&64?(s=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,a-s>60*9e4&&(Z.warn(`${Math.round((a-s)/9e4)}s delta between PTS and DTS, align them`),a=s)):s=a),i=r[8];let c=i+9;if(t.size<=c)return null;t.size-=c;const f=new Uint8Array(t.size);for(let d=0,h=o.length;d<h;d++){r=o[d];let p=r.byteLength;if(c)if(c>p){c-=p;continue}else r=r.subarray(c),p-=c,c=0;f.set(r,e),e+=p}return n&&(n-=i+3),{data:f,pts:a,dts:s,len:n}}return null}function N0(t,e){if(t.units.length&&t.frame){if(t.pts===void 0){const r=e.samples,n=r.length;if(n){const i=r[n-1];t.pts=i.pts,t.dts=i.dts}else{e.dropped++;return}}e.samples.push(t)}t.debug.length&&Z.log(t.pts+"/"+t.dts+":"+t.debug)}class i8e extends Hq{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let n=(Fx(e,0)||[]).length;for(let i=e.length;n<i;n++)if(e8e(e,n))return Z.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return J5e(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return Xq(e,r,n,this.basePTS,this.frameIndex)}}class D7{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const bl=Math.pow(2,32)-1;class ae{static init(){ae.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in ae.types)ae.types.hasOwnProperty(e)&&(ae.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ae.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);ae.STTS=ae.STSC=ae.STCO=a,ae.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ae.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ae.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ae.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);ae.FTYP=ae.box(ae.types.ftyp,s,l,s,o),ae.DINF=ae.box(ae.types.dinf,ae.box(ae.types.dref,i))}static box(e,...r){let n=8,i=r.length;const a=i;for(;i--;)n+=r[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(e,4),i=0,n=8;i<a;i++)s.set(r[i],n),n+=r[i].byteLength;return s}static hdlr(e){return ae.box(ae.types.hdlr,ae.HDLR_TYPES[e])}static mdat(e){return ae.box(ae.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(bl+1)),i=Math.floor(r%(bl+1));return ae.box(ae.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return ae.box(ae.types.mdia,ae.mdhd(e.timescale,e.duration),ae.hdlr(e.type),ae.minf(e))}static mfhd(e){return ae.box(ae.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?ae.box(ae.types.minf,ae.box(ae.types.smhd,ae.SMHD),ae.DINF,ae.stbl(e)):ae.box(ae.types.minf,ae.box(ae.types.vmhd,ae.VMHD),ae.DINF,ae.stbl(e))}static moof(e,r,n){return ae.box(ae.types.moof,ae.mfhd(e),ae.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=ae.trak(e[r]);return ae.box.apply(null,[ae.types.moov,ae.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(ae.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=ae.trex(e[r]);return ae.box.apply(null,[ae.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(bl+1)),i=Math.floor(r%(bl+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ae.box(ae.types.mvhd,a)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,a;for(i=0;i<r.length;i++)a=r[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return ae.box(ae.types.sdtp,n)}static stbl(e){return ae.box(ae.types.stbl,ae.stsd(e),ae.box(ae.types.stts,ae.STTS),ae.box(ae.types.stsc,ae.STSC),ae.box(ae.types.stsz,ae.STSZ),ae.box(ae.types.stco,ae.STCO))}static avc1(e){let r=[],n=[],i,a,s;for(i=0;i<e.sps.length;i++)a=e.sps[i],s=a.byteLength,r.push(s>>>8&255),r.push(s&255),r=r.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],s=a.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(a));const o=ae.box(ae.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),l=e.width,u=e.height,c=e.pixelRatio[0],f=e.pixelRatio[1];return ae.box(ae.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,ae.box(ae.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ae.box(ae.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,c&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config.length;return new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(e.config).concat([6,1,2]))}static mp4a(e){const r=e.samplerate;return ae.box(ae.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]),ae.box(ae.types.esds,ae.esds(e)))}static mp3(e){const r=e.samplerate;return ae.box(ae.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?ae.box(ae.types.stsd,ae.STSD,ae.mp3(e)):ae.box(ae.types.stsd,ae.STSD,ae.mp4a(e)):ae.box(ae.types.stsd,ae.STSD,ae.avc1(e))}static tkhd(e){const r=e.id,n=e.duration*e.timescale,i=e.width,a=e.height,s=Math.floor(n/(bl+1)),o=Math.floor(n%(bl+1));return ae.box(ae.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,r){const n=ae.sdtp(e),i=e.id,a=Math.floor(r/(bl+1)),s=Math.floor(r%(bl+1));return ae.box(ae.types.traf,ae.box(ae.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),ae.box(ae.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255])),ae.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,ae.box(ae.types.trak,ae.tkhd(e),ae.mdia(e))}static trex(e){const r=e.id;return ae.box(ae.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,a=12+16*i,s=new Uint8Array(a);let o,l,u,c,f,d;for(r+=8+a,s.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),o=0;o<i;o++)l=n[o],u=l.duration,c=l.size,f=l.flags,d=l.cts,s.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,d>>>24&255,d>>>16&255,d>>>8&255,d&255],12+16*o);return ae.box(ae.types.trun,s)}static initSegment(e){ae.types||ae.init();const r=ae.moov(e),n=new Uint8Array(ae.FTYP.byteLength+r.byteLength);return n.set(ae.FTYP),n.set(r,ae.FTYP.byteLength),n}}ae.types=void 0;ae.HDLR_TYPES=void 0;ae.STTS=void 0;ae.STSC=void 0;ae.STCO=void 0;ae.STSZ=void 0;ae.VMHD=void 0;ae.SMHD=void 0;ae.STSD=void 0;ae.FTYP=void 0;ae.DINF=void 0;const tK=9e4;function yk(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function a8e(t,e,r=1,n=!1){return yk(t,e,1/r,n)}function L0(t,e=!1){return yk(t,1e3,1/tK,e)}function s8e(t,e=1){return yk(t,tK,1/e)}const o8e=10*1e3,M7=1024,l8e=1152;let rb=null,AA=null;class RA{constructor(e,r,n,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,rb===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);rb=s?parseInt(s[1]):0}if(AA===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);AA=a?parseInt(a[1]):0}}destroy(){}resetTimeStamp(e){Z.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){Z.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Z.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(e){let r=!1;const n=e.reduce((i,a)=>{const s=a.pts-i;return s<-4294967296?(r=!0,fa(i,a.pts)):s>0?i:a.pts},e[0].pts);return r&&Z.debug("PTS rollover detected"),n}remux(e,r,n,i,a,s,o,l){let u,c,f,d,h,p,m=a,g=a;const v=e.pid>-1,b=r.pid>-1,w=r.samples.length,E=e.samples.length>0,R=o&&w>0||w>1;if((!v||E)&&(!b||R)||this.ISGenerated||o){this.ISGenerated||(f=this.generateIS(e,r,a,s));const D=this.isVideoContiguous;let N=-1,F;if(R&&(N=u8e(r.samples),!D&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,N>0){Z.warn(`[mp4-remuxer]: Dropped ${N} out of ${w} video samples due to a missing keyframe`);const $=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(N),r.dropped+=N,g+=(r.samples[0].pts-$)/r.inputTimeScale,F=g}else N===-1&&(Z.warn(`[mp4-remuxer]: No keyframe found out of ${w} video samples`),p=!1);if(this.ISGenerated){if(E&&R){const $=this.getVideoStartPts(r.samples),k=(fa(e.samples[0].pts,$)-$)/r.inputTimeScale;m+=Math.max(0,k),g+=Math.max(0,-k)}if(E){if(e.samplerate||(Z.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,r,a,s)),c=this.remuxAudio(e,m,this.isAudioContiguous,s,b||R||l===Xe.AUDIO?g:void 0),R){const $=c?c.endPTS-c.startPTS:0;r.inputTimeScale||(Z.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,r,a,s)),u=this.remuxVideo(r,g,D,$)}}else R&&(u=this.remuxVideo(r,g,D,0));u&&(u.firstKeyFrame=N,u.independent=N!==-1,u.firstKeyFramePTS=F)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=rK(n,a,this._initPTS,this._initDTS)),i.samples.length&&(d=nK(i,a,this._initPTS))),{audio:c,video:u,initSegment:f,independent:p,text:d,id3:h}}generateIS(e,r,n,i){const a=e.samples,s=r.samples,o=this.typeSupported,l={},u=this._initPTS;let c=!u||i,f="audio/mp4",d,h,p;if(c&&(d=h=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break}l.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):ae.initSegment([e]),metadata:{channelCount:e.channelCount}},c&&(p=e.inputTimeScale,!u||p!==u.timescale?d=h=a[0].pts-Math.round(p*n):c=!1)}if(r.sps&&r.pps&&s.length&&(r.timescale=r.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:ae.initSegment([r]),metadata:{width:r.width,height:r.height}},c))if(p=r.inputTimeScale,!u||p!==u.timescale){const m=this.getVideoStartPts(s),g=Math.round(p*n);h=Math.min(h,fa(s[0].dts,m)-g),d=Math.min(d,m-g)}else c=!1;if(Object.keys(l).length)return this.ISGenerated=!0,c?(this._initPTS={baseTime:d,timescale:p},this._initDTS={baseTime:h,timescale:p}):d=p=void 0,{tracks:l,initPTS:d,timescale:p}}remuxVideo(e,r,n,i){const a=e.inputTimeScale,s=e.samples,o=[],l=s.length,u=this._initPTS;let c=this.nextAvcDts,f=8,d=this.videoSampleDuration,h,p,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;if(!n||c===null){const P=r*a,M=s[0].pts-fa(s[0].dts,s[0].pts);c=P-M}const b=u.baseTime*a/u.timescale;for(let P=0;P<l;P++){const M=s[P];M.pts=fa(M.pts-b,c),M.dts=fa(M.dts-b,c),M.dts<s[P>0?P-1:P].dts&&(v=!0)}v&&s.sort(function(P,M){const B=P.dts-M.dts,L=P.pts-M.pts;return B||L}),h=s[0].dts,p=s[s.length-1].dts;const w=p-h,E=w?Math.round(w/(l-1)):d||e.inputTimeScale/30;if(n){const P=h-c,M=P>E,B=P<-1;if((M||B)&&(M?Z.warn(`AVC: ${L0(P,!0)} ms (${P}dts) hole between fragments detected, filling it`):Z.warn(`AVC: ${L0(-P,!0)} ms (${P}dts) overlapping between fragments detected`),!B||c>=s[0].pts)){h=c;const L=s[0].pts-P;s[0].dts=h,s[0].pts=L,Z.log(`Video: First PTS/DTS adjusted: ${L0(L,!0)}/${L0(h,!0)}, delta: ${L0(P,!0)} ms`)}}h=Math.max(0,h);let R=0,I=0;for(let P=0;P<l;P++){const M=s[P],B=M.units,L=B.length;let _=0;for(let U=0;U<L;U++)_+=B[U].data.length;I+=_,R+=L,M.length=_,M.dts=Math.max(M.dts,h),m=Math.min(M.pts,m),g=Math.max(M.pts,g)}p=s[l-1].dts;const D=I+4*R+8;let N;try{N=new Uint8Array(D)}catch(P){this.observer.emit(V.ERROR,V.ERROR,{type:Ze.MUX_ERROR,details:ue.REMUX_ALLOC_ERROR,fatal:!1,error:P,bytes:D,reason:`fail allocating video mdat ${D}`});return}const F=new DataView(N.buffer);F.setUint32(0,D),N.set(ae.types.mdat,4);let $=!1,z=Number.POSITIVE_INFINITY,k=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY,y=Number.NEGATIVE_INFINITY;for(let P=0;P<l;P++){const M=s[P],B=M.units;let L=0;for(let G=0,O=B.length;G<O;G++){const Y=B[G],H=Y.data,W=Y.data.byteLength;F.setUint32(f,W),f+=4,N.set(H,f),f+=W,L+=4+W}let _;if(P<l-1)d=s[P+1].dts-M.dts,_=s[P+1].pts-M.pts;else{const G=this.config,O=P>0?M.dts-s[P-1].dts:E;if(_=P>0?M.pts-s[P-1].pts:E,G.stretchShortVideoTrack&&this.nextAudioPts!==null){const Y=Math.floor(G.maxBufferHole*a),H=(i?m+i*a:this.nextAudioPts)-M.pts;H>Y?(d=H-O,d<0?d=O:$=!0,Z.log(`[mp4-remuxer]: It is approximately ${H/90} ms to the next segment; using duration ${d/90} ms for the last video frame.`)):d=O}else d=O}const U=Math.round(M.pts-M.dts);z=Math.min(z,d),A=Math.max(A,d),k=Math.min(k,_),y=Math.max(y,_),o.push(new $7(M.key,d,L,U))}if(o.length){if(rb){if(rb<70){const P=o[0].flags;P.dependsOn=2,P.isNonSync=0}}else if(AA&&y-k<A-z&&E/A<.025&&o[0].cts===0){Z.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let P=h;for(let M=0,B=o.length;M<B;M++){const L=P+o[M].duration,_=P+o[M].cts;if(M<B-1){const U=L+o[M+1].cts;o[M].duration=U-_}else o[M].duration=M?o[M-1].duration:E;o[M].cts=0,P=L}}}d=$||!d?E:d,this.nextAvcDts=c=p+d,this.videoSampleDuration=d,this.isVideoContiguous=!0;const x=ae.moof(e.sequenceNumber++,h,ln({},e,{samples:o})),S="video",C={data1:x,data2:N,startPTS:m/a,endPTS:(g+d)/a,startDTS:h/a,endDTS:c/a,type:S,hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,C}remuxAudio(e,r,n,i,a){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,l=s/o,u=e.segmentCodec==="aac"?M7:l8e,c=u*l,f=this._initPTS,d=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],p=a!==void 0;let m=e.samples,g=d?0:8,v=this.nextAudioPts||-1;const b=r*s,w=f.baseTime*s/f.timescale;if(this.isAudioContiguous=n=n||m.length&&v>0&&(i&&Math.abs(b-v)<9e3||Math.abs(fa(m[0].pts-w,b)-v)<20*c),m.forEach(function(S){S.pts=fa(S.pts-w,b)}),!n||v<0){if(m=m.filter(S=>S.pts>=0),!m.length)return;a===0?v=0:i&&!p?v=Math.max(0,b):v=m[0].pts}if(e.segmentCodec==="aac"){const S=this.config.maxAudioFramesDrift;for(let C=0,P=v;C<m.length;C++){const M=m[C],B=M.pts,L=B-P,_=Math.abs(1e3*L/s);if(L<=-S*c&&p)C===0&&(Z.warn(`Audio frame @ ${(B/s).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*L/s)} ms.`),this.nextAudioPts=v=P=B);else if(L>=S*c&&_<o8e&&p){let U=Math.round(L/c);P=B-U*c,P<0&&(U--,P+=c),C===0&&(this.nextAudioPts=v=P),Z.warn(`[mp4-remuxer]: Injecting ${U} audio frame @ ${(P/s).toFixed(3)}s due to ${Math.round(1e3*L/s)} ms gap.`);for(let G=0;G<U;G++){const O=Math.max(P,0);let Y=D7.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Y||(Z.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Y=M.unit.subarray()),m.splice(C,0,{unit:Y,pts:O}),P+=c,C++}}M.pts=P,P+=c}}let E=null,R=null,I,D=0,N=m.length;for(;N--;)D+=m[N].unit.byteLength;for(let S=0,C=m.length;S<C;S++){const P=m[S],M=P.unit;let B=P.pts;if(R!==null){const _=h[S-1];_.duration=Math.round((B-R)/l)}else if(n&&e.segmentCodec==="aac"&&(B=v),E=B,D>0){D+=g;try{I=new Uint8Array(D)}catch(_){this.observer.emit(V.ERROR,V.ERROR,{type:Ze.MUX_ERROR,details:ue.REMUX_ALLOC_ERROR,fatal:!1,error:_,bytes:D,reason:`fail allocating audio mdat ${D}`});return}d||(new DataView(I.buffer).setUint32(0,D),I.set(ae.types.mdat,4))}else return;I.set(M,g);const L=M.byteLength;g+=L,h.push(new $7(!0,u,L,0)),R=B}const F=h.length;if(!F)return;const $=h[h.length-1];this.nextAudioPts=v=R+l*$.duration;const z=d?new Uint8Array(0):ae.moof(e.sequenceNumber++,E/l,ln({},e,{samples:h}));e.samples=[];const k=E/s,A=v/s,x={data1:z,data2:I,startPTS:k,endPTS:A,startDTS:k,endDTS:A,type:"audio",hasAudio:!0,hasVideo:!1,nb:F};return this.isAudioContiguous=!0,x}remuxEmptyAudio(e,r,n,i){const a=e.inputTimeScale,s=e.samplerate?e.samplerate:a,o=a/s,l=this.nextAudioPts,u=this._initDTS,c=u.baseTime*9e4/u.timescale,f=(l!==null?l:i.startDTS*a)+c,d=i.endDTS*a+c,h=o*M7,p=Math.ceil((d-f)/h),m=D7.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(Z.warn("[mp4-remuxer]: remux empty Audio"),!m){Z.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const g=[];for(let v=0;v<p;v++){const b=f+v*h;g.push({unit:m,pts:b,dts:b})}return e.samples=g,this.remuxAudio(e,r,n,!1)}}function fa(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function u8e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function rK(t,e,r,n){const i=t.samples.length;if(!i)return;const a=t.inputTimeScale;for(let o=0;o<i;o++){const l=t.samples[o];l.pts=fa(l.pts-r.baseTime*a/r.timescale,e*a)/a,l.dts=fa(l.dts-n.baseTime*a/n.timescale,e*a)/a}const s=t.samples;return t.samples=[],{samples:s}}function nK(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let s=0;s<n;s++){const o=t.samples[s];o.pts=fa(o.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((s,o)=>s.pts-o.pts);const a=t.samples;return t.samples=[],{samples:a}}class $7{constructor(e,r,n,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=r,this.size=n,this.cts=i,this.flags=new c8e(e)}}class c8e{constructor(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}}class f8e{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(kke(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=Oq(e);r||(r=F7(i.audio,rr.AUDIO)),n||(n=F7(i.video,rr.VIDEO));const a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:e,id:"main"}:i.audio?a.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:i.video?a.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:Z.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=a}remux(e,r,n,i,a,s){var o,l;let{initPTS:u,lastEndTime:c}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};Ge(c)||(c=this.lastEndTime=a||0);const d=r.samples;if(!(d!=null&&d.length))return f;const h={initPTS:void 0,timescale:1};let p=this.initData;if((o=p)!=null&&o.length||(this.generateInitSegment(d),p=this.initData),!((l=p)!=null&&l.length))return Z.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=Nke(d,p),g=Oke(p,d),v=g===null?a:g;(d8e(u,v,a,m)||h.timescale!==u.timescale&&s)&&(h.initPTS=v-a,u&&u.timescale===1&&Z.warn(`Adjusting initPTS by ${h.initPTS-u.baseTime}`),this.initPTS=u={baseTime:h.initPTS,timescale:1});const b=e?v-u.baseTime/u.timescale:c,w=b+m;Dke(p,d,u.baseTime/u.timescale),m>0?this.lastEndTime=w:(Z.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const E=!!p.audio,R=!!p.video;let I="";E&&(I+="audio"),R&&(I+="video");const D={data1:d,startPTS:b,startDTS:b,endPTS:w,endDTS:w,type:I,hasAudio:E,hasVideo:R,nb:1,dropped:0};return f.audio=D.type==="audio"?D:void 0,f.video=D.type!=="audio"?D:void 0,f.initSegment=h,f.id3=rK(n,a,u,u),i.samples.length&&(f.text=nK(i,a,u)),f}}function d8e(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>i}function F7(t,e){const r=t?.codec;return r&&r.length>4?r:r==="hvc1"||r==="hev1"?"hvc1.1.6.L120.90":r==="av01"?"av01.0.04M.08":r==="avc1"||e===rr.VIDEO?"avc1.42e01e":"mp4a.40.5"}let uo;try{uo=self.performance.now.bind(self.performance)}catch{Z.debug("Unable to use Performance API on this environment"),uo=typeof self<"u"&&self.Date.now}const _A=[{demux:q5e,remux:f8e},{demux:Pl,remux:RA},{demux:H5e,remux:RA},{demux:i8e,remux:RA}];class B7{constructor(e,r,n,i,a){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.vendor=i,this.id=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const a=n.transmuxing;a.executeStart=uo();let s=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:c,trackSwitch:f,accurateTimeOffset:d,timeOffset:h,initSegmentChange:p}=i||o,{audioCodec:m,videoCodec:g,defaultInitPts:v,duration:b,initSegmentData:w}=l,E=h8e(s,r);if(E&&E.method==="AES-128"){const N=this.getDecrypter();if(N.isSync()){let F=N.softwareDecrypt(s,E.key.buffer,E.iv.buffer);if(n.part>-1&&(F=N.flush()),!F)return a.executeEnd=uo(),IA(n);s=new Uint8Array(F)}else return this.decryptionPromise=N.webCryptoDecrypt(s,E.key.buffer,E.iv.buffer).then(F=>{const $=this.push(F,null,n);return this.decryptionPromise=null,$}),this.decryptionPromise}const R=this.needsProbing(c,f);if(R){const N=this.configureTransmuxer(s);if(N)return Z.warn(`[transmuxer] ${N.message}`),this.observer.emit(V.ERROR,V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,fatal:!1,error:N,reason:N.message}),a.executeEnd=uo(),IA(n)}(c||f||p||R)&&this.resetInitSegment(w,m,g,b,r),(c||p||R)&&this.resetInitialTimestamp(v),u||this.resetContiguity();const I=this.transmux(s,E,h,d,n),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,a.executeEnd=uo(),I}flush(e){const r=e.transmuxing;r.executeStart=uo();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return a.then(()=>this.flush(e));const s=[],{timeOffset:o}=i;if(n){const f=n.flush();f&&s.push(this.push(f,null,e))}const{demuxer:l,remuxer:u}=this;if(!l||!u)return r.executeEnd=uo(),[IA(e)];const c=l.flush(o);return s1(c)?c.then(f=>(this.flushRemux(s,f,e),s)):(this.flushRemux(s,c,e),s)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=r,{accurateTimeOffset:l,timeOffset:u}=this.currentTransmuxState;Z.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const c=this.remuxer.remux(i,a,s,o,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=uo()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,a){const{demuxer:s,remuxer:o}=this;!s||!o||(s.resetInitSegment(e,r,n,i),o.resetInitSegment(e,r,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,a){let s;return r&&r.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,r,n,i,a):s=this.transmuxUnencrypted(e,n,i,a),s}transmuxUnencrypted(e,r,n,i){const{audioTrack:a,videoTrack:s,id3Track:o,textTrack:l}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,s,o,l,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,a){return this.demuxer.demuxSampleAes(e,r,n).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i,vendor:a}=this;let s;for(let f=0,d=_A.length;f<d;f++)if(_A[f].demux.probe(e)){s=_A[f];break}if(!s)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,l=this.remuxer,u=s.remux,c=s.demux;(!l||!(l instanceof u))&&(this.remuxer=new u(n,r,i,a)),(!o||!(o instanceof c))&&(this.demuxer=new c(n,r,i),this.probe=c.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new pk(this.config)),e}}function h8e(t,e){let r=null;return t.byteLength>0&&e!=null&&e.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const IA=t=>({remuxResult:{},chunkMeta:t});function s1(t){return"then"in t&&t.then instanceof Function}class p8e{constructor(e,r,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class m8e{constructor(e,r,n,i,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s}}var iK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,d,h,p){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,h),!0;case 6:return g.fn.call(g.context,c,f,d,h,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var E=g.length,R;for(w=0;w<E;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,c);break;case 3:g[w].fn.call(g[w].context,c,f);break;case 4:g[w].fn.call(g[w].context,c,f,d);break;default:if(!b)for(R=1,b=new Array(v-1);R<v;R++)b[R-1]=arguments[R];g[w].fn.apply(g[w].context,b)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,d){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(iK);var g8e=iK.exports,bk=tke(g8e);const CA=Y2()||{isTypeSupported:()=>!1};class aK{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const a=e.config;this.hls=e,this.id=r,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(u,c)=>{c=c||{},c.frag=this.frag,c.id=this.id,u===V.ERROR&&(this.error=c.error),this.hls.trigger(u,c)};this.observer=new bk,this.observer.on(V.FRAG_DECRYPTED,s),this.observer.on(V.ERROR,s);const o={mp4:CA.isTypeSupported("video/mp4"),mpeg:CA.isTypeSupported("audio/mpeg"),mp3:CA.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(a.workerPath||$5e())){try{a.workerPath?(Z.log(`loading Web Worker ${a.workerPath} for "${r}"`),this.workerContext=B5e(a.workerPath)):(Z.log(`injecting Web Worker for "${r}"`),this.workerContext=F5e()),this.onwmsg=f=>this.onWorkerMessage(f);const{worker:c}=this.workerContext;c.addEventListener("message",this.onwmsg),c.onerror=f=>{const d=new Error(`${f.message}  (${f.filename}:${f.lineno})`);a.enableWorker=!1,Z.warn(`Error in "${r}" Web Worker, fallback to inline`),this.hls.trigger(V.ERROR,{type:Ze.OTHER_ERROR,details:ue.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})},c.postMessage({cmd:"init",typeSupported:o,vendor:l,id:r,config:JSON.stringify(a)})}catch(c){Z.warn(`Error setting up "${r}" Web Worker, fallback to inline`,c),this.resetWorker(),this.error=null,this.transmuxer=new B7(this.observer,o,a,l,r)}return}this.transmuxer=new B7(this.observer,o,a,l,r)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:r}=this.workerContext;r&&self.URL.revokeObjectURL(r),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,r,n,i,a,s,o,l,u,c){var f,d;u.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=s?s.start:a.start,m=a.decryptdata,g=this.frag,v=!(g&&a.cc===g.cc),b=!(g&&u.level===g.level),w=g?u.sn-g.sn:-1,E=this.part?u.part-this.part.index:-1,R=w===0&&u.id>1&&u.id===g?.stats.chunkCount,I=!b&&(w===1||w===0&&(E===1||R&&E<=0)),D=self.performance.now();(b||w||a.stats.parsing.start===0)&&(a.stats.parsing.start=D),s&&(E||!I)&&(s.stats.parsing.start=D);const N=!(g&&((f=a.initSegment)==null?void 0:f.url)===((d=g.initSegment)==null?void 0:d.url)),F=new m8e(v,I,l,b,p,N);if(!I||v||N){Z.log(`[transmuxer-interface, ${a.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}
        discontinuity: ${v}
        trackSwitch: ${b}
        contiguous: ${I}
        accurateTimeOffset: ${l}
        timeOffset: ${p}
        initSegmentChange: ${N}`);const $=new p8e(n,i,r,o,c);this.configureTransmuxer($)}if(this.frag=a,this.part=s,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:u,state:F},e instanceof ArrayBuffer?[e]:[]);else if(h){const $=h.push(e,m,u,F);s1($)?(h.async=!0,$.then(z=>{this.handleTransmuxComplete(z)}).catch(z=>{this.transmuxerError(z,u,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete($))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){let n=r.flush(e);s1(n)||r.async?(s1(n)||(n=Promise.resolve(n)),n.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")})):this.handleFlushResult(n,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_PARSING_ERROR,chunkMeta:r,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}onWorkerMessage(e){const r=e.data,n=this.hls;switch(r.event){case"init":{var i;const a=(i=this.workerContext)==null?void 0:i.objectURL;a&&self.URL.revokeObjectURL(a);break}case"transmuxComplete":{this.handleTransmuxComplete(r.data);break}case"flush":{this.onFlush(r.data);break}case"workerLog":Z[r.data.logType]&&Z[r.data.logType](r.data.message);break;default:{r.data=r.data||{},r.data.frag=this.frag,r.data.id=this.id,n.trigger(r.event,r.data);break}}}configureTransmuxer(e){const{transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const v8e=250,PA=2,y8e=.1,b8e=.05;class x8e{constructor(e,r,n,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=r,this.fragmentTracker=n,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,r){const{config:n,media:i,stalled:a}=this;if(i===null)return;const{currentTime:s,seeking:o}=i,l=this.seeking&&!o,u=!this.seeking&&o;if(this.seeking=o,s!==e){if(this.moved=!0,a!==null){if(this.stallReported){const v=self.performance.now()-a;Z.warn(`playback not stuck anymore @${s}, after ${Math.round(v)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(u||l){this.stalled=null;return}if(i.paused&&!o||i.ended||i.playbackRate===0||!pr.getBuffered(i).length)return;const c=pr.bufferInfo(i,s,0),f=c.len>0,d=c.nextStart||0;if(!f&&!d)return;if(o){const v=c.len>PA,b=!d||r&&r.start<=s||d-s>PA&&!this.fragmentTracker.getPartialFragment(s);if(v||b)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var h;const v=Math.max(d,c.start||0)-s,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(b==null||(h=b.details)==null?void 0:h.live)?b.details.targetduration*2:PA,R=this.fragmentTracker.getPartialFragment(s);if(v>0&&(v<=E||R)){this._trySkipBufferHole(R);return}}const p=self.performance.now();if(a===null){this.stalled=p;return}const m=p-a;if(!o&&m>=v8e&&(this._reportStall(c),!this.media))return;const g=pr.bufferInfo(i,s,n.maxBufferHole);this._tryFixBufferStall(g,m)}_tryFixBufferStall(e,r){const{config:n,fragmentTracker:i,media:a}=this;if(a===null)return;const s=a.currentTime,o=i.getPartialFragment(s);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-s<n.maxBufferHole)&&r>n.highBufferWatchdogPeriod*1e3&&(Z.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:r,media:n,stallReported:i}=this;if(!i&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(e)})`);Z.warn(a.message),r.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len})}}_trySkipBufferHole(e){const{config:r,hls:n,media:i}=this;if(i===null)return 0;const a=i.currentTime,s=pr.bufferInfo(i,a,0),o=a<s.start?s.start:s.nextStart;if(o){const l=s.len<=r.maxBufferHole,u=s.len>0&&s.len<1&&i.readyState<3,c=o-a;if(c>0&&(l||u)){if(c>r.maxBufferHole){const{fragmentTracker:d}=this;let h=!1;if(a===0){const p=d.getAppendedFrag(0,Xe.MAIN);p&&o<p.end&&(h=!0)}if(!h){const p=e||d.getAppendedFrag(a,Xe.MAIN);if(p){let m=!1,g=p.end;for(;g<o;){const v=d.getPartialFragment(g);if(v)g+=v.duration;else{m=!0;break}}if(m)return 0}}}const f=Math.max(o+b8e,a+y8e);if(Z.warn(`skipping hole, adjusting currentTime from ${a} to ${f}`),this.moved=!0,this.stalled=null,i.currentTime=f,e&&!e.gap){const d=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${f}`);n.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:e})}return f}}return 0}_tryNudgeBuffer(){const{config:e,hls:r,media:n,nudgeRetry:i}=this;if(n===null)return;const a=n.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const s=a+(i+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${a} to ${s}`);Z.warn(o.message),n.currentTime=s,r.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const s=new Error(`Playhead still not moving while enough data buffered @${a} after ${e.nudgeMaxRetry} nudges`);Z.error(s.message),r.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}const w8e=100;class E8e extends mk{constructor(e,r,n){super(e,r,n,"[stream-controller]",Xe.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.LEVEL_LOADING,this.onLevelLoading,this),e.on(V.LEVEL_LOADED,this.onLevelLoaded,this),e.on(V.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(V.ERROR,this.onError,this),e.on(V.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(V.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(V.BUFFER_CREATED,this.onBufferCreated,this),e.on(V.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(V.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(V.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.LEVEL_LOADED,this.onLevelLoaded,this),e.off(V.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(V.ERROR,this.onError,this),e.off(V.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(V.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(V.BUFFER_CREATED,this.onBufferCreated,this),e.off(V.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(V.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(V.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(e){if(this.levels){const{lastCurrentTime:r,hls:n}=this;if(this.stopLoad(),this.setInterval(w8e),this.level=-1,!this.startFragRequested){let i=n.startLevel;i===-1&&(n.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}r>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=pe.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=pe.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case pe.WAITING_LEVEL:{var e;const{levels:n,level:i}=this,a=n==null||(e=n[i])==null?void 0:e.details;if(a&&(!a.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(a))break;this.state=pe.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=pe.IDLE;break}break}case pe.FRAG_LOADING_WAITING_RETRY:{var r;const n=self.performance.now(),i=this.retryDate;(!i||n>=i||(r=this.media)!=null&&r.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=pe.IDLE)}break}this.state===pe.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this,{config:a,nextLoadLevel:s}=e;if(r===null||!i&&(this.startFragRequested||!a.startFragPrefetch)||this.altAudio&&this.audioOnly||!(n!=null&&n[s]))return;const o=n[s],l=this.getMainFwdBufferInfo();if(l===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(l,u)){const g={};this.altAudio&&(g.type="video"),this.hls.trigger(V.BUFFER_EOS,g),this.state=pe.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=o.details;if(!c||this.state===pe.WAITING_LEVEL||c.live&&this.levelLastLoaded!==s){this.level=s,this.state=pe.WAITING_LEVEL;return}const f=l.len,d=this.getMaxBufferLength(o.maxBitrate);if(f>=d)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:l.end;let p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&p.sn!=="initSegment"&&this.fragmentTracker.getState(p)!==mn.OK){var m;const v=((m=this.backtrackFragment)!=null?m:p).sn-c.startSN,b=c.fragments[v-1];b&&p.cc===b.cc&&(p=b,this.fragmentTracker.removeFragment(b))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){if(!p.gap){const v=this.audioOnly&&!this.altAudio?rr.AUDIO:rr.VIDEO,b=(v===rr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,v,Xe.MAIN)}p=this.getNextFragmentLoopLoading(p,c,l,Xe.MAIN,d)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,o,h))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===mn.NOT_LOADED||i===mn.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,r):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,super.loadFragment(e,r,n)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Xe.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<a.targetduration*2)return}if(!r.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],u=this.fragLastKbps;u&&this.fragCurrent?n=this.fragCurrent.duration*l.maxBitrate/(1e3*u)+1:n=0}else n=0;const s=this.getBufferedFrag(r.currentTime+n);if(s){const o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,u=o.duration,c=Math.max(s.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*.5),u*.75));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case pe.KEY_LOADING:case pe.FRAG_LOADING:case pe.FRAG_LOADING_WAITING_RETRY:case pe.PARSING:case pe.PARSED:this.state=pe.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new x8e(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,r=e?e.currentTime:null;Ge(r)&&this.log(`Media seeked to ${r.toFixed(3)}`);const n=this.getMainFwdBufferInfo();if(n===null||n.len===0){this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(V.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1,a;r.levels.forEach(s=>{a=s.audioCodec,a&&(a.indexOf("mp4a.40.2")!==-1&&(n=!0),a.indexOf("mp4a.40.5")!==-1&&(i=!0))}),this.audioCodecSwitch=n&&i&&!M5e(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==pe.IDLE)return;const i=n[r.level];(!i.details||i.details.live&&this.levelLastLoaded!==r.level||this.waitForCdnTuneIn(i.details))&&(this.state=pe.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i}=this,a=r.level,s=r.details,o=s.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""}, cc [${s.startCC}, ${s.endCC}] duration:${o}`);const l=i[a],u=this.fragCurrent;u&&(this.state===pe.FRAG_LOADING||this.state===pe.FRAG_LOADING_WAITING_RETRY)&&(u.level!==r.level||u.urlId!==l.urlId)&&u.loader&&this.abortCurrentFrag();let c=0;if(s.live||(n=l.details)!=null&&n.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;c=this.alignPlaylists(s,l.details)}if(l.details=s,this.levelLastLoaded=a,this.hls.trigger(V.LEVEL_UPDATED,{details:s,level:a}),this.state===pe.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=pe.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,c),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=s[n.level],l=o.details;if(!l){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const u=o.videoCodec,c=l.PTSKnown||!l.live,f=(r=n.initSegment)==null?void 0:r.data,d=this._getAudioCodec(o),h=this.transmuxer=this.transmuxer||new aK(this.hls,Xe.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,m=p!==-1,g=new dk(n.level,n.sn,n.stats.chunkCount,a.byteLength,p,m),v=this.initPTS[n.cc];h.push(a,f,d,u,n,i,l.totalduration,c,g,v)}onAudioTrackSwitching(e,r){const n=this.altAudio;if(!!!r.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const a=this.hls;n&&(a.trigger(V.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),a.trigger(V.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=r.id,i=!!this.hls.audioTracks[n].url;if(i){const a=this.videoBuffer;a&&this.mediaBuffer!==a&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=a)}this.altAudio=i,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,a,s=!1;for(const o in n){const l=n[o];if(l.id==="main"){if(a=o,i=l,o==="video"){const u=n[o];u&&(this.videoBuffer=u.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n&&n.type!==Xe.MAIN)return;if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===pe.PARSED&&(this.state=pe.IDLE);return}const a=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),n.sn!=="initSegment"&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=pe.ERROR;return}switch(r.details){case ue.FRAG_GAP:case ue.FRAG_PARSING_ERROR:case ue.FRAG_DECRYPT_ERROR:case ue.FRAG_LOAD_ERROR:case ue.FRAG_LOAD_TIMEOUT:case ue.KEY_LOAD_ERROR:case ue.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Xe.MAIN,r);break;case ue.LEVEL_LOAD_ERROR:case ue.LEVEL_LOAD_TIMEOUT:case ue.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===pe.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===Bt.LEVEL&&(this.state=pe.IDLE);break;case ue.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case ue.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}checkBuffer(){const{media:e,gapController:r}=this;if(!(!e||!r||!e.readyState)){if(this.loadedmetadata||!pr.getBuffered(e).length){const n=this.state!==pe.IDLE?this.fragCurrent:null;r.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=pe.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==rr.AUDIO||this.audioOnly&&!this.altAudio){const n=(r===rr.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,Xe.MAIN)}}onLevelsUpdated(e,r){this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=pr.getBuffered(e),s=(i.length?i.start(0):0)-n;s>0&&(s<this.config.maxBufferHole||s<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${s} to match buffer start`),n+=s,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${r}`),e.currentTime=n}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this;if(!n||this.fragContextChanged(e))return;r.fragmentError=0,this.state=pe.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(V.FRAG_LOADED,n),e.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const n="main",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:l,part:u,level:c}=o,{video:f,text:d,id3:h,initSegment:p}=a,{details:m}=c,g=this.altAudio?void 0:a.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=pe.PARSING,p){if(p!=null&&p.tracks){const w=l.initSegment||l;this._bufferInitSegment(c,p.tracks,w,s),i.trigger(V.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:n,tracks:p.tracks})}const v=p.initPTS,b=p.timescale;Ge(v)&&(this.initPTS[l.cc]={baseTime:v,timescale:b},i.trigger(V.INIT_PTS_FOUND,{frag:l,id:n,initPTS:v,timescale:b}))}if(f&&m&&l.sn!=="initSegment"){const v=m.fragments[l.sn-1-m.startSN],b=l.sn===m.startSN,w=!v||l.cc>v.cc;if(a.independent!==!1){const{startPTS:E,endPTS:R,startDTS:I,endDTS:D}=f;if(u)u.elementaryStreams[f.type]={startPTS:E,endPTS:R,startDTS:I,endDTS:D};else if(f.firstKeyFrame&&f.independent&&s.id===1&&!w&&(this.couldBacktrack=!0),f.dropped&&f.independent){const N=this.getMainFwdBufferInfo(),F=(N?N.end:this.getLoadPosition())+this.config.maxBufferHole,$=f.firstKeyFramePTS?f.firstKeyFramePTS:E;if(!b&&F<$-this.config.maxBufferHole&&!w){this.backtrack(l);return}else w&&(l.gap=!0);l.setElementaryStreamInfo(f.type,l.start,R,l.start,D,!0)}l.setElementaryStreamInfo(f.type,E,R,I,D),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(f,l,u,s,b||w)}else if(b||w)l.gap=!0;else{this.backtrack(l);return}}if(g){const{startPTS:v,endPTS:b,startDTS:w,endDTS:E}=g;u&&(u.elementaryStreams[rr.AUDIO]={startPTS:v,endPTS:b,startDTS:w,endDTS:E}),l.setElementaryStreamInfo(rr.AUDIO,v,b,w,E),this.bufferFragmentData(g,l,u,s)}if(m&&h!=null&&(r=h.samples)!=null&&r.length){const v={id:n,frag:l,details:m,samples:h.samples};i.trigger(V.FRAG_PARSING_METADATA,v)}if(m&&d){const v={id:n,frag:l,details:m,samples:d.samples};i.trigger(V.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,r,n,i){if(this.state!==pe.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&delete r.audio;const{audio:a,video:s,audiovideo:o}=r;if(a){let l=e.audioCodec;const u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5"),a.metadata.channelCount!==1&&u.indexOf("firefox")===-1&&(l="mp4a.40.5")),u.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),a.levelCodec=l,a.id="main",this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${a.codec}]`)}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${s.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.attrs.CODECS||""}/${o.codec}]`),this.hls.trigger(V.BUFFER_CODECS,r),Object.keys(r).forEach(l=>{const c=r[l].initSegment;c!=null&&c.byteLength&&this.hls.trigger(V.BUFFER_APPENDING,{type:l,data:c,frag:n,part:null,chunkMeta:i,parent:n.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Xe.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=pe.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(pr.isBuffered(e,n)?r=this.getAppendedFrag(n):pr.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,a=r.level;(!i||r.sn!==i.sn||i.level!==a||r.urlId!==i.urlId)&&(this.fragPlaying=r,this.hls.trigger(V.FRAG_CHANGED,{frag:r}),(!i||i.level!==a)&&this.hls.trigger(V.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const r=e.currentTime,n=this.currentFrag;if(n&&Ge(r)&&Ge(n.programDateTime)){const i=n.programDateTime+(r-n.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class If{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class S8e{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new If(e),this.fast_=new If(r),this.defaultTTFB_=i,this.ttfb_=new If(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new If(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new If(r,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new If(e,a.getEstimate(),a.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class T8e{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;const r=e.config;this.bwEstimator=new S8e(r.abrEwmaSlowVoD,r.abrEwmaFastVoD,r.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(V.FRAG_LOADING,this.onFragLoading,this),e.on(V.FRAG_LOADED,this.onFragLoaded,this),e.on(V.FRAG_BUFFERED,this.onFragBuffered,this),e.on(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(V.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:e}=this;e.off(V.FRAG_LOADING,this.onFragLoading,this),e.off(V.FRAG_LOADED,this.onFragLoaded,this),e.off(V.FRAG_BUFFERED,this.onFragBuffered,this),e.off(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(V.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(e,r){var n;const i=r.frag;this.ignoreFragment(i)||(this.fragCurrent=i,this.partCurrent=(n=r.part)!=null?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(e,r){this.clearTimer()}getTimeToLoadFrag(e,r,n,i){const a=e+n/r,s=i?this.lastLevelLoadSec:0;return a+s}onLevelLoaded(e,r){const n=this.hls.config,{total:i,bwEstimate:a}=r.stats;Ge(i)&&Ge(a)&&(this.lastLevelLoadSec=8*i/a),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:e,partCurrent:r,hls:n}=this,{autoLevelEnabled:i,media:a}=n;if(!e||!a)return;const s=performance.now(),o=r?r.stats:e.stats,l=r?r.duration:e.duration,u=s-o.loading.start;if(o.aborted||o.loaded&&o.loaded===o.total||e.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!i||a.paused||!a.playbackRate||!a.readyState)return;const c=n.mainForwardBufferInfo;if(c===null)return;const f=this.bwEstimator.getEstimateTTFB(),d=Math.abs(a.playbackRate);if(u<=Math.max(f,1e3*(l/(d*2))))return;const h=c.len/d;if(h>=2*l/d)return;const p=o.loading.first?o.loading.first-o.loading.start:-1,m=o.loaded&&p>-1,g=this.bwEstimator.getEstimate(),{levels:v,minAutoLevel:b}=n,w=v[e.level],E=o.total||Math.max(o.loaded,Math.round(l*w.maxBitrate/8));let R=u-p;R<1&&m&&(R=Math.min(u,o.loaded*8/g));const I=m?o.loaded*1e3/R:0,D=I?(E-o.loaded)/I:E*8/g+f/1e3;if(D<=h)return;const N=I?I*8:g;let F=Number.POSITIVE_INFINITY,$;for($=e.level-1;$>b;$--){const z=v[$].maxBitrate;if(F=this.getTimeToLoadFrag(f/1e3,N,l*z,!v[$].details),F<h)break}F>=D||F>l*10||(n.nextLoadLevel=$,m?this.bwEstimator.sample(u-Math.min(f,p),o.loaded):this.bwEstimator.sampleTTFB(u),this.clearTimer(),Z.warn(`[abr] Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} is loading too slowly;
      Time to underbuffer: ${h.toFixed(3)} s
      Estimated load time for current fragment: ${D.toFixed(3)} s
      Estimated load time for down switch fragment: ${F.toFixed(3)} s
      TTFB estimate: ${p}
      Current BW estimate: ${Ge(g)?(g/1024).toFixed(3):"Unknown"} Kb/s
      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s
      Aborting and switching to level ${$}`),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),n.trigger(V.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:r,stats:o}))}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===Xe.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(r.bitrateTest){const a={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(V.FRAG_BUFFERED,a),r.bitrateTest=!1}}}onFragBuffered(e,r){const{frag:n,part:i}=r,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const s=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,a.loaded),a.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Xe.MAIN||e.sn==="initSegment"}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const e=this._nextAutoLevel,r=this.bwEstimator;if(e!==-1&&!r.canEstimate())return e;let n=this.getNextABRAutoLevel();if(e!==-1){const i=this.hls.levels;if(i.length>Math.max(e,n)&&i[e].loadError<=i[n].loadError)return e}return e!==-1&&(n=Math.min(e,n)),n}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this,{maxAutoLevel:i,config:a,minAutoLevel:s,media:o}=n,l=r?r.duration:e?e.duration:0,u=o&&o.playbackRate!==0?Math.abs(o.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():a.abrEwmaDefaultEstimate,f=n.mainForwardBufferInfo,d=(f?f.len:0)/u;let h=this.findBestLevel(c,s,i,d,a.abrBandWidthFactor,a.abrBandWidthUpFactor);if(h>=0)return h;Z.trace(`[abr] ${d?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let p=l?Math.min(l,a.maxStarvationDelay):a.maxStarvationDelay,m=a.abrBandWidthFactor,g=a.abrBandWidthUpFactor;if(!d){const v=this.bitrateTestDelay;v&&(p=(l?Math.min(l,a.maxLoadingDelay):a.maxLoadingDelay)-v,Z.trace(`[abr] bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),m=g=1)}return h=this.findBestLevel(c,s,i,d+p,m,g),Math.max(h,0)}findBestLevel(e,r,n,i,a,s){var o;const{fragCurrent:l,partCurrent:u,lastLoadedFragLevel:c}=this,{levels:f}=this.hls,d=f[c],h=!!(d!=null&&(o=d.details)!=null&&o.live),p=d?.codecSet,m=u?u.duration:l?l.duration:0,g=this.bwEstimator.getEstimateTTFB()/1e3;let v=r,b=-1;for(let w=n;w>=r;w--){const E=f[w];if(!E||p&&E.codecSet!==p){E&&(v=Math.min(w,v),b=Math.max(w,b));continue}b!==-1&&Z.trace(`[abr] Skipped level(s) ${v}-${b} with CODECS:"${f[b].attrs.CODECS}"; not compatible with "${d.attrs.CODECS}"`);const R=E.details,I=(u?R?.partTarget:R?.averagetargetduration)||m;let D;w<=c?D=a*e:D=s*e;const N=f[w].maxBitrate,F=this.getTimeToLoadFrag(g,D,N*I,R===void 0);if(Z.trace(`[abr] level:${w} adjustedbw-bitrate:${Math.round(D-N)} avgDuration:${I.toFixed(1)} maxFetchDuration:${i.toFixed(1)} fetchDuration:${F.toFixed(1)}`),D>N&&(F===0||!Ge(F)||h&&!this.bitrateTestDelay||F<i))return w}return-1}set nextAutoLevel(e){this._nextAutoLevel=e}}class sK{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=A8e(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function A8e(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const a=t[i];r.set(a,n),n+=a.length}return r}const U7=100;class R8e extends mk{constructor(e,r,n){super(e,r,n,"[audio-stream-controller]",Xe.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.LEVEL_LOADED,this.onLevelLoaded,this),e.on(V.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(V.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(V.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(V.ERROR,this.onError,this),e.on(V.BUFFER_RESET,this.onBufferReset,this),e.on(V.BUFFER_CREATED,this.onBufferCreated,this),e.on(V.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(V.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(V.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.LEVEL_LOADED,this.onLevelLoaded,this),e.off(V.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(V.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(V.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(V.ERROR,this.onError,this),e.off(V.BUFFER_RESET,this.onBufferReset,this),e.off(V.BUFFER_CREATED,this.onBufferCreated,this),e.off(V.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(V.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(V.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){if(n==="main"){const s=r.cc;this.initPTS[r.cc]={baseTime:i,timescale:a},this.log(`InitPTS for cc: ${s} found from main: ${i}`),this.videoTrackCC=s,this.state===pe.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=pe.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(U7),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=pe.IDLE):(this.loadedmetadata=!1,this.state=pe.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case pe.IDLE:this.doTickIdle();break;case pe.WAITING_TRACK:{var e;const{levels:n,trackId:i}=this,a=n==null||(e=n[i])==null?void 0:e.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=pe.WAITING_INIT_PTS}break}case pe.FRAG_LOADING_WAITING_RETRY:{var r;const n=performance.now(),i=this.retryDate;(!i||n>=i||(r=this.media)!=null&&r.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=pe.IDLE);break}case pe.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:i,part:a,cache:s,complete:o}=n;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=pe.FRAG_LOADING;const l=s.flush(),u={frag:i,part:a,payload:l,networkDetails:null};this._handleFragmentLoadProgress(u),o&&super._handleFragmentLoadComplete(u)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),u=pr.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);C6(u.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${u.end} is needed`),this.clearWaitingFragment())}}else this.state=pe.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=pe.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:r,media:n,trackId:i}=this,a=e.config;if(!(r!=null&&r[i])||!n&&(this.startFragRequested||!a.startFragPrefetch))return;const s=r[i],o=s.details;if(!o||o.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(o)){this.state=pe.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,rr.AUDIO,Xe.AUDIO));const u=this.getFwdBufferInfo(l,Xe.AUDIO);if(u===null)return;const{bufferedTrack:c,switchingTrack:f}=this;if(!f&&this._streamEnded(u,o)){e.trigger(V.BUFFER_EOS,{type:"audio"}),this.state=pe.ENDED;return}const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Xe.MAIN),h=u.len,p=this.getMaxBufferLength(d?.len);if(h>=p&&!f)return;const g=o.fragments[0].start;let v=u.end;if(f&&n){const R=this.getLoadPosition();c&&f.attrs!==c.attrs&&(v=R),o.PTSKnown&&R<g&&(u.end>g||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}let b=this.getNextFragment(v,o),w=!1;if(b&&this.isLoopLoading(b,v)&&(w=!!b.gap,b=this.getNextFragmentLoopLoading(b,o,u,Xe.MAIN,p)),!b){this.bufferFlushed=!0;return}const E=d&&b.start>d.end+o.targetduration;if(E||!(d!=null&&d.len)&&u.len){const R=this.getAppendedFrag(b.start,Xe.MAIN);if(R===null||(w||(w=!!R.gap||!!E&&d.len===0),E&&!w||w&&u.nextStart&&u.nextStart<R.end))return}this.loadFragment(b,s,v)}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new Hm(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?this.setInterval(U7):this.resetTransmuxer(),n?(this.switchingTrack=r,this.state=pe.IDLE):(this.switchingTrack=null,this.bufferedTrack=r,this.state=pe.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,r){this.mainDetails=r.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(V.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,r){var n;if(this.mainDetails==null){this.cachedTrackLoadedData=r;return}const{levels:i}=this,{details:a,id:s}=r;if(!i){this.warn(`Audio tracks were reset while loading level ${s}`);return}this.log(`Track ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const o=i[s];let l=0;if(a.live||(n=o.details)!=null&&n.live){this.checkLiveUpdate(a);const u=this.mainDetails;if(a.deltaUpdateFailed||!u)return;!o.details&&a.hasProgramDateTime&&u.hasProgramDateTime?(Yq(a,u),l=a.fragments[0].start):l=this.alignPlaylists(a,o.details)}o.details=a,this.levelLastLoaded=s,!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(o.details,l),this.state===pe.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=pe.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{config:s,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const u=l[o];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const c=u.details;if(!c){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=s.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new aK(this.hls,Xe.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],p=(r=n.initSegment)==null?void 0:r.data;if(h!==void 0){const g=i?i.index:-1,v=g!==-1,b=new dk(n.level,n.sn,n.stats.chunkCount,a.byteLength,g,v);d.push(a,p,f,"",n,i,c.totalduration,!1,b,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${o}`);const{cache:m}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new sK,complete:!1};m.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=pe.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,r){const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),r.tracks.video&&(this.videoBuffer=r.tracks.video.buffer||null)}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==Xe.AUDIO){if(!this.loadedmetadata&&n.type===Xe.MAIN){const a=this.videoBuffer||this.media;a&&pr.getBuffered(a).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(n.sn!=="initSegment"){this.fragPrevious=n;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(V.AUDIO_TRACK_SWITCHED,Ii({},a)))}this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=pe.ERROR;return}switch(r.details){case ue.FRAG_GAP:case ue.FRAG_PARSING_ERROR:case ue.FRAG_DECRYPT_ERROR:case ue.FRAG_LOAD_ERROR:case ue.FRAG_LOAD_TIMEOUT:case ue.KEY_LOAD_ERROR:case ue.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Xe.AUDIO,r);break;case ue.AUDIO_TRACK_LOAD_ERROR:case ue.AUDIO_TRACK_LOAD_TIMEOUT:case ue.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===pe.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===Bt.AUDIO_TRACK&&(this.state=pe.IDLE);break;case ue.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case ue.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushed(e,{type:r}){r===rr.AUDIO&&(this.bufferFlushed=!0,this.state===pe.ENDED&&(this.state=pe.IDLE))}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:l,part:u,level:c}=o,{details:f}=c,{audio:d,text:h,id3:p,initSegment:m}=a;if(this.fragContextChanged(l)||!f){this.fragmentTracker.removeFragment(l);return}if(this.state=pe.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const g=l.initSegment||l;this._bufferInitSegment(m.tracks,g,s),i.trigger(V.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:n,tracks:m.tracks})}if(d){const{startPTS:g,endPTS:v,startDTS:b,endDTS:w}=d;u&&(u.elementaryStreams[rr.AUDIO]={startPTS:g,endPTS:v,startDTS:b,endDTS:w}),l.setElementaryStreamInfo(rr.AUDIO,g,v,b,w),this.bufferFragmentData(d,l,u,s)}if(p!=null&&(r=p.samples)!=null&&r.length){const g=ln({id:n,frag:l,details:f},p);i.trigger(V.FRAG_PARSING_METADATA,g)}if(h){const g=ln({id:n,frag:l,details:f},h);i.trigger(V.FRAG_PARSING_USERDATA,g)}}_bufferInitSegment(e,r,n){if(this.state!==pe.PARSING)return;e.video&&delete e.video;const i=e.audio;if(!i)return;i.levelCodec=i.codec,i.id="audio",this.log(`Init audio buffer, container:${i.container}, codecs[parsed]=[${i.codec}]`),this.hls.trigger(V.BUFFER_CODECS,e);const a=i.initSegment;if(a!=null&&a.byteLength){const s={type:"audio",frag:r,part:null,chunkMeta:n,parent:r.type,data:a};this.hls.trigger(V.BUFFER_APPENDING,s)}this.tick()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===mn.NOT_LOADED||i===mn.PARTIAL){var a;e.sn==="initSegment"?this._loadInitSegment(e,r):(a=r.details)!=null&&a.live&&!this.initPTS[e.cc]?(this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=pe.WAITING_INIT_PTS):(this.startFragRequested=!0,super.loadFragment(e,r,n))}else this.clearTrackerIfNeeded(e)}completeAudioSwitch(e){const{hls:r,media:n,bufferedTrack:i}=this,a=i?.attrs,s=e.attrs;n&&a&&(a.CHANNELS!==s.CHANNELS||a.NAME!==s.NAME||a.LANGUAGE!==s.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(V.AUDIO_TRACK_SWITCHED,Ii({},e))}}class _8e extends fk{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.LEVEL_LOADING,this.onLevelLoading,this),e.on(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(V.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(V.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.LEVEL_LOADING,this.onLevelLoading,this),e.off(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(V.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(V.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Track with id:${n} and group:${i} not found in active group ${s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`audio-track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.audioGroupIds))return;const n=r.audioGroupIds[r.urlId];if(this.groupId!==n){this.groupId=n||null;const i=this.tracks.filter(s=>!n||s.groupId===n);this.selectDefaultTrack&&!i.some(s=>s.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;const a={audioTracks:i};this.log(`Updating audio tracks, ${i.length} track(s) found in group:${n}`),this.hls.trigger(V.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(e,r){r.fatal||!r.context||r.context.type===Bt.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(r))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();const n=this.currentTrack;r[this.trackId];const i=r[e],{groupId:a,name:s}=i;if(this.log(`Switching to audio-track ${e} "${s}" lang:${i.lang} group:${a}`),this.trackId=e,this.currentTrack=i,this.selectDefaultTrack=!1,this.hls.trigger(V.AUDIO_TRACK_SWITCHING,Ii({},i)),i.details&&!i.details.live)return;const o=this.switchParams(i.url,n?.details);this.loadPlaylist(o)}selectInitialTrack(){const e=this.tracksInGroup,r=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(r!==-1)this.setAudioTrack(r);else{const n=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${e.length}`);this.warn(n.message),this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if((!this.selectDefaultTrack||i.default)&&(!e||e.attrs["STABLE-RENDITION-ID"]!==void 0&&e.attrs["STABLE-RENDITION-ID"]===i.attrs["STABLE-RENDITION-ID"]||e.name===i.name&&e.lang===i.lang))return i.id}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`loading audio-track playlist ${n} "${r.name}" lang:${r.lang} group:${i}`),this.clearTimer(),this.hls.trigger(V.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}}function oK(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!I8e(t[r].attrs,e[r].attrs))return!1;return!0}function I8e(t,e){const r=t["STABLE-RENDITION-ID"];return r?r===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(n=>t[n]!==e[n])}const j7=500;class C8e extends mk{constructor(e,r,n){super(e,r,n,"[subtitle-stream-controller]",Xe.SUBTITLE),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.LEVEL_LOADED,this.onLevelLoaded,this),e.on(V.ERROR,this.onError,this),e.on(V.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(V.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(V.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(V.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(V.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.LEVEL_LOADED,this.onLevelLoaded,this),e.off(V.ERROR,this.onError,this),e.off(V.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(V.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(V.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(V.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(V.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=pe.IDLE,this.setInterval(j7),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragPrevious=n,this.state=pe.IDLE,!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let s;const o=n.start;for(let u=0;u<a.length;u++)if(o>=a[u].start&&o<=a[u].end){s=a[u];break}const l=n.start+n.duration;s?s.end=l:(s={start:o,end:l},a.push(s)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const a=i-1;if(a<=0)return;r.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(s=>{for(let o=0;o<s.length;){if(s[o].end<=a){s.shift();continue}else if(s[o].start<a)s[o].start=a;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,a,Xe.SUBTITLE)}}onFragBuffered(e,r){if(!this.loadedmetadata&&r.frag.type===Xe.MAIN){var n;(n=this.media)!=null&&n.buffered.length&&(this.loadedmetadata=!0)}}onError(e,r){const n=r.frag;n?.type===Xe.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==pe.STOPPED&&(this.state=pe.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(oK(this.levels,r)){this.levels=r.map(n=>new Hm(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new Hm(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Xe.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){if(this.currentTrackId=r.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}const n=this.levels[this.currentTrackId];n!=null&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(j7)}onSubtitleTrackLoaded(e,r){var n;const{details:i,id:a}=r,{currentTrackId:s,levels:o}=this;if(!o.length)return;const l=o[s];if(a>=o.length||a!==s||!l)return;this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(i.live||(n=l.details)!=null&&n.live){const c=this.mainDetails;if(i.deltaUpdateFailed||!c)return;const f=c.fragments[0];l.details?(u=this.alignPlaylists(i,l.details),u===0&&f&&(u=f.start,I6(i,u))):i.hasProgramDateTime&&c.hasProgramDateTime?(Yq(i,c),u=i.fragments[0].start):f&&(u=f.start,I6(i,u))}l.details=i,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!i.live)&&this.setStartPosition(l.details,u),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===pe.IDLE&&(Wm(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&i.method==="AES-128"){const s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch(o=>{throw a.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:r}),o}).then(o=>{const l=performance.now();a.trigger(V.FRAG_DECRYPTED,{frag:r,payload:o,stats:{tstart:s,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=pe.IDLE})}}doTick(){if(!this.media){this.state=pe.IDLE;return}if(this.state===pe.IDLE){const{currentTrackId:e,levels:r}=this,n=r[e];if(!r.length||!n||!n.details)return;const{config:i}=this,a=this.getLoadPosition(),s=pr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),{end:o,len:l}=s,u=this.getFwdBufferInfo(this.media,Xe.MAIN),c=n.details,f=this.getMaxBufferLength(u?.len)+c.levelTargetDuration;if(l>f)return;const d=c.fragments,h=d.length,p=c.edge;let m=null;const g=this.fragPrevious;if(o<p){const v=i.maxFragLookUpTolerance,b=o>p-v?0:v;m=Wm(g,d,Math.max(d[0].start,o),b),!m&&g&&g.start<d[0].start&&(m=d[0])}else m=d[h-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){const v=m.sn-c.startSN,b=d[v-1];b&&b.cc===m.cc&&this.fragmentTracker.getState(b)===mn.NOT_LOADED&&(m=b)}this.fragmentTracker.getState(m)===mn.NOT_LOADED&&this.loadFragment(m,n,o)}}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.max(r,e):r}loadFragment(e,r,n){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,r):(this.startFragRequested=!0,super.loadFragment(e,r,n))}get mediaBufferTimeRanges(){return new P8e(this.tracksBuffered[this.currentTrackId]||[])}}class P8e{constructor(e){this.buffered=void 0;const r=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}class k8e extends fk{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.LEVEL_LOADING,this.onLevelLoading,this),e.on(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(V.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(V.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.LEVEL_LOADING,this.onLevelLoading,this),e.off(V.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(V.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(V.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),kA(this.media.textTracks).forEach(r=>{md(r)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,details:i}=r,{trackId:a}=this,s=this.tracksInGroup[a];if(!s){this.warn(`Invalid subtitle track id ${n}`);return}const o=s.details;s.details=r.details,this.log(`subtitle track ${n} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.textGroupIds))return;const n=r.textGroupIds[r.urlId],i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const a=this.tracks.filter(l=>!n||l.groupId===n);this.tracksInGroup=a;const s=this.findTrackId(i?.name)||this.findTrackId();this.groupId=n||null;const o={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n}" group-id`),this.hls.trigger(V.SUBTITLE_TRACKS_UPDATED,o),s!==-1&&this.setSubtitleTrack(s,i)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId,i)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if((!this.selectDefaultTrack||i.default)&&(!e||e===i.name))return i.id}return-1}onError(e,r){r.fatal||!r.context||r.context.type===Bt.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.checkRetry(r)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1;const r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,r)}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(V.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(e){const{media:r,trackId:n}=this;if(!r)return;const i=kA(r.textTracks),a=i.filter(o=>o.groupId===this.groupId);if(e===-1)[].slice.call(i).forEach(o=>{o.mode="disabled"});else{const o=a[n];o&&(o.mode="disabled")}const s=a[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(e,r){var n;const i=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(this.trackId!==e&&this.toggleTrackModes(e),this.trackId===e&&(e===-1||(n=i[e])!=null&&n.details)||e<-1||e>=i.length)return;this.clearTimer();const a=i[e];if(this.log(`Switching to subtitle-track ${e}`+(a?` "${a.name}" lang:${a.lang} group:${a.groupId}`:"")),this.trackId=e,a){const{id:s,groupId:o="",name:l,type:u,url:c}=a;this.hls.trigger(V.SUBTITLE_TRACK_SWITCH,{id:s,groupId:o,name:l,type:u,url:c});const f=this.switchParams(a.url,r?.details);this.loadPlaylist(f)}else this.hls.trigger(V.SUBTITLE_TRACK_SWITCH,{id:e})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=-1;const r=kA(this.media.textTracks);for(let n=0;n<r.length;n++)if(r[n].mode==="hidden")e=n;else if(r[n].mode==="showing"){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}function kA(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class O8e{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,r){const n=this.queues[r];n.push(e),n.length===1&&this.buffers[r]&&this.executeNext(r)}insertAbort(e,r){this.queues[r].unshift(e),this.executeNext(r)}appendBlocker(e){let r;const n=new Promise(a=>{r=a}),i={execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),n}executeNext(e){const{buffers:r,queues:n}=this,i=r[e],a=n[e];if(a.length){const s=a[0];try{s.execute()}catch(o){Z.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),s.onError(o),i!=null&&i.updating||(a.shift(),this.executeNext(e))}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const z7=Y2(),V7=/([ha]vc.)(?:\.[^.,]+)+/;class N8e{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:r,mediaSource:n}=this;Z.log("[buffer-controller]: Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(V.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{Z.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{Z.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:r,_objectUrl:n}=this;r&&r.src!==n&&Z.error(`Media element src was set while attaching MediaSource (${n} > ${r.src})`)},this.hls=e,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:e}=this;e.on(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.BUFFER_RESET,this.onBufferReset,this),e.on(V.BUFFER_APPENDING,this.onBufferAppending,this),e.on(V.BUFFER_CODECS,this.onBufferCodecs,this),e.on(V.BUFFER_EOS,this.onBufferEos,this),e.on(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(V.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(V.FRAG_PARSED,this.onFragParsed,this),e.on(V.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.BUFFER_RESET,this.onBufferReset,this),e.off(V.BUFFER_APPENDING,this.onBufferAppending,this),e.off(V.BUFFER_CODECS,this.onBufferCodecs,this),e.off(V.BUFFER_EOS,this.onBufferEos,this),e.off(V.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(V.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(V.FRAG_PARSED,this.onFragParsed,this),e.off(V.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new O8e(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){let n=2;(r.audio&&!r.video||!r.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,Z.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,r){const n=this.media=r.media;if(n&&z7){const i=this.mediaSource=new z7;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(i),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:r,_objectUrl:n}=this;if(r){if(Z.log("[buffer-controller]: media source detaching"),r.readyState==="open")try{r.endOfStream()}catch(i){Z.warn(`[buffer-controller]: onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):Z.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(V.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{const r=this.sourceBuffer[e];try{r&&(this.removeBufferListeners(e),this.mediaSource&&this.mediaSource.removeSourceBuffer(r),this.sourceBuffer[e]=void 0)}catch(n){Z.warn(`[buffer-controller]: Failed to reset the ${e} buffer`,n)}}),this._initSourceBuffer()}onBufferCodecs(e,r){const n=this.getSourceBufferTypes().length;Object.keys(r).forEach(i=>{if(n){const a=this.tracks[i];if(a&&typeof a.buffer.changeType=="function"){const{id:s,codec:o,levelCodec:l,container:u,metadata:c}=r[i],f=(a.levelCodec||a.codec).replace(V7,"$1"),d=(l||o).replace(V7,"$1");if(f!==d){const h=`${u};codecs=${l||o}`;this.appendChangeType(i,h),Z.log(`[buffer-controller]: switching codec ${f} to ${d}`),this.tracks[i]={buffer:a.buffer,codec:o,container:u,levelCodec:l,metadata:c,id:s}}}}else this.pendingTracks[i]=r[i]}),!n&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())}appendChangeType(e,r){const{operationQueue:n}=this,i={execute:()=>{const a=this.sourceBuffer[e];a&&(Z.log(`[buffer-controller]: changing ${e} sourceBuffer type to ${r}`),a.changeType(r)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{Z.warn(`[buffer-controller]: Failed to change ${e} SourceBuffer type`,a)}};n.append(i,e)}onBufferAppending(e,r){const{hls:n,operationQueue:i,tracks:a}=this,{data:s,type:o,frag:l,part:u,chunkMeta:c}=r,f=c.buffering[o],d=self.performance.now();f.start=d;const h=l.stats.buffering,p=u?u.stats.buffering:null;h.start===0&&(h.start=d),p&&p.start===0&&(p.start=d);const m=a.audio;let g=!1;o==="audio"&&m?.container==="audio/mpeg"&&(g=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const v=l.start,b={execute:()=>{if(f.executeStart=self.performance.now(),g){const w=this.sourceBuffer[o];if(w){const E=v-w.timestampOffset;Math.abs(E)>=.1&&(Z.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${v} (delta: ${E}) sn: ${l.sn})`),w.timestampOffset=v)}}this.appendExecutor(s,o)},onStart:()=>{},onComplete:()=>{const w=self.performance.now();f.executeEnd=f.end=w,h.first===0&&(h.first=w),p&&p.first===0&&(p.first=w);const{sourceBuffer:E}=this,R={};for(const I in E)R[I]=pr.getBuffered(E[I]);this.appendError=0,this.hls.trigger(V.BUFFER_APPENDED,{type:o,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:R})},onError:w=>{Z.error(`[buffer-controller]: Error encountered while trying to append to the ${o} SourceBuffer`,w);const E={type:Ze.MEDIA_ERROR,parent:l.type,details:ue.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:c,error:w,err:w,fatal:!1};w.code===DOMException.QUOTA_EXCEEDED_ERR?E.details=ue.BUFFER_FULL_ERROR:(this.appendError++,E.details=ue.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(Z.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),E.fatal=!0)),n.trigger(V.ERROR,E)}};i.append(b,o)}onBufferFlushing(e,r){const{operationQueue:n}=this,i=a=>({execute:this.removeExecutor.bind(this,a,r.startOffset,r.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(V.BUFFER_FLUSHED,{type:a})},onError:s=>{Z.warn(`[buffer-controller]: Failed to remove from ${a} SourceBuffer`,s)}});r.type?n.append(i(r.type),r.type):this.getSourceBufferTypes().forEach(a=>{n.append(i(a),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[rr.AUDIOVIDEO]?a.push("audiovideo"):(s[rr.AUDIO]&&a.push("audio"),s[rr.VIDEO]&&a.push("video"));const o=()=>{const l=self.performance.now();n.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const u=i?i.stats:n.stats;this.hls.trigger(V.FRAG_BUFFERED,{frag:n,part:i,stats:u,id:n.type})};a.length===0&&Z.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,a)}onFragChanged(e,r){this.flushBackBuffer()}onBufferEos(e,r){this.getSourceBufferTypes().reduce((i,a)=>{const s=this.sourceBuffer[a];return s&&(!r.type||r.type===a)&&(s.ending=!0,s.ended||(s.ended=!0,Z.log(`[buffer-controller]: ${a} sourceBuffer now EOS`))),i&&!!(!s||s.ended)},!0)&&(Z.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(a=>{const s=this.sourceBuffer[a];s&&(s.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&Z.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}Z.log("[buffer-controller]: Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:e,details:r,media:n,sourceBuffer:i}=this;if(!n||r===null)return;const a=this.getSourceBufferTypes();if(!a.length)return;const s=r.live&&e.config.liveBackBufferLength!==null?e.config.liveBackBufferLength:e.config.backBufferLength;if(!Ge(s)||s<0)return;const o=n.currentTime,l=r.levelTargetDuration,u=Math.max(s,l),c=Math.floor(o/l)*l-u;a.forEach(f=>{const d=i[f];if(d){const h=pr.getBuffered(d);if(h.length>0&&c>h.start(0)){if(e.trigger(V.BACK_BUFFER_REACHED,{bufferEnd:c}),r.live)e.trigger(V.LIVE_BACK_BUFFER_REACHED,{bufferEnd:c});else if(d.ended&&h.end(h.length-1)-o<l*2){Z.info(`[buffer-controller]: Cannot flush ${f} back buffer while SourceBuffer is in ended state`);return}e.trigger(V.BUFFER_FLUSHING,{startOffset:0,endOffset:c,type:f})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:r,media:n,mediaSource:i}=this,a=e.fragments[0].start+e.totalduration,s=n.duration,o=Ge(i.duration)?i.duration:0;e.live&&r.config.liveDurationInfinity?(Z.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>o&&a>s||!Ge(s))&&(Z.log(`[buffer-controller]: Updating Media Source duration to ${a.toFixed(3)}`),i.duration=a)}updateSeekableRange(e){const r=this.mediaSource,n=e.fragments;if(n.length&&e.live&&r!=null&&r.setLiveSeekableRange){const a=Math.max(0,n[0].start),s=Math.max(a,a+e.totalduration);r.setLiveSeekableRange(a,s)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:r,pendingTracks:n}=this,i=Object.keys(n).length;if(i&&!e||i===2){this.createSourceBuffers(n),this.pendingTracks={};const a=this.getSourceBufferTypes();if(a.length)this.hls.trigger(V.BUFFER_CREATED,{tracks:this.tracks}),a.forEach(s=>{r.executeNext(s)});else{const s=new Error("could not create source buffer for media codec(s)");this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:s,reason:s.message})}}}createSourceBuffers(e){const{sourceBuffer:r,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!r[i]){const a=e[i];if(!a)throw Error(`source buffer exists for track ${i}, however track does not`);const s=a.levelCodec||a.codec,o=`${a.container};codecs=${s}`;Z.log(`[buffer-controller]: creating sourceBuffer(${o})`);try{const l=r[i]=n.addSourceBuffer(o),u=i;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.tracks[i]={buffer:l,codec:s,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(l){Z.error(`[buffer-controller]: error while trying to add sourceBuffer: ${l.message}`),this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:l,mimeType:o})}}}_onSBUpdateStart(e){const{operationQueue:r}=this;r.current(e).onStart()}_onSBUpdateEnd(e){const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,r){const n=new Error(`${e} SourceBuffer error`);Z.error(`[buffer-controller]: ${n}`,r),this.hls.trigger(V.ERROR,{type:Ze.MEDIA_ERROR,details:ue.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(r)}removeExecutor(e,r,n){const{media:i,mediaSource:a,operationQueue:s,sourceBuffer:o}=this,l=o[e];if(!i||!a||!l){Z.warn(`[buffer-controller]: Attempting to remove from the ${e} SourceBuffer, but it does not exist`),s.shiftAndExecuteNext(e);return}const u=Ge(i.duration)?i.duration:1/0,c=Ge(a.duration)?a.duration:1/0,f=Math.max(0,r),d=Math.min(n,u,c);d>f&&!l.ending?(l.ended=!1,Z.log(`[buffer-controller]: Removing [${f},${d}] from the ${e} SourceBuffer`),l.remove(f,d)):s.shiftAndExecuteNext(e)}appendExecutor(e,r){const{operationQueue:n,sourceBuffer:i}=this,a=i[r];if(!a){Z.warn(`[buffer-controller]: Attempting to append to the ${r} SourceBuffer, but it does not exist`),n.shiftAndExecuteNext(r);return}a.ended=!1,a.appendBuffer(e)}blockBuffers(e,r=this.getSourceBufferTypes()){if(!r.length){Z.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:n}=this,i=r.map(a=>n.appendBlocker(a));Promise.all(i).then(()=>{e(),r.forEach(a=>{const s=this.sourceBuffer[a];s!=null&&s.updating||n.shiftAndExecuteNext(a)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,r,n){const i=this.sourceBuffer[e];if(!i)return;const a=n.bind(this,e);this.listeners[e].push({event:r,listener:a}),i.addEventListener(r,a)}removeBufferListeners(e){const r=this.sourceBuffer[e];r&&this.listeners[e].forEach(n=>{r.removeEventListener(n.event,n.listener)})}}const Y7={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},lK=function(e){let r=e;return Y7.hasOwnProperty(e)&&(r=Y7[e]),String.fromCharCode(r)},Ba=15,to=100,L8e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D8e={17:2,18:4,21:6,22:8,23:10,19:13,20:15},M8e={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},$8e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},F8e=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class B8e{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;Z.log(`${this.time} [${e}] ${n}`)}}}const Vu=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class uK{constructor(e,r,n,i,a){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=r||!1,this.italics=n||!1,this.background=i||"black",this.flash=a||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class U8e{constructor(e,r,n,i,a,s){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new uK(r,n,i,a,s)}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class j8e{constructor(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let r=0;r<to;r++)this.chars.push(new U8e);this.logger=e,this.pos=0,this.currPenState=new uK}equals(e){let r=!0;for(let n=0;n<to;n++)if(!this.chars[n].equals(e.chars[n])){r=!1;break}return r}copy(e){for(let r=0;r<to;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<to;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>to&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=to)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=lK(e);if(this.pos>=to){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<to;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<to;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class OA{constructor(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let r=0;r<Ba;r++)this.rows.push(new j8e(e));this.logger=e,this.currRow=Ba-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let e=0;e<Ba;e++)this.rows[e].clear();this.currRow=Ba-1}equals(e){let r=!0;for(let n=0;n<Ba;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<Ba;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<Ba;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let o=0;o<Ba;o++)this.rows[o].clear();const a=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const o=s.rows[a].cueStartTime,l=this.logger.time;if(o&&l!==null&&o<l)for(let u=0;u<this.nrRollUpRows;u++)this.rows[r-this.nrRollUpRows+u+1].copy(s.rows[a+u])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,s=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[s].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let a=0;a<Ba;a++){const s=this.rows[a].getTextString();s&&(i=a+1,e?r.push("Row "+i+": '"+s+"'"):r.push(s.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class G7{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new OA(n),this.nonDisplayedMemory=new OA(n),this.lastOutputScreen=new OA(n),this.currRollUpRow=this.displayedMemory.rows[Ba-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Ba-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class H7{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const i=new B8e;this.channels=[null,new G7(e,r,i),new G7(e+1,n,i)],this.cmdHistory=q7(),this.logger=i}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){let n,i,a,s=!1;this.logger.time=e;for(let o=0;o<r.length;o+=2)if(i=r[o]&127,a=r[o+1]&127,!(i===0&&a===0)){if(this.logger.log(3,"["+Vu([r[o],r[o+1]])+"] -> ("+Vu([i,a])+")"),n=this.parseCmd(i,a),n||(n=this.parseMidrow(i,a)),n||(n=this.parsePAC(i,a)),n||(n=this.parseBackgroundAttributes(i,a)),!n&&(s=this.parseChars(i,a),s)){const l=this.currentChannel;l&&l>0?this.channels[l].insertChars(s):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!n&&!s&&this.logger.log(2,"Couldn't parse cleaned data "+Vu([i,a])+" orig: "+Vu([r[o],r[o+1]]))}}parseCmd(e,r){const{cmdHistory:n}=this,i=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,a=(e===23||e===31)&&r>=33&&r<=35;if(!(i||a))return!1;if(W7(e,r,n))return Cf(null,null,n),this.logger.log(3,"Repeated command ("+Vu([e,r])+") is dropped"),!0;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?r===32?o.ccRCL():r===33?o.ccBS():r===34?o.ccAOF():r===35?o.ccAON():r===36?o.ccDER():r===37?o.ccRU(2):r===38?o.ccRU(3):r===39?o.ccRU(4):r===40?o.ccFON():r===41?o.ccRDC():r===42?o.ccTR():r===43?o.ccRTD():r===44?o.ccEDM():r===45?o.ccCR():r===46?o.ccENM():r===47&&o.ccEOC():o.ccTO(r-32),Cf(e,r,n),this.currentChannel=s,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,"MIDROW ("+Vu([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=this.cmdHistory,a=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,s=(e===16||e===24)&&r>=64&&r<=95;if(!(a||s))return!1;if(W7(e,r,i))return Cf(null,null,i),!0;const o=e<=23?1:2;r>=64&&r<=95?n=o===1?L8e[e]:M8e[e]:n=o===1?D8e[e]:$8e[e];const l=this.channels[o];return l?(l.setPAC(this.interpretPAC(n,r)),Cf(e,r,i),this.currentChannel=o,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let s;a===17?s=r+80:a===18?s=r+112:s=r+144,this.logger.log(2,"Special char '"+lK(s)+"' in channel "+n),i=[s]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);if(i){const s=Vu(i);this.logger.log(3,"Char codes =  "+s.join(",")),Cf(e,r,this.cmdHistory)}return i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let a;const s={};e===16||e===24?(a=Math.floor((r-32)/2),s.background=F8e[a],r%2===1&&(s.background=s.background+"_semi")):r===45?s.background="transparent":(s.foreground="black",r===47&&(s.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(s),Cf(e,r,this.cmdHistory),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}this.cmdHistory=q7()}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function Cf(t,e,r){r.a=t,r.b=e}function W7(t,e,r){return r.a===t&&r.b===e}function q7(){return{a:null,b:null}}class nb{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var xk=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const u=l.toLowerCase();return~o.indexOf(u)?u:!1}function n(o){return r(t,o)}function i(o){return r(e,o)}function a(o,...l){let u=1;for(;u<arguments.length;u++){const c=arguments[u];for(const f in c)o[f]=c[f]}return o}function s(o,l,u){const c=this,f={enumerable:!0};c.hasBeenReset=!1;let d="",h=!1,p=o,m=l,g=u,v=null,b="",w=!0,E="auto",R="start",I=50,D="middle",N=50,F="middle";Object.defineProperty(c,"id",a({},f,{get:function(){return d},set:function($){d=""+$}})),Object.defineProperty(c,"pauseOnExit",a({},f,{get:function(){return h},set:function($){h=!!$}})),Object.defineProperty(c,"startTime",a({},f,{get:function(){return p},set:function($){if(typeof $!="number")throw new TypeError("Start time must be set to a number.");p=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"endTime",a({},f,{get:function(){return m},set:function($){if(typeof $!="number")throw new TypeError("End time must be set to a number.");m=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"text",a({},f,{get:function(){return g},set:function($){g=""+$,this.hasBeenReset=!0}})),Object.defineProperty(c,"region",a({},f,{get:function(){return v},set:function($){v=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"vertical",a({},f,{get:function(){return b},set:function($){const z=n($);if(z===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=z,this.hasBeenReset=!0}})),Object.defineProperty(c,"snapToLines",a({},f,{get:function(){return w},set:function($){w=!!$,this.hasBeenReset=!0}})),Object.defineProperty(c,"line",a({},f,{get:function(){return E},set:function($){if(typeof $!="number"&&$!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");E=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"lineAlign",a({},f,{get:function(){return R},set:function($){const z=i($);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");R=z,this.hasBeenReset=!0}})),Object.defineProperty(c,"position",a({},f,{get:function(){return I},set:function($){if($<0||$>100)throw new Error("Position must be between 0 and 100.");I=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"positionAlign",a({},f,{get:function(){return D},set:function($){const z=i($);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");D=z,this.hasBeenReset=!0}})),Object.defineProperty(c,"size",a({},f,{get:function(){return N},set:function($){if($<0||$>100)throw new Error("Size must be between 0 and 100.");N=$,this.hasBeenReset=!0}})),Object.defineProperty(c,"align",a({},f,{get:function(){return F},set:function($){const z=i($);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");F=z,this.hasBeenReset=!0}})),c.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class z8e{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function cK(t){function e(n,i,a,s){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(s||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class V8e{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function fK(t,e,r,n){const i=n?t.split(n):[t];for(const a in i){if(typeof i[a]!="string")continue;const s=i[a].split(r);if(s.length!==2)continue;const o=s[0],l=s[1];e(o,l)}}const k6=new xk(0,0,""),ib=k6.align==="middle"?"middle":"center";function Y8e(t,e,r){const n=t;function i(){const o=cK(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){const u=new V8e;fK(o,function(d,h){let p;switch(d){case"region":for(let m=r.length-1;m>=0;m--)if(r[m].id===h){u.set(d,r[m].region);break}break;case"vertical":u.alt(d,h,["rl","lr"]);break;case"line":p=h.split(","),u.integer(d,p[0]),u.percent(d,p[0])&&u.set("snapToLines",!1),u.alt(d,p[0],["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start",ib,"end"]);break;case"position":p=h.split(","),u.percent(d,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start",ib,"end","line-left","line-right","auto"]);break;case"size":u.percent(d,h);break;case"align":u.alt(d,h,["start",ib,"end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");let c=u.get("line","auto");c==="auto"&&k6.line===-1&&(c=-1),l.line=c,l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100),l.align=u.get("align",ib);let f=u.get("position","auto");f==="auto"&&k6.position===50&&(f=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=f}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),s(),e.endTime=i(),s(),a(t,e)}function dK(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class G8e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new z8e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let a=r.buffer,s=0;for(a=dK(a);s<a.length&&a[s]!=="\r"&&a[s]!==`
`;)++s;const o=a.slice(0,s);return a[s]==="\r"&&++s,a[s]===`
`&&++s,r.buffer=a.slice(s),o}function i(a){fK(a,function(s,o){},/:/)}try{let a="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;a=n();const o=a.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let s=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(s?s=!1:a=n(),r.state){case"HEADER":/:/.test(a)?i(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new xk(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{Y8e(a,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const o=a.indexOf("-->")!==-1;if(!a||o&&(s=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a}continue;case"BADCUE":a||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const H8e=/\r\n|\n\r|\n|\r/g,NA=function(e,r,n=0){return e.slice(n,n+r.length)===r},W8e=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Ge(r)||!Ge(n)||!Ge(i)||!Ge(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=60*60*1e3*a,r},LA=function(e){let r=5381,n=e.length;for(;n;)r=r*33^e.charCodeAt(--n);return(r>>>0).toString()};function wk(t,e,r){return LA(t.toString())+LA(e.toString())+LA(r)}const q8e=function(e,r,n){let i=e[r],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(s=a)!=null&&s.new;){var s;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function K8e(t,e,r,n,i,a,s){const o=new G8e,l=Os(new Uint8Array(t)).trim().replace(H8e,`
`).split(`
`),u=[],c=e?s8e(e.baseTime,e.timescale):0;let f="00:00.000",d=0,h=0,p,m=!0;o.oncue=function(g){const v=r[n];let b=r.ccOffset;const w=(d-c)/9e4;if(v!=null&&v.new&&(h!==void 0?b=r.ccOffset=v.start:q8e(r,n,w)),w){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}b=w-r.presentationOffset}const E=g.endTime-g.startTime,R=fa((g.startTime+b-h)*9e4,i*9e4)/9e4;g.startTime=Math.max(R,0),g.endTime=Math.max(R+E,0);const I=g.text.trim();g.text=decodeURIComponent(encodeURIComponent(I)),g.id||(g.id=wk(g.startTime,g.endTime,I)),g.endTime>0&&u.push(g)},o.onparsingerror=function(g){p=g},o.onflush=function(){if(p){s(p);return}a(u)},l.forEach(g=>{if(m)if(NA(g,"X-TIMESTAMP-MAP=")){m=!1,g.slice(16).split(",").forEach(v=>{NA(v,"LOCAL:")?f=v.slice(6):NA(v,"MPEGTS:")&&(d=parseInt(v.slice(7)))});try{h=W8e(f)/1e3}catch(v){p=v}return}else g===""&&(m=!1);o.parse(g+`
`)}),o.flush()}const DA="stpp.ttml.im1t",hK=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,pK=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Q8e={left:"start",center:"center",right:"end",start:"start",end:"end"};function K7(t,e,r,n){const i=Mt(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(o=>Os(o)),s=a8e(e.baseTime,1,e.timescale);try{a.forEach(o=>r(Z8e(o,s)))}catch(o){n(o)}}function Z8e(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((f,d)=>(f[d]=i.getAttribute(`ttp:${d}`)||a[d],f),{}),o=i.getAttribute("xml:space")!=="preserve",l=Q7(MA(i,"styling","style")),u=Q7(MA(i,"layout","region")),c=MA(i,"body","[begin]");return[].map.call(c,f=>{const d=mK(f,o);if(!d||!f.hasAttribute("begin"))return null;const h=FA(f.getAttribute("begin"),s),p=FA(f.getAttribute("dur"),s);let m=FA(f.getAttribute("end"),s);if(h===null)throw Z7(f);if(m===null){if(p===null)throw Z7(f);m=h+p}const g=new xk(h-e,m-e,d);g.id=wk(g.startTime,g.endTime,g.text);const v=u[f.getAttribute("region")],b=l[f.getAttribute("style")],w=X8e(v,b,l),{textAlign:E}=w;if(E){const R=Q8e[E];R&&(g.lineAlign=R),g.align=E}return ln(g,w),g}).filter(f=>f!==null)}function MA(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function Q7(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function mK(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var a;return n.nodeName==="br"&&i?r+`
`:(a=n.childNodes)!=null&&a.length?mK(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function X8e(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&r.hasOwnProperty(s)&&(i=r[s]),a.reduce((o,l)=>{const u=$A(e,n,l)||$A(t,n,l)||$A(i,n,l);return u&&(o[l]=u),o},{})}function $A(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function Z7(t){return new Error(`Could not parse ttml timestamp ${t}`)}function FA(t,e){if(!t)return null;let r=cK(t);return r===null&&(hK.test(t)?r=J8e(t,e):pK.test(t)&&(r=eOe(t,e))),r}function J8e(t,e){const r=hK.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function eOe(t,e){const r=pK.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class tOe{constructor(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=X7(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const r=new nb(this,"textTrack1"),n=new nb(this,"textTrack2"),i=new nb(this,"textTrack3"),a=new nb(this,"textTrack4");this.cea608Parser1=new H7(1,r,n),this.cea608Parser2=new H7(3,i,a)}e.on(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(V.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(V.FRAG_LOADING,this.onFragLoading,this),e.on(V.FRAG_LOADED,this.onFragLoaded,this),e.on(V.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(V.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(V.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(V.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(V.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(V.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(V.FRAG_LOADING,this.onFragLoading,this),e.off(V.FRAG_LOADED,this.onFragLoaded,this),e.off(V.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(V.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(V.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(V.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(V.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(e,r,n,i,a){let s=!1;for(let o=a.length;o--;){const l=a[o],u=nOe(l[0],l[1],r,n);if(u>=0&&(l[0]=Math.min(l[0],r),l[1]=Math.max(l[1],n),s=!0,u/(n-r)>.5))return}if(s||a.push([r,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,r,n,i)}else{const o=this.Cues.newCue(null,r,n,i);this.hls.trigger(V.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){const{unparsedVttFrags:s}=this;n==="main"&&(this.initPTS[r.cc]={baseTime:i,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach(o=>{this.onFragLoaded(V.FRAG_LOADED,o)}))}getExistingTrack(e){const{media:r}=this;if(r)for(let n=0;n<r.textTracks.length;n++){const i=r.textTracks[n];if(i[e])return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:a,languageCode:s}=r[e],o=this.getExistingTrack(e);if(o)n[e]=o,md(n[e]),$q(n[e],i);else{const l=this.createTextTrack("captions",a,s);l&&(l[e]=!0,n[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(V.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(r=>{md(e[r]),delete e[r]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=X7(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)md(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(a=>a.textCodec===DA);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(oK(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const s=this.media?this.media.textTracks:null;this.tracks.forEach((o,l)=>{let u;if(s&&l<s.length){let c=null;for(let f=0;f<s.length;f++)if(rOe(s[f],o)){c=s[f];break}c&&(u=c)}if(u)md(u);else{const c=this._captionsOrSubtitlesFromCharacteristics(o);u=this.createTextTrack(c,o.name,o.lang),u&&(u.mode="disabled")}u&&(u.groupId=o.groupId,this.textTracks.push(u))})}else if(this.tracks.length){const s=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(V.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}_captionsOrSubtitlesFromCharacteristics(e){if(e.attrs.CHARACTERISTICS){const r=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(r&&n)return"captions"}return"subtitles"}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,s=this.captionsProperties[a];s&&(s.label=n.name,n.lang&&(s.languageCode=n.lang),s.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){const{cea608Parser1:n,cea608Parser2:i,lastSn:a,lastPartIndex:s}=this;if(!(!this.enabled||!(n&&i))&&r.frag.type===Xe.MAIN){var o,l;const u=r.frag.sn,c=(o=r==null||(l=r.part)==null?void 0:l.index)!=null?o:-1;u===a+1||u===a&&c===s+1||(n.reset(),i.reset()),this.lastSn=u,this.lastPartIndex=c}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===Xe.SUBTITLE)if(i.byteLength){const a=n.decryptdata,s="stats"in r;if(a==null||!a.encrypted||s){const o=this.tracks[n.level],l=this.vttCCs;l[n.cc]||(l[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===DA?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(V.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;K7(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(V.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{Z.log(`Failed to parse IMSC1: ${i}`),n.trigger(V.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:a,unparsedVttFrags:s}=this,o=a.length-1;if(!a[n.cc]&&o===-1){s.push(e);return}const l=this.hls,u=(r=n.initSegment)!=null&&r.data?Ic(n.initSegment.data,new Uint8Array(i)):i;K8e(u,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,c=>{this._appendCues(c,n.level),l.trigger(V.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},c=>{const f=c.message==="Missing initPTS for VTT MPEGTS";f?s.push(e):this._fallbackToIMSC1(n,i),Z.log(`Failed to parse VTT cue: ${c}`),!(f&&o>n.cc)&&l.trigger(V.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:c})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||K7(r,this.initPTS[e.cc],()=>{n.textCodec=DA,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(a=>Fq(i,a))}else{const i=this.tracks[r];if(!i)return;const a=i.default?"default":"subtitles"+r;n.trigger(V.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===Xe.SUBTITLE&&this.onFragLoaded(V.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){const{cea608Parser1:n,cea608Parser2:i}=this;if(!this.enabled||!(n&&i))return;const{frag:a,samples:s}=r;if(!(a.type===Xe.MAIN&&this.closedCaptionsForLevel(a)==="NONE"))for(let o=0;o<s.length;o++){const l=s[o].bytes;if(l){const u=this.extractCea608Data(l);n.addData(s[o].pts,u[0]),i.addData(s[o].pts,u[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:s}=this;if(!(!s||s.currentTime<n)){if(!a||a==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>A6(o[l],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>A6(o[l],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const s=e[i++],o=127&e[i++],l=127&e[i++];if(o===0&&l===0)continue;if((4&s)!==0){const c=3&s;(c===0||c===1)&&(r[c].push(o),r[c].push(l))}}return r}}function rOe(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function nOe(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function X7(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Ek{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(V.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.BUFFER_CODECS,this.onBufferCodecs,this),e.on(V.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(V.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(V.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.BUFFER_CODECS,this.onBufferCodecs,this),e.off(V.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const e=this.hls.levels;if(e.length){const r=this.hls;r.autoLevelCapping=this.getMaxLevel(e.length-1),r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,Ek.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(s,o)=>o?s.width!==o.width||s.height!==o.height:!0;let a=e.length-1;for(let s=0;s<e.length;s+=1){const o=e[s];if((o.width>=r||o.height>=n)&&i(o,e[s+1])){a=s;break}}return a}}class iOe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(V.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(V.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const a=i-this.lastTime,s=n-this.lastDroppedFrames,o=r-this.lastDecodedFrames,l=1e3*s/a,u=this.hls;if(u.trigger(V.FPS_DROP,{currentDropped:s,currentDecoded:o,totalDroppedFrames:n}),l>0&&s>u.config.fpsDroppedMonitoringThreshold*o){let c=u.currentLevel;Z.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=c)&&(c=c-1,u.trigger(V.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:u.currentLevel}),u.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const ab="[eme]";class Bd{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Bd.CDMCleanupPromise?[Bd.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Z.debug.bind(Z,ab),this.log=Z.log.bind(Z,ab),this.warn=Z.warn.bind(Z,ab),this.error=Z.error.bind(Z,ab),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(V.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(V.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(V.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(V.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(V.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(V.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r[e];if(i)return i.licenseUrl;if(e===Cr.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(s,o,l)=>!!s&&l.indexOf(s)===o,i=r.map(s=>s.audioCodec).filter(n),a=r.map(s=>s.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((s,o)=>{const l=u=>{const c=u.shift();this.getMediaKeysPromise(c,i,a).then(f=>s({keySystem:c,mediaKeys:f})).catch(f=>{u.length?l(u):f instanceof aa?o(f):o(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};l(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return Aq===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){const i=yke(e,r,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e];let s=a?.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),s=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),s.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(c=>(this.log(`Media-keys created for "${e}"`),u.then(f=>f?this.setMediaKeysServerCertificate(c,e,f):c))),o.mediaKeys.catch(c=>{this.error(`Failed to create media-keys for "${e}"}: ${c}`)}),o.mediaKeys})}return s.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${ys.hexDump(e.keyId||[])}`);const i=n.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(r),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,r.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return ys.hexDump(e.keyId)}updateKeySession(e,r){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${ys.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),i.update(r)}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((r,n)=>{const i=vA(this.config),a=e.map(u7).filter(s=>!!s&&i.indexOf(s)!==-1);return this.getKeySystemSelectionPromise(a).then(({keySystem:s})=>{const o=c7(s);o?r(o):n(new Error(`Unable to find format for key-system "${s}"`))}).catch(n)})}loadKey(e){const r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${i}`);let a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then(({keySystem:s,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(s,o).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:s,mediaKeys:o,decryptdata:r}),u="cenc";return this.generateRequestWithPreferredKeySession(l,u,r.pssh,"playlist-key")}))),a.catch(s=>this.handleError(s))),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof aa?this.hls.trigger(V.ERROR,e.data):this.hls.trigger(V.ERROR,{type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=u7(e.keyFormat),a=i?[i]:vA(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=vA(this.config)),e.length===0)throw new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:r,initData:n}=e;if(this.debug(`"${e.type}" event: init data type: "${r}"`),n===null)return;let i,a;if(r==="sinf"&&this.config.drmSystems[Cr.FAIRPLAY]){const c=Rn(new Uint8Array(n));try{const f=lk(JSON.parse(c).sinf),d=Nq(new Uint8Array(f));if(!d)return;i=d.subarray(8,24),a=Cr.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{const c=zke(n);if(c===null)return;c.version===0&&c.systemId===Tq.WIDEVINE&&c.data&&(i=c.data.subarray(8,24)),a=vke(c.systemId)}if(!a||!i)return;const s=ys.hexDump(i),{keyIdToKeySessionPromise:o,mediaKeySessions:l}=this;let u=o[s];for(let c=0;c<l.length;c++){const f=l[c],d=f.decryptdata;if(d.pssh||!d.keyId)continue;const h=ys.hexDump(d.keyId);if(s===h||d.uri.replace(/-/g,"").indexOf(s)!==-1){u=o[h],delete o[h],d.pssh=new Uint8Array(n),d.keyId=i,u=o[s]=u.then(()=>this.generateRequestWithPreferredKeySession(f,r,n,"encrypted-event-key-match"));break}}u||(u=o[s]=this.getKeySystemSelectionPromise([a]).then(({keySystem:c,mediaKeys:f})=>{var d;this.throwIfDestroyed();const h=new Gm("ISO-23001-7",s,(d=c7(c))!=null?d:"");return h.pssh=new Uint8Array(n),h.keyId=i,this.attemptSetMediaKeys(c,f).then(()=>{this.throwIfDestroyed();const p=this.createMediaKeySessionContext({decryptdata:h,keySystem:c,mediaKeys:f});return this.generateRequestWithPreferredKeySession(p,r,n,"encrypted-event-no-match")})})),u.catch(c=>this.handleError(c))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,r){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var a,s;const o=(a=this.config.drmSystems)==null||(s=a[e.keySystem])==null?void 0:s.generateRequest;if(o)try{const d=o.call(this.hls,r,n,e);if(!d)throw new Error("Invalid response from configured generateRequest filter");r=d.initDataType,n=e.decryptdata.pssh=d.initData?new Uint8Array(d.initData):null}catch(d){var l;if(this.warn(d.message),(l=this.hls)!=null&&l.config.debug)throw d}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${u} (init data type: ${r} length: ${n?n.byteLength:null})`);const c=new bk;e.mediaKeysSession.onmessage=d=>{const h=e.mediaKeysSession;if(!h){c.emit("error",new Error("invalid state"));return}const{messageType:p,message:m}=d;this.log(`"${p}" message event for session "${h.sessionId}" message size: ${m.byteLength}`),p==="license-request"||p==="license-renewal"?this.renewLicense(e,m).catch(g=>{this.handleError(g),c.emit("error",g)}):p==="license-release"?e.keySystem===Cr.FAIRPLAY&&(this.updateKeySession(e,Sq("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${p}"`)},e.mediaKeysSession.onkeystatuseschange=d=>{if(!e.mediaKeysSession){c.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const p=e.keyStatus;c.emit("keyStatus",p),p==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};const f=new Promise((d,h)=>{c.on("error",h),c.on("keyStatus",p=>{p.startsWith("usable")?d():p==="output-restricted"?h(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):p==="internal-error"?h(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${p}"`)):p==="expired"?h(new Error("key expired while generating request")):this.warn(`unhandled key status change "${p}"`)})});return e.mediaKeysSession.generateRequest(r,n).then(()=>{var d;this.log(`Request generated for key-session "${(d=e.mediaKeysSession)==null?void 0:d.sessionId}" keyId: ${u}`)}).catch(d=>{throw new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_NO_SESSION,error:d,fatal:!1},`Error generating key-session request: ${d}`)}).then(()=>f).catch(d=>{throw c.removeAllListeners(),this.removeSession(e),d}).then(()=>(c.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,n)=>{this.log(`key status change "${r}" for keyStatuses keyId: ${ys.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${ys.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((s,o)=>{const l={responseType:"arraybuffer",url:a},u=r.certLoadPolicy.default,c={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(d,h,p,m)=>{s(d.data)},onError:(d,h,p,m)=>{o(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:Ii({url:l.url,data:void 0},d)},`"${e}" certificate request failed (${a}). Status: ${d.code} (${d.text})`))},onTimeout:(d,h,p)=>{o(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(d,h,p)=>{o(new Error("aborted"))}};i.load(l,c,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${n?.byteLength}) on "${r}"`),i(e)}).catch(s=>{a(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}setupLicenseXHR(e,r,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,r,n,i)}).catch(s=>{if(!n.decryptdata)throw s;return e.open("POST",r,!0),a.call(this.hls,e,r,n,i)}).then(s=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:s||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const s=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${s}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const u=this.config.licenseResponseCallback;if(u)try{l=u.call(this.hls,o,s,e)}catch(c){this.error(c)}i(l)}else{const l=n.errorRetry,u=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||o.status>=400&&o.status<500)a(new aa({type:Ze.KEY_SYSTEM_ERROR,details:ue.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${s}). Status: ${o.status} (${o.statusText})`));else{const c=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${c} attempts left`),this.requestLicense(e,r).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,s,e,r).then(({xhr:l,licenseChallenge:u})=>{l.send(u)})})}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,r=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Gm.clearKeyUriToKeyIdMap();const n=r.length;Bd.CDMCleanupPromise=Promise.all(r.map(i=>this.removeSession(i)).concat(e?.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}. media.src: ${e?.src}`)}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),r.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),r.onmessage=null,r.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch(a=>{this.log(`Could not remove session: ${a}`)}).then(()=>r.close()).catch(a=>{this.log(`Could not close session: ${a}`)})}}}Bd.CDMCleanupPromise=void 0;class aa extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}const aOe=1;var mi={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"};const sOe="h";class kl{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:mi.MANIFEST,su:!this.initialized})}catch(a){Z.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const a=i.frag,s=this.hls.levels[a.level],o=this.getObjectType(a),l={d:a.duration*1e3,ot:o};(o===mi.VIDEO||o===mi.AUDIO||o==mi.MUXED)&&(l.br=s.bitrate/1e3,l.tb=this.getTopBandwidth(o)/1e3,l.bl=this.getBufferLength(o)),this.apply(i,l)}catch(a){Z.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||kl.uuid(),this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.registerListeners())}registerListeners(){const e=this.hls;e.on(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(V.MEDIA_DETACHED,this.onMediaDetached,this),e.on(V.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(V.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(V.MEDIA_DETACHED,this.onMediaDetached,this),e.off(V.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:aOe,sf:sOe,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){ln(r,this.createData());const n=r.ot===mi.INIT||r.ot===mi.VIDEO||r.ot===mi.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering),this.useHeaders){const i=kl.toHeaders(r);if(!Object.keys(i).length)return;e.headers||(e.headers={}),ln(e.headers,i)}else{const i=kl.toQuery(r);if(!i)return;e.url=kl.appendQueryToUri(e.url,i)}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return mi.TIMED_TEXT;if(e.sn==="initSegment")return mi.INIT;if(r==="audio")return mi.AUDIO;if(r==="main")return this.hls.audioTracks.length?mi.VIDEO:mi.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===mi.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,s=a>-1?a+1:i.levels.length;n=i.levels.slice(0,s)}for(const a of n)a.bitrate>r&&(r=a.bitrate);return r>0?r:NaN}getBufferLength(e){const r=this.hls.media,n=e===mi.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:pr.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}static uuid(){const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}static serialize(e){const r=[],n=u=>!Number.isNaN(u)&&u!=null&&u!==""&&u!==!1,i=u=>Math.round(u),a=u=>i(u/100)*100,o={br:i,d:i,bl:a,dl:a,mtp:a,nor:u=>encodeURIComponent(u),rtp:a,tb:i},l=Object.keys(e||{}).sort();for(const u of l){let c=e[u];if(!n(c)||u==="v"&&c===1||u=="pr"&&c===1)continue;const f=o[u];f&&(c=f(c));const d=typeof c;let h;u==="ot"||u==="sf"||u==="st"?h=`${u}=${c}`:d==="boolean"?h=u:d==="number"?h=`${u}=${c}`:h=`${u}=${JSON.stringify(c)}`,r.push(h)}return r.join(",")}static toHeaders(e){const r=Object.keys(e),n={},i=["Object","Request","Session","Status"],a=[{},{},{},{}],s={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const o of r){const l=s[o]!=null?s[o]:1;a[l][o]=e[o]}for(let o=0;o<a.length;o++){const l=kl.serialize(a[o]);l&&(n[`CMCD-${i[o]}`]=l)}return n}static toQuery(e){return`CMCD=${encodeURIComponent(kl.serialize(e))}`}static appendQueryToUri(e,r){if(!r)return e;const n=e.includes("?")?"&":"?";return`${e}${n}${r}`}}const oOe=3e5;class lOe{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=Z.log.bind(Z,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(V.MANIFEST_LOADING,this.onManifestLoading,this),e.on(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(V.MANIFEST_PARSED,this.onManifestParsed,this),e.on(V.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(V.MANIFEST_LOADING,this.onManifestLoading,this),e.off(V.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(V.MANIFEST_PARSED,this.onManifestParsed,this),e.off(V.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const e=Math.max(this.timeToLoad*1e3-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if(n?.action===Fn.SendAlternateToPenaltyBox&&n.flags===oa.MoveAllAlternatesMatchingHost){let i=this.pathwayPriority;const a=this.pathwayId;this.penalizedPathways[a]||(this.penalizedPathways[a]=performance.now()),!i&&this.levels&&(i=this.levels.reduce((s,o)=>(s.indexOf(o.pathwayId)===-1&&s.push(o.pathwayId),s),[])),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==a)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length?(this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>oOe&&delete n[a]});for(let a=0;a<e.length;a++){const s=e[a];if(n[s])continue;if(s===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(r=this.getLevelsForPathway(s),r.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,this.hls.trigger(V.LEVELS_UPDATED,{levels:r});const u=this.hls.levels[o];l&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=o);break}}}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(a=>{const{ID:s,"BASE-ID":o,"URI-REPLACEMENT":l}=a;if(r.some(c=>c.pathwayId===s))return;const u=this.getLevelsForPathway(o).map(c=>{const f=ln({},c);f.details=void 0,f.url=gK(c.uri,c.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);const d=new Tr(c.attrs);d["PATHWAY-ID"]=s;const h=d.AUDIO&&`${d.AUDIO}_clone_${s}`,p=d.SUBTITLES&&`${d.SUBTITLES}_clone_${s}`;h&&(n[d.AUDIO]=h,d.AUDIO=h),p&&(i[d.SUBTITLES]=p,d.SUBTITLES=p),f.attrs=d;const m=new Hm(f);return zx(m,"audio",h),zx(m,"text",p),m});r.push(...u),J7(this.audioTracks,n,l,s),J7(this.subtitleTracks,i,l,s)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const c=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+c)}const a={responseType:"json",url:i.href},s=r.steeringManifestLoadPolicy.default,o=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},u={onSuccess:(c,f,d,h)=>{this.log(`Loaded steering manifest: "${i}"`);const p=c.data;if(p.VERSION!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":g,"PATHWAY-PRIORITY":v}=p;if(m)try{this.uri=new self.URL(m,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||d.url),g&&this.clonePathways(g),v&&this.updatePathwayPriority(v)},onError:(c,f,d,h)=>{if(this.log(`Error loading steering manifest: ${c.code} ${c.text} (${f.url})`),this.stopLoad(),c.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let p=this.timeToLoad*1e3;if(c.code===429){const m=this.loader;if(typeof m?.getResponseHeader=="function"){const g=m.getResponseHeader("Retry-After");g&&(p=parseFloat(g)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,p)},onTimeout:(c,f,d)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,l,u)}scheduleRefresh(e,r=this.timeToLoad*1e3){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(e)},r)}}function J7(t,e,r,n){t&&Object.keys(e).forEach(i=>{const a=t.filter(s=>s.groupId===i).map(s=>{const o=ln({},s);return o.details=void 0,o.attrs=new Tr(o.attrs),o.url=o.attrs.URI=gK(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});t.push(...a)})}function gK(t,e,r,n){const{HOST:i,PARAMS:a,[r]:s}=n;let o;e&&(o=s?.[e],o&&(t=o));const l=new self.URL(t);return i&&!o&&(l.host=i),a&&Object.keys(a).sort().forEach(u=>{u&&l.searchParams.set(u,a[u])}),l.href}const uOe=/^age:\s*[\d.]+\s*$/im;class vK{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new z2,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!this.stats.aborted)return a(n,r.url)}).catch(s=>(n.open("GET",r.url,!0),a(n,r.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(s=>{this.callbacks.onError({code:n.status,text:s.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=this.context.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:s}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&Ge(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const s=r.status,o=r.responseType!=="text";if(s>=200&&s<300&&(o&&r.response||r.responseText!==null)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const l=o?r.response:r.responseText,u=r.responseType==="arraybuffer"?l.byteLength:l.length;if(n.loaded=n.total=u,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first),!this.callbacks)return;const c=this.callbacks.onProgress;if(c&&c(n,e,l,r),!this.callbacks)return;const f={url:r.responseURL,data:l,code:s};this.callbacks.onSuccess(f,n,e,r)}else{const l=a.loadPolicy.errorRetry,u=n.retry;jx(l,u,!1,s)?this.retry(l):(Z.error(`${s} while loading ${e.url}`),this.callbacks.onError({code:s,text:r.statusText},e,r,n))}}}loadtimeout(){var e;const r=(e=this.config)==null?void 0:e.loadPolicy.timeoutRetry,n=this.stats.retry;if(jx(r,n,!0))this.retry(r);else{Z.warn(`timeout while loading ${this.context.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=ck(e,n.retry),n.retry++,Z.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&uOe.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function cOe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const fOe=/(\d+)-(\d+)\/(\d+)/;class e${constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||mOe,this.controller=new self.AbortController,this.stats=new z2}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const e=this.response;e!=null&&e.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=dOe(e,this.controller.signal),s=n.onProgress,o=e.responseType==="arraybuffer",l=o?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:c}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),r.timeout=u&&Ge(u)?u:c,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},r.timeout),self.fetch(this.request).then(f=>{this.response=this.loader=f;const d=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},c-(d-i.loading.start)),!f.ok){const{status:h,statusText:p}=f;throw new gOe(p||"fetch, bad network response",h,f)}return i.loading.first=d,i.total=pOe(f.headers)||i.total,s&&Ge(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,s):o?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{const{response:d}=this;self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=f[l];h&&(i.loaded=i.total=h);const p={url:d.url,data:f,code:d.status};s&&!Ge(r.highWaterMark)&&s(i,e,f,d),n.onSuccess(p,i,e,d)}).catch(f=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const d=f&&f.code||0,h=f?f.message:null;n.onError({code:d,text:h},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,a){const s=new sK,o=e.body.getReader(),l=()=>o.read().then(u=>{if(u.done)return s.dataLength&&a(r,n,s.flush(),e),Promise.resolve(new ArrayBuffer(0));const c=u.value,f=c.length;return r.loaded+=f,f<i||s.dataLength?(s.push(c),s.dataLength>=i&&a(r,n,s.flush(),e)):a(r,n,c,e),l()}).catch(()=>Promise.reject());return l()}}function dOe(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(ln({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function hOe(t){const e=fOe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function pOe(t){const e=t.get("Content-Range");if(e){const n=hOe(e);if(Ge(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function mOe(t,e){return new self.Request(t.url,e)}class gOe extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const vOe=/\s/,yOe={newCue(t,e,r,n){const i=[];let a,s,o,l,u;const c=self.VTTCue||self.TextTrackCue;for(let d=0;d<n.rows.length;d++)if(a=n.rows[d],o=!0,l=0,u="",!a.isEmpty()){var f;for(let m=0;m<a.chars.length;m++)vOe.test(a.chars[m].uchar)&&o?l++:(u+=a.chars[m].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),l>=16?l--:l++;const h=dK(u.trim()),p=wk(e,r,h);t!=null&&(f=t.cues)!=null&&f.getCueById(p)||(s=new c(e,r,h),s.id=p,s.line=d+1,s.align="left",s.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(s))}return t&&i.length&&(i.sort((d,h)=>d.line==="auto"||h.line==="auto"?0:d.line>8&&h.line>8?h.line-d.line:d.line-h.line),i.forEach(d=>Fq(t,d))),i}},bOe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},xOe=Ii(Ii({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:vK,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:T8e,bufferController:N8e,capLevelController:Ek,errorController:g5e,fpsController:iOe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Aq,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:bOe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},wOe()),{},{subtitleStreamController:C8e,subtitleTrackController:k8e,timelineController:tOe,audioStreamController:R8e,audioTrackController:_8e,emeController:Bd,cmcdController:kl,contentSteeringController:lOe});function wOe(){return{cueHandler:yOe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function EOe(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=O6(t),n=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(a=>{const s=`${a==="level"?"playlist":a}LoadPolicy`,o=e[s]===void 0,l=[];i.forEach(u=>{const c=`${a}Loading${u}`,f=e[c];if(f!==void 0&&o){l.push(c);const d=r[s].default;switch(e[s]={default:d},u){case"TimeOut":d.maxLoadTimeMs=f,d.maxTimeToFirstByteMs=f;break;case"MaxRetry":d.errorRetry.maxNumRetry=f,d.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":d.errorRetry.retryDelayMs=f,d.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":d.errorRetry.maxRetryDelayMs=f,d.timeoutRetry.maxRetryDelayMs=f;break}}}),l.length&&Z.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${s}": ${JSON.stringify(e[s])}`)}),Ii(Ii({},r),e)}function O6(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(O6):Object.keys(t).reduce((e,r)=>(e[r]=O6(t[r]),e),{}):t}function SOe(t){const e=t.loader;e!==e$&&e!==vK?(Z.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):cOe()&&(t.loader=e$,t.progressive=!0,t.enableSoftwareAES=!0,Z.log("[config]: Progressive streaming enabled, using FetchLoader"))}class Fi{static get version(){return"1.4.12"}static isSupported(){return D5e()}static get Events(){return V}static get ErrorTypes(){return Ze}static get ErrorDetails(){return ue}static get DefaultConfig(){return Fi.defaultConfig?Fi.defaultConfig:xOe}static set DefaultConfig(e){Fi.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new bk,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,oke(e.debug||!1,"Hls instance");const r=this.config=EOe(Fi.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,r.progressive&&SOe(r);const{abrController:n,bufferController:i,capLevelController:a,errorController:s,fpsController:o}=r,l=new s(this),u=this.abrController=new n(this),c=this.bufferController=new i(this),f=this.capLevelController=new a(this),d=new o(this),h=new Zke(this),p=new r5e(this),m=r.contentSteeringController,g=m?new m(this):null,v=this.levelController=new y5e(this,g),b=new b5e(this),w=new w5e(this.config),E=this.streamController=new E8e(this,b,w);f.setStreamController(E),d.setStreamController(E);const R=[h,v,E];g&&R.splice(1,0,g),this.networkControllers=R;const I=[u,c,f,d,p,b];this.audioTrackController=this.createController(r.audioTrackController,R);const D=r.audioStreamController;D&&R.push(new D(this,b,w)),this.subtitleTrackController=this.createController(r.subtitleTrackController,R);const N=r.subtitleStreamController;N&&R.push(new N(this,b,w)),this.createController(r.timelineController,I),w.emeController=this.emeController=this.createController(r.emeController,I),this.cmcdController=this.createController(r.cmcdController,I),this.latencyController=this.createController(n5e,I),this.coreComponents=I,R.push(l);const F=l.onErrorOut;typeof F=="function"&&this.on(V.ERROR,F,l)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){Z.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger(V.ERROR,{type:Ze.OTHER_ERROR,details:ue.INTERNAL_EXCEPTION,fatal:!1,event:e,error:n})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){Z.log("destroy"),this.trigger(V.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){Z.log("attachMedia"),this._media=e,this.trigger(V.MEDIA_ATTACHING,{media:e})}detachMedia(){Z.log("detachMedia"),this.trigger(V.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const r=this.media,n=this.url,i=this.url=ok.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Z.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(V.MANIFEST_LOADING,{url:e})}startLoad(e=-1){Z.log(`startLoad(${e})`),this.networkControllers.forEach(r=>{r.startLoad(e)})}stopLoad(){Z.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){Z.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Z.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,r=0){this.levelController.removeLevel(e,r)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){Z.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){Z.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){Z.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){Z.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){Z.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(Z.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){_6.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e&&e.length?i=e.length-1:i=r,n)for(let a=i;a--;){const s=e[a].attrs["HDCP-LEVEL"];if(s&&s<=n)return a}return i}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Fi.defaultConfig=void 0;var BA="data-hls-initialized",TOe=function(){return qc()?Fi.isSupported():!0},AOe=function(e,r,n,i){if(r.getAttribute(BA)==="true")return{destroy:function(){}};r.setAttribute(BA,"true");var a=new Fi(po({maxBufferLength:15,maxMaxBufferLength:60,liveMaxLatencyDurationCount:7,liveSyncDurationCount:3},i)),s=function(){var l,u;a==null||(l=a.destroy)===null||l===void 0||l.call(a),r==null||(u=r.removeAttribute)===null||u===void 0||u.call(r,BA)};return r&&a.attachMedia(r),a.on(Fi.Events.LEVEL_LOADED,function(){var o=lr(Qe().mark(function l(u,c){var f,d,h,p,m;return Qe().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=c.details,p=h.live,m=h.totalduration,n==null||(f=n.onLive)===null||f===void 0||f.call(n,!!p),n==null||(d=n.onDuration)===null||d===void 0||d.call(n,m??0);case 3:case"end":return v.stop()}},l)}));return function(l,u){return o.apply(this,arguments)}}()),a.on(Fi.Events.MEDIA_ATTACHED,lr(Qe().mark(function o(){return Qe().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:a.loadSource(e),a.on(Fi.Events.MANIFEST_PARSED,function(c,f){var d;n==null||(d=n.onCanPlay)===null||d===void 0||d.call(n)});case 2:case"end":return u.stop()}},o)}))),a.on(Fi.Events.ERROR,function(){var o=lr(Qe().mark(function l(u,c){var f,d,h,p;return Qe().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=c.details,h=c.fatal,a.detachMedia(),p=Fi.ErrorTypes.NETWORK_ERROR&&d==="manifestParsingError",!(!h&&!p)){g.next=5;break}return g.abrupt("return");case 5:n==null||(f=n.onError)===null||f===void 0||f.call(n,c);case 6:case"end":return g.stop()}},l)}));return function(l,u){return o.apply(this,arguments)}}()),{destroy:s}};function Lt(){Lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(k,A,y){k[A]=y.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function l(k,A,y){return Object.defineProperty(k,A,{value:y,enumerable:!0,configurable:!0,writable:!0}),k[A]}try{l({},"")}catch{l=function(A,y,x){return A[y]=x}}function u(k,A,y,x){var S=A&&A.prototype instanceof d?A:d,C=Object.create(S.prototype),P=new F(x||[]);return n(C,"_invoke",{value:R(k,y,P)}),C}function c(k,A,y){try{return{type:"normal",arg:k.call(A,y)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};l(m,a,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g($([])));v&&v!==e&&r.call(v,a)&&(m=v);var b=p.prototype=d.prototype=Object.create(m);function w(k){["next","throw","return"].forEach(function(A){l(k,A,function(y){return this._invoke(A,y)})})}function E(k,A){function y(S,C,P,M){var B=c(k[S],k,C);if(B.type!=="throw"){var L=B.arg,_=L.value;return _&&typeof _=="object"&&r.call(_,"__await")?A.resolve(_.__await).then(function(U){y("next",U,P,M)},function(U){y("throw",U,P,M)}):A.resolve(_).then(function(U){L.value=U,P(L)},function(U){return y("throw",U,P,M)})}M(B.arg)}var x;n(this,"_invoke",{value:function(S,C){function P(){return new A(function(M,B){y(S,C,M,B)})}return x=x?x.then(P,P):P()}})}function R(k,A,y){var x="suspendedStart";return function(S,C){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(S==="throw")throw C;return z()}for(y.method=S,y.arg=C;;){var P=y.delegate;if(P){var M=I(P,y);if(M){if(M===f)continue;return M}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(x==="suspendedStart")throw x="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);x="executing";var B=c(k,A,y);if(B.type==="normal"){if(x=y.done?"completed":"suspendedYield",B.arg===f)continue;return{value:B.arg,done:y.done}}B.type==="throw"&&(x="completed",y.method="throw",y.arg=B.arg)}}}function I(k,A){var y=A.method,x=k.iterator[y];if(x===void 0)return A.delegate=null,y==="throw"&&k.iterator.return&&(A.method="return",A.arg=void 0,I(k,A),A.method==="throw")||y!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+y+"' method")),f;var S=c(x,k.iterator,A.arg);if(S.type==="throw")return A.method="throw",A.arg=S.arg,A.delegate=null,f;var C=S.arg;return C?C.done?(A[k.resultName]=C.value,A.next=k.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,f):C:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,f)}function D(k){var A={tryLoc:k[0]};1 in k&&(A.catchLoc=k[1]),2 in k&&(A.finallyLoc=k[2],A.afterLoc=k[3]),this.tryEntries.push(A)}function N(k){var A=k.completion||{};A.type="normal",delete A.arg,k.completion=A}function F(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(D,this),this.reset(!0)}function $(k){if(k){var A=k[a];if(A)return A.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var y=-1,x=function S(){for(;++y<k.length;)if(r.call(k,y))return S.value=k[y],S.done=!1,S;return S.value=void 0,S.done=!0,S};return x.next=x}}return{next:z}}function z(){return{value:void 0,done:!0}}return h.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(k){var A=typeof k=="function"&&k.constructor;return!!A&&(A===h||(A.displayName||A.name)==="GeneratorFunction")},t.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,p):(k.__proto__=p,l(k,o,"GeneratorFunction")),k.prototype=Object.create(b),k},t.awrap=function(k){return{__await:k}},w(E.prototype),l(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(k,A,y,x,S){S===void 0&&(S=Promise);var C=new E(u(k,A,y,x),S);return t.isGeneratorFunction(A)?C:C.next().then(function(P){return P.done?P.value:C.next()})},w(b),l(b,o,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),t.keys=function(k){var A=Object(k),y=[];for(var x in A)y.push(x);return y.reverse(),function S(){for(;y.length;){var C=y.pop();if(C in A)return S.value=C,S.done=!1,S}return S.done=!0,S}},t.values=$,F.prototype={constructor:F,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!k)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var A=this;function y(B,L){return C.type="throw",C.arg=k,A.next=B,L&&(A.method="next",A.arg=void 0),!!L}for(var x=this.tryEntries.length-1;x>=0;--x){var S=this.tryEntries[x],C=S.completion;if(S.tryLoc==="root")return y("end");if(S.tryLoc<=this.prev){var P=r.call(S,"catchLoc"),M=r.call(S,"finallyLoc");if(P&&M){if(this.prev<S.catchLoc)return y(S.catchLoc,!0);if(this.prev<S.finallyLoc)return y(S.finallyLoc)}else if(P){if(this.prev<S.catchLoc)return y(S.catchLoc,!0)}else{if(!M)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return y(S.finallyLoc)}}}},abrupt:function(k,A){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.tryLoc<=this.prev&&r.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var S=x;break}}S&&(k==="break"||k==="continue")&&S.tryLoc<=A&&A<=S.finallyLoc&&(S=null);var C=S?S.completion:{};return C.type=k,C.arg=A,S?(this.method="next",this.next=S.finallyLoc,f):this.complete(C)},complete:function(k,A){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&A&&(this.next=A),f},finish:function(k){for(var A=this.tryEntries.length-1;A>=0;--A){var y=this.tryEntries[A];if(y.finallyLoc===k)return this.complete(y.completion,y.afterLoc),N(y),f}},catch:function(k){for(var A=this.tryEntries.length-1;A>=0;--A){var y=this.tryEntries[A];if(y.tryLoc===k){var x=y.completion;if(x.type==="throw"){var S=x.arg;N(y)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(k,A,y){return this.delegate={iterator:$(k),resultName:A,nextLoc:y},this.method==="next"&&(this.arg=void 0),f}},t}function t$(t,e,r,n,i,a,s){try{var o=t[a](s),l=o.value}catch(u){r(u);return}o.done?e(l):Promise.resolve(l).then(n,i)}function Bn(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(l){t$(a,n,i,s,o,"next",l)}function o(l){t$(a,n,i,s,o,"throw",l)}s(void 0)})}}function ROe(t){if(Array.isArray(t))return t}function _Oe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function r$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IOe(t,e){if(t){if(typeof t=="string")return r$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r$(t,e)}}function COe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ii(t,e){return ROe(t)||_Oe(t,e)||IOe(t,e)||COe()}var POe=function(e){var r=e._element,n=e.setLive,i=e.fullscreen,a=e.togglePlay,s=e._updateMediaStream,o=e.deviceIds;return{_element:r,setLive:n,fullscreen:i,togglePlay:a,_updateMediaStream:s,deviceIds:o}},kOe=T.forwardRef(function(t,e){var r=t.ingestUrl,n=t.title,i=t.aspectRatio,a=t.objectFit,s=t.webrtcConfig,o=t.onBroadcastError,l=t.onPlaybackStatusUpdate,u=t.playbackStatusSelector,c=T.useContext(N2),f=T.useCallback(function(N){var F;return(F=u?.(N))!==null&&F!==void 0?F:N},[u]);T.useEffect(function(){return c.subscribe(f,function(N,F){return l?.(cx(N),cx(F))})},[l,f,c]);var d=Vr(POe),h=d._element,p=d.setLive,m=d.fullscreen,g=d.togglePlay,v=d._updateMediaStream,b=T.useState(null),w=ii(b,2),E=w[0],R=w[1],I=T.useCallback(function(){var N=Bn(Lt().mark(function F($){var z,k,A,y,x,S,C,P;return Lt().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:v($.stream,{audio:$==null||(z=$.audioTransceiver)===null||z===void 0||(k=z.sender)===null||k===void 0||(A=k.track)===null||A===void 0||(y=A.getSettings())===null||y===void 0?void 0:y.deviceId,video:$==null||(x=$.videoTransceiver)===null||x===void 0||(S=x.sender)===null||S===void 0||(C=S.track)===null||C===void 0||(P=C.getSettings())===null||P===void 0?void 0:P.deviceId}),R({audio:$.audioTransceiver,video:$.videoTransceiver}),o?.(null),g?.(!0),p(!0);case 5:case"end":return B.stop()}},F)}));return function(F){return N.apply(this,arguments)}}(),[p,o,g,v]),D=T.useCallback(function(N){var F,$,z,k=new Error((F=N==null||($=N.message)===null||$===void 0||(z=$.toString)===null||z===void 0?void 0:z.call($))!==null&&F!==void 0?F:"Error with WebRTC");o?.(k)},[o]);return T.useEffect(function(){if(h&&r){var N=B6e(r,h,i??"16to9",{onConnected:I,onError:D},s),F=N.destroy;return function(){F?.()}}},[s,i,h,I,r,o,D]),T.useEffect(function(){return c.subscribe(function(N,F){var $,z;(($=N._mediaStream)===null||$===void 0?void 0:$.id)!==((z=F._mediaStream)===null||z===void 0?void 0:z.id)&&N._element&&E&&N._mediaStream&&U6e({newMediaStream:N._mediaStream,prevMediaStream:F._mediaStream,aspectRatio:i??"16to9",element:N._element,videoTransceiver:E.video,audioTransceiver:E.audio,onConnected:I}).catch(function(k){return D(k)})})},[c,E,i,I,D]),j.jsx("video",{className:Oe.media.video({size:m?"fullscreen":a}),"aria-label":n??"Video player",role:"video",width:"100%",height:"100%",ref:e,"webkit-playsinline":"true",playsInline:!0,muted:!0})}),yK=function(e){var r=e.value,n=e.onChange,i=e.type,a=e.portalContainer,s=e.mediaDevices,o=T.useMemo(function(){if(r&&s.every(function(f){return r!==f.deviceId})){var l,u=r.split(":",2),c=u.length>1?"".concat((l=u[0])===null||l===void 0?void 0:l.slice(0,10),"...").concat(r.slice(-4)):r.slice(0,8);return c??"screen"}return null},[s,r]);return j.jsxs("div",{className:Oe.settings.select.group(),children:[j.jsx("label",{className:Oe.settings.select.label(),htmlFor:i==="audio"?"audio-source":"video-source",children:i==="audio"?"Audio Source":"Video Source"}),j.jsxs(WPe,{disabled:s.length===0,value:r,onValueChange:n,name:i==="audio"?"audio-source":"video-source",children:[j.jsxs(qPe,{className:Oe.settings.select.trigger(),"aria-label":i==="audio"?"Audio Source":"Video Source",children:[j.jsx(KPe,{placeholder:i==="audio"?"Select your audio source...":"Select your video source..."}),j.jsx(QPe,{className:Oe.settings.select.icon(),children:j.jsx(OOe,{})})]}),j.jsx(ZPe,{container:a,children:j.jsx(XPe,{className:Oe.settings.select.content(),children:j.jsx(JPe,{className:Oe.settings.select.viewport(),children:j.jsxs(eke,{children:[s.map(function(l,u){var c;return j.jsxs(i7,{value:l.deviceId,className:Oe.settings.select.item(),children:[j.jsx(a7,{children:(c=l.label)!==null&&c!==void 0?c:"".concat(i==="audio"?"Audio Source":"Video Source"," ").concat(u+1," (").concat(l.deviceId==="default"?"default":l.deviceId.slice(0,6),")")}),j.jsx(s7,{className:Oe.settings.select.itemIndicator(),children:j.jsx(n$,{})})]},l.deviceId)}),r&&o&&j.jsxs(i7,{value:r,className:Oe.settings.select.item(),children:[j.jsx(a7,{children:"Screen Source (".concat(o,")")}),j.jsx(s7,{className:Oe.settings.select.itemIndicator(),children:j.jsx(n$,{})})]},r)]})})})})]})]})},OOe=function(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 -960 960 960",width:"20",children:j.jsx("path",{fill:"currentColor",d:"M480-345 240-585l43-43 197 198 197-197 43 43-240 239Z"})})},n$=function(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 -960 960 960",width:"16",children:j.jsx("path",{d:"M378-246 154-470l43-43 181 181 384-384 43 43-427 427Z"})})},NOe=function(e){var r=e.deviceIds,n=e._updateMediaStream;return{deviceIds:r,_updateMediaStream:n}},LOe=function(e){var r=e.portalContainer,n=e.streamConstraints,i=Vr(NOe),a=i.deviceIds,s=i._updateMediaStream,o=T.useState(null),l=ii(o,2),u=l[0],c=l[1];T.useEffect(function(){var d=AW(function(h){c(h.filter(function(p){return p.kind==="audioinput"}))});return d},[]);var f=T.useCallback(function(){var d=Bn(Lt().mark(function h(p){var m,g,v;return Lt().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,TW({source:{streamConstraints:n,videoDeviceId:(m=a?.video)!==null&&m!==void 0?m:void 0,audioDeviceId:(g=p??a?.audio)!==null&&g!==void 0?g:void 0}});case 2:v=w.sent,v&&s(v);case 4:case"end":return w.stop()}},h)}));return function(h){return d.apply(this,arguments)}}(),[s,a,n]);return j.jsx(yK,{type:"audio",onChange:f,value:a?.audio,mediaDevices:u??[],portalContainer:r})},DOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"-320 -1270 1600 1600",children:j.jsx("path",{fill:"currentColor",d:"m686-361-43-43q21-26 31-58.5t10-66.5h60q0 46-15 89t-43 79ZM461-586Zm97 97-53-52v-238q0-17.425-11.788-29.213Q481.425-820 464-820q-17.425 0-29.212 11.787Q423-796.425 423-779v155l-60-60v-95q0-42.083 29.441-71.542Q421.882-880 463.941-880t71.559 29.458Q565-821.083 565-779v250q0 8-1.5 20t-5.5 20ZM434-120v-136q-106-11-178-89t-72-184h60q0 91 64.5 153T464-314q38 0 73.11-12.337Q572.221-338.675 601-361l43 43q-31 26-69.014 41.568Q536.972-260.865 494-256v136h-60Zm397 65L36-850l38-38L869-93l-38 38Z"})})},MOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"-320 -1270 1600 1600",children:j.jsx("path",{fill:"currentColor",d:"M480-423q-43 0-72-30.917-29-30.916-29-75.083v-251q0-41.667 29.441-70.833Q437.882-880 479.941-880t71.559 29.167Q581-821.667 581-780v251q0 44.167-29 75.083Q523-423 480-423Zm0-228Zm-30 531v-136q-106-11-178-89t-72-184h60q0 91 64.288 153t155.5 62Q571-314 635.5-376 700-438 700-529h60q0 106-72 184t-178 89v136h-60Zm30-363q18 0 29.5-13.5T521-529v-251q0-17-11.788-28.5Q497.425-820 480-820q-17.425 0-29.212 11.5Q439-797 439-780v251q0 19 11.5 32.5T480-483Z"})})},$Oe=function(e){var r=e.isVolumeChangeSupported,n=e.requestToggleMute,i=e.requestVolume,a=e.muted,s=e.volume;return{isVolumeChangeSupported:r,requestToggleMute:n,requestVolume:i,muted:a,volume:s}},FOe=function(e){var r=Vr($Oe),n=r.volume,i=r.requestToggleMute,a=r.muted,s=r.requestVolume,o=r.isVolumeChangeSupported,l=kH(dt({volume:n,requestToggleMute:i,muted:a,requestVolume:s,isVolumeChangeSupported:o,defaultMutedIcon:j.jsx(DOe,{}),defaultUnmutedIcon:j.jsx(MOe,{})},e)),u=l.buttonProps,c=l.title;return j.jsx("div",{className:Oe.volume.container(),children:j.jsx("button",dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:c,"aria-label":c,onClick:u.onPress},Iu(u,"onPress","size")))})},BOe=function(e){var r=e.deviceIds,n=e._updateMediaStream;return{deviceIds:r,_updateMediaStream:n}},UOe=function(e){var r=e.portalContainer,n=e.streamConstraints,i=Vr(BOe),a=i.deviceIds,s=i._updateMediaStream,o=T.useState(null),l=ii(o,2),u=l[0],c=l[1];T.useEffect(function(){var d=AW(function(h){c(h.filter(function(p){return p.kind==="videoinput"}))});return d},[]);var f=T.useCallback(function(){var d=Bn(Lt().mark(function h(p){var m,g,v;return Lt().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,TW({source:{streamConstraints:n,videoDeviceId:(m=p??a?.video)!==null&&m!==void 0?m:void 0,audioDeviceId:(g=a?.audio)!==null&&g!==void 0?g:void 0}});case 2:v=w.sent,v&&s(v);case 4:case"end":return w.stop()}},h)}));return function(h){return d.apply(this,arguments)}}(),[s,a,n]);return j.jsx(yK,{type:"video",onChange:f,value:a?.video,mediaDevices:u??[],portalContainer:r})},jOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:j.jsx("path",{d:"m 23.94,18.78 c .03,-0.25 .05,-0.51 .05,-0.78 0,-0.27 -0.02,-0.52 -0.05,-0.78 l 1.68,-1.32 c .15,-0.12 .19,-0.33 .09,-0.51 l -1.6,-2.76 c -0.09,-0.17 -0.31,-0.24 -0.48,-0.17 l -1.99,.8 c -0.41,-0.32 -0.86,-0.58 -1.35,-0.78 l -0.30,-2.12 c -0.02,-0.19 -0.19,-0.33 -0.39,-0.33 l -3.2,0 c -0.2,0 -0.36,.14 -0.39,.33 l -0.30,2.12 c -0.48,.2 -0.93,.47 -1.35,.78 l -1.99,-0.8 c -0.18,-0.07 -0.39,0 -0.48,.17 l -1.6,2.76 c -0.10,.17 -0.05,.39 .09,.51 l 1.68,1.32 c -0.03,.25 -0.05,.52 -0.05,.78 0,.26 .02,.52 .05,.78 l -1.68,1.32 c -0.15,.12 -0.19,.33 -0.09,.51 l 1.6,2.76 c .09,.17 .31,.24 .48,.17 l 1.99,-0.8 c .41,.32 .86,.58 1.35,.78 l .30,2.12 c .02,.19 .19,.33 .39,.33 l 3.2,0 c .2,0 .36,-0.14 .39,-0.33 l .30,-2.12 c .48,-0.2 .93,-0.47 1.35,-0.78 l 1.99,.8 c .18,.07 .39,0 .48,-0.17 l 1.6,-2.76 c .09,-0.17 .05,-0.39 -0.09,-0.51 l -1.68,-1.32 0,0 z m -5.94,2.01 c -1.54,0 -2.8,-1.25 -2.8,-2.8 0,-1.54 1.25,-2.8 2.8,-2.8 1.54,0 2.8,1.25 2.8,2.8 0,1.54 -1.25,2.8 -2.8,2.8 l 0,0 z",fill:"currentColor"})})},zOe=function(e){var r=e._element;return{_element:r}},VOe=function(e){var r,n,i,a,s=Vr(zOe),o=s._element;return j.jsx("div",{className:Oe.volume.container(),children:j.jsxs(QCe,{children:[j.jsx(ZCe,{asChild:!0,children:j.jsx("button",dt(dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:"Broadcast settings","aria-label":"Broadcast settings"},Iu(e,"icon","size","streamConstraints")),{},{children:(r=e?.icon)!==null&&r!==void 0?r:j.jsx(jOe,{})}))}),j.jsxs(XCe,{container:(n=o?.parentElement)!==null&&n!==void 0?n:o,children:[j.jsx(JCe,{className:Oe.settings.overlay()}),j.jsxs(e4e,{className:Oe.settings.content(),children:[j.jsx(t4e,{className:Oe.settings.title(),children:"Settings"}),j.jsx(UOe,{streamConstraints:e.streamConstraints,portalContainer:(i=o?.parentElement)!==null&&i!==void 0?i:o}),j.jsx(LOe,{streamConstraints:e.streamConstraints,portalContainer:(a=o?.parentElement)!==null&&a!==void 0?a:o}),j.jsx(r4e,{asChild:!0,children:j.jsx("button",{className:Oe.settings.close(),"aria-label":"Close",children:j.jsx(YOe,{})})})]})]})]})})},YOe=function(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 -960 960 960",width:"48",children:j.jsx("path",{d:"m249-207-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"})})},GOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",children:j.jsx("path",{fill:"currentColor",d:"M451-328h59v-194l79 81 43-43-153-152-152 152 43 43 81-81v194ZM140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm0-60h680v-520H140v520Zm0 0v-520 520Z"})})},HOe=function(e){var r=e._updateMediaStream;return{_updateMediaStream:r}},WOe=function(e){var r,n=Vr(HOe),i=n._updateMediaStream,a=T.useCallback(Bn(Lt().mark(function s(){var o;return Lt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,j6e(e?.options);case 2:o=u.sent,o&&i(o);case 4:case"end":return u.stop()}},s)})),[i,e?.options]);return j.jsx("button",dt(dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:"Screen share","aria-label":"Screen share"},Iu(e,"icon","options","size")),{},{onClick:a,children:(r=e?.icon)!==null&&r!==void 0?r:j.jsx(GOe,{})}))};function qOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function bK(t,e){if(t==null)return{};var r=qOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var KOe=["onIcon","offIcon","onPress"],QOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fill:"currentColor",d:"M140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h520q24 0 42 18t18 42v215l160-160v410L720-435v215q0 24-18 42t-42 18H140Zm0-60h520v-520H140v520Zm0 0v-520 520Z"})})},ZOe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",children:j.jsx("path",{fill:"currentColor",d:"M880-275 720-435v111l-60-60v-356H304l-60-60h416q24 0 42 18t18 42v215l160-160v410ZM848-27 39-836l42-42L890-69l-42 42ZM484-560Zm-87 82ZM159-800l60 60h-79v520h520v-79l60 60v19q0 24-18 42t-42 18H140q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h19Z"})})},XOe=function(e){var r=e.toggleVideo,n=e.video;return{toggleVideo:r,video:n}},JOe=function(e){var r=Vr(XOe),n=r.toggleVideo,i=r.video,a=e.onIcon,s=e.offIcon,o=e.onPress,l=bK(e,KOe),u=function(){var d=Bn(Lt().mark(function h(){return Lt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,o?.();case 2:return m.next=4,n();case 4:case"end":return m.stop()}},h)}));return function(){return d.apply(this,arguments)}}(),c=I2(!!i,a,j.jsx(QOe,{}),s,j.jsx(ZOe,{})),f=T.useMemo(function(){return i?"Turn video off (v)":"Turn video on (v)"},[i]);return j.jsx("button",dt(dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:f,"aria-label":f,onClick:u},Iu(l,"size")),{},{children:c}))},i$=50,eNe=function(e){var r=e.device;return{device:r}},xK=function(e){var r=Vr(eNe),n=r.device,i=T.useRef(null),a=T.useState({width:0,left:0}),s=ii(a,2),o=s[0],l=s[1];T.useEffect(function(){if(typeof window<"u"){var C=function(){var M,B,L,_=(M=i.current)===null||M===void 0?void 0:M.getBoundingClientRect();l({width:(B=_?.width)!==null&&B!==void 0?B:0,left:(L=_?.left)!==null&&L!==void 0?L:0})};return C(),window.addEventListener("resize",C),function(){return window.removeEventListener("resize",C)}}},[]);var u=T.useState(!1),c=ii(u,2),f=c[0],d=c[1],h=T.useState(0),p=ii(h,2),m=p[0],g=p[1],v=BTe(dt({isActive:f||n?.isMobile,sliderWidth:o.width,defaultThumbIcon:j.jsx(tNe,{})},e)),b=v.title,w=v.value,E=v.active,R=v.handle,I=v.sliderProps,D=v.sliderLeftTrackProps,N=v.sliderMiddleTrackProps,F=v.sliderRightTrackProps,$=T.useState(!1),z=ii($,2),k=z[0],A=z[1];T.useEffect(function(){if(k){var C,P,M,B,L=function(){var O=Bn(Lt().mark(function Y(H){var W;return Lt().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return W=Date.now()-m>i$,ie.next=3,I.onUpdate(H.clientX-o.left,W);case 3:W&&g(Date.now());case 4:case"end":return ie.stop()}},Y)}));return function(H){return O.apply(this,arguments)}}(),_=function(){var O=Bn(Lt().mark(function Y(H){var W,K,ie,Q,te;return Lt().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(Q=Date.now()-m>i$,te=(W=H.touches)===null||W===void 0||(K=W.item)===null||K===void 0||(ie=K.call(W,0))===null||ie===void 0?void 0:ie.clientX,!te){oe.next=6;break}return oe.next=5,I.onUpdate(te-o.left,Q);case 5:Q&&g(Date.now());case 6:case"end":return oe.stop()}},Y)}));return function(H){return O.apply(this,arguments)}}(),U=function(){var O=Bn(Lt().mark(function Y(H){var W;return Lt().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return A(!1),ie.next=3,I.onUpdate(H.clientX-o.left,!0);case 3:return ie.next=5,e==null||(W=e.onDone)===null||W===void 0?void 0:W.call(e);case 5:case"end":return ie.stop()}},Y)}));return function(H){return O.apply(this,arguments)}}(),G=function(){var O=Bn(Lt().mark(function Y(H){var W,K,ie,Q,te,xe,oe,ve,Ae;return Lt().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(A(!1),Ae=(W=(K=H.touches)===null||K===void 0||(ie=K.item)===null||ie===void 0||(Q=ie.call(K,0))===null||Q===void 0?void 0:Q.clientX)!==null&&W!==void 0?W:(te=H.changedTouches)===null||te===void 0||(xe=te.item)===null||xe===void 0||(oe=xe.call(te,0))===null||oe===void 0?void 0:oe.clientX,!Ae){Fe.next=5;break}return Fe.next=5,I.onUpdate(Ae-o.left,!0);case 5:return Fe.next=7,e==null||(ve=e.onDone)===null||ve===void 0?void 0:ve.call(e);case 7:case"end":return Fe.stop()}},Y)}));return function(H){return O.apply(this,arguments)}}();return(C=document)===null||C===void 0||C.addEventListener("mousemove",L),(P=document)===null||P===void 0||P.addEventListener("mouseup",U),(M=document)===null||M===void 0||M.addEventListener("touchmove",_),(B=document)===null||B===void 0||B.addEventListener("touchend",G),function(){var O,Y,H,W;(O=document)===null||O===void 0||O.removeEventListener("mousemove",L),(Y=document)===null||Y===void 0||Y.removeEventListener("mouseup",U),(H=document)===null||H===void 0||H.removeEventListener("touchmove",_),(W=document)===null||W===void 0||W.removeEventListener("touchend",G)}}},[k,I,e,o,m]);var y=T.useCallback(function(){var C=Bn(Lt().mark(function P(M){return Lt().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,I.onUpdate(M.clientX-o.left);case 2:A(!0);case 3:case"end":return L.stop()}},P)}));return function(P){return C.apply(this,arguments)}}(),[I,o]),x=T.useCallback(Bn(Lt().mark(function C(){return Lt().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d(!0);case 1:case"end":return M.stop()}},C)})),[d]),S=T.useCallback(Bn(Lt().mark(function C(){return Lt().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:d(!1);case 1:case"end":return M.stop()}},C)})),[d]);return j.jsxs("div",{ref:i,onPointerDown:y,onMouseEnter:x,onMouseLeave:S,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":w,"aria-valuetext":b,"aria-orientation":"horizontal",className:Oe.slider.container(),children:[D.shown&&j.jsx("div",{className:Oe.slider.track.left({size:E?"active":"default",rounded:D.rounded,css:D.css})}),R,N.shown&&j.jsx("div",{className:Oe.slider.track.middle({size:E?"active":"default",rounded:N.rounded,css:N.css})}),F.shown&&j.jsx("div",{className:Oe.slider.track.right({size:E?"active":"default",rounded:F.rounded,css:F.css})})]})},tNe=function(e){var r=e.size,n=e.css;return j.jsx("div",{className:Oe.slider.thumb({css:n,size:r})})},rNe=function(e){var r=e.fullscreen;return{fullscreen:r}},wK=function(e){var r=e.children,n=e.aspectRatio,i=e.theme,a=e.tabIndex,s=A3e(i),o=Vr(rNe),l=o.fullscreen;return j.jsx("div",{style:{display:"contents"},className:"".concat(s?"".concat(s," "):"","livepeer-contents-container"),children:j.jsx("div",{className:"".concat(Oe.container({aspectRatio:n,size:l?"fullscreen":"default"})," livepeer-aspect-ratio-container"),tabIndex:a??0,children:r})})},nNe=function(){return j.jsxs("svg",{viewBox:"0 0 324 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82 8.30584L239.745 5.68359L242.335 118.151L83.9414 118.502L82 8.30584Z",fill:"#97F2EF"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66 124.072L254.898 124L258 129L68.3248 128.971L66 124.072Z",fill:"#97F2EF"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.2062 111.151L92.5204 15.5292L229.556 14.1187L231.803 111.716L94.2062 111.151Z",fill:"#4CC38A"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185 58.1481C185 70.8507 174.703 82 162 82C153.04 82 145.277 77.3008 141.48 70.0741C141.421 69.9609 141.362 69.8472 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C139.533 65.4642 139 62.7423 139 59.8519C139 47.1493 149.297 36 162 36C166.913 36 171.467 37.4132 175.204 39.8814C175.63 41.0012 176.226 43.6667 175.204 45.3704C176 44.8025 177.651 43.3259 177.888 41.963C182.27 45.9317 185 51.6082 185 58.1481Z",fill:"#141716"}),j.jsx("path",{d:"M140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C140.746 68.5556 141.013 69.1521 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963Z",fill:"#141716"}),j.jsx("path",{d:"M171 60.5003L156 70V60.6462V51L166.104 57.3994L171 60.5003Z",stroke:"#4CC38A",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M101.096 100.921L176.5 101.109M219.885 101.163L198.193 101.136",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",fill:"#DF0087"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M93.7252 111.754L91.7752 14.7408L230.275 13.7374L232.225 112.245L93.7252 111.754Z",stroke:"#141716",strokeWidth:"2.5"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.0868 58.0273L49.9632 88.7907L19.4093 88.9852L19.0201 58.6113L49.0868 58.0273ZM51 89.7922L50.0663 57L18 57.6228L18.4147 90L51 89.7922Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M296.114 25.1881L297.132 60.7679L261.637 60.9929L261.185 25.8636L296.114 25.1881ZM298.336 61.9263L297.252 24L260 24.7203L260.482 62.1666L298.336 61.9263Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M293.138 78.0001L293 67.2077L303.689 67.0001L304 77.9308L293.138 78.0001ZM304.309 78.2288L292.842 78.3019L292.696 66.9135L303.98 66.6943L304.309 78.2288ZM303.071 67.6482L293.644 67.8313L293.766 77.3599L303.346 77.2989L303.071 67.6482ZM303.362 67.3425L293.34 67.5372L293.47 77.6618L303.654 77.5969L303.362 67.3425Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M303.362 67.3424L303.654 77.5969L293.47 77.6617L293.34 67.5371L303.362 67.3424ZM304 77.9307L303.689 67L293 67.2076L293.138 78L304 77.9307Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.594 66.2179L289.78 72.7435L283.299 72.7847L283.216 66.3418L289.594 66.2179ZM290 72.9559L289.802 66L283 66.1321L283.088 73L290 72.9559Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M290.309 73.254L282.792 73.3019L282.696 65.838L290.093 65.6943L290.309 73.254ZM289.594 66.218L289.78 72.7435L283.299 72.7848L283.216 66.3419L289.594 66.218ZM289.471 72.4455L283.595 72.4829L283.52 66.636L289.303 66.5237L289.471 72.4455ZM283.088 73.0001L283 66.1322L289.802 66.0001L290 72.956L283.088 73.0001Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.442 36.3017L47.3038 47.0941L57.9925 47.3017L58.3038 36.371L47.442 36.3017ZM58.6124 36.0729L47.1459 35.9998L47 47.3883L58.284 47.6074L58.6124 36.0729ZM57.3747 46.6536L47.9476 46.4704L48.0697 36.9419L57.6496 37.0029L57.3747 46.6536ZM57.6661 46.9593L47.6438 46.7646L47.7736 36.64L57.9582 36.7048L57.6661 46.9593Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.6661 46.9593L57.9582 36.7049L47.7736 36.64L47.6439 46.7646L57.6661 46.9593ZM58.3038 36.371L57.9926 47.3018L47.3038 47.0942L47.4421 36.3018L58.3038 36.371Z",fill:"#434545"})]})},EK=nNe,iNe=function(){return j.jsxs("svg",{viewBox:"0 0 324 142",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("circle",{cx:"162",cy:"76",r:"23",stroke:"#141716",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),j.jsx("path",{d:"M242 88.5C242 88.5 206.183 131 162 131C117.817 131 82 88.5 82 88.5C82 88.5 117.817 46 162 46C206.183 46 242 88.5 242 88.5Z",fill:"#97F2EF"}),j.jsx("path",{d:"M249 82C249 82 210.825 128 162.5 128C114.175 128 74.5 82.5 74.5 82.5C74.5 82.5 114.175 32 162.5 32C219 34 249 82 249 82Z",fill:"#97F2EF"}),j.jsx("path",{d:"M249 82.5C249 82.5 210.049 129 162 129C113.951 129 75 82.5 75 82.5C75 82.5 113.951 36 162 36C210.049 36 249 82.5 249 82.5Z",fill:"#4CC38A"}),j.jsx("path",{d:"M216.5 60.8302C202.013 51.0702 182.921 42 162 42C116.713 42 80 84.5 80 84.5C80 84.5 116.713 127 162 127C207.287 127 244 84.5 244 84.5C244 84.5 240.941 80.9589 235.5 75.921",stroke:"#141716",strokeWidth:"2.5"}),j.jsx("path",{d:"M118 117.5C117 119.5 107.5 122.7 107.5 125.5M127 121.5C123.667 126.167 117 136.7 117 141.5",stroke:"#97F2EF",strokeWidth:"2.5"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M193 86C193 100.912 180.912 114 166 114C155.482 114 146.369 108.484 141.912 100C141.842 99.8672 141.773 99.7336 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94C140.5 95.5 140.679 96.8333 140.769 97.5C139.626 94.5884 139 91.3932 139 88C139 73.0883 151.088 60 166 60C171.768 60 177.113 61.6589 181.5 64.5564C182 65.8709 182.7 69 181.5 71C182.434 70.3333 184.373 68.6 184.652 67C189.796 71.6589 193 78.3227 193 86Z",fill:"#141716"}),j.jsx("path",{d:"M141 94C140.5 95.5 140.679 96.8333 140.769 97.5C141.05 98.2174 141.363 98.9177 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94Z",fill:"#141716"}),j.jsx("path",{d:"M170.403 79C176.754 79 182.328 84.8203 182.328 92C182.328 99.1797 177.606 105 171.254 105C167.788 105 164.552 103.266 162.328 100.523C161.871 99.9592 161.457 99.3526 161.092 98.7097C159.98 96.7509 159.328 94.4549 159.328 92C159.328 84.8203 164.051 79 170.403 79Z",fill:"#4CC38A"}),j.jsx("path",{d:"M70.5 43C77 48.1667 87.3 55 94.5 63M98 8C103 19.6667 113 44.8 113 52M156.5 0.5C156 12.5 158 32.5 158 32.5M223 56C231.667 50.6667 241 43 263 39",stroke:"#97F2EF",strokeWidth:"2.5"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.028 49.4047L287.706 29.9756L312.554 29.6019L313.278 49.28L288.028 49.4047ZM313.995 49.8165L287.339 49.9481L287 29.4461L313.232 29.0515L313.995 49.8165ZM311.118 30.7687L289.203 31.0984L289.487 48.2522L311.757 48.1424L311.118 30.7687ZM311.795 30.2184L288.497 30.5688L288.798 48.7957L312.474 48.679L311.795 30.2184Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M311.795 30.2182L312.475 48.6788L288.798 48.7955L288.497 30.5687L311.795 30.2182ZM313.278 49.2798L312.554 29.6017L287.706 29.9755L288.028 49.4045L313.278 49.2798Z",fill:"#434545"}),j.jsx("path",{d:"M308.595 29.6018V24.201C308.595 20.224 305.371 17 301.394 17V17C297.417 17 294.193 20.224 294.193 24.201V29.6018",stroke:"#434545",strokeWidth:"2"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.9897 127.881L31.6802 109.168L55.6122 108.808L56.309 127.761L31.9897 127.881ZM57 128.278L31.3266 128.405L31 108.658L56.2646 108.278L57 128.278ZM54.2287 109.932L33.1217 110.25L33.3951 126.771L54.8443 126.665L54.2287 109.932ZM54.8812 109.402L32.4415 109.74L32.732 127.295L55.5352 127.182L54.8812 109.402Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.8813 109.402L55.5353 127.182L32.7321 127.295L32.4416 109.74L54.8813 109.402ZM56.3091 127.761L55.6122 108.808L31.6803 109.168L31.9898 127.881L56.3091 127.761Z",fill:"#434545"}),j.jsx("path",{d:"M51.7984 108.808V103.606C51.7984 99.776 48.6932 96.6709 44.8628 96.6709V96.6709C41.0325 96.6709 37.9273 99.776 37.9273 103.606V108.808",stroke:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4568 93.4225L16.3139 85.9741L27.3595 85.8309L27.6811 93.3747L16.4568 93.4225ZM28 93.5804L16.1507 93.6308L16 85.7711L27.6606 85.6199L28 93.5804ZM26.7209 86.2782L16.9793 86.4046L17.1054 92.9807L27.005 92.9386L26.7209 86.2782ZM27.0221 86.0672L16.6653 86.2016L16.7994 93.189L27.324 93.1443L27.0221 86.0672Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0221 86.0676L27.324 93.1447L16.7994 93.1895L16.6654 86.202L27.0221 86.0676ZM27.6811 93.3751L27.3595 85.8313L16.314 85.9746L16.4568 93.4229L27.6811 93.3751Z",fill:"#434545"}),j.jsx("path",{d:"M25.5992 85.831V84.201C25.5992 82.4331 24.1661 81 22.3982 81V81C20.6304 81 19.1972 82.4331 19.1972 84.201V85.831",stroke:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.419 69.8179L289.288 62.3096L299.413 62.1844L299.708 69.7762L289.419 69.8179ZM300 69.9559L289.138 70L289 62.1322L299.689 62L300 69.9559ZM299 63H290L290.013 69.4319L299.088 69.3951L299 63ZM299.104 62.3909L289.61 62.5083L289.733 69.6139L299.38 69.5748L299.104 62.3909Z",fill:"#434545"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M299.104 62.3909L299.38 69.5748L289.733 69.6139L289.61 62.5083L299.104 62.3909ZM299.708 69.7762L299.413 62.1844L289.288 62.3096L289.419 69.8179L299.708 69.7762Z",fill:"#434545"}),j.jsx("path",{d:"M296.752 62.9402V61.2516C296.752 60.0081 295.744 59 294.5 59V59C293.257 59 292.249 60.0081 292.249 61.2516V62.9402",stroke:"#434545"})]})},aNe=iNe,sNe=function(e){var r=e.isBroadcast;return j.jsxs("div",{className:Oe.controlsContainer.error.background(),children:[j.jsx(EK,{}),j.jsx("div",{className:Oe.controlsContainer.error.title(),children:r?"Stream key invalid":"Stream is offline"}),j.jsx("div",{className:Oe.controlsContainer.error.text(),children:r?"The provided stream key could not be found. Please check it and try again.":"Playback will start automatically once the stream has started."})]})},oNe=function(){return j.jsxs("div",{className:Oe.controlsContainer.error.background(),children:[j.jsx(aNe,{}),j.jsx("div",{className:Oe.controlsContainer.error.title(),children:"Stream is private"}),j.jsx("div",{className:Oe.controlsContainer.error.text(),children:"It looks like you don't have permission to view this content."})]})},lNe=function(e){var r=e.isBroadcast;return j.jsxs("div",{className:Oe.controlsContainer.error.background(),children:[j.jsx(EK,{}),j.jsx("div",{className:Oe.controlsContainer.error.title(),children:r?"Broadcast failed":"Playback failed"}),j.jsx("div",{className:Oe.controlsContainer.error.text(),children:r?"There was an error with broadcasting - please try again later.":"There was an error with playback - please wait while we are retrying in the background."})]})},uNe=function(e){var r=e.hidden,n=e.togglePlay,i=e.canPlay,a=e.hasPlayed,s=e.buffered,o=e.ingestUrl,l=e._updateLastInteraction;return{hidden:r,togglePlay:n,canPlay:i,hasPlayed:a,buffered:s,ingestUrl:o,_updateLastInteraction:l}},SK=function(e){var r=e.top,n=e.middle,i=e.left,a=e.right,s=e.poster,o=e.showLoadingSpinner,l=o===void 0?!0:o,u=e.hidePosterOnPlayed,c=u===void 0?!0:u,f=e.loadingText,d=e.error,h=e.children,p=Vr(uNe),m=p.hidden,g=p.togglePlay,v=p.canPlay,b=p.hasPlayed,w=p.buffered,E=p.ingestUrl,R=p._updateLastInteraction,I=T.useMemo(function(){return!!E},[E]),D=UTe({togglePlay:g,canPlay:v,buffered:w,isBroadcast:I,_updateLastInteraction:R}),N=D.isLoaded,F=D.containerProps;return j.jsxs(j.Fragment,{children:[s?j.jsx("div",{className:Oe.controlsContainer.background({display:b&&c?"hidden":"shown"}),onMouseUp:F.onPress,children:s}):j.jsx("div",{className:Oe.controlsContainer.background({display:"hidden"}),onMouseUp:F.onPress}),l&&!N&&(!(d!=null&&d.type)||d.type==="b-frames")&&j.jsxs("div",{className:Oe.controlsContainer.background(),onMouseUp:F.onPress,children:[f&&j.jsx("div",{className:Oe.controlsContainer.loadingText(),children:f}),j.jsx("div",{className:Oe.controlsContainer.loading()})]}),d!=null&&d.type&&d.type!=="b-frames"?j.jsx("div",{className:Oe.controlsContainer.background(),onMouseUp:F.onPress,children:d?.type==="access-control"?j.jsx(oNe,{}):d?.type==="offline"?j.jsx(sNe,{isBroadcast:I}):j.jsx(lNe,{isBroadcast:I})}):N&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:Oe.controlsContainer.gradient({display:m?"hidden":"shown"}),onMouseUp:F.onPress}),j.jsx("div",{className:Oe.controlsContainer.top.container({display:m?"hidden":"shown"}),children:r}),j.jsxs("div",{className:Oe.controlsContainer.bottom.container({display:m?"hidden":"shown"}),children:[j.jsx("div",{className:Oe.controlsContainer.bottom.middle.container(),children:n}),j.jsxs("div",{className:Oe.controlsContainer.bottom.lower.container(),children:[j.jsx("div",{className:Oe.controlsContainer.bottom.lower.left(),children:i}),j.jsx("div",{className:Oe.controlsContainer.bottom.lower.right(),children:a})]})]}),h&&j.jsx("div",{className:Oe.controlsContainer.background({display:m?"hidden":"shown"}),children:h})]})]})},cNe=function(){return j.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fill:"currentColor",d:"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"})]})},fNe=function(){return j.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:[j.jsx("path",{fill:"currentColor",d:"m 14,14 -4,0 0,2 6,0 0,-6 -2,0 0,4 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"m 22,14 0,-4 -2,0 0,6 6,0 0,-2 -4,0 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"m 20,26 2,0 0,-4 4,0 0,-2 -6,0 0,6 0,0 z"}),j.jsx("path",{fill:"currentColor",d:"m 10,22 4,0 0,4 2,0 0,-6 -6,0 0,2 0,0 z"})]})},dNe=function(e){var r=e.fullscreen,n=e.pictureInPicture,i=e.requestToggleFullscreen;return{fullscreen:r,pictureInPicture:n,requestToggleFullscreen:i}},TK=function(e){var r=Vr(dNe),n=r.fullscreen,i=r.pictureInPicture,a=r.requestToggleFullscreen,s=jTe(dt({fullscreen:n,pictureInPicture:i,requestToggleFullscreen:a,defaultEnterIcon:j.jsx(cNe,{}),defaultExitIcon:j.jsx(fNe,{})},e)),o=s.title,l=s.buttonProps;return l?j.jsx("button",dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:o,"aria-label":o,onClick:l.onPress},Iu(l,"onPress","size"))):j.jsx(j.Fragment,{})},hNe=["icon","onPress"],pNe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{fill:"currentColor",d:"M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z"})})},mNe=function(e){var r=e.requestTogglePictureInPicture,n=e.pictureInPicture,i=e._element,a=e.fullscreen;return{requestTogglePictureInPicture:r,pictureInPicture:n,_element:i,fullscreen:a}},AK=function(e){var r=Vr(mNe),n=r.requestTogglePictureInPicture,i=r._element,a=r.pictureInPicture,s=r.fullscreen,o=e.icon,l=e.onPress,u=bK(e,hNe),c=T.useCallback(Bn(Lt().mark(function p(){return Lt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,l?.();case 2:return g.next=4,n();case 4:case"end":return g.stop()}},p)})),[l,n]),f=T.useMemo(function(){return c3e(i)},[i]),d=T.useMemo(function(){return a?"Exit mini player (i)":"Mini player (i)"},[a]);if(!f||s)return j.jsx(j.Fragment,{});var h=o||j.jsx(pNe,{});return j.jsx("button",dt(dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:d,"aria-label":d,onClick:c},u),{},{children:h}))},gNe=function(e){var r=e.duration,n=e.progress,i=e.live;return{duration:r,progress:n,live:i}},RK=function(){var e=Vr(gNe),r=e.duration,n=e.progress,i=e.live,a=YTe({duration:r,progress:n,live:i}),s=a.title,o=a.live;return j.jsx(j.Fragment,{children:o?j.jsxs("div",{className:Oe.time.container(),children:[j.jsx("div",{className:Oe.time.liveIndicator()}),j.jsx("span",{className:Oe.time.text(),"aria-label":"Live streaming media",children:"LIVE"})]}):j.jsx("span",{className:Oe.time.text(),"aria-label":"Playback time",children:s})})},_K=function(e){var r=e.content;return j.jsx("span",{className:Oe.title(),"aria-label":"Title",children:r})},vNe=function(e){var r=FTe(e),n=r.mediaElement,i=r.broadcastProps,a=r.mediaControllerProps,s=r.controlsContainerProps,o=r.props,l=o.children,u=o.controls,c=o.theme,f=o.title,d=o.aspectRatio,h=o.renderChildrenOutsideContainer;return j.jsxs(PW,{element:n,opts:u,mediaProps:a,children:[j.jsxs(wK,{theme:c,aspectRatio:d,tabIndex:e.tabIndex,children:[j.jsx(kOe,dt({},i)),!h&&T.isValidElement(l)?T.cloneElement(l,s):j.jsx(SK,dt(dt({},s),{},{top:j.jsx(j.Fragment,{children:f&&j.jsx(_K,{content:f})}),left:j.jsxs(j.Fragment,{children:[j.jsx(JOe,{}),j.jsx(FOe,{}),j.jsx(WOe,{options:e?.displayMediaOptions}),j.jsx(RK,{})]}),right:j.jsxs(j.Fragment,{children:[e.showPipButton&&j.jsx(AK,{}),j.jsx(VOe,{streamConstraints:e.mediaStreamConstraints}),j.jsx(TK,{})]})}))]}),h&&T.isValidElement(l)?l:j.jsx(j.Fragment,{})]})},yNe=T.memo;yNe(vNe);var bNe=function(e){var r=e.fullscreen;return{fullscreen:r}},IK=T.forwardRef(function(t,e){var r=t.src,n=t.autoPlay,i=t.title,a=t.loop,s=t.muted,o=t.objectFit,l=t.allowCrossOriginCredentials,u=Vr(bNe),c=u.fullscreen,f=T.useMemo(function(){var d;return(d=r?.filter(function(h){return h?.mime&&tH(h)}))!==null&&d!==void 0?d:[]},[r]);return j.jsxs("audio",{className:Oe.media.audio({size:c?"fullscreen":o}),loop:a,"aria-label":i??"Audio player",role:"audio",autoPlay:n,ref:e,"webkit-playsinline":"true",playsInline:!0,muted:s,crossOrigin:l?"use-credentials":"anonymous",children:[f.map(function(d){return j.jsx("source",{src:d.src,type:d.mime},d.src)}),"Your browser doesn't support the HTML5 <code>audio</code> tag, or the audio format."]})});IK.displayName="AudioPlayer";var xNe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{d:"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z",fill:"currentColor"})})},wNe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",children:j.jsx("path",{d:"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z",fill:"currentColor"})})},ENe=function(e){var r=e.togglePlay,n=e.playing;return{togglePlay:r,playing:n}},SNe=function(e){var r=Vr(ENe),n=r.togglePlay,i=r.playing,a=zTe(dt({togglePlay:n,playing:i,defaultPauseIcon:j.jsx(wNe,{}),defaultPlayIcon:j.jsx(xNe,{})},e)),s=a.buttonProps,o=a.title;return j.jsx("button",dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:o,"aria-label":o,onClick:s.onPress},Iu(s,"onPress","size")))},TNe=function(e){var r=e.fullscreen;return{fullscreen:r}},ANe=function(e){var r=Vr(TNe),n=r.fullscreen,i=e.content,a=e.title;return typeof i=="string"?j.jsx("img",{className:Oe.media.poster({size:n?"fullscreen":"default"}),"aria-label":a,alt:a,src:i}):T.isValidElement(i)?T.cloneElement(i,{className:Oe.media.poster({size:n?"fullscreen":"default"})}):j.jsx(j.Fragment,{})},RNe=function(e){var r=e.duration,n=e.progress,i=e.requestSeek,a=e.buffered,s=e.live;return{duration:r,progress:n,requestSeek:i,buffered:a,live:s}},_Ne=function(e){var r=Vr(RNe),n=r.duration,i=r.progress,a=r.requestSeek,s=r.buffered,o=r.live,l=VTe(dt({duration:n,progress:i,requestSeek:a,buffered:s,live:o},e)),u=l.isVisible,c=l.progressProps,f=l.title;return u?j.jsx(xK,dt(dt({},c),{},{ariaName:f})):j.jsx(j.Fragment,{})},INe=function(){return j.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:[j.jsx("path",{d:"M 9.25,9 7.98,10.27 24.71,27 l 1.27,-1.27 Z",fill:"currentColor"}),j.jsx("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})]})},CNe=function(){return j.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:j.jsx("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})})},PNe=function(e){var r=e.isVolumeChangeSupported,n=e.requestToggleMute,i=e.requestVolume,a=e.muted,s=e.volume;return{isVolumeChangeSupported:r,requestToggleMute:n,requestVolume:i,muted:a,volume:s}},kNe=function(e){var r=Vr(PNe),n=r.volume,i=r.requestToggleMute,a=r.muted,s=r.requestVolume,o=r.isVolumeChangeSupported,l=kH(dt({volume:n,requestToggleMute:i,muted:a,requestVolume:s,isVolumeChangeSupported:o,defaultMutedIcon:j.jsx(INe,{}),defaultUnmutedIcon:j.jsx(CNe,{})},e)),u=l.progressProps,c=l.buttonProps,f=l.title;return j.jsxs("div",{className:Oe.volume.container(),children:[j.jsx("button",dt({style:{width:e.size,height:e.size},className:Oe.iconButton(),title:f,"aria-label":f,onClick:c.onPress},Iu(c,"onPress","size"))),u.shown&&j.jsx(xK,dt({ariaName:"volume",value:a?0:n},u))]})},CK=function(e,r){var n=T.useState(e),i=ii(n,2),a=i[0],s=i[1];return T.useEffect(function(){var o=setTimeout(function(){s(e)},r+1e3*Math.random());return function(){clearTimeout(o)}},[e,r]),a},ONe=function(e){var r=e.setLive,n=e.onDurationChange,i=e.onCanPlay,a=e._element;return{setLive:r,onDurationChange:n,onCanPlay:i,_element:a}},NNe=T.forwardRef(function(t,e){var r=t.src,n=t.hlsConfig,i=t.autoPlay,a=t.title,s=t.loop,o=t.muted,l=t.poster,u=t.objectFit,c=t.fullscreen,f=t.onPlaybackError,d=t.priority,h=t.allowCrossOriginCredentials,p=Vr(ONe),m=p.setLive,g=p.onCanPlay,v=p.onDurationChange,b=p._element,w=T.useCallback(function(){var F=Bn(Lt().mark(function $(z){return Lt().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:f?.(null),m(z);case 2:case"end":return A.stop()}},$)}));return function($){return F.apply(this,arguments)}}(),[f,m]),E=T.useState(0),R=ii(E,2),I=R[0],D=R[1],N=CK(I,1e3*I);return T.useEffect(function(){if(b&&r){var F=function(A){var y,x,S,C,P;D(function(B){return B+1});var M=new Error((y=A==null||(x=A.response)===null||x===void 0||(S=x.data)===null||S===void 0||(C=S.toString)===null||C===void 0?void 0:C.call(S))!==null&&y!==void 0?y:(A==null||(P=A.response)===null||P===void 0?void 0:P.code)===401?B4:"Error with HLS.js");f?.(M)},$=AOe(r?.src,b,{onLive:w,onDuration:v,onCanPlay:g,onError:F},dt({autoplay:i,xhrSetup:function(A,y){A.withCredentials=!!h}},n)),z=$.destroy;return function(){z?.()}}},[i,n,v,g,b,r,w,f,h,N]),j.jsx("video",{className:Oe.media.video({size:c?"fullscreen":u}),loop:s,"aria-label":a??"Video player",role:"video",width:"100%",height:"100%",ref:e,"webkit-playsinline":"true",playsInline:!0,autoPlay:i,muted:o,poster:typeof l=="string"?l:void 0,preload:d?"auto":"metadata",crossOrigin:h?"use-credentials":"anonymous"})}),LNe=function(e){var r=e.canPlay;return{canPlay:r}},PK=T.forwardRef(function(t,e){var r,n=t.autoPlay,i=t.title,a=t.loop,s=t.muted,o=t.poster,l=t.objectFit,u=t.priority,c=t.onPlaybackError,f=t.src,d=t.fullscreen,h=Vr(LNe),p=h.canPlay,m=T.useCallback(function(){var g=Bn(Lt().mark(function v(b){var w,E,R,I,D;return Lt().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(E=b.target,R=E?.parentElement,I=(w=R?.currentSrc)!==null&&w!==void 0?w:E?.currentSrc,!I){F.next=22;break}return F.prev=4,F.next=7,fetch(I);case 7:if(D=F.sent,D.status!==404){F.next=13;break}return console.warn("Video not found"),F.abrupt("return",c?.(new Error(eY)));case 13:if(D.status!==401){F.next=16;break}return console.warn("Unauthorized to view video"),F.abrupt("return",c?.(new Error(B4)));case 16:F.next=22;break;case 18:return F.prev=18,F.t0=F.catch(4),console.warn(F.t0),F.abrupt("return",c?.(new Error("Error fetching video URL")));case 22:return console.warn("Unknown error loading video"),F.abrupt("return",c?.(new Error("Unknown error loading video")));case 24:case"end":return F.stop()}},v,null,[[4,18]])}));return function(v){return g.apply(this,arguments)}}(),[c]);return T.useEffect(function(){p&&c?.(null)},[p,c]),j.jsx("video",{className:Oe.media.video({size:d?"fullscreen":l}),loop:a,"aria-label":i??"Video player",role:"video",autoPlay:n,width:"100%",height:"100%",ref:e,"webkit-playsinline":"true",playsInline:!0,muted:s,poster:typeof o=="string"?o:void 0,onError:m,preload:u?"auto":"metadata",src:(r=f?.src)!==null&&r!==void 0?r:void 0,children:"Your browser doesn't support the HTML5 <code>video</code> tag, or the video format."})});PK.displayName="HtmlVideoPlayer";var DNe=function(e){var r=e.metadata,n=e._element,i=e.setLive;return{metadata:r,_element:n,setLive:i}},MNe=T.forwardRef(function(t,e){var r=t.src,n=t.autoPlay,i=t.title,a=t.loop,s=t.muted,o=t.poster,l=t.objectFit,u=t.fullscreen,c=t.onPlaybackError,f=t.priority,d=t.webrtcConfig,h=Vr(DNe),p=h.metadata,m=h._element,g=h.setLive,v=T.useCallback(Bn(Lt().mark(function D(){return Lt().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:c?.(null),g(!0);case 2:case"end":return F.stop()}},D)})),[c,g]);T.useEffect(function(){p!=null&&p.bframes&&c(new Error(tY))},[p,c]);var b=T.useState(0),w=ii(b,2),E=w[0],R=w[1],I=CK(E,1e3*E);return T.useEffect(function(){if(m&&r.src){var D=function(z){var k,A,y;R(function(S){return S+1});var x=new Error((k=z==null||(A=z.message)===null||A===void 0||(y=A.toString)===null||y===void 0?void 0:y.call(A))!==null&&k!==void 0?k:"Error with WebRTC");c?.(x)},N=F6e(r?.src,m,{onConnected:v,onError:D},d),F=N.destroy;return function(){F?.()}}},[d,m,v,r,c,I]),j.jsx("video",{className:Oe.media.video({size:u?"fullscreen":l}),loop:a,"aria-label":i??"Video player",role:"video",width:"100%",height:"100%",ref:e,"webkit-playsinline":"true",playsInline:!0,autoPlay:n,muted:s,poster:typeof o=="string"?o:void 0,preload:f?"auto":"metadata"})}),$Ne=function(e){var r=e.fullscreen;return{fullscreen:r}};function FNe(t,e){var r=null,n=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];r===null&&(r=setTimeout(function(){r=null,t.apply(void 0,o)},e))},i=function(){r&&(clearTimeout(r),r=null)};return{debouncedFn:n,cancel:i}}var BNe=T.forwardRef(function(t,e){var r=Vr($Ne),n=r.fullscreen,i=t.src,a=t.onPlaybackError,s=t.playbackError,o=t.lowLatency,l=o===void 0?!0:o,u=t.onPlaybackStatusUpdate,c=t.playbackStatusSelector,f=T.useMemo(function(){return[TOe(),L6e()]},[]),d=ii(f,2),h=d[0],p=d[1],m=T.useMemo(function(){var A;return i==null||(A=i.filter(function(y){return l==="force"&&i!==null&&i!==void 0&&i.some(function(x){return x?.type==="webrtc"})?y.type==="webrtc":l?!0:y.type!=="webrtc"}))===null||A===void 0?void 0:A.map(function(y){return y.type==="hls"&&!h?dt(dt({},y),{},{type:"video",mime:"application/vnd.apple.mpegurl"}):y})},[i,h,l]),g=T.useState(0),v=ii(g,2),b=v[0],w=v[1],E=T.useCallback(function(){w(function(A){return A+1})},[w]),R=T.useMemo(function(){return FNe(E,1e3*Math.pow(2,b))},[E,b]),I=R.debouncedFn,D=R.cancel,N=T.useRef(I),F=T.useRef(D);T.useEffect(function(){N.current=I,F.current=D},[I,D]);var $=T.useMemo(function(){var A,y;return(A=m?.[b%((y=m?.length)!==null&&y!==void 0?y:0)])!==null&&A!==void 0?A:null},[m,b]);T.useEffect(function(){if(s?.type==="b-frames"||s?.type==="unknown"){var A;N==null||(A=N.current)===null||A===void 0||A.call(N)}else if(s===null){var y;F==null||(y=F.current)===null||y===void 0||y.call(F)}},[s]),T.useEffect(function(){var A=$?.type==="webrtc"&&!p||$?.type==="hls"&&!h||$?.type==="video"&&!tH($);if(A){var y;N==null||(y=N.current)===null||y===void 0||y.call(N)}},[h,p,$]);var z=T.useContext(N2),k=T.useCallback(function(A){return c?c(A):A},[c]);return T.useEffect(function(){return z.subscribe(k,function(A,y){return u?.(cx(A),cx(y))})},[u,k,z]),T.useEffect(function(){if($){var A,y,x;z==null||(A=z.getState)===null||A===void 0||(y=A.call(z))===null||y===void 0||(x=y._updateSource)===null||x===void 0||x.call(y,$?.src)}},[z,$]),T.useEffect(function(){var A=Hhe(z,function(x){a?.(x),console.error("Not able to report player metrics",x)}),y=A.destroy;return y},[a,z]),$?.type==="webrtc"?j.jsx(MNe,dt(dt({},t),{},{ref:e,src:$,fullscreen:n})):$?.type==="hls"?j.jsx(NNe,dt(dt({},t),{},{ref:e,src:$,fullscreen:n})):j.jsx(PK,dt(dt({},t),{},{ref:e,src:$,fullscreen:n}))}),UNe=T.memo(BNe),jNe=function(e){var r=T.useState(!1),n=ii(r,2),i=n[0],a=n[1];return T.useEffect(function(){if(typeof window<"u"&&e)if("IntersectionObserver"in window){var s=new IntersectionObserver(function(o){var l=ii(o,1),u=l[0];return a(!!u?.isIntersecting)});return s.observe(e),function(){s.disconnect()}}else a(!0)},[e]),i},zNe=function(e){var r,n=T.useState(!1),i=ii(n,2),a=i[0],s=i[1],o=T.useMemo(function(){var F,$,z,k;return typeof window<"u"&&(F=(($=window)===null||$===void 0||(z=$.screen)===null||z===void 0?void 0:z.availWidth)||((k=window)===null||k===void 0?void 0:k.innerWidth))!==null&&F!==void 0?F:null},[]),l=T.useMemo(function(){var F;return(F=e._isCurrentlyShown)!==null&&F!==void 0?F:a},[e._isCurrentlyShown,a]),u=qTe(dt(dt({},e),{},{_isCurrentlyShown:l}),{_screenWidth:o}),c=u.mediaElement,f=u.playerProps,d=u.mediaControllerProps,h=u.controlsContainerProps,p=u.source,m=u.props,g=m.children,v=m.controls,b=m.theme,w=m.title,E=m.poster,R=m.showTitle,I=m.aspectRatio,D=m.renderChildrenOutsideContainer,N=jNe(c);return T.useEffect(function(){s(N)},[N]),j.jsxs(PW,{element:c,opts:v,mediaProps:d,children:[j.jsxs(wK,{theme:b,aspectRatio:I,tabIndex:e.tabIndex,children:[p&&(p==null||(r=p[0])===null||r===void 0?void 0:r.type)==="audio"?j.jsx(IK,dt(dt({},f),{},{src:p,allowCrossOriginCredentials:e.allowCrossOriginCredentials})):j.jsx(UNe,dt(dt({},f),{},{hlsConfig:e.hlsConfig,webrtcConfig:e.webrtcConfig,lowLatency:e.lowLatency,playbackStatusSelector:e.playbackStatusSelector,allowCrossOriginCredentials:e.allowCrossOriginCredentials,src:p})),!D&&T.isValidElement(g)?T.cloneElement(g,h):j.jsx(SK,dt(dt({},h),{},{poster:E&&j.jsx(ANe,{content:E,title:w}),top:j.jsx(j.Fragment,{children:w&&R&&j.jsx(_K,{content:w})}),middle:j.jsx(_Ne,{}),left:j.jsxs(j.Fragment,{children:[j.jsx(SNe,{}),j.jsx(kNe,{}),j.jsx(RK,{})]}),right:j.jsxs(j.Fragment,{children:[e.showPipButton&&j.jsx(AK,{}),j.jsx(TK,{})]})}))]}),D&&T.isValidElement(g)?g:j.jsx(j.Fragment,{})]})},VNe=T.memo,YNe=VNe(zNe),GNe=function(e){var r=e.theme,n=e.children;return j.jsx(CW.Provider,{value:r??null,children:n})};function HNe(t){var e=t.children,r=t.client,n=t.theme,i=t.dehydratedState;return j.jsx(DSe,{client:r,dehydratedState:i,children:j.jsx(GNe,{theme:n,children:e})})}const o1=parseInt("10"),WNe={worldAddress:"",blockNumber:""},qNe="https://gateway-arbitrum.network.thegraph.com/api/9841726d5ed39b747fd9b31078e67c3b/subgraphs/id/4DC8D9kNX7sw8ayCNgsWUNcHtJvQiDTwKTkWudWDowKC",kK="https://gateway.ipfs.io",KNe="8cdf71bd-3f27-46e8-991b-411a0f75b91f",QNe={10:"https://optimism-rpc.publicnode.com",11155420:"https://optimism-sepolia-rpc.publicnode.com"},ZNe={10:"wss://opt-mainnet.g.alchemy.com/v2/MinQrZ3ZiEcfeQrjvgLobH77cH7nVqjp",11155420:"wss://optimism-sepolia.infura.io/ws/v3/1xawkkWBaZc6Uxza9tFiCzklm0F"},N6=T.createContext(null),XNe=({children:t,value:e})=>{if(T.useContext(N6))throw new Error("MUDProvider can only be used once");return j.jsx(N6.Provider,{value:e,children:t})},JNe=()=>{const t=T.useContext(N6);if(!t)throw new Error("Must be used within a MUDProvider");return t};var vp=(t=>(t[t.Model=0]="Model",t[t.Image=1]="Image",t[t.Audio=2]="Audio",t[t.Video=3]="Video",t))(vp||{}),OK=(t=>(t[t.Glb=0]="Glb",t[t.Usdz=1]="Usdz",t[t.Gif=2]="Gif",t[t.Jpeg=3]="Jpeg",t[t.Png=4]="Png",t[t.Svg=5]="Svg",t[t.Mpeg=6]="Mpeg",t[t.Mp4=7]="Mp4",t[t.Mp3=8]="Mp3",t))(OK||{});function eLe(){const[t,e]=T.useState([]),{tables:r,useStore:n}=JNe(),i=n(l=>Object.values(l.getRecords(r.ModelCom))),a=n(l=>Object.values(l.getRecords(r.ImageCom)));T.useEffect(()=>{const l=[];for(const u of i){const c=o(0,u);l.push(c)}for(const u of a){const c=o(1,u);l.push(c)}e(l)},[i.length,a.length]);const s=(l,u)=>n.getState().getValue(r[l],u),o=(l,u)=>({mediaType:l,contentURI:u.value.contentURI,name:s("NameCom",u.key).value,encodingFormat:u.value.encodingFormat,position:s("PositionCom",u.key),orientation:s("OrientationCom",u.key),contentSize:s("ScaleCom",u.key)});return{mediaObjects:t}}const tLe=t=>{const{url:e,modelRef:r,isUsdzModel:n}=t;return T.useEffect(()=>{JV(()=>import("./model-viewer-f3246201.js"),[]).catch(console.error)},[]),j.jsxs("model-viewer",{ref:r,className:vs.gwCanvas,src:e,"ios-src":n?e:"","environment-image":"neutral","shadow-intensity":"1",ar:!0,"ar-modes":"webxr scene-viewer quick-look","quick-look-browsers":"safari chrome","auto-rotate":!0,"camera-controls":!0,alt:"",children:[j.jsx("div",{id:"ar-prompt",children:j.jsx("img",{alt:"AR prompt",src:"assets/hand.png"})}),j.jsx("button",{id:"ar-failure",children:"AR is not tracking!"}),n?j.jsx("div",{className:vs["ar-only"],slot:"poster",children:"This model is only viewable on iPhone and iPad AR"}):j.jsx("img",{className:vs.loading,src:"/assets/spinner.svg",alt:"loading",slot:"poster"})]})},rLe=t=>{const{mediaObjects:e}=t,[r,n]=T.useState(0),i=T.useRef();if(e.length===0)return j.jsx(Yb,{promptType:"gallery"});const a=e[r];if(!a)return j.jsx(Yb,{promptType:"gallery"});const s=a.encodingFormat===OK.Usdz,o=a.contentURI.startsWith("ipfs://")?`${kK}/ipfs/${a.contentURI.slice(7)}`:a.contentURI,l=()=>{let c=r-1;c<0&&(c=e.length-1),n(c)},u=()=>{let c=r+1;c>e.length-1&&(c=0),n(c)};return e.length>0?j.jsxs("div",{children:[e.length>1&&j.jsx("button",{className:vs["clk-left"],onClick:()=>l()}),j.jsx("div",{className:vs.gallery,children:a.mediaType===vp.Model?j.jsx(tLe,{modelRef:i,url:o,isUsdzModel:s}):a.mediaType===vp.Image?j.jsx("span",{className:vs["image-wrapper"],children:j.jsx("img",{src:o??"/assets/spinner.svg",alt:o?"image content":"loading",className:vs[o?"image-content":"loading"]})}):a.mediaType===vp.Video||a.mediaType===vp.Audio?j.jsx("div",{className:vs["player-wrapper"],children:j.jsx(YNe,{playbackId:a.contentURI,showTitle:!1,muted:!0})}):j.jsx("div",{className:vs["player-wrapper"],children:j.jsx("h1",{children:"Unknown Media Type"})})}),e.length>1&&j.jsx("button",{className:vs["clk-right"],onClick:()=>u()}),j.jsx(lhe,{label:a.name??""})]}):j.jsx(Yb,{promptType:"gallery"})},nLe="_tabs_p86oy_1",iLe="_tab_p86oy_1",aLe="_selected_p86oy_23",D0={tabs:nLe,tab:iLe,selected:aLe};function sLe(t){const{url:e,mediaObjects:r}=t,[n,i]=T.useState(0);return T.useEffect(()=>{e||i(1)},[]),j.jsxs(j.Fragment,{children:[n===0?j.jsx(nhe,{url:e??null}):j.jsx(rLe,{mediaObjects:r}),j.jsxs("div",{className:D0.tabs,children:[j.jsx("div",{className:`${D0.tab} ${n===0?D0.selected:""}`,onClick:()=>i(0),children:"Web"}),j.jsx("div",{className:`${D0.tab} ${n===1?D0.selected:""}`,onClick:()=>i(1),children:"Gallery"})]})]})}var UA="Invariant Violation",a$=Object.setPrototypeOf,oLe=a$===void 0?function(t,e){return t.__proto__=e,t}:a$,NK=function(t){Kn(e,t);function e(r){r===void 0&&(r=UA);var n=t.call(this,typeof r=="number"?UA+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=UA,oLe(n,e.prototype),n}return e}(Error);function Zu(t,e){if(!t)throw new NK(e)}var LK=["debug","log","warn","error","silent"],lLe=LK.indexOf("log");function sb(t){return function(){if(LK.indexOf(t)>=lLe){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=sb("debug"),t.log=sb("log"),t.warn=sb("warn"),t.error=sb("error")})(Zu||(Zu={}));var Sk="3.8.3";function Wa(t){try{return t()}catch{}}const s$=Wa(function(){return globalThis})||Wa(function(){return window})||Wa(function(){return self})||Wa(function(){return global})||Wa(function(){return Wa.constructor("return this")()});var o$=new Map;function L6(t){var e=o$.get(t)||1;return o$.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function DK(t,e){e===void 0&&(e=0);var r=L6("stringifyForDisplay");return JSON.stringify(t,function(n,i){return i===void 0?r:i},e).split(JSON.stringify(r)).join("<undefined>")}function ob(t){return function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.apply(void 0,si([typeof e=="number"?Tk(e):e],r,!1))}}var at=Object.assign(function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e||Zu(e,Tk(r,n))},{debug:ob(Zu.debug),log:ob(Zu.log),warn:ob(Zu.warn),error:ob(Zu.error)});function ci(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new NK(Tk(t,e))}var l$=Symbol.for("ApolloErrorMessageHandler_"+Sk);function Tk(t,e){if(e===void 0&&(e=[]),!!t){var r=e.map(function(n){return typeof n=="string"?n:DK(n,2).slice(0,1e3)});return s$[l$]&&s$[l$](t,r)||"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Sk,message:t,args:r})))}}function l1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l1=function(r){return typeof r}:l1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l1(t)}function uLe(t){return l1(t)=="object"&&t!==null}var MK=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function D6(t,e){for(var r=/\r\n|[\n\r]/g,n=1,i=e+1,a;(a=r.exec(t.body))&&a.index<e;)n+=1,i=e+1-(a.index+a[0].length);return{line:n,column:i}}function cLe(t){return $K(t.source,D6(t.source,t.start))}function $K(t,e){var r=t.locationOffset.column-1,n=u1(r)+t.body,i=e.line-1,a=t.locationOffset.line-1,s=e.line+a,o=e.line===1?r:0,l=e.column+o,u="".concat(t.name,":").concat(s,":").concat(l,`
`),c=n.split(/\r\n|[\n\r]/g),f=c[i];if(f.length>120){for(var d=Math.floor(l/80),h=l%80,p=[],m=0;m<f.length;m+=80)p.push(f.slice(m,m+80));return u+u$([["".concat(s),p[0]]].concat(p.slice(1,d+1).map(function(g){return["",g]}),[[" ",u1(h-1)+"^"],["",p[d+1]]]))}return u+u$([["".concat(s-1),c[i-1]],["".concat(s),f],["",u1(l-1)+"^"],["".concat(s+1),c[i+1]]])}function u$(t){var e=t.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,e.map(function(n){var i=n[0];return i.length}));return e.map(function(n){var i=n[0],a=n[1];return fLe(r,i)+(a?" | "+a:" |")}).join(`
`)}function u1(t){return Array(t+1).join(" ")}function fLe(t,e){return u1(t-e.length)+e}function c1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c1=function(r){return typeof r}:c1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c1(t)}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){hLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hLe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mLe(t,e,r){return e&&f$(t.prototype,e),r&&f$(t,r),t}function gLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qm(t,e)}function vLe(t){var e=BK();return function(){var n=Km(t),i;if(e){var a=Km(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FK(this,i)}}function FK(t,e){return e&&(c1(e)==="object"||typeof e=="function")?e:yp(t)}function yp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M6(t){var e=typeof Map=="function"?new Map:void 0;return M6=function(n){if(n===null||!yLe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return f1(n,arguments,Km(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),qm(i,n)},M6(t)}function f1(t,e,r){return BK()?f1=Reflect.construct:f1=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&qm(u,s.prototype),u},f1.apply(null,arguments)}function BK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yLe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function qm(t,e){return qm=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qm(t,e)}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}var bLe=function(t){gLe(r,t);var e=vLe(r);function r(n,i,a,s,o,l,u){var c,f,d,h;pLe(this,r),h=e.call(this,n),h.name="GraphQLError",h.originalError=l??void 0,h.nodes=d$(Array.isArray(i)?i:i?[i]:void 0);for(var p=[],m=0,g=(v=h.nodes)!==null&&v!==void 0?v:[];m<g.length;m++){var v,b=g[m],w=b.loc;w!=null&&p.push(w)}p=d$(p),h.source=a??((c=p)===null||c===void 0?void 0:c[0].source),h.positions=s??((f=p)===null||f===void 0?void 0:f.map(function(R){return R.start})),h.locations=s&&a?s.map(function(R){return D6(a,R)}):(d=p)===null||d===void 0?void 0:d.map(function(R){return D6(R.source,R.start)}),h.path=o??void 0;var E=l?.extensions;return u==null&&uLe(E)?h.extensions=dLe({},E):h.extensions=u??{},Object.defineProperties(yp(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(yp(h),"stack",{value:l.stack,writable:!0,configurable:!0}),FK(h)):(Error.captureStackTrace?Error.captureStackTrace(yp(h),r):Object.defineProperty(yp(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return mLe(r,[{key:"toString",value:function(){return xLe(this)}},{key:MK,get:function(){return"Object"}}]),r}(M6(Error));function d$(t){return t===void 0||t.length===0?void 0:t}function xLe(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var i=n[r];i.loc&&(e+=`

`+cLe(i.loc))}else if(t.source&&t.locations)for(var a=0,s=t.locations;a<s.length;a++){var o=s[a];e+=`

`+$K(t.source,o)}return e}function zi(t,e,r){return new bLe("Syntax Error: ".concat(r),void 0,t,[e])}var $e=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function wLe(t,e){var r=!!t;if(!r)throw new Error(e??"Unexpected invariant triggered.")}var ELe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const $6=ELe;function UK(t){var e=t.prototype.toJSON;typeof e=="function"||wLe(0),t.prototype.inspect=e,$6&&(t.prototype[$6]=e)}var jK=function(){function t(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();UK(jK);var Dr=function(){function t(r,n,i,a,s,o,l){this.kind=r,this.start=n,this.end=i,this.line=a,this.column=s,this.value=l,this.prev=o,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();UK(Dr);function h$(t){return t!=null&&typeof t.kind=="string"}var he=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function d1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d1=function(r){return typeof r}:d1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d1(t)}var SLe=10,zK=2;function VK(t){return G2(t,[])}function G2(t,e){switch(d1(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":TLe(t,e);default:return String(t)}}function TLe(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=_Le(t);if(n!==void 0){var i=n.call(t);if(i!==t)return typeof i=="string"?i:G2(i,r)}else if(Array.isArray(t))return RLe(t,r);return ALe(t,r)}function ALe(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>zK)return"["+ILe(t)+"]";var n=r.map(function(i){var a=G2(t[i],e);return i+": "+a});return"{ "+n.join(", ")+" }"}function RLe(t,e){if(t.length===0)return"[]";if(e.length>zK)return"[Array]";for(var r=Math.min(SLe,t.length),n=t.length-r,i=[],a=0;a<r;++a)i.push(G2(t[a],e));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function _Le(t){var e=t[String($6)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function ILe(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function jA(t,e){var r=!!t;if(!r)throw new Error(e)}const CLe=function(e,r){return e instanceof r};function p$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PLe(t,e,r){return e&&p$(t.prototype,e),r&&p$(t,r),t}var YK=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||jA(0,"Body must be a string. Received: ".concat(VK(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||jA(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||jA(0,"column in locationOffset is 1-indexed and must be positive.")}return PLe(t,[{key:MK,get:function(){return"Source"}}]),t}();function kLe(t){return CLe(t,YK)}var OLe=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function NLe(t){var e=t.split(/\r\n|[\n\r]/g),r=LLe(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var i=0;i<e.length&&m$(e[i]);)++i;for(var a=e.length;a>i&&m$(e[a-1]);)--a;return e.slice(i,a).join(`
`)}function m$(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function LLe(t){for(var e,r=!0,n=!0,i=0,a=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:t.charCodeAt(s+1)===10&&++s;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(a===null||i<a)&&(a=i),n=!1}return(e=a)!==null&&e!==void 0?e:0}function DLe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",a=t[t.length-1]==='"',s=t[t.length-1]==="\\",o=!n||a||s||r,l="";return o&&!(n&&i)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,o&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var MLe=function(){function t(r){var n=new Dr(he.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==he.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=FLe(this,n)}while(n.kind===he.COMMENT);return n},t}();function $Le(t){return t===he.BANG||t===he.DOLLAR||t===he.AMP||t===he.PAREN_L||t===he.PAREN_R||t===he.SPREAD||t===he.COLON||t===he.EQUALS||t===he.AT||t===he.BRACKET_L||t===he.BRACKET_R||t===he.BRACE_L||t===he.PIPE||t===he.BRACE_R}function Cc(t){return isNaN(t)?he.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function FLe(t,e){for(var r=t.source,n=r.body,i=n.length,a=e.end;a<i;){var s=n.charCodeAt(a),o=t.line,l=1+a-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++t.line,t.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++t.line,t.lineStart=a;continue;case 33:return new Dr(he.BANG,a,a+1,o,l,e);case 35:return ULe(r,a,o,l,e);case 36:return new Dr(he.DOLLAR,a,a+1,o,l,e);case 38:return new Dr(he.AMP,a,a+1,o,l,e);case 40:return new Dr(he.PAREN_L,a,a+1,o,l,e);case 41:return new Dr(he.PAREN_R,a,a+1,o,l,e);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return new Dr(he.SPREAD,a,a+3,o,l,e);break;case 58:return new Dr(he.COLON,a,a+1,o,l,e);case 61:return new Dr(he.EQUALS,a,a+1,o,l,e);case 64:return new Dr(he.AT,a,a+1,o,l,e);case 91:return new Dr(he.BRACKET_L,a,a+1,o,l,e);case 93:return new Dr(he.BRACKET_R,a,a+1,o,l,e);case 123:return new Dr(he.BRACE_L,a,a+1,o,l,e);case 124:return new Dr(he.PIPE,a,a+1,o,l,e);case 125:return new Dr(he.BRACE_R,a,a+1,o,l,e);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?VLe(r,a,o,l,e,t):zLe(r,a,o,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return jLe(r,a,s,o,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return GLe(r,a,o,l,e)}throw zi(r,a,BLe(s))}var u=t.line,c=1+a-t.lineStart;return new Dr(he.EOF,i,i,u,c,e)}function BLe(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Cc(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Cc(t),".")}function ULe(t,e,r,n,i){var a=t.body,s,o=e;do s=a.charCodeAt(++o);while(!isNaN(s)&&(s>31||s===9));return new Dr(he.COMMENT,e,o,r,n,i,a.slice(e+1,o))}function jLe(t,e,r,n,i,a){var s=t.body,o=r,l=e,u=!1;if(o===45&&(o=s.charCodeAt(++l)),o===48){if(o=s.charCodeAt(++l),o>=48&&o<=57)throw zi(t,l,"Invalid number, unexpected digit after 0: ".concat(Cc(o),"."))}else l=zA(t,l,o),o=s.charCodeAt(l);if(o===46&&(u=!0,o=s.charCodeAt(++l),l=zA(t,l,o),o=s.charCodeAt(l)),(o===69||o===101)&&(u=!0,o=s.charCodeAt(++l),(o===43||o===45)&&(o=s.charCodeAt(++l)),l=zA(t,l,o),o=s.charCodeAt(l)),o===46||HLe(o))throw zi(t,l,"Invalid number, expected digit but got: ".concat(Cc(o),"."));return new Dr(u?he.FLOAT:he.INT,e,l,n,i,a,s.slice(e,l))}function zA(t,e,r){var n=t.body,i=e,a=r;if(a>=48&&a<=57){do a=n.charCodeAt(++i);while(a>=48&&a<=57);return i}throw zi(t,i,"Invalid number, expected digit but got: ".concat(Cc(a),"."))}function zLe(t,e,r,n,i){for(var a=t.body,s=e+1,o=s,l=0,u="";s<a.length&&!isNaN(l=a.charCodeAt(s))&&l!==10&&l!==13;){if(l===34)return u+=a.slice(o,s),new Dr(he.STRING,e,s+1,r,n,i,u);if(l<32&&l!==9)throw zi(t,s,"Invalid character within String: ".concat(Cc(l),"."));if(++s,l===92){switch(u+=a.slice(o,s-1),l=a.charCodeAt(s),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var c=YLe(a.charCodeAt(s+1),a.charCodeAt(s+2),a.charCodeAt(s+3),a.charCodeAt(s+4));if(c<0){var f=a.slice(s+1,s+5);throw zi(t,s,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(c),s+=4;break}default:throw zi(t,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++s,o=s}}throw zi(t,s,"Unterminated string.")}function VLe(t,e,r,n,i,a){for(var s=t.body,o=e+3,l=o,u=0,c="";o<s.length&&!isNaN(u=s.charCodeAt(o));){if(u===34&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34)return c+=s.slice(l,o),new Dr(he.BLOCK_STRING,e,o+3,r,n,i,NLe(c));if(u<32&&u!==9&&u!==10&&u!==13)throw zi(t,o,"Invalid character within String: ".concat(Cc(u),"."));u===10?(++o,++a.line,a.lineStart=o):u===13?(s.charCodeAt(o+1)===10?o+=2:++o,++a.line,a.lineStart=o):u===92&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34&&s.charCodeAt(o+3)===34?(c+=s.slice(l,o)+'"""',o+=4,l=o):++o}throw zi(t,o,"Unterminated string.")}function YLe(t,e,r,n){return lb(t)<<12|lb(e)<<8|lb(r)<<4|lb(n)}function lb(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function GLe(t,e,r,n,i){for(var a=t.body,s=a.length,o=e+1,l=0;o!==s&&!isNaN(l=a.charCodeAt(o))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++o;return new Dr(he.NAME,e,o,r,n,i,a.slice(e,o))}function HLe(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function WLe(t,e){var r=new qLe(t,e);return r.parseDocument()}var qLe=function(){function t(r,n){var i=kLe(r)?r:new YK(r);this._lexer=new MLe(i),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(he.NAME);return{kind:$e.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:$e.DOCUMENT,definitions:this.many(he.SOF,this.parseDefinition,he.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(he.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(he.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(he.BRACE_L))return{kind:$e.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),a;return this.peek(he.NAME)&&(a=this.parseName()),{kind:$e.OPERATION_DEFINITION,operation:i,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(he.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(he.PAREN_L,this.parseVariableDefinition,he.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:$e.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(he.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(he.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(he.DOLLAR),{kind:$e.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:$e.SELECTION_SET,selections:this.many(he.BRACE_L,this.parseSelection,he.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(he.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,i=this.parseName(),a,s;return this.expectOptionalToken(he.COLON)?(a=i,s=this.parseName()):s=i,{kind:$e.FIELD,alias:a,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(he.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(he.PAREN_L,i,he.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(he.COLON),{kind:$e.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:$e.ARGUMENT,name:this.parseName(),value:(this.expectToken(he.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(he.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(he.NAME)?{kind:$e.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:$e.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case he.BRACKET_L:return this.parseList(n);case he.BRACE_L:return this.parseObject(n);case he.INT:return this._lexer.advance(),{kind:$e.INT,value:i.value,loc:this.loc(i)};case he.FLOAT:return this._lexer.advance(),{kind:$e.FLOAT,value:i.value,loc:this.loc(i)};case he.STRING:case he.BLOCK_STRING:return this.parseStringLiteral();case he.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:$e.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:$e.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:$e.NULL,loc:this.loc(i)};default:return{kind:$e.ENUM,value:i.value,loc:this.loc(i)}}case he.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:$e.STRING,value:n.value,block:n.kind===he.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var i=this,a=this._lexer.token,s=function(){return i.parseValueLiteral(n)};return{kind:$e.LIST,values:this.any(he.BRACKET_L,s,he.BRACKET_R),loc:this.loc(a)}},e.parseObject=function(n){var i=this,a=this._lexer.token,s=function(){return i.parseObjectField(n)};return{kind:$e.OBJECT,fields:this.any(he.BRACE_L,s,he.BRACE_R),loc:this.loc(a)}},e.parseObjectField=function(n){var i=this._lexer.token,a=this.parseName();return this.expectToken(he.COLON),{kind:$e.OBJECT_FIELD,name:a,value:this.parseValueLiteral(n),loc:this.loc(i)}},e.parseDirectives=function(n){for(var i=[];this.peek(he.AT);)i.push(this.parseDirective(n));return i},e.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(he.AT),{kind:$e.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},e.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(he.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(he.BRACKET_R),i={kind:$e.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(he.BANG)?{kind:$e.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},e.parseNamedType=function(){var n=this._lexer.token;return{kind:$e.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===he.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(he.STRING)||this.peek(he.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.many(he.BRACE_L,this.parseOperationTypeDefinition,he.BRACE_R);return{kind:$e.SCHEMA_DEFINITION,description:i,directives:a,operationTypes:s,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(he.COLON);var a=this.parseNamedType();return{kind:$e.OPERATION_TYPE_DEFINITION,operation:i,type:a,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);return{kind:$e.SCALAR_TYPE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:$e.OBJECT_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:l,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(he.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(he.AMP)||this.peek(he.NAME));return i}return this.delimitedMany(he.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(he.BRACE_L)&&this._lexer.lookahead().kind===he.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(he.BRACE_L,this.parseFieldDefinition,he.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseArgumentDefs();this.expectToken(he.COLON);var o=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:$e.FIELD_DEFINITION,description:i,name:a,arguments:s,type:o,directives:l,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(he.PAREN_L,this.parseInputValueDef,he.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName();this.expectToken(he.COLON);var s=this.parseTypeReference(),o;this.expectOptionalToken(he.EQUALS)&&(o=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:$e.INPUT_VALUE_DEFINITION,description:i,name:a,type:s,defaultValue:o,directives:l,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:$e.INTERFACE_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:l,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:$e.UNION_TYPE_DEFINITION,description:i,name:a,directives:s,types:o,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(he.EQUALS)?this.delimitedMany(he.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:$e.ENUM_TYPE_DEFINITION,description:i,name:a,directives:s,values:o,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(he.BRACE_L,this.parseEnumValueDefinition,he.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseDirectives(!0);return{kind:$e.ENUM_VALUE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:$e.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:a,directives:s,fields:o,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(he.BRACE_L,this.parseInputValueDef,he.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===he.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),a=this.optionalMany(he.BRACE_L,this.parseOperationTypeDefinition,he.BRACE_R);if(i.length===0&&a.length===0)throw this.unexpected();return{kind:$e.SCHEMA_EXTENSION,directives:i,operationTypes:a,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:$e.SCALAR_TYPE_EXTENSION,name:i,directives:a,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:$e.OBJECT_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:$e.INTERFACE_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:$e.UNION_TYPE_EXTENSION,name:i,directives:a,types:s,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:$e.ENUM_TYPE_EXTENSION,name:i,directives:a,values:s,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:$e.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:a,fields:s,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(he.AT);var a=this.parseName(),s=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:$e.DIRECTIVE_DEFINITION,description:i,name:a,arguments:s,repeatable:o,locations:l,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(he.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(OLe[i.value]!==void 0)return i;throw this.unexpected(n)},e.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new jK(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw zi(this._lexer.source,i.start,"Expected ".concat(GK(n),", found ").concat(VA(i),"."))},e.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},e.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===he.NAME&&i.value===n)this._lexer.advance();else throw zi(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(VA(i),"."))},e.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===he.NAME&&i.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var i=n??this._lexer.token;return zi(this._lexer.source,i.start,"Unexpected ".concat(VA(i),"."))},e.any=function(n,i,a){this.expectToken(n);for(var s=[];!this.expectOptionalToken(a);)s.push(i.call(this));return s},e.optionalMany=function(n,i,a){if(this.expectOptionalToken(n)){var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s}return[]},e.many=function(n,i,a){this.expectToken(n);var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s},e.delimitedMany=function(n,i){this.expectOptionalToken(n);var a=[];do a.push(i.call(this));while(this.expectOptionalToken(n));return a},t}();function VA(t){var e=t.value;return GK(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function GK(t){return $Le(t)?'"'.concat(t,'"'):t}var KLe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ak=Object.freeze({});function zo(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KLe,n=void 0,i=Array.isArray(t),a=[t],s=-1,o=[],l=void 0,u=void 0,c=void 0,f=[],d=[],h=t;do{s++;var p=s===a.length,m=p&&o.length!==0;if(p){if(u=d.length===0?void 0:f[f.length-1],l=c,c=d.pop(),m){if(i)l=l.slice();else{for(var g={},v=0,b=Object.keys(l);v<b.length;v++){var w=b[v];g[w]=l[w]}l=g}for(var E=0,R=0;R<o.length;R++){var I=o[R][0],D=o[R][1];i&&(I-=E),i&&D===null?(l.splice(I,1),E++):l[I]=D}}s=n.index,a=n.keys,o=n.edits,i=n.inArray,n=n.prev}else{if(u=c?i?s:a[s]:void 0,l=c?c[u]:h,l==null)continue;c&&f.push(u)}var N=void 0;if(!Array.isArray(l)){if(!h$(l))throw new Error("Invalid AST Node: ".concat(VK(l),"."));var F=QLe(e,l.kind,p);if(F){if(N=F.call(e,l,u,c,f,d),N===Ak)break;if(N===!1){if(!p){f.pop();continue}}else if(N!==void 0&&(o.push([u,N]),!p))if(h$(N))l=N;else{f.pop();continue}}}if(N===void 0&&m&&o.push([u,l]),p)f.pop();else{var $;n={inArray:i,index:s,keys:a,edits:o,prev:n},i=Array.isArray(l),a=i?l:($=r[l.kind])!==null&&$!==void 0?$:[],s=-1,o=[],c&&d.push(c),c=l}}while(n!==void 0);return o.length!==0&&(h=o[o.length-1][1]),h}function QLe(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var a=r?t.leave:t.enter;if(a){if(typeof a=="function")return a;var s=a[e];if(typeof s=="function")return s}}}function ZLe(t){return zo(t,{leave:JLe})}var XLe=80,JLe={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Le(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,i=Er("(",Le(e.variableDefinitions,", "),")"),a=Le(e.directives," "),s=e.selectionSet;return!n&&!a&&!i&&r==="query"?s:Le([r,Le([n,i]),a,s]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,i=e.defaultValue,a=e.directives;return r+": "+n+Er(" = ",i)+Er(" ",Le(a," "))},SelectionSet:function(e){var r=e.selections;return Na(r)},Field:function(e){var r=e.alias,n=e.name,i=e.arguments,a=e.directives,s=e.selectionSet,o=Er("",r,": ")+n,l=o+Er("(",Le(i,", "),")");return l.length>XLe&&(l=o+Er(`(
`,h1(Le(i,`
`)),`
)`)),Le([l,Le(a," "),s]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+Er(" ",Le(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,i=e.selectionSet;return Le(["...",Er("on ",r),Le(n," "),i]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,i=e.variableDefinitions,a=e.directives,s=e.selectionSet;return"fragment ".concat(r).concat(Er("(",Le(i,", "),")")," ")+"on ".concat(n," ").concat(Er("",Le(a," ")," "))+s},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,i=e.block;return i?DLe(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+Le(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+Le(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+Er("(",Le(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:Oa(function(t){var e=t.directives,r=t.operationTypes;return Le(["schema",Le(e," "),Na(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:Oa(function(t){var e=t.name,r=t.directives;return Le(["scalar",e,Le(r," ")]," ")}),ObjectTypeDefinition:Oa(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return Le(["type",e,Er("implements ",Le(r," & ")),Le(n," "),Na(i)]," ")}),FieldDefinition:Oa(function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(g$(r)?Er(`(
`,h1(Le(r,`
`)),`
)`):Er("(",Le(r,", "),")"))+": "+n+Er(" ",Le(i," "))}),InputValueDefinition:Oa(function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return Le([e+": "+r,Er("= ",n),Le(i," ")]," ")}),InterfaceTypeDefinition:Oa(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return Le(["interface",e,Er("implements ",Le(r," & ")),Le(n," "),Na(i)]," ")}),UnionTypeDefinition:Oa(function(t){var e=t.name,r=t.directives,n=t.types;return Le(["union",e,Le(r," "),n&&n.length!==0?"= "+Le(n," | "):""]," ")}),EnumTypeDefinition:Oa(function(t){var e=t.name,r=t.directives,n=t.values;return Le(["enum",e,Le(r," "),Na(n)]," ")}),EnumValueDefinition:Oa(function(t){var e=t.name,r=t.directives;return Le([e,Le(r," ")]," ")}),InputObjectTypeDefinition:Oa(function(t){var e=t.name,r=t.directives,n=t.fields;return Le(["input",e,Le(r," "),Na(n)]," ")}),DirectiveDefinition:Oa(function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(g$(r)?Er(`(
`,h1(Le(r,`
`)),`
)`):Er("(",Le(r,", "),")"))+(n?" repeatable":"")+" on "+Le(i," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return Le(["extend schema",Le(r," "),Na(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return Le(["extend scalar",r,Le(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return Le(["extend type",r,Er("implements ",Le(n," & ")),Le(i," "),Na(a)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return Le(["extend interface",r,Er("implements ",Le(n," & ")),Le(i," "),Na(a)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,i=e.types;return Le(["extend union",r,Le(n," "),i&&i.length!==0?"= "+Le(i," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,i=e.values;return Le(["extend enum",r,Le(n," "),Na(i)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,i=e.fields;return Le(["extend input",r,Le(n," "),Na(i)]," ")}};function Oa(t){return function(e){return Le([e.description,t(e)],`
`)}}function Le(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t?.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Na(t){return Er(`{
`,h1(Le(t,`
`)),`
}`)}function Er(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function h1(t){return Er("  ",t.replace(/\n/g,`
  `))}function eDe(t){return t.indexOf(`
`)!==-1}function g$(t){return t!=null&&t.some(eDe)}function v$(t){return t.kind===$e.FIELD||t.kind===$e.FRAGMENT_SPREAD||t.kind===$e.INLINE_FRAGMENT}function Av(t,e){var r=t.directives;return!r||!r.length?!0:nDe(r).every(function(n){var i=n.directive,a=n.ifArgument,s=!1;return a.value.kind==="Variable"?(s=e&&e[a.value.name.value],at(s!==void 0,64,i.name.value)):s=a.value.value,i.name.value==="skip"?!s:s})}function Qm(t,e,r){var n=new Set(t),i=n.size;return zo(e,{Directive:function(a){if(n.delete(a.name.value)&&(!r||!n.size))return Ak}}),r?!n.size:n.size<i}function tDe(t){return t&&Qm(["client","export"],t,!0)}function rDe(t){var e=t.name.value;return e==="skip"||e==="include"}function nDe(t){var e=[];return t&&t.length&&t.forEach(function(r){if(rDe(r)){var n=r.arguments,i=r.name.value;at(n&&n.length===1,65,i);var a=n[0];at(a.name&&a.name.value==="if",66,i);var s=a.value;at(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),67,i),e.push({directive:r,ifArgument:a})}}),e}const iDe=()=>Object.create(null),{forEach:aDe,slice:sDe}=Array.prototype,{hasOwnProperty:oDe}=Object.prototype;let Rv=class HK{constructor(e=!0,r=iDe){this.weakness=e,this.makeData=r}lookup(...e){return this.lookupArray(e)}lookupArray(e){let r=this;return aDe.call(e,n=>r=r.getChildTrie(n)),oDe.call(r,"data")?r.data:r.data=this.makeData(sDe.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){const a=this.weakness&&y$(e[n])?r.weak:r.strong;r=a&&a.get(e[n])}return r&&r.data}getChildTrie(e){const r=this.weakness&&y$(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=r.get(e);return n||r.set(e,n=new HK(this.weakness,this.makeData)),n}};function y$(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var il=typeof WeakMap=="function"&&Wa(function(){return navigator.product})!=="ReactNative",WK=typeof WeakSet=="function",qK=typeof Symbol=="function"&&typeof Symbol.for=="function",H2=qK&&Symbol.asyncIterator;Wa(function(){return window.document.createElement});Wa(function(){return navigator.userAgent.indexOf("jsdom")>=0});function yr(t){return t!==null&&typeof t=="object"}function lDe(t,e){var r=e,n=[];t.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw ci(68,a.operation,a.name?" named '".concat(a.name.value,"'"):"");a.kind==="FragmentDefinition"&&n.push(a)}),typeof r>"u"&&(at(n.length===1,69,n.length),r=n[0].name.value);var i=ne(ne({},t),{definitions:si([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function W2(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function q2(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return at(n,70,r),n||null}default:return null}}function Ud(t){return{__ref:String(t)}}function nr(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function uDe(t){return yr(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function cDe(t){return t.kind==="StringValue"}function fDe(t){return t.kind==="BooleanValue"}function dDe(t){return t.kind==="IntValue"}function hDe(t){return t.kind==="FloatValue"}function pDe(t){return t.kind==="Variable"}function mDe(t){return t.kind==="ObjectValue"}function gDe(t){return t.kind==="ListValue"}function vDe(t){return t.kind==="EnumValue"}function yDe(t){return t.kind==="NullValue"}function Sh(t,e,r,n){if(dDe(r)||hDe(r))t[e.value]=Number(r.value);else if(fDe(r)||cDe(r))t[e.value]=r.value;else if(mDe(r)){var i={};r.fields.map(function(s){return Sh(i,s.name,s.value,n)}),t[e.value]=i}else if(pDe(r)){var a=(n||{})[r.name.value];t[e.value]=a}else if(gDe(r))t[e.value]=r.values.map(function(s){var o={};return Sh(o,e,s,n),o[e.value]});else if(vDe(r))t[e.value]=r.value;else if(yDe(r))t[e.value]=null;else throw ci(79,e.value,r.kind)}function bDe(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(a){var s=a.name,o=a.value;return Sh(r[i.name.value],s,o,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var a=i.name,s=i.value;return Sh(n,a,s,e)})),Rk(t.name.value,n,r)}var xDe=["connection","include","skip","client","rest","export","nonreactive"],Rk=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(o){i[o]=e[o]}),"".concat(r.connection.key,"(").concat(M0(i),")")}else return r.connection.key;var a=t;if(e){var s=M0(e);a+="(".concat(s,")")}return r&&Object.keys(r).forEach(function(o){xDe.indexOf(o)===-1&&(r[o]&&Object.keys(r[o]).length?a+="@".concat(o,"(").concat(M0(r[o]),")"):a+="@".concat(o))}),a},{setStringify:function(t){var e=M0;return M0=t,e}}),M0=function(e){return JSON.stringify(e,wDe)};function wDe(t,e){return yr(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function K2(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,a=n.value;return Sh(r,i,a,e)}),r}return null}function cu(t){return t.alias?t.alias.value:t.name.value}function F6(t,e,r){for(var n,i=0,a=e.selections;i<a.length;i++){var s=a[i];if(fu(s)){if(s.name.value==="__typename")return t[cu(s)]}else n?n.push(s):n=[s]}if(typeof t.__typename=="string")return t.__typename;if(n)for(var o=0,l=n;o<l.length;o++){var s=l[o],u=F6(t,q2(s,r).selectionSet,r);if(typeof u=="string")return u}}function fu(t){return t.kind==="Field"}function EDe(t){return t.kind==="InlineFragment"}function _v(t){at(t&&t.kind==="Document",71);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw ci(72,r.kind);return r});return at(e.length<=1,73,e.length),t}function Iv(t){return _v(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function B6(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function Q2(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function KK(t){var e=Iv(t);return at(e&&e.operation==="query",74),e}function SDe(t){at(t.kind==="Document",75),at(t.definitions.length<=1,76);var e=t.definitions[0];return at(e.kind==="FragmentDefinition",77),e}function Cv(t){_v(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var a=i.operation;if(a==="query"||a==="mutation"||a==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw ci(78)}function _k(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&Sh(e,n.variable.name,n.defaultValue)}),e}function TDe(t){return t}var QK=function(){function t(e,r){r===void 0&&(r=Object.create(null)),this.resultCache=WK?new WeakSet:new Set,this.transform=e,r.getCacheKey&&(this.getCacheKey=r.getCacheKey),r.cache!==!1&&(this.stableCacheKeys=new Rv(il,function(n){return{key:n}}))}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(TDe,{cache:!1})},t.split=function(e,r,n){return n===void 0&&(n=t.identity()),new t(function(i){var a=e(i)?r:n;return a.transformDocument(i)},{cache:!1})},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var r=this.getStableCacheEntry(e);if(r&&r.value)return r.value;_v(e);var n=this.transform(e);return this.resultCache.add(n),r&&(r.value=n),n},t.prototype.concat=function(e){var r=this;return new t(function(n){return e.transformDocument(r.transformDocument(n))},{cache:!1})},t.prototype.getStableCacheEntry=function(e){if(this.stableCacheKeys){var r=this.getCacheKey(e);if(r)return at(Array.isArray(r),63),this.stableCacheKeys.lookupArray(r)}},t}(),Pf=il?new WeakMap:void 0,ZK=function(t){var e;return e=Pf?.get(t),e||(e=ZLe(t),Pf?.set(t,e)),e},Ur=Array.isArray;function js(t){return Array.isArray(t)&&t.length>0}var b$={kind:$e.FIELD,name:{kind:$e.NAME,value:"__typename"}};function XK(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind===$e.FRAGMENT_SPREAD&&XK(e[r.name.value],e)})}function ADe(t){return XK(Iv(t)||SDe(t),W2(Q2(t)))?null:t}function RDe(t){var e=new Map,r=new Map;return t.forEach(function(n){n&&(n.name?e.set(n.name,n):n.test&&r.set(n.test,n))}),function(n){var i=e.get(n.name.value);return!i&&r.size&&r.forEach(function(a,s){s(n)&&(i=a)}),i}}function x$(t){var e=new Map;return function(n){n===void 0&&(n=t);var i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function JK(t,e){_v(e);for(var r=x$(""),n=x$(""),i=function(v){for(var b=0,w=void 0;b<v.length&&(w=v[b]);++b)if(!Ur(w)){if(w.kind===$e.OPERATION_DEFINITION)return r(w.name&&w.name.value);if(w.kind===$e.FRAGMENT_DEFINITION)return n(w.name.value)}return globalThis.__DEV__!==!1&&at.error(80),null},a=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===$e.OPERATION_DEFINITION&&++a;var o=RDe(t),l=function(v){return js(v)&&v.map(o).some(function(b){return b&&b.remove})},u=new Map,c=!1,f={enter:function(v){if(l(v.directives))return c=!0,null}},d=zo(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(v,b,w,E,R){var I=i(R);I&&I.variables.add(v.name.value)}},FragmentSpread:{enter:function(v,b,w,E,R){if(l(v.directives))return c=!0,null;var I=i(R);I&&I.fragmentSpreads.add(v.name.value)}},FragmentDefinition:{enter:function(v,b,w,E){u.set(JSON.stringify(E),v)},leave:function(v,b,w,E){var R=u.get(JSON.stringify(E));if(v===R)return v;if(a>0&&v.selectionSet.selections.every(function(I){return I.kind===$e.FIELD&&I.name.value==="__typename"}))return n(v.name.value).removed=!0,c=!0,null}},Directive:{leave:function(v){if(o(v))return c=!0,null}}});if(!c)return e;var h=function(v){return v.transitiveVars||(v.transitiveVars=new Set(v.variables),v.removed||v.fragmentSpreads.forEach(function(b){h(n(b)).transitiveVars.forEach(function(w){v.transitiveVars.add(w)})})),v},p=new Set;d.definitions.forEach(function(v){v.kind===$e.OPERATION_DEFINITION?h(r(v.name&&v.name.value)).fragmentSpreads.forEach(function(b){p.add(b)}):v.kind===$e.FRAGMENT_DEFINITION&&a===0&&!n(v.name.value).removed&&p.add(v.name.value)}),p.forEach(function(v){h(n(v)).fragmentSpreads.forEach(function(b){p.add(b)})});var m=function(v){return!!(!p.has(v)||n(v).removed)},g={enter:function(v){if(m(v.name.value))return null}};return ADe(zo(d,{FragmentSpread:g,FragmentDefinition:g,OperationDefinition:{leave:function(v){if(v.variableDefinitions){var b=h(r(v.name&&v.name.value)).transitiveVars;if(b.size<v.variableDefinitions.length)return ne(ne({},v),{variableDefinitions:v.variableDefinitions.filter(function(w){return b.has(w.variable.name.value)})})}}}}))}var Ik=Object.assign(function(t){return zo(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind===$e.OPERATION_DEFINITION)){var i=e.selections;if(i){var a=i.some(function(o){return fu(o)&&(o.name.value==="__typename"||o.name.value.lastIndexOf("__",0)===0)});if(!a){var s=n;if(!(fu(s)&&s.directives&&s.directives.some(function(o){return o.name.value==="export"})))return ne(ne({},e),{selections:si(si([],i,!0),[b$],!1)})}}}}}})},{added:function(t){return t===b$}});function _De(t){var e=Cv(t),r=e.operation;if(r==="query")return t;var n=zo(t,{OperationDefinition:{enter:function(i){return ne(ne({},i),{operation:"query"})}}});return n}function eQ(t){_v(t);var e=JK([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e}var IDe=Object.prototype.hasOwnProperty;function w$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ck(t)}function Ck(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new du,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var CDe=function(t,e,r){return this.merge(t[r],e[r])},du=function(){function t(e){e===void 0&&(e=CDe),this.reconciler=e,this.isObject=yr,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return yr(r)&&yr(e)?(Object.keys(r).forEach(function(s){if(IDe.call(e,s)){var o=e[s];if(r[s]!==o){var l=n.reconciler.apply(n,si([e,r,s],i,!1));l!==o&&(e=n.shallowCopyForMerge(e),e[s]=l)}}else e=n.shallowCopyForMerge(e),e[s]=r[s]}),e):r},t.prototype.shallowCopyForMerge=function(e){return yr(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=ne({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function PDe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=kDe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kDe(t,e){if(t){if(typeof t=="string")return E$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E$(t,e)}}function E$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pk(t,e,r){return e&&S$(t.prototype,e),r&&S$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var kk=function(){return typeof Symbol=="function"},Ok=function(t){return kk()&&!!Symbol[t]},Nk=function(t){return Ok(t)?Symbol[t]:"@@"+t};kk()&&!Ok("observable")&&(Symbol.observable=Symbol("observable"));var ODe=Nk("iterator"),U6=Nk("observable"),tQ=Nk("species");function Yx(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function $0(t){var e=t.constructor;return e!==void 0&&(e=e[tQ],e===null&&(e=void 0)),e!==void 0?e:hr}function NDe(t){return t instanceof hr}function Th(t){Th.log?Th.log(t):setTimeout(function(){throw t})}function p1(t){Promise.resolve().then(function(){try{t()}catch(e){Th(e)}})}function rQ(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=Yx(e,"unsubscribe");r&&r.call(e)}}catch(n){Th(n)}}function j6(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function LDe(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(nQ(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function nQ(t,e,r){t._state="running";var n=t._observer;try{var i=Yx(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(j6(t),i)i.call(n,r);else throw r;break;case"complete":j6(t),i&&i.call(n);break}}catch(a){Th(a)}t._state==="closed"?rQ(t):t._state==="running"&&(t._state="ready")}function YA(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],p1(function(){return LDe(t)});return}nQ(t,e,r)}}var DDe=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new MDe(this);try{this._cleanup=n.call(void 0,i)}catch(a){i.error(a)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(j6(this),rQ(this))},Pk(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),MDe=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){YA(this._subscription,"next",n)},e.error=function(n){YA(this._subscription,"error",n)},e.complete=function(){YA(this._subscription,"complete")},Pk(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),hr=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new DDe(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(a,s){if(typeof n!="function"){s(new TypeError(n+" is not a function"));return}function o(){l.unsubscribe(),a()}var l=i.subscribe({next:function(u){try{n(u,o)}catch(c){s(c),l.unsubscribe()}},error:s,complete:a})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=$0(this);return new a(function(s){return i.subscribe({next:function(o){try{o=n(o)}catch(l){return s.error(l)}s.next(o)},error:function(o){s.error(o)},complete:function(){s.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=$0(this);return new a(function(s){return i.subscribe({next:function(o){try{if(!n(o))return}catch(l){return s.error(l)}s.next(o)},error:function(o){s.error(o)},complete:function(){s.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=$0(this),s=arguments.length>1,o=!1,l=arguments[1],u=l;return new a(function(c){return i.subscribe({next:function(f){var d=!o;if(o=!0,!d||s)try{u=n(u,f)}catch(h){return c.error(h)}else u=f},error:function(f){c.error(f)},complete:function(){if(!o&&!s)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=$0(this);return new o(function(l){var u,c=0;function f(d){u=d.subscribe({next:function(h){l.next(h)},error:function(h){l.error(h)},complete:function(){c===a.length?(u=void 0,l.complete()):f(o.from(a[c++]))}})}return f(n),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=$0(this);return new a(function(s){var o=[],l=i.subscribe({next:function(c){if(n)try{c=n(c)}catch(d){return s.error(d)}var f=a.from(c).subscribe({next:function(d){s.next(d)},error:function(d){s.error(d)},complete:function(){var d=o.indexOf(f);d>=0&&o.splice(d,1),u()}});o.push(f)},error:function(c){s.error(c)},complete:function(){u()}});function u(){l.closed&&o.length===0&&s.complete()}return function(){o.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},e[U6]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var a=Yx(n,U6);if(a){var s=a.call(n);if(Object(s)!==s)throw new TypeError(s+" is not an object");return NDe(s)&&s.constructor===i?s:new i(function(o){return s.subscribe(o)})}if(Ok("iterator")&&(a=Yx(n,ODe),a))return new i(function(o){p1(function(){if(!o.closed){for(var l=PDe(a.call(n)),u;!(u=l()).done;){var c=u.value;if(o.next(c),o.closed)return}o.complete()}})});if(Array.isArray(n))return new i(function(o){p1(function(){if(!o.closed){for(var l=0;l<n.length;++l)if(o.next(n[l]),o.closed)return;o.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=typeof this=="function"?this:t;return new s(function(o){p1(function(){if(!o.closed){for(var l=0;l<i.length;++l)if(o.next(i[l]),o.closed)return;o.complete()}})})},Pk(t,null,[{key:tQ,get:function(){return this}}]),t}();kk()&&Object.defineProperty(hr,Symbol("extensions"),{value:{symbol:U6,hostReportError:Th},configurable:!0});function $De(t){var e,r=t.Symbol;if(typeof r=="function")if(r.observable)e=r.observable;else{typeof r.for=="function"?e=r.for("https://github.com/benlesh/symbol-observable"):e=r("https://github.com/benlesh/symbol-observable");try{r.observable=e}catch{}}else e="@@observable";return e}var Bf;typeof self<"u"?Bf=self:typeof window<"u"?Bf=window:typeof global<"u"?Bf=global:typeof module<"u"?Bf=module:Bf=Function("return this")();$De(Bf);var T$=hr.prototype,A$="@@observable";T$[A$]||(T$[A$]=function(){return this});var FDe=Object.prototype.toString;function iQ(t){return z6(t)}function z6(t,e){switch(FDe.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,a){r[a]=z6(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=z6(t[i],e)}),n}default:return t}}function BDe(t){var e=new Set([t]);return e.forEach(function(r){yr(r)&&UDe(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){yr(r[n])&&e.add(r[n])})}),t}function UDe(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function V6(t){return globalThis.__DEV__!==!1&&BDe(t),t}function Gp(t,e,r){var n=[];t.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](r)})}function GA(t,e,r){return new hr(function(n){var i=n.next,a=n.error,s=n.complete,o=0,l=!1,u={then:function(h){return new Promise(function(p){return p(h())})}};function c(h,p){return h?function(m){++o;var g=function(){return h(m)};u=u.then(g,g).then(function(v){--o,i&&i.call(n,v),l&&f.complete()},function(v){throw--o,v}).catch(function(v){a&&a.call(n,v)})}:function(m){return p&&p.call(n,m)}}var f={next:c(e,i),error:c(r,a),complete:function(){l=!0,o||s&&s.call(n)}},d=t.subscribe(f);return function(){return d.unsubscribe()}})}function aQ(t){function e(r){Object.defineProperty(t,r,{value:hr})}return qK&&Symbol.species&&e(Symbol.species),e("@@species"),t}function R$(t){return t&&typeof t.then=="function"}var Uf=function(t){Kn(e,t);function e(r){var n=t.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.promise=new Promise(function(i,a){n.resolve=i,n.reject=a}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],n.notify("next",i),Gp(n.observers,"next",i))},error:function(i){var a=n.sub;a!==null&&(a&&setTimeout(function(){return a.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),n.notify("error",i),Gp(n.observers,"error",i))},complete:function(){var i=n,a=i.sub,s=i.sources,o=s===void 0?[]:s;if(a!==null){var l=o.shift();l?R$(l)?l.then(function(u){return n.sub=u.subscribe(n.handlers)}):n.sub=l.subscribe(n.handlers):(a&&setTimeout(function(){return a.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Gp(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new hr(r)]),R$(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},e.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(r,n){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(a){return a(r,n)}))},e.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(i,a){n||(n=!0,r(i,a))})},e}(hr);aQ(Uf);function jd(t){return"incremental"in t}function jDe(t){return"hasNext"in t&&"data"in t}function zDe(t){return jd(t)||jDe(t)}function VDe(t){return yr(t)&&"payload"in t}function sQ(t,e){var r=t,n=new du;return jd(e)&&js(e.incremental)&&e.incremental.forEach(function(i){for(var a=i.data,s=i.path,o=s.length-1;o>=0;--o){var l=s[o],u=!isNaN(+l),c=u?[]:{};c[l]=a,a=c}r=n.merge(r,a)}),r}function m1(t){var e=Y6(t);return js(e)}function Y6(t){var e=js(t.errors)?t.errors.slice(0):[];return jd(t)&&js(t.incremental)&&t.incremental.forEach(function(r){r.errors&&e.push.apply(e,r.errors)}),e}function Ah(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){n&&Object.keys(n).forEach(function(i){var a=n[i];a!==void 0&&(r[i]=a)})}),r}function HA(t,e){return Ah(t,e,e.variables&&{variables:Ah(ne(ne({},t&&t.variables),e.variables))})}function WA(t){return new hr(function(e){e.error(t)})}var G6=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};function YDe(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(e.indexOf(i)<0)throw ci(41,i)}return t}function GDe(t,e){var r=ne({},t),n=function(a){typeof a=="function"?r=ne(ne({},r),a(r)):r=ne(ne({},r),a)},i=function(){return ne({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function HDe(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?B6(e.query)||void 0:""),e}function WDe(t,e){var r=ne({},t),n=new Set(Object.keys(t));return zo(e,{Variable:function(i,a,s){s&&s.kind!=="VariableDefinition"&&n.delete(i.name.value)}}),n.forEach(function(i){delete r[i]}),r}function _$(t,e){return e?e(t):hr.of()}function F0(t){return typeof t=="function"?new Pv(t):t}function ub(t){return t.request.length<=1}var Pv=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return hr.of()})},t.from=function(e){return e.length===0?t.empty():e.map(F0).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var i=F0(r),a=F0(n||new t(_$));return ub(i)&&ub(a)?new t(function(s){return e(s)?i.request(s)||hr.of():a.request(s)||hr.of()}):new t(function(s,o){return e(s)?i.request(s,o)||hr.of():a.request(s,o)||hr.of()})},t.execute=function(e,r){return e.request(GDe(r.context,HDe(YDe(r))))||hr.of()},t.concat=function(e,r){var n=F0(e);if(ub(n))return globalThis.__DEV__!==!1&&at.warn(33,n),n;var i=F0(r);return ub(i)?new t(function(a){return n.request(a,function(s){return i.request(s)||hr.of()})||hr.of()}):new t(function(a,s){return n.request(a,function(o){return i.request(o,s)||hr.of()})||hr.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(_$)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw ci(34)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),H6=Pv.execute;function qDe(t){var e,r=t[Symbol.asyncIterator]();return e={next:function(){return r.next()}},e[Symbol.asyncIterator]=function(){return this},e}function KDe(t){var e=null,r=null,n=!1,i=[],a=[];function s(f){if(!r){if(a.length){var d=a.shift();if(Array.isArray(d)&&d[0])return d[0]({value:f,done:!1})}i.push(f)}}function o(f){r=f;var d=a.slice();d.forEach(function(h){h[1](f)}),!e||e()}function l(){n=!0;var f=a.slice();f.forEach(function(d){d[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",o),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",s),t.on("error",o),t.on("end",l),t.on("finish",l),t.on("close",l);function u(){return new Promise(function(f,d){if(r)return d(r);if(i.length)return f({value:i.shift(),done:!1});if(n)return f({value:void 0,done:!0});a.push([f,d])})}var c={next:function(){return u()}};return H2&&(c[Symbol.asyncIterator]=function(){return this}),c}function QDe(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,i){t.then(function(a){n({value:a,done:!1})}).catch(i)}))}};return H2&&(r[Symbol.asyncIterator]=function(){return this}),r}function I$(t){var e={next:function(){return t.read()}};return H2&&(e[Symbol.asyncIterator]=function(){return this}),e}function ZDe(t){return!!t.body}function XDe(t){return!!t.getReader}function JDe(t){return!!(H2&&t[Symbol.asyncIterator])}function e9e(t){return!!t.stream}function t9e(t){return!!t.arrayBuffer}function r9e(t){return!!t.pipe}function n9e(t){var e=t;if(ZDe(t)&&(e=t.body),JDe(e))return qDe(e);if(XDe(e))return I$(e.getReader());if(e9e(e))return I$(e.stream().getReader());if(t9e(e))return QDe(e.arrayBuffer());if(r9e(e))return KDe(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Lk=Symbol();function i9e(t){return t.extensions?Array.isArray(t.extensions[Lk]):!1}function a9e(t){return t.hasOwnProperty("graphQLErrors")}var s9e=function(t){var e=si(si(si([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(r){return yr(r)&&r.message||"Error message not found."}).join(`
`)},kf=function(t){Kn(e,t);function e(r){var n=r.graphQLErrors,i=r.protocolErrors,a=r.clientErrors,s=r.networkError,o=r.errorMessage,l=r.extraInfo,u=t.call(this,o)||this;return u.name="ApolloError",u.graphQLErrors=n||[],u.protocolErrors=i||[],u.clientErrors=a||[],u.networkError=s||null,u.message=o||s9e(u),u.extraInfo=l,u.__proto__=e.prototype,u}return e}(Error),C$=Object.prototype.hasOwnProperty;function o9e(t,e){var r;return mo(this,void 0,void 0,function(){var n,i,a,s,o,l,u,c,f,d,h,p,m,g,v,b,w,E,R,I,D,N,F;return xs(this,function($){switch($.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),i=(r=t.headers)===null||r===void 0?void 0:r.get("content-type"),a="boundary=",s=i?.includes(a)?i?.substring(i?.indexOf(a)+a.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",o=`\r
--`.concat(s),l="",u=n9e(t),c=!0,$.label=1;case 1:return c?[4,u.next()]:[3,3];case 2:for(f=$.sent(),d=f.value,h=f.done,p=typeof d=="string"?d:n.decode(d),m=l.length-o.length+1,c=!h,l+=p,g=l.indexOf(o,m);g>-1;){if(v=void 0,N=[l.slice(0,g),l.slice(g+o.length)],v=N[0],l=N[1],b=v.indexOf(`\r
\r
`),w=l9e(v.slice(0,b)),E=w["content-type"],E&&E.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(R=v.slice(b),R){if(I=oQ(t,R),Object.keys(I).length>1||"data"in I||"incremental"in I||"errors"in I||"payload"in I)VDe(I)?(D={},"payload"in I&&(D=ne({},I.payload)),"errors"in I&&(D=ne(ne({},D),{extensions:ne(ne({},"extensions"in D?D.extensions:null),(F={},F[Lk]=I.errors,F))})),e(D)):e(I);else if(Object.keys(I).length===1&&"hasNext"in I&&!I.hasNext)return[2]}g=l.indexOf(o)}return[3,1];case 3:return[2]}})})}function l9e(t){var e={};return t.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var i=r.slice(0,n).trim().toLowerCase(),a=r.slice(n+1).trim();e[i]=a}}),e}function oQ(t,e){if(t.status>=300){var r=function(){try{return JSON.parse(e)}catch{return e}};G6(t,r(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var n=i;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}function u9e(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function c9e(t){return function(e){return e.text().then(function(r){return oQ(e,r)}).then(function(r){return e.status>=300&&G6(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!C$.call(r,"data")&&!C$.call(r,"errors")&&G6(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}var W6=function(t,e){var r;try{r=JSON.stringify(t)}catch(i){var n=ci(37,e,i.message);throw n.parseError=i,n}return r},f9e={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},d9e={accept:"*/*","content-type":"application/json"},h9e={method:"POST"},p9e={http:f9e,headers:d9e,options:h9e},m9e=function(t,e){return e(t)};function g9e(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},a={};r.forEach(function(f){i=ne(ne(ne({},i),f.options),{headers:ne(ne({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),a=ne(ne({},a),f.http)}),i.headers&&(i.headers=v9e(i.headers,a.preserveHeaderCase));var s=t.operationName,o=t.extensions,l=t.variables,u=t.query,c={operationName:s,variables:l};return a.includeExtensions&&(c.extensions=o),a.includeQuery&&(c.query=e(u,ZK)),{options:i,body:c}}function v9e(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach(function(a){r[a.toLowerCase()]=t[a]}),r}var n=Object.create(null);Object.keys(Object(t)).forEach(function(a){n[a.toLowerCase()]={originalName:a,value:t[a]}});var i=Object.create(null);return Object.keys(n).forEach(function(a){i[n[a].originalName]=n[a].value}),i}var y9e=function(t){if(!t&&typeof fetch>"u")throw ci(35)},b9e=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};function x9e(t,e){var r=[],n=function(f,d){r.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=W6(e.variables,"Variables map")}catch(f){return{parseError:f}}n("variables",i)}if(e.extensions){var a=void 0;try{a=W6(e.extensions,"Extensions map")}catch(f){return{parseError:f}}n("extensions",a)}var s="",o=t,l=t.indexOf("#");l!==-1&&(s=t.substr(l),o=t.substr(0,l));var u=o.indexOf("?")===-1?"?":"&",c=o+u+r.join("&")+s;return{newURI:c}}var P$=Wa(function(){return fetch}),w9e=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,i=t.print,a=i===void 0?m9e:i,s=t.includeExtensions,o=t.preserveHeaderCase,l=t.useGETForQueries,u=t.includeUnusedVariables,c=u===void 0?!1:u,f=Fo(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&y9e(n||P$);var d={http:{includeExtensions:s,preserveHeaderCase:o},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new Pv(function(h){var p=b9e(h,r),m=h.getContext(),g={};if(m.clientAwareness){var v=m.clientAwareness,b=v.name,w=v.version;b&&(g["apollographql-client-name"]=b),w&&(g["apollographql-client-version"]=w)}var E=ne(ne({},g),m.headers),R={http:m.http,options:m.fetchOptions,credentials:m.credentials,headers:E};if(Qm(["client"],h.query)){var I=eQ(h.query);if(!I)return WA(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));h.query=I}var D=g9e(h,a,p9e,d,R),N=D.options,F=D.body;F.variables&&!c&&(F.variables=WDe(F.variables,h.query));var $;!N.signal&&typeof AbortController<"u"&&($=new AbortController,N.signal=$.signal);var z=function(M){return M.kind==="OperationDefinition"&&M.operation==="mutation"},k=function(M){return M.kind==="OperationDefinition"&&M.operation==="subscription"},A=k(Cv(h.query)),y=Qm(["defer"],h.query);if(l&&!h.query.definitions.some(z)&&(N.method="GET"),y||A){N.headers=N.headers||{};var x="multipart/mixed;";A&&y&&globalThis.__DEV__!==!1&&at.warn(36),A?x+="boundary=graphql;subscriptionSpec=1.0,application/json":y&&(x+="deferSpec=20220824,application/json"),N.headers.accept=x}if(N.method==="GET"){var S=x9e(p,F),C=S.newURI,P=S.parseError;if(P)return WA(P);p=C}else try{N.body=W6(F,"Payload")}catch(M){return WA(M)}return new hr(function(M){var B=n||Wa(function(){return fetch})||P$,L=M.next.bind(M);return B(p,N).then(function(_){var U;h.setContext({response:_});var G=(U=_.headers)===null||U===void 0?void 0:U.get("content-type");return G!==null&&/^multipart\/mixed/i.test(G)?o9e(_,L):c9e(h)(_).then(L)}).then(function(){$=void 0,M.complete()}).catch(function(_){$=void 0,u9e(_,M)}),function(){$&&$.abort()}})})},E9e=function(t){Kn(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,w9e(r).request)||this;return n.options=r,n}return e}(Pv);const{toString:k$,hasOwnProperty:S9e}=Object.prototype,O$=Function.prototype.toString,q6=new Map;function Ir(t,e){try{return K6(t,e)}finally{q6.clear()}}function K6(t,e){if(t===e)return!0;const r=k$.call(t),n=k$.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(L$(t,e))return!0;const i=N$(t),a=N$(e),s=i.length;if(s!==a.length)return!1;for(let o=0;o<s;++o)if(!S9e.call(e,i[o]))return!1;for(let o=0;o<s;++o){const l=i[o];if(!K6(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(L$(t,e))return!0;const i=t.entries(),a=r==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[o,l]=s.value;if(!e.has(o)||a&&!K6(l,e.get(o)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=O$.call(t);return i!==O$.call(e)?!1:!R9e(i,A9e)}}return!1}function N$(t){return Object.keys(t).filter(T9e,t)}function T9e(t){return this[t]!==void 0}const A9e="{ [native code] }";function R9e(t,e){const r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function L$(t,e){let r=q6.get(t);if(r){if(r.has(e))return!0}else q6.set(t,r=new Set);return r.add(e),!1}var _9e=function(){return Object.create(null)},lQ=Array.prototype,I9e=lQ.forEach,C9e=lQ.slice,P9e=function(){function t(e,r){e===void 0&&(e=!0),r===void 0&&(r=_9e),this.weakness=e,this.makeData=r}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return I9e.call(e,function(n){return r=r.getChildTrie(n)}),r.data||(r.data=this.makeData(C9e.call(e)))},t.prototype.getChildTrie=function(e){var r=this.weakness&&k9e(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n},t}();function k9e(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}function O9e(){}class N9e{constructor(e=1/0,r=O9e){this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const r=this.getNode(e);return r&&r.value}getNode(e){const r=this.map.get(e);if(r&&r!==this.newest){const{older:n,newer:i}=r;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(e,r){let n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1}}var Sn=null,D$={},L9e=1,D9e=function(){return function(){function t(){this.id=["slot",L9e++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Sn;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===D$)break;return e!==Sn&&(Sn.slots[this.id]=r),!0}return Sn&&(Sn.slots[this.id]=D$),!1},t.prototype.getValue=function(){if(this.hasValue())return Sn.slots[this.id]},t.prototype.withValue=function(e,r,n,i){var a,s=(a={__proto__:null},a[this.id]=e,a),o=Sn;Sn={parent:o,slots:s};try{return r.apply(i,n)}finally{Sn=o}},t.bind=function(e){var r=Sn;return function(){var n=Sn;try{return Sn=r,e.apply(this,arguments)}finally{Sn=n}}},t.noContext=function(e,r,n){if(Sn){var i=Sn;try{return Sn=null,e.apply(n,r)}finally{Sn=i}}else return e.apply(n,r)},t}()};function M$(t){try{return t()}catch{}}var qA="@wry/context:Slot",M9e=M$(function(){return globalThis})||M$(function(){return global})||Object.create(null),$$=M9e,Dk=$$[qA]||Array[qA]||function(t){try{Object.defineProperty($$,qA,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(D9e());Dk.bind;Dk.noContext;const Z2=new Dk,{hasOwnProperty:$9e}=Object.prototype,Mk=Array.from||function(t){const e=[];return t.forEach(r=>e.push(r)),e};function Gx(t){const{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}const Zm=[],F9e=100;function Rh(t,e){if(!t)throw new Error(e||"assertion failure")}function B9e(t,e){const r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function uQ(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function U9e(t){return t.slice(0)}class X2{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++X2.count}peek(){if(this.value.length===1&&!hu(this))return F$(this),this.value[0]}recompute(e){return Rh(!this.recomputing,"already recomputing"),F$(this),hu(this)?j9e(this,e):uQ(this.value)}setDirty(){this.dirty||(this.dirty=!0,this.value.length=0,cQ(this),Gx(this))}dispose(){this.setDirty(),mQ(this),$k(this,(e,r)=>{e.setDirty(),gQ(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Zm.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Mk(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Zm.push(this.deps),this.deps=null)}}X2.count=0;function F$(t){const e=Z2.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),hu(t)?dQ(e,t):hQ(e,t),e}function j9e(t,e){return mQ(t),Z2.withValue(t,z9e,[t,e]),Y9e(t,e)&&V9e(t),uQ(t.value)}function z9e(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(r){t.value[1]=r}t.recomputing=!1}function hu(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function V9e(t){t.dirty=!1,!hu(t)&&fQ(t)}function cQ(t){$k(t,dQ)}function fQ(t){$k(t,hQ)}function $k(t,e){const r=t.parents.size;if(r){const n=Mk(t.parents);for(let i=0;i<r;++i)e(n[i],t)}}function dQ(t,e){Rh(t.childValues.has(e)),Rh(hu(e));const r=!hu(t);if(!t.dirtyChildren)t.dirtyChildren=Zm.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&cQ(t)}function hQ(t,e){Rh(t.childValues.has(e)),Rh(!hu(e));const r=t.childValues.get(e);r.length===0?t.childValues.set(e,U9e(e.value)):B9e(r,e.value)||t.setDirty(),pQ(t,e),!hu(t)&&fQ(t)}function pQ(t,e){const r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(Zm.length<F9e&&Zm.push(r),t.dirtyChildren=null))}function mQ(t){t.childValues.size>0&&t.childValues.forEach((e,r)=>{gQ(t,r)}),t.forgetDeps(),Rh(t.dirtyChildren===null)}function gQ(t,e){e.parents.delete(t),t.childValues.delete(e),pQ(t,e)}function Y9e(t,e){if(typeof t.subscribe=="function")try{Gx(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}const G9e={setDirty:!0,dispose:!0,forget:!0};function vQ(t){const e=new Map,r=t&&t.subscribe;function n(i){const a=Z2.getValue();if(a){let s=e.get(i);s||e.set(i,s=new Set),a.dependOn(s),typeof r=="function"&&(Gx(s),s.unsubscribe=r(i))}}return n.dirty=function(a,s){const o=e.get(a);if(o){const l=s&&$9e.call(G9e,s)?s:"setDirty";Mk(o).forEach(u=>u[l]()),e.delete(a),Gx(o)}},n}let B$;function H9e(...t){return(B$||(B$=new P9e(typeof WeakMap=="function"))).lookupArray(t)}const KA=new Set;function Hx(t,{max:e=Math.pow(2,16),makeCacheKey:r=H9e,keyArgs:n,subscribe:i}=Object.create(null)){const a=new N9e(e,c=>c.dispose()),s=function(){const c=r.apply(null,n?n.apply(null,arguments):arguments);if(c===void 0)return t.apply(null,arguments);let f=a.get(c);f||(a.set(c,f=new X2(t)),f.subscribe=i,f.forget=()=>a.delete(c));const d=f.recompute(Array.prototype.slice.call(arguments));return a.set(c,f),KA.add(a),Z2.hasValue()||(KA.forEach(h=>h.clean()),KA.clear()),d};Object.defineProperty(s,"size",{get(){return a.map.size},configurable:!1,enumerable:!1}),Object.freeze(s.options={max:e,makeCacheKey:r,keyArgs:n,subscribe:i});function o(c){const f=a.get(c);f&&f.setDirty()}s.dirtyKey=o,s.dirty=function(){o(r.apply(null,arguments))};function l(c){const f=a.get(c);if(f)return f.peek()}s.peekKey=l,s.peek=function(){return l(r.apply(null,arguments))};function u(c){return a.delete(c)}return s.forgetKey=u,s.forget=function(){return u(r.apply(null,arguments))},s.makeCacheKey=r,s.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(s)}var W9e=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Hx(lDe)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(ne(ne({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(ne(ne({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=Fo(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,a=e.fragmentName,s=Fo(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,a),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),a=r(i);return a==null?i:(n.writeQuery(ne(ne({},e),{data:a})),a)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),a=r(i);return a==null?i:(n.writeFragment(ne(ne({},e),{data:a})),a)}})},t}(),yQ=function(t){Kn(e,t);function e(r,n,i,a){var s,o=t.call(this,r)||this;if(o.message=r,o.path=n,o.query=i,o.variables=a,Array.isArray(o.path)){o.missing=o.message;for(var l=o.path.length-1;l>=0;--l)o.missing=(s={},s[o.path[l]]=o.missing,s)}else o.missing=o.path;return o.__proto__=e.prototype,o}return e}(Error),hn=Object.prototype.hasOwnProperty;function B0(t){return t==null}function bQ(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=B0(n)?B0(i)?void 0:{_id:i}:{id:n}),B0(n)&&!B0(i)&&(n=i),!B0(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var xQ={dataIdFromObject:bQ,addTypename:!0,resultCaching:!0,canonizeResults:!1};function q9e(t){return Ah(xQ,t)}function wQ(t){var e=t.canonizeResults;return e===void 0?xQ.canonizeResults:e}function K9e(t,e){return nr(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var EQ=/^[_a-z][_0-9a-z]*/i;function pu(t){var e=t.match(EQ);return e?e[0]:t}function Q6(t,e,r){return yr(e)?Ur(e)?e.every(function(n){return Q6(t,n,r)}):t.selections.every(function(n){if(fu(n)&&Av(n,r)){var i=cu(n);return hn.call(e,i)&&(!n.selectionSet||Q6(n.selectionSet,e[i],r))}return!0}):!1}function gd(t){return yr(t)&&!nr(t)&&!Ur(t)}function Q9e(){return new du}function SQ(t,e){var r=W2(Q2(t));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&e&&(i=e.lookup(n)),i||null}}}var g1=Object.create(null),QA=function(){return g1},U$=Object.create(null),Xm=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return V6(nr(i)?n.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return nr(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,a){if(typeof i=="string")return Ud(i);if(nr(i))return i;var s=n.policies.identify(i)[0];if(s){var o=Ud(s);return a&&n.merge(s,i),o}}}return t.prototype.toObject=function(){return ne({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),hn.call(this.data,e)){var n=this.data[e];if(n&&hn.call(n,r))return n[r]}if(r==="__typename"&&hn.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Al)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),hn.call(this.data,e))return this.data[e];if(this instanceof Al)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;nr(e)&&(e=e.__ref),nr(r)&&(r=r.__ref);var a=typeof e=="string"?this.lookup(i=e):e,s=typeof r=="string"?this.lookup(i=r):r;if(s){at(typeof i=="string",1);var o=new du(X9e).merge(a,s);if(this.data[i]=o,o!==a&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);a||(l.__exists=1),Object.keys(s).forEach(function(u){if(!a||a[u]!==o[u]){l[u]=1;var c=pu(u);c!==u&&!n.policies.hasKeyArgs(o.__typename,c)&&(l[c]=1),o[u]===void 0&&!(n instanceof Al)&&delete o[u]}}),l.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===o.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return n.group.dirty(i,u)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var a=Object.create(null),s=!1,o=!0,l={DELETE:g1,INVALIDATE:U$,isReference:nr,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return n.policies.readField(typeof u=="string"?{fieldName:u,from:c||Ud(e)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var c=pu(u),f=i[u];if(f!==void 0){var d=typeof r=="function"?r:r[u]||r[c];if(d){var h=d===QA?g1:d(V6(f),ne(ne({},l),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));h===U$?n.group.dirty(e,u):(h===g1&&(h=void 0),h!==f&&(a[u]=h,s=!0,f=h))}f!==void 0&&(o=!1)}}),s)return this.merge(e,a),o&&(this instanceof Al?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,a=this.lookup(e);if(a){var s=this.getFieldValue(a,"__typename"),o=r&&n?this.policies.getStoreFieldName({typename:s,fieldName:r,args:n}):r;return this.modify(e,o?(i={},i[o]=QA,i):QA)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(hn.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof Al&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){hn.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(a){e&&hn.call(e,a)||r.delete(a)}),e){var n=e.__META,i=Fo(e,["__META"]);Object.keys(i).forEach(function(a){r.merge(a,i[a])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Al?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(s){hn.call(n,s)&&(Object.keys(e.findChildRefIds(s)).forEach(r.add,r),delete n[s])});var i=Object.keys(n);if(i.length){for(var a=this;a instanceof Al;)a=a.parent;i.forEach(function(s){return a.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!hn.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(a){nr(a)&&(r[a.__ref]=!0),yr(a)&&Object.keys(a).forEach(function(s){var o=a[s];yr(o)&&i.add(o)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),TQ=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?vQ():null,this.keyMaker=new Rv(il)},t.prototype.depend=function(e,r){if(this.d){this.d(ZA(e,r));var n=pu(r);n!==r&&this.d(ZA(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(ZA(e,r),r==="__exists"?"forget":"setDirty")},t}();function ZA(t,e){return e+"#"+t}function j$(t,e){Hp(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){Kn(n,r);function n(i){var a=i.policies,s=i.resultCaching,o=s===void 0?!0:s,l=i.seed,u=r.call(this,a,new TQ(o))||this;return u.stump=new Z9e(u),u.storageTrie=new Rv(il),l&&u.replace(l),u}return n.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(Xm||(Xm={}));var Al=function(t){Kn(e,t);function e(r,n,i,a){var s=t.call(this,n.policies,a)||this;return s.id=r,s.parent=n,s.replay=i,s.group=a,i(s),s}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var s=n.data[a],o=i.lookup(a);o?s?s!==o&&Object.keys(s).forEach(function(l){Ir(s[l],o[l])||n.group.dirty(a,l)}):(n.group.dirty(a,"__exists"),Object.keys(o).forEach(function(l){n.group.dirty(a,l)})):n.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return ne(ne({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return hn.call(this.data,r)?ne(ne({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(Xm),Z9e=function(t){Kn(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new TQ(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Al);function X9e(t,e,r){var n=t[r],i=e[r];return Ir(n,i)?n:i}function Hp(t){return!!(t instanceof Xm&&t.group.caching)}function J9e(t){return yr(t)?Ur(t)?t.slice(0):ne({__proto__:Object.getPrototypeOf(t)},t):t}var Z6=function(){function t(){this.known=new(WK?WeakSet:Set),this.pool=new Rv(il),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return yr(e)&&this.known.has(e)},t.prototype.pass=function(e){if(yr(e)){var r=J9e(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(yr(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var a=e.map(this.admit,this),s=this.pool.lookupArray(a);return s.array||(this.known.add(s.array=a),globalThis.__DEV__!==!1&&Object.freeze(a)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),l=[o],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(h){l.push(r.admit(e[h]))});var s=this.pool.lookupArray(l);if(!s.object){var f=s.object=Object.create(o);this.known.add(f),u.sorted.forEach(function(h,p){f[h]=l[c+p]}),globalThis.__DEV__!==!1&&Object.freeze(f)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t}(),pc=Object.assign(function(t){if(yr(t)){X6===void 0&&z$();var e=X6.admit(t),r=J6.get(e);return r===void 0&&J6.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:z$}),X6,J6;function z$(){X6=new Z6,J6=new(il?WeakMap:Map)}function V$(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var eMe=function(){function t(e){var r=this;this.knownResults=new(il?WeakMap:Map),this.config=Ah(e,{addTypename:e.addTypename!==!1,canonizeResults:wQ(e)}),this.canon=e.canon||new Z6,this.executeSelectionSet=Hx(function(n){var i,a=n.context.canonizeResults,s=V$(n);s[3]=!a;var o=(i=r.executeSelectionSet).peek.apply(i,s);return o?a?ne(ne({},o),{result:r.canon.admit(o.result)}):o:(j$(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:V$,makeCacheKey:function(n,i,a,s){if(Hp(a.store))return a.store.makeCacheKey(n,nr(i)?i.__ref:i,a.varString,s)}}),this.executeSubSelectedArray=Hx(function(n){return j$(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,a=n.array,s=n.context;if(Hp(s.store))return s.store.makeCacheKey(i,a,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Z6},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,a=i===void 0?"ROOT_QUERY":i,s=e.variables,o=e.returnPartialData,l=o===void 0?!0:o,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;s=ne(ne({},_k(KK(n))),s);var d=Ud(a),h=this.executeSelectionSet({selectionSet:Cv(n).selectionSet,objectOrReference:d,enclosingRef:d,context:ne({store:r,query:n,policies:f,variables:s,varString:pc(s),canonizeResults:c},SQ(n,this.config.fragments))}),p;if(h.missing&&(p=[new yQ(tMe(h.missing),h.missing,n,s)],!l))throw p[0];return{result:h.result,complete:!p,missing:p}},t.prototype.isFresh=function(e,r,n,i){if(Hp(i.store)&&this.knownResults.get(e)===n){var a=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(a&&e===a.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,a=e.enclosingRef,s=e.context;if(nr(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var o=s.variables,l=s.policies,u=s.store,c=u.getFieldValue(i,"__typename"),f=[],d,h=new du;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&f.push({__typename:c});function p(w,E){var R;return w.missing&&(d=h.merge(d,(R={},R[E]=w.missing,R))),w.result}var m=new Set(n.selections);m.forEach(function(w){var E,R;if(Av(w,o))if(fu(w)){var I=l.readField({fieldName:w.name.value,field:w,variables:s.variables,from:i},s),D=cu(w);I===void 0?Ik.added(w)||(d=h.merge(d,(E={},E[D]="Can't find field '".concat(w.name.value,"' on ").concat(nr(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),E))):Ur(I)?I=p(r.executeSubSelectedArray({field:w,array:I,enclosingRef:a,context:s}),D):w.selectionSet?I!=null&&(I=p(r.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:I,enclosingRef:nr(I)?I:a,context:s}),D)):s.canonizeResults&&(I=r.canon.pass(I)),I!==void 0&&f.push((R={},R[D]=I,R))}else{var N=q2(w,s.lookupFragment);if(!N&&w.kind===$e.FRAGMENT_SPREAD)throw ci(7,w.name.value);N&&l.fragmentMatches(N,c)&&N.selectionSet.selections.forEach(m.add,m)}});var g=Ck(f),v={result:g,missing:d},b=s.canonizeResults?this.canon.admit(v):V6(v);return b.result&&this.knownResults.set(b.result,n),b},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,a=e.enclosingRef,s=e.context,o,l=new du;function u(c,f){var d;return c.missing&&(o=l.merge(o,(d={},d[f]=c.missing,d))),c.result}return n.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(c,f){return c===null?null:Ur(c)?u(r.executeSubSelectedArray({field:n,array:c,enclosingRef:a,context:s}),f):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,enclosingRef:nr(c)?c:a,context:s}),f):(globalThis.__DEV__!==!1&&rMe(s.store,n,c),c)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:o}},t}();function tMe(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function rMe(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){yr(i)&&(at(!nr(i),8,K9e(t,i),e.name.value),Object.values(i).forEach(n.add,n))})}}let Tn=null;const Y$={};let nMe=1;const iMe=()=>class{constructor(){this.id=["slot",nMe++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Tn;e;e=e.parent)if(this.id in e.slots){const r=e.slots[this.id];if(r===Y$)break;return e!==Tn&&(Tn.slots[this.id]=r),!0}return Tn&&(Tn.slots[this.id]=Y$),!1}getValue(){if(this.hasValue())return Tn.slots[this.id]}withValue(e,r,n,i){const a={__proto__:null,[this.id]:e},s=Tn;Tn={parent:s,slots:a};try{return r.apply(i,n)}finally{Tn=s}}static bind(e){const r=Tn;return function(){const n=Tn;try{return Tn=r,e.apply(this,arguments)}finally{Tn=n}}}static noContext(e,r,n){if(Tn){const i=Tn;try{return Tn=null,e.apply(n,r)}finally{Tn=i}}else return e.apply(n,r)}};function G$(t){try{return t()}catch{}}const XA="@wry/context:Slot",aMe=G$(()=>globalThis)||G$(()=>global)||Object.create(null),H$=aMe,sMe=H$[XA]||Array[XA]||function(t){try{Object.defineProperty(H$,XA,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(iMe());var Fk=new sMe,W$=new WeakMap;function Wp(t){var e=W$.get(t);return e||W$.set(t,e={vars:new Set,dep:vQ()}),e}function q$(t){Wp(t).vars.forEach(function(e){return e.forgetCache(t)})}function oMe(t){Wp(t).vars.forEach(function(e){return e.attachCache(t)})}function lMe(t){var e=new Set,r=new Set,n=function(a){if(arguments.length>0){if(t!==a){t=a,e.forEach(function(l){Wp(l).dep.dirty(n),uMe(l)});var s=Array.from(r);r.clear(),s.forEach(function(l){return l(t)})}}else{var o=Fk.getValue();o&&(i(o),Wp(o).dep(n))}return t};n.onNextChange=function(a){return r.add(a),function(){r.delete(a)}};var i=n.attachCache=function(a){return e.add(a),Wp(a).vars.add(n),n};return n.forgetCache=function(a){return e.delete(a)},n}function uMe(t){t.broadcastWatches&&t.broadcastWatches()}var K$=Object.create(null);function Bk(t){var e=JSON.stringify(t);return K$[e]||(K$[e]=Object.create(null))}function Q$(t){var e=Bk(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(s,o){return n.readField(o,s)},a=n.keyObject=Uk(t,function(s){var o=zd(n.storeObject,s,i);return o===void 0&&r!==n.storeObject&&hn.call(r,s[0])&&(o=zd(r,s,RQ)),at(o!==void 0,2,s.join("."),r),o});return"".concat(n.typename,":").concat(JSON.stringify(a))})}function Z$(t){var e=Bk(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,a=n.variables,s=n.fieldName,o=Uk(t,function(u){var c=u[0],f=c.charAt(0);if(f==="@"){if(i&&js(i.directives)){var d=c.slice(1),h=i.directives.find(function(v){return v.name.value===d}),p=h&&K2(h,a);return p&&zd(p,u.slice(1))}return}if(f==="$"){var m=c.slice(1);if(a&&hn.call(a,m)){var g=u.slice(0);return g[0]=m,zd(a,g)}return}if(r)return zd(r,u)}),l=JSON.stringify(o);return(r||l!=="{}")&&(s+=":"+l),s})}function Uk(t,e){var r=new du;return AQ(t).reduce(function(n,i){var a,s=e(i);if(s!==void 0){for(var o=i.length-1;o>=0;--o)s=(a={},a[i[o]]=s,a);n=r.merge(n,s)}return n},Object.create(null))}function AQ(t){var e=Bk(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,a){Ur(i)?(AQ(i).forEach(function(s){return r.push(n.concat(s))}),n.length=0):(n.push(i),Ur(t[a+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function RQ(t,e){return t[e]}function zd(t,e,r){return r=r||RQ,_Q(e.reduce(function n(i,a){return Ur(i)?i.map(function(s){return n(s,a)}):i&&r(i,a)},t))}function _Q(t){return yr(t)?Ur(t)?t.map(_Q):Uk(Object.keys(t).sort(),function(e){return zd(t,e)}):t}Rk.setStringify(pc);function e3(t){return t.args!==void 0?t.args:t.field?K2(t.field,t.variables):null}var cMe=function(){},X$=function(t,e){return e.fieldName},J$=function(t,e,r){var n=r.mergeObjects;return n(t,e)},eF=function(t,e){return e},fMe=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ne({dataIdFromObject:bQ},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,a=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=r&&r.storeObject||e,o=ne(ne({},r),{typename:a,storeObject:s,readField:r&&r.readField||function(){var d=jk(arguments,s);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=a&&this.getTypePolicy(a),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(ne(ne({},e),s),o);if(Ur(f))c=Q$(f);else{l=f;break}}return l=l?String(l):void 0,o.keyObject?[l,o.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],a=i.queryType,s=i.mutationType,o=i.subscriptionType,l=Fo(i,["queryType","mutationType","subscriptionType"]);a&&r.setRootTypename("Query",n),s&&r.setRootTypename("Mutation",n),o&&r.setRootTypename("Subscription",n),hn.call(r.toBeAdded,n)?r.toBeAdded[n].push(l):r.toBeAdded[n]=[l]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),a=r.keyFields,s=r.fields;function o(l,u){l.merge=typeof u=="function"?u:u===!0?J$:u===!1?eF:l.merge}o(i,r.merge),i.keyFn=a===!1?cMe:Ur(a)?Q$(a):typeof a=="function"?a:i.keyFn,s&&Object.keys(s).forEach(function(l){var u=n.getFieldPolicy(e,l,!0),c=s[l];if(typeof c=="function")u.read=c;else{var f=c.keyArgs,d=c.read,h=c.merge;u.keyFn=f===!1?X$:Ur(f)?Z$(f):typeof f=="function"?f:u.keyFn,typeof d=="function"&&(u.read=d),o(u,h)}u.read&&u.merge&&(u.keyFn=u.keyFn||X$)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(at(!i||i===e,3,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var a=i.match(EQ);(!a||a[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!hn.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,o){if(s.test(e)){var l=r.supertypeMap.get(o);l&&l.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var o=r.getTypePolicy(s),l=o.fields,u=Fo(o,["fields"]);Object.assign(n,u),Object.assign(n.fields,l)})}var a=this.toBeAdded[e];return a&&a.length&&a.splice(0).forEach(function(s){r.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var a=this;if(!e.typeCondition)return!0;if(!r)return!1;var s=e.typeCondition.name.value;if(r===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var o=this.getSupertypeSet(r,!0),l=[o],u=function(p){var m=a.getSupertypeSet(p,!1);m&&m.size&&l.indexOf(m)<0&&l.push(m)},c=!!(n&&this.fuzzySubtypes.size),f=!1,d=0;d<l.length;++d){var h=l[d];if(h.has(s))return o.has(s)||(f&&globalThis.__DEV__!==!1&&at.warn(4,r,s),o.add(s)),!0;h.forEach(u),c&&d===l.length-1&&Q6(e.selectionSet,n,i)&&(c=!1,f=!0,this.fuzzySubtypes.forEach(function(p,m){var g=r.match(p);g&&g[0]===r&&u(m)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),a,s=i&&i.keyFn;if(s&&r)for(var o={typename:r,fieldName:n,field:e.field||null,variables:e.variables},l=e3(e);s;){var u=s(l,o);if(Ur(u))s=Z$(u);else{a=u||n;break}}return a===void 0&&(a=e.field?bDe(e.field,e.variables):Rk(n,e3(e))),a===!1?n:n===pu(a)?a:n+":"+a},t.prototype.readField=function(e,r){var n=e.from;if(n){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var a=r.store.getFieldValue(n,"__typename");a&&(e.typename=a)}var s=this.getStoreFieldName(e),o=pu(s),l=r.store.getFieldValue(n,s),u=this.getFieldPolicy(e.typename,o,!1),c=u&&u.read;if(c){var f=tF(this,n,e,r,r.store.getStorage(nr(n)?n.__ref:n,s));return Fk.withValue(this.cache,c,[l,f])}return l}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),a=i&&i.merge;return!a&&n&&(i=this.getTypePolicy(n),a=i&&i.merge),a},t.prototype.runMergeFunction=function(e,r,n,i,a){var s=n.field,o=n.typename,l=n.merge;return l===J$?IQ(i.store)(e,r):l===eF?r:(i.overwrite&&(e=void 0),l(e,r,tF(this,void 0,{typename:o,fieldName:s.name.value,field:s,variables:i.variables},i,a||Object.create(null))))},t}();function tF(t,e,r,n,i){var a=t.getStoreFieldName(r),s=pu(a),o=r.variables||n.variables,l=n.store,u=l.toReference,c=l.canRead;return{args:e3(r),field:r.field||null,fieldName:s,storeFieldName:a,variables:o,isReference:nr,toReference:u,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(jk(arguments,e,o),n)},mergeObjects:IQ(n.store)}}function jk(t,e,r){var n=t[0],i=t[1],a=t.length,s;return typeof n=="string"?s={fieldName:n,from:a>1?i:e}:(s=ne({},n),hn.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&at.warn(5,DK(Array.from(t))),s.variables===void 0&&(s.variables=r),s}function IQ(t){return function(r,n){if(Ur(r)||Ur(n))throw ci(6);if(yr(r)&&yr(n)){var i=t.getFieldValue(r,"__typename"),a=t.getFieldValue(n,"__typename"),s=i&&a&&i!==a;if(s)return n;if(nr(r)&&gd(n))return t.merge(r.__ref,n),r;if(gd(r)&&nr(n))return t.merge(r,n.__ref),n;if(gd(r)&&gd(n))return ne(ne({},r),n)}return n}}function JA(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:ne(ne({},t),{clientOnly:e,deferred:r})),i}var dMe=function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,a=r.result,s=r.dataId,o=r.variables,l=r.overwrite,u=Iv(i),c=Q9e();o=ne(ne({},_k(u)),o);var f=ne(ne({store:e,written:Object.create(null),merge:function(h,p){return c.merge(h,p)},variables:o,varString:pc(o)},SQ(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:a||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!nr(d))throw ci(9,a);return f.incomingById.forEach(function(h,p){var m=h.storeObject,g=h.mergeTree,v=h.fieldNodeSet,b=Ud(p);if(g&&g.map.size){var w=n.applyMerges(g,b,m,f);if(nr(w))return;m=w}if(globalThis.__DEV__!==!1&&!f.overwrite){var E=Object.create(null);v.forEach(function(D){D.selectionSet&&(E[D.name.value]=!0)});var R=function(D){return E[pu(D)]===!0},I=function(D){var N=g&&g.map.get(D);return!!(N&&N.info&&N.info.merge)};Object.keys(m).forEach(function(D){R(D)&&!I(D)&&hMe(b,m,D,f.store)})}e.merge(p,m)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,a=e.selectionSet,s=e.context,o=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=n&&l.rootTypenamesById[n]||F6(i,a,s.fragmentMap)||n&&s.store.get(n,"__typename");typeof c=="string"&&(u.__typename=c);var f=function(){var w=jk(arguments,u,s.variables);if(nr(w.from)){var E=s.incomingById.get(w.from.__ref);if(E){var R=l.readField(ne(ne({},w),{from:E.storeObject}),s);if(R!==void 0)return R}}return l.readField(w,s)},d=new Set;this.flattenFields(a,i,s,c).forEach(function(w,E){var R,I=cu(E),D=i[I];if(d.add(E),D!==void 0){var N=l.getStoreFieldName({typename:c,fieldName:E.name.value,field:E,variables:w.variables}),F=rF(o,N),$=r.processFieldValue(D,E,E.selectionSet?JA(w,!1,!1):w,F),z=void 0;E.selectionSet&&(nr($)||gd($))&&(z=f("__typename",$));var k=l.getMergeFunction(c,E.name.value,z);k?F.info={field:E,typename:c,merge:k}:nF(o,N),u=w.merge(u,(R={},R[N]=$,R))}else globalThis.__DEV__!==!1&&!w.clientOnly&&!w.deferred&&!Ik.added(E)&&!l.getReadFunction(c,E.name.value)&&globalThis.__DEV__!==!1&&at.error(10,cu(E),i)});try{var h=l.identify(i,{typename:c,selectionSet:a,fragmentMap:s.fragmentMap,storeObject:u,readField:f}),p=h[0],m=h[1];n=n||p,m&&(u=s.merge(u,m))}catch(w){if(!n)throw w}if(typeof n=="string"){var g=Ud(n),v=s.written[n]||(s.written[n]=[]);if(v.indexOf(a)>=0||(v.push(a),this.reader&&this.reader.isFresh(i,g,a,s)))return g;var b=s.incomingById.get(n);return b?(b.storeObject=s.merge(b.storeObject,u),b.mergeTree=t3(b.mergeTree,o),d.forEach(function(w){return b.fieldNodeSet.add(w)})):s.incomingById.set(n,{storeObject:u,mergeTree:Wx(o)?void 0:o,fieldNodeSet:d}),g}return u},t.prototype.processFieldValue=function(e,r,n,i){var a=this;return!r.selectionSet||e===null?globalThis.__DEV__!==!1?iQ(e):e:Ur(e)?e.map(function(s,o){var l=a.processFieldValue(s,r,n,rF(i,o));return nF(i,o),l}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=F6(r,e,n.fragmentMap));var a=new Map,s=this.cache.policies,o=new Rv(!1);return function l(u,c){var f=o.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(d){if(Av(d,n.variables)){var h=c.clientOnly,p=c.deferred;if(!(h&&p)&&js(d.directives)&&d.directives.forEach(function(v){var b=v.name.value;if(b==="client"&&(h=!0),b==="defer"){var w=K2(v,n.variables);(!w||w.if!==!1)&&(p=!0)}}),fu(d)){var m=a.get(d);m&&(h=h&&m.clientOnly,p=p&&m.deferred),a.set(d,JA(n,h,p))}else{var g=q2(d,n.lookupFragment);if(!g&&d.kind===$e.FRAGMENT_SPREAD)throw ci(11,d.name.value);g&&s.fragmentMatches(g,i,r,n.variables)&&l(g.selectionSet,JA(n,h,p))}}}))}(e,n),a},t.prototype.applyMerges=function(e,r,n,i,a){var s,o=this;if(e.map.size&&!nr(n)){var l=!Ur(n)&&(nr(r)||gd(r))?r:void 0,u=n;l&&!a&&(a=[nr(l)?l.__ref:l]);var c,f=function(d,h){return Ur(d)?typeof h=="number"?d[h]:void 0:i.store.getFieldValue(d,String(h))};e.map.forEach(function(d,h){var p=f(l,h),m=f(u,h);if(m!==void 0){a&&a.push(h);var g=o.applyMerges(d,p,m,i,a);g!==m&&(c=c||new Map,c.set(h,g)),a&&at(a.pop()===h)}}),c&&(n=Ur(u)?u.slice(0):ne({},u),c.forEach(function(d,h){n[h]=d}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,a&&(s=i.store).getStorage.apply(s,a)):n},t}(),CQ=[];function rF(t,e){var r=t.map;return r.has(e)||r.set(e,CQ.pop()||{map:new Map}),r.get(e)}function t3(t,e){if(t===e||!e||Wx(e))return t;if(!t||Wx(t))return e;var r=t.info&&e.info?ne(ne({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,a={info:r,map:i};if(n){var s=new Set(e.map.keys());t.map.forEach(function(o,l){a.map.set(l,t3(o,e.map.get(l))),s.delete(l)}),s.forEach(function(o){a.map.set(o,t3(e.map.get(o),t.map.get(o)))})}return a}function Wx(t){return!t||!(t.info||t.map.size)}function nF(t,e){var r=t.map,n=r.get(e);n&&Wx(n)&&(CQ.push(n),r.delete(e))}var iF=new Set;function hMe(t,e,r,n){var i=function(f){var d=n.getFieldValue(f,r);return typeof d=="object"&&d},a=i(t);if(a){var s=i(e);if(s&&!nr(a)&&!Ir(a,s)&&!Object.keys(a).every(function(f){return n.getFieldValue(s,f)!==void 0})){var o=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),l=pu(r),u="".concat(o,".").concat(l);if(!iF.has(u)){iF.add(u);var c=[];!Ur(a)&&!Ur(s)&&[a,s].forEach(function(f){var d=n.getFieldValue(f,"__typename");typeof d=="string"&&!c.includes(d)&&c.push(d)}),globalThis.__DEV__!==!1&&at.warn(12,l,o,c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"",u,a,s)}}}}var pMe=function(t){Kn(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new QK(Ik),n.assumeImmutableResults=!0,n.makeVar=lMe,n.txCount=0,n.config=q9e(r),n.addTypename=!!n.config.addTypename,n.policies=new fMe({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new Xm.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,a=this.config.fragments;this.storeWriter=new dMe(this,this.storeReader=new eMe({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:wQ(this.config),canon:r?void 0:i&&i.canon,fragments:a}),a),this.maybeBroadcastWatch=Hx(function(s,o){return n.broadcastWatch(s,o)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var o=s.optimistic?n.optimisticData:n.data;if(Hp(o)){var l=s.optimistic,u=s.id,c=s.variables;return o.makeCacheKey(s.query,s.callback,pc({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(ne(ne({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof yQ)return null;throw a}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(hn.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(ne(ne({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||oMe(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&q$(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){pc.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(nr(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){globalThis.__DEV__!==!1&&at.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(hn.call(r,"id"))return!1;r=ne(ne({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),pc.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),q$(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,a=r.optimistic,s=a===void 0?!0:a,o=r.removeOptimistic,l=r.onWatchUpdated,u,c=function(d){var h=n,p=h.data,m=h.optimisticData;++n.txCount,d&&(n.data=n.optimisticData=d);try{return u=i(n)}finally{--n.txCount,n.data=p,n.optimisticData=m}},f=new Set;return l&&!this.txCount&&this.broadcastWatches(ne(ne({},r),{onWatchUpdated:function(d){return f.add(d),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof o=="string"&&(this.optimisticData=this.optimisticData.removeLayer(o)),l&&f.size?(this.broadcastWatches(ne(ne({},r),{onWatchUpdated:function(d,h){var p=l.call(this,d,h);return p!==!1&&f.delete(d),p}})),f.size&&f.forEach(function(d){return n.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(r),u},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){return this.addTypenameToDocument(this.addFragmentsToDocument(r))},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.addFragmentsToDocument=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.addTypenameToDocument=function(r){return this.addTypename?this.addTypenameTransform.transformDocument(r):r},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,a=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(a.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,a,i)===!1)||(!i||!Ir(i.result,a.result))&&r.callback(r.lastDiff=a,i)},e}(W9e),er;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(er||(er={}));function Jm(t){return t?t<7:!1}function mMe(t,e,r,n){var i=e.data,a=Fo(e,["data"]),s=r.data,o=Fo(r,["data"]);return Ir(a,o)&&v1(Cv(t).selectionSet,i,s,{fragmentMap:W2(Q2(t)),variables:n})}function v1(t,e,r,n){if(e===r)return!0;var i=new Set;return t.selections.every(function(a){if(i.has(a)||(i.add(a),!Av(a,n.variables))||aF(a))return!0;if(fu(a)){var s=cu(a),o=e&&e[s],l=r&&r[s],u=a.selectionSet;if(!u)return Ir(o,l);var c=Array.isArray(o),f=Array.isArray(l);if(c!==f)return!1;if(c&&f){var d=o.length;if(l.length!==d)return!1;for(var h=0;h<d;++h)if(!v1(u,o[h],l[h],n))return!1;return!0}return v1(u,o,l,n)}else{var p=q2(a,n.fragmentMap);if(p)return aF(p)?!0:v1(p.selectionSet,e,r,n)}})}function aF(t){return!!t.directives&&t.directives.some(gMe)}function gMe(t){return t.name.value==="nonreactive"}var sF=Object.assign,vMe=Object.hasOwnProperty,r3=function(t){Kn(e,t);function e(r){var n=r.queryManager,i=r.queryInfo,a=r.options,s=t.call(this,function(g){try{var v=g._subscription._observer;v&&!v.error&&(v.error=yMe)}catch{}var b=!s.observers.size;s.observers.add(g);var w=s.last;return w&&w.error?g.error&&g.error(w.error):w&&w.result&&g.next&&g.next(w.result),b&&s.reobserve().catch(function(){}),function(){s.observers.delete(g)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=n,s.waitForOwnResult=eR(a.fetchPolicy),s.isTornDown=!1;var o=n.defaultOptions.watchQuery,l=o===void 0?{}:o,u=l.fetchPolicy,c=u===void 0?"cache-first":u,f=a.fetchPolicy,d=f===void 0?c:f,h=a.initialFetchPolicy,p=h===void 0?d==="standby"?c:d:h;s.options=ne(ne({},a),{initialFetchPolicy:p,fetchPolicy:d}),s.queryId=i.queryId||n.generateQueryId();var m=Iv(s.query);return s.queryName=m&&m.name&&m.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,i){var a={next:function(o){n(o),r.observers.delete(a),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=r.subscribe(a)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||er.ready,a=ne(ne({},n),{loading:Jm(i),networkStatus:i}),s=this.options.fetchPolicy,o=s===void 0?"cache-first":s;if(!(eR(o)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(a.data=l.result),Ir(a.data,{})&&(a.data=void 0),l.complete?(delete a.partial,l.complete&&a.networkStatus===er.loading&&(o==="cache-first"||o==="cache-only")&&(a.networkStatus=er.ready,a.loading=!1)):a.partial=!0,globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!a.loading&&!a.data&&!a.error&&kQ(l.missing)}return r&&this.updateLastResult(a),a},e.prototype.isDifferentFromLastResult=function(r,n){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!mMe(this.query,this.last.result,r,this.variables):!Ir(this.last.result,r);return i||n&&!Ir(this.last.variables,n)},e.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||Ir(i.variables,this.variables)))return i[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,i={pollInterval:0},a=this.options.fetchPolicy;if(a==="cache-and-network"?i.fetchPolicy=a:a==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&r&&vMe.call(r,"variables")){var s=KK(this.query),o=s.variableDefinitions;(!o||!o.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&at.warn(18,r,((n=s.name)===null||n===void 0?void 0:n.value)||s)}return r&&!Ir(this.options.variables,r)&&(i.variables=this.options.variables=ne(ne({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,er.refetch)},e.prototype.fetchMore=function(r){var n=this,i=ne(ne({},r.query?r:ne(ne(ne(ne({},this.options),{query:this.options.query}),r),{variables:ne(ne({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var a=this.queryManager.generateQueryId();this.lastQuery=r.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,o=s.networkStatus;s.networkStatus=er.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(a,i,er.fetchMore).then(function(u){return n.queryManager.removeQuery(a),s.networkStatus===er.fetchMore&&(s.networkStatus=o),n.queryManager.cache.batch({update:function(c){var f=r.updateQuery;f?c.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(d){return f(d,{fetchMoreResult:u.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:u.data})},onWatchUpdated:function(c){l.add(c.query)}}),u}).finally(function(){l.has(n.query)||PQ(n)})},e.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(a){var s=r.updateQuery;s&&n.updateQuery(function(o,l){var u=l.variables;return s(o,{subscriptionData:a,variables:u})})},error:function(a){if(r.onError){r.onError(a);return}globalThis.__DEV__!==!1&&at.error(19,a)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.silentSetOptions=function(r){var n=Ah(this.options,r||{});sF(this.options,n)},e.prototype.setVariables=function(r){return Ir(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},er.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,a=r(i,{variables:this.variables});a&&(n.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,a=i===void 0?"cache-first":i,s=n.initialFetchPolicy,o=s===void 0?a:s;a==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(a,{reason:r,options:n,observable:this,initialFetchPolicy:o}):r==="variables-changed"?n.fetchPolicy=o:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,r,n)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,a=n.options.pollInterval;if(!a){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===a)){at(a,20);var s=i||(this.pollingInfo={});s.interval=a;var o=function(){r.pollingInfo&&(Jm(r.queryInfo.networkStatus)?l():r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},er.poll).then(l,l))},l=function(){var u=r.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(o,u.interval))};l()}}},e.prototype.updateLastResult=function(r,n){n===void 0&&(n=this.variables);var i=this.getLastError();return i&&this.last&&!Ir(n,this.last.variables)&&(i=void 0),this.last=ne({result:this.queryManager.assumeImmutableResults?r:iQ(r),variables:n},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(r,n){var i=this;this.isTornDown=!1;var a=n===er.refetch||n===er.fetchMore||n===er.poll,s=this.options.variables,o=this.options.fetchPolicy,l=Ah(this.options,r||{}),u=a?l:sF(this.options,l),c=this.transformDocument(u.query);this.lastQuery=c,a||(this.updatePolling(),r&&r.variables&&!Ir(r.variables,s)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===o&&(this.applyNextFetchPolicy("variables-changed",u),n===void 0&&(n=er.setVariables)));var f=c===u.query?u:ne(ne({},u),{query:c});this.waitForOwnResult&&(this.waitForOwnResult=eR(f.fetchPolicy));var d=function(){i.concast===m&&(i.waitForOwnResult=!1)},h=f.variables&&ne({},f.variables),p=this.fetch(f,n),m=p.concast,g=p.fromLink,v={next:function(b){d(),i.reportResult(b,h)},error:function(b){d(),i.reportError(b,h)}};return!a&&(g||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=m,this.observer=v),m.addObserver(v),m},e.prototype.reobserve=function(r,n){return this.reobserveAsConcast(r,n).promise},e.prototype.resubscribeAfterError=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.last;this.resetLastResults();var a=this.subscribe.apply(this,r);return this.last=i,a},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var i=this.getLastError(),a=this.isDifferentFromLastResult(r,n);(i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),(i||a)&&Gp(this.observers,"next",r)},e.prototype.reportError=function(r,n){var i=ne(ne({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:er.error,loading:!1});this.updateLastResult(i,n),Gp(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(r){return this.queryManager.transform(r)},e}(hr);aQ(r3);function PQ(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=n,typeof n=="function"?n.apply(this,arguments):r}}):t.reobserve()}function yMe(t){globalThis.__DEV__!==!1&&at.error(21,t.message,t.stack)}function kQ(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&at.debug(22,t)}function eR(t){return t==="network-only"||t==="no-cache"||t==="standby"}var OQ=function(){function t(e){var r=e.cache,n=e.client,i=e.resolvers,a=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),a&&this.setFragmentMatcher(a)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=w$(r.resolvers,n)}):this.resolvers=w$(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,i=e.context,a=e.variables,s=e.onlyRunForcedResolvers,o=s===void 0?!1:s;return mo(this,void 0,void 0,function(){return xs(this,function(l){return r?[2,this.resolveDocument(r,n.data,i,a,this.fragmentMatcher,o).then(function(u){return ne(ne({},n),{data:u.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Qm(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return eQ(e)},t.prototype.prepareContext=function(e){var r=this.cache;return ne(ne({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),mo(this,void 0,void 0,function(){return xs(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(a){return ne(ne({},r),a.exportedVariables)})]:[2,ne({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return zo(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return Ak}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:_De(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,i,a,s){return n===void 0&&(n={}),i===void 0&&(i={}),a===void 0&&(a=function(){return!0}),s===void 0&&(s=!1),mo(this,void 0,void 0,function(){var o,l,u,c,f,d,h,p,m,g,v;return xs(this,function(b){return o=Cv(e),l=Q2(e),u=W2(l),c=this.collectSelectionsToResolve(o,u),f=o.operation,d=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",h=this,p=h.cache,m=h.client,g={fragmentMap:u,context:ne(ne({},n),{cache:p,client:m}),variables:i,fragmentMatcher:a,defaultOperationType:d,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:s},v=!1,[2,this.resolveSelectionSet(o.selectionSet,v,r,g).then(function(w){return{result:w,exportedVariables:g.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n,i){return mo(this,void 0,void 0,function(){var a,s,o,l,u,c=this;return xs(this,function(f){return a=i.fragmentMap,s=i.context,o=i.variables,l=[n],u=function(d){return mo(c,void 0,void 0,function(){var h,p;return xs(this,function(m){return!r&&!i.selectionsToResolve.has(d)?[2]:Av(d,o)?fu(d)?[2,this.resolveField(d,r,n,i).then(function(g){var v;typeof g<"u"&&l.push((v={},v[cu(d)]=g,v))})]:(EDe(d)?h=d:(h=a[d.name.value],at(h,16,d.name.value)),h&&h.typeCondition&&(p=h.typeCondition.name.value,i.fragmentMatcher(n,p,s))?[2,this.resolveSelectionSet(h.selectionSet,r,n,i).then(function(g){l.push(g)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return Ck(l)})]})})},t.prototype.resolveField=function(e,r,n,i){return mo(this,void 0,void 0,function(){var a,s,o,l,u,c,f,d,h,p=this;return xs(this,function(m){return n?(a=i.variables,s=e.name.value,o=cu(e),l=s!==o,u=n[o]||n[s],c=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=n.__typename||i.defaultOperationType,d=this.resolvers&&this.resolvers[f],d&&(h=d[l?s:o],h&&(c=Promise.resolve(Fk.withValue(this.cache,h,[n,K2(e,a),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(g){var v,b;if(g===void 0&&(g=u),e.directives&&e.directives.forEach(function(E){E.name.value==="export"&&E.arguments&&E.arguments.forEach(function(R){R.name.value==="as"&&R.value.kind==="StringValue"&&(i.exportedVariables[R.value.value]=g)})}),!e.selectionSet||g==null)return g;var w=(b=(v=e.directives)===null||v===void 0?void 0:v.some(function(E){return E.name.value==="client"}))!==null&&b!==void 0?b:!1;if(Array.isArray(g))return p.resolveSubSelectedArray(e,r||w,g,i);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,r||w,g,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,r,n,i){var a=this;return Promise.all(n.map(function(s){if(s===null)return null;if(Array.isArray(s))return a.resolveSubSelectedArray(e,r,s,i);if(e.selectionSet)return a.resolveSelectionSet(e.selectionSet,r,s,i)}))},t.prototype.collectSelectionsToResolve=function(e,r){var n=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function a(s){if(!i.has(s)){var o=new Set;i.set(s,o),zo(s,{Directive:function(l,u,c,f,d){l.name.value==="client"&&d.forEach(function(h){n(h)&&v$(h)&&o.add(h)})},FragmentSpread:function(l,u,c,f,d){var h=r[l.name.value];at(h,17,l.name.value);var p=a(h);p.size>0&&(d.forEach(function(m){n(m)&&v$(m)&&o.add(m)}),o.add(l),p.forEach(function(m){o.add(m)}))}})}return i.get(s)}return a(e)},t}(),vd=new(il?WeakMap:Map);function tR(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return vd.set(t,(vd.get(t)+1)%1e15),r.apply(this,arguments)})}function oF(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var rR=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;vd.has(n)||(vd.set(n,0),tR(n,"evict"),tR(n,"modify"),tR(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||er.loading;return this.variables&&this.networkStatus!==er.loading&&!Ir(this.variables,e.variables)&&(r=er.setVariables),Ir(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){oF(this),this.dirty=!1},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&Ir(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Ir(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():PQ(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;oF(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Jm(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(r){return r.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=ne(ne({},this.getDiffOptions(e)),{watcher:this,callback:function(a){return r.setDiff(a)}});(!this.lastWatch||!Ir(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===vd.get(this.cache)&&Ir(r,n.variables)&&Ir(e.data,n.result.data))},t.prototype.markResult=function(e,r,n,i){var a=this,s=new du,o=js(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&js(e.incremental)){var l=sQ(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=o,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):i!==0&&(n3(e,n.errorPolicy)?this.cache.performTransaction(function(c){if(a.shouldWrite(e,n.variables))c.writeQuery({query:r,data:e.data,variables:n.variables,overwrite:i===1}),a.lastWrite={result:e,variables:n.variables,dmCount:vd.get(a.cache)};else if(a.lastDiff&&a.lastDiff.diff.complete){e.data=a.lastDiff.diff.result;return}var f=a.getDiffOptions(n.variables),d=c.diff(f);!a.stopped&&Ir(a.variables,n.variables)&&a.updateWatch(n.variables),a.updateLastDiff(d,f),d.complete&&(e.data=d.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=er.ready},t.prototype.markError=function(e){return this.networkStatus=er.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function n3(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!m1(t);return!n&&r&&t.data&&(n=!0),n}var bMe=Object.prototype.hasOwnProperty,xMe=function(){function t(e){var r=this,n=e.cache,i=e.link,a=e.defaultOptions,s=e.documentTransform,o=e.queryDeduplication,l=o===void 0?!1:o,u=e.onBroadcast,c=e.ssrMode,f=c===void 0?!1:c,d=e.clientAwareness,h=d===void 0?{}:d,p=e.localState,m=e.assumeImmutableResults,g=m===void 0?!!n.assumeImmutableResults:m;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(il?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var v=new QK(function(b){return r.cache.transformDocument(b)},{cache:!1});this.cache=n,this.link=i,this.defaultOptions=a||Object.create(null),this.queryDeduplication=l,this.clientAwareness=h,this.localState=p||new OQ({cache:n}),this.ssrMode=f,this.assumeImmutableResults=g,this.documentTransform=s?v.concat(s).concat(v):v,(this.onBroadcast=u)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(ci(23))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,i=e.mutation,a=e.variables,s=e.optimisticResponse,o=e.updateQueries,l=e.refetchQueries,u=l===void 0?[]:l,c=e.awaitRefetchQueries,f=c===void 0?!1:c,d=e.update,h=e.onQueryUpdated,p=e.fetchPolicy,m=p===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":p,g=e.errorPolicy,v=g===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":g,b=e.keepRootFields,w=e.context;return mo(this,void 0,void 0,function(){var E,R,I,D;return xs(this,function(N){switch(N.label){case 0:return at(i,24),at(m==="network-only"||m==="no-cache",25),E=this.generateMutationId(),i=this.cache.transformForLink(this.transform(i)),R=this.getDocumentInfo(i).hasClientExports,a=this.getVariables(i,a),R?[4,this.localState.addExportedVariables(i,a,w)]:[3,2];case 1:a=N.sent(),N.label=2;case 2:return I=this.mutationStore&&(this.mutationStore[E]={mutation:i,variables:a,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:E,document:i,variables:a,fetchPolicy:m,errorPolicy:v,context:w,updateQueries:o,update:d,keepRootFields:b}),this.broadcastQueries(),D=this,[2,new Promise(function(F,$){return GA(D.getObservableFromLink(i,ne(ne({},w),{optimisticResponse:s}),a,!1),function(z){if(m1(z)&&v==="none")throw new kf({graphQLErrors:Y6(z)});I&&(I.loading=!1,I.error=null);var k=ne({},z);return typeof u=="function"&&(u=u(k)),v==="ignore"&&m1(k)&&delete k.errors,D.markMutationResult({mutationId:E,result:k,document:i,variables:a,fetchPolicy:m,errorPolicy:v,context:w,update:d,updateQueries:o,awaitRefetchQueries:f,refetchQueries:u,removeOptimistic:s?E:void 0,onQueryUpdated:h,keepRootFields:b})}).subscribe({next:function(z){D.broadcastQueries(),(!("hasNext"in z)||z.hasNext===!1)&&F(z)},error:function(z){I&&(I.loading=!1,I.error=z),s&&D.cache.removeOptimistic(E),D.broadcastQueries(),$(z instanceof kf?z:new kf({networkError:z}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var i=e.result,a=[],s=e.fetchPolicy==="no-cache";if(!s&&n3(i,e.errorPolicy)){if(jd(i)||a.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),jd(i)&&js(i.incremental)){var o=r.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;o.result&&(l=sQ(o.result,i)),typeof l<"u"&&(i.data=l,a.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(f,d){var h=f.observableQuery,p=h&&h.queryName;if(!(!p||!bMe.call(u,p))){var m=u[p],g=n.queries.get(d),v=g.document,b=g.variables,w=r.diff({query:v,variables:b,returnPartialData:!0,optimistic:!1}),E=w.result,R=w.complete;if(R&&E){var I=m(E,{mutationResult:i,queryName:v&&B6(v)||void 0,queryVariables:b});I&&a.push({result:I,dataId:"ROOT_QUERY",query:v,variables:b})}}})}if(a.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(f){s||a.forEach(function(m){return f.write(m)});var d=e.update,h=!zDe(i)||jd(i)&&!i.hasNext;if(d){if(!s){var p=f.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});p.complete&&(i=ne(ne({},i),{data:p.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}h&&d(f,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&h&&f.modify({id:"ROOT_MUTATION",fields:function(m,g){var v=g.fieldName,b=g.DELETE;return v==="__typename"?m:b}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(f){return c.push(f)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,r){var n=this,i=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(a){try{n.markMutationResult(ne(ne({},r),{result:{data:i}}),a)}catch(s){globalThis.__DEV__!==!1&&at.error(s)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchConcastWithInfo(e,r,n).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var r=this.transformCache;if(!r.has(e)){var n={hasClientExports:tDe(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Qm(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:JK([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:_k(Iv(e)),asQuery:ne(ne({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?ne(ne({},i),{operation:"query"}):i})})};r.set(e,n)}return r.get(e)},t.prototype.getVariables=function(e,r){return ne(ne({},this.getDocumentInfo(e).defaultVars),r)},t.prototype.watchQuery=function(e){var r=this.transform(e.query);e=ne(ne({},e),{variables:this.getVariables(r,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new rR(this),i=new r3({queryManager:this,queryInfo:n,options:e});return i.lastQuery=r,this.queries.set(i.queryId,n),n.init({document:r,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),at(e.query,26),at(e.query.kind==="Document",27),at(!e.returnPartialData,28),at(!e.pollInterval,29),this.fetchQuery(r,ne(ne({},e),{query:this.transform(e.query)})).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(ci(30)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=er.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,i=new Map,a=new Set;return Array.isArray(e)&&e.forEach(function(s){typeof s=="string"?i.set(s,!1):uDe(s)?i.set(r.transform(s),!1):yr(s)&&s.query&&a.add(s)}),this.queries.forEach(function(s,o){var l=s.observableQuery,u=s.document;if(l){if(e==="all"){n.set(o,l);return}var c=l.queryName,f=l.options.fetchPolicy;if(f==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&i.has(c)||u&&i.has(u))&&(n.set(o,l),c&&i.set(c,!0),u&&i.set(u,!0))}}),a.size&&a.forEach(function(s){var o=L6("legacyOneTimeQuery"),l=r.getQuery(o).init({document:s.query,variables:s.variables}),u=new r3({queryManager:r,queryInfo:l,options:ne(ne({},s),{fetchPolicy:"network-only"})});at(u.queryId===o),l.setObservableQuery(u),n.set(o,u)}),globalThis.__DEV__!==!1&&i.size&&i.forEach(function(s,o){s||globalThis.__DEV__!==!1&&at.warn(typeof o=="string"?31:32,o)}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,a){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&n.push(i.refetch()),r.getQuery(a).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,i=e.fetchPolicy,a=e.errorPolicy,s=a===void 0?"none":a,o=e.variables,l=e.context,u=l===void 0?{}:l;n=this.transform(n),o=this.getVariables(n,o);var c=function(d){return r.getObservableFromLink(n,u,d).map(function(h){i!=="no-cache"&&(n3(h,s)&&r.cache.write({query:n,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),r.broadcastQueries());var p=m1(h),m=i9e(h);if(p||m){var g={};if(p&&(g.graphQLErrors=h.errors),m&&(g.protocolErrors=h.extensions[Lk]),s==="none"||m)throw new kf(g)}return s==="ignore"&&delete h.errors,h})};if(this.getDocumentInfo(n).hasClientExports){var f=this.localState.addExportedVariables(n,o,u).then(c);return new hr(function(d){var h=null;return f.then(function(p){return h=p.subscribe(d)},d.error),function(){return h&&h.unsubscribe()}})}return c(o)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,i){var a=this,s;i===void 0&&(i=(s=r?.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var o,l=this.getDocumentInfo(e),u=l.serverQuery,c=l.clientQuery;if(u){var f=this,d=f.inFlightLinkObservables,h=f.link,p={query:u,variables:n,operationName:B6(u)||void 0,context:this.prepareContext(ne(ne({},r),{forceFetch:!i}))};if(r=p.context,i){var m=ZK(u),g=d.get(m)||new Map;d.set(m,g);var v=pc(n);if(o=g.get(v),!o){var b=new Uf([H6(h,p)]);g.set(v,o=b),b.beforeNext(function(){g.delete(v)&&g.size<1&&d.delete(m)})}}else o=new Uf([H6(h,p)])}else o=new Uf([hr.of({data:{}})]),r=this.prepareContext(r);return c&&(o=GA(o,function(w){return a.localState.runResolvers({document:c,remoteResult:w,context:r,variables:n})})),o},t.prototype.getResultsFromLink=function(e,r,n){var i=e.lastRequestId=this.generateRequestId(),a=this.cache.transformForLink(n.query);return GA(this.getObservableFromLink(a,n.context,n.variables),function(s){var o=Y6(s),l=o.length>0;if(i>=e.lastRequestId){if(l&&n.errorPolicy==="none")throw e.markError(new kf({graphQLErrors:o}));e.markResult(s,a,n,r),e.markReady()}var u={data:s.data,loading:!1,networkStatus:er.ready};return l&&n.errorPolicy!=="ignore"&&(u.errors=o,u.networkStatus=er.error),u},function(s){var o=a9e(s)?s:new kf({networkError:s});throw i>=e.lastRequestId&&e.markError(o),o})},t.prototype.fetchConcastWithInfo=function(e,r,n){var i=this;n===void 0&&(n=er.loading);var a=r.query,s=this.getVariables(a,r.variables),o=this.getQuery(e),l=this.defaultOptions.watchQuery,u=r.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,f=r.errorPolicy,d=f===void 0?l&&l.errorPolicy||"none":f,h=r.returnPartialData,p=h===void 0?!1:h,m=r.notifyOnNetworkStatusChange,g=m===void 0?!1:m,v=r.context,b=v===void 0?{}:v,w=Object.assign({},r,{query:a,variables:s,fetchPolicy:c,errorPolicy:d,returnPartialData:p,notifyOnNetworkStatusChange:g,context:b}),E=function(F){w.variables=F;var $=i.fetchQueryByPolicy(o,w,n);return w.fetchPolicy!=="standby"&&$.sources.length>0&&o.observableQuery&&o.observableQuery.applyNextFetchPolicy("after-fetch",r),$},R=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(F){R(),setTimeout(function(){return I.cancel(F)})});var I,D;if(this.getDocumentInfo(w.query).hasClientExports)I=new Uf(this.localState.addExportedVariables(w.query,w.variables,w.context).then(E).then(function(F){return F.sources})),D=!0;else{var N=E(w.variables);D=N.fromLink,I=new Uf(N.sources)}return I.promise.then(R,R),{concast:I,fromLink:D}},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,i=e.include,a=e.optimistic,s=a===void 0?!1:a,o=e.removeOptimistic,l=o===void 0?s?L6("refetchQueries"):void 0:o,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(d,h){c.set(h,{oq:d,lastDiff:r.getQuery(h).getDiff()})});var f=new Map;return n&&this.cache.batch({update:n,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(d,h,p){var m=d.watcher instanceof rR&&d.watcher.observableQuery;if(m){if(u){c.delete(m.queryId);var g=u(m,h,p);return g===!0&&(g=m.refetch()),g!==!1&&f.set(m,g),g}u!==null&&c.set(m.queryId,{oq:m,lastDiff:p,diff:h})}}}),c.size&&c.forEach(function(d,h){var p=d.oq,m=d.lastDiff,g=d.diff,v;if(u){if(!g){var b=p.queryInfo;b.reset(),g=b.getDiff()}v=u(p,g,m)}(!u||v===!0)&&(v=p.refetch()),v!==!1&&f.set(p,v),h.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(h)}),l&&this.cache.removeOptimistic(l),f},t.prototype.fetchQueryByPolicy=function(e,r,n){var i=this,a=r.query,s=r.variables,o=r.fetchPolicy,l=r.refetchWritePolicy,u=r.errorPolicy,c=r.returnPartialData,f=r.context,d=r.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:a,variables:s,networkStatus:n});var p=function(){return e.getDiff()},m=function(E,R){R===void 0&&(R=e.networkStatus||er.loading);var I=E.result;globalThis.__DEV__!==!1&&!c&&!Ir(I,{})&&kQ(E.missing);var D=function(N){return hr.of(ne({data:N,loading:Jm(R),networkStatus:R},E.complete?null:{partial:!0}))};return I&&i.getDocumentInfo(a).hasForcedResolvers?i.localState.runResolvers({document:a,remoteResult:{data:I},context:f,variables:s,onlyRunForcedResolvers:!0}).then(function(N){return D(N.data||void 0)}):u==="none"&&R===er.refetch&&Array.isArray(E.missing)?D(void 0):D(I)},g=o==="no-cache"?0:n===er.refetch&&l!=="merge"?1:2,v=function(){return i.getResultsFromLink(e,g,{query:a,variables:s,context:f,fetchPolicy:o,errorPolicy:u})},b=d&&typeof h=="number"&&h!==n&&Jm(n);switch(o){default:case"cache-first":{var w=p();return w.complete?{fromLink:!1,sources:[m(w,e.markReady())]}:c||b?{fromLink:!0,sources:[m(w),v()]}:{fromLink:!0,sources:[v()]}}case"cache-and-network":{var w=p();return w.complete||c||b?{fromLink:!0,sources:[m(w),v()]}:{fromLink:!0,sources:[v()]}}case"cache-only":return{fromLink:!1,sources:[m(p(),e.markReady())]};case"network-only":return b?{fromLink:!0,sources:[m(p()),v()]}:{fromLink:!0,sources:[v()]};case"no-cache":return b?{fromLink:!0,sources:[m(e.getDiff()),v()]}:{fromLink:!0,sources:[v()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new rR(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return ne(ne({},r),{clientAwareness:this.clientAwareness})},t}(),lF=!1,wMe=function(){function t(e){var r=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw ci(13);var n=e.uri,i=e.credentials,a=e.headers,s=e.cache,o=e.documentTransform,l=e.ssrMode,u=l===void 0?!1:l,c=e.ssrForceFetchDelay,f=c===void 0?0:c,d=e.connectToDevTools,h=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&globalThis.__DEV__!==!1:d,p=e.queryDeduplication,m=p===void 0?!0:p,g=e.defaultOptions,v=e.assumeImmutableResults,b=v===void 0?s.assumeImmutableResults:v,w=e.resolvers,E=e.typeDefs,R=e.fragmentMatcher,I=e.name,D=e.version,N=e.link;N||(N=n?new E9e({uri:n,credentials:i,headers:a}):Pv.empty()),this.link=N,this.cache=s,this.disableNetworkFetches=u||f>0,this.queryDeduplication=m,this.defaultOptions=g||Object.create(null),this.typeDefs=E,f&&setTimeout(function(){return r.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Sk,this.localState=new OQ({cache:s,client:this,resolvers:w,fragmentMatcher:R}),this.queryManager=new xMe({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:o,queryDeduplication:m,ssrMode:u,clientAwareness:{name:I,version:D},localState:this.localState,assumeImmutableResults:b,onBroadcast:h?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(typeof window=="object"){var e=window,r=Symbol.for("apollo.devtools");(e[r]=e[r]||[]).push(this),e.__APOLLO_CLIENT__=this}!lF&&globalThis.__DEV__!==!1&&(lF=!0,setTimeout(function(){if(typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var n=window.navigator,i=n&&n.userAgent,a=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?a="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(a="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),a&&globalThis.__DEV__!==!1&&at.log("Download the Apollo DevTools for a better development experience: %s",a)}},1e4))},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=HA(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=ne(ne({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=HA(this.defaultOptions.query,e)),at(e.fetchPolicy!=="cache-and-network",14),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=ne(ne({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=HA(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return H6(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],i=[];r.forEach(function(s,o){n.push(o),i.push(s)});var a=Promise.all(i);return a.queries=n,a.results=i,a.catch(function(s){globalThis.__DEV__!==!1&&at.debug(15,s)}),a},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),y1=new Map,i3=new Map,NQ=!0,qx=!1;function LQ(t){return t.replace(/[\s,]+/g," ").trim()}function EMe(t){return LQ(t.source.body.substring(t.start,t.end))}function SMe(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,a=EMe(n.loc),s=i3.get(i);s&&!s.has(a)?NQ&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||i3.set(i,s=new Set),s.add(a),e.has(a)||(e.add(a),r.push(n))}else r.push(n)}),ne(ne({},t),{definitions:r})}function TMe(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var a=n[i];a&&typeof a=="object"&&e.add(a)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function AMe(t){var e=LQ(t);if(!y1.has(e)){var r=WLe(t,{experimentalFragmentVariables:qx,allowLegacyFragmentVariables:qx});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");y1.set(e,TMe(SMe(r)))}return y1.get(e)}function Pc(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(i,a){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=t[a+1]}),AMe(n)}function RMe(){y1.clear(),i3.clear()}function _Me(){NQ=!1}function IMe(){qx=!0}function CMe(){qx=!1}var U0={gql:Pc,resetCaches:RMe,disableFragmentWarnings:_Me,enableExperimentalFragmentVariables:IMe,disableExperimentalFragmentVariables:CMe};(function(t){t.gql=U0.gql,t.resetCaches=U0.resetCaches,t.disableFragmentWarnings=U0.disableFragmentWarnings,t.enableExperimentalFragmentVariables=U0.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=U0.disableExperimentalFragmentVariables})(Pc||(Pc={}));Pc.default=Pc;var zk={exports:{}};const PMe={},kMe=Object.freeze(Object.defineProperty({__proto__:null,default:PMe},Symbol.toStringTag,{value:"Module"})),OMe=_U(kMe);zk.exports;(function(t){(function(e,r){function n(A,y){if(!A)throw new Error(y||"Assertion failed")}function i(A,y){A.super_=y;var x=function(){};x.prototype=y.prototype,A.prototype=new x,A.prototype.constructor=A}function a(A,y,x){if(a.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((y==="le"||y==="be")&&(x=y,y=10),this._init(A||0,y||10,x||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=OMe.Buffer}catch{}a.isBN=function(y){return y instanceof a?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===a.wordSize&&Array.isArray(y.words)},a.max=function(y,x){return y.cmp(x)>0?y:x},a.min=function(y,x){return y.cmp(x)<0?y:x},a.prototype._init=function(y,x,S){if(typeof y=="number")return this._initNumber(y,x,S);if(typeof y=="object")return this._initArray(y,x,S);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),y=y.toString().replace(/\s+/g,"");var C=0;y[0]==="-"&&(C++,this.negative=1),C<y.length&&(x===16?this._parseHex(y,C,S):(this._parseBase(y,x,C),S==="le"&&this._initArray(this.toArray(),x,S)))},a.prototype._initNumber=function(y,x,S){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(n(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),x,S)},a.prototype._initArray=function(y,x,S){if(n(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var P,M,B=0;if(S==="be")for(C=y.length-1,P=0;C>=0;C-=3)M=y[C]|y[C-1]<<8|y[C-2]<<16,this.words[P]|=M<<B&67108863,this.words[P+1]=M>>>26-B&67108863,B+=24,B>=26&&(B-=26,P++);else if(S==="le")for(C=0,P=0;C<y.length;C+=3)M=y[C]|y[C+1]<<8|y[C+2]<<16,this.words[P]|=M<<B&67108863,this.words[P+1]=M>>>26-B&67108863,B+=24,B>=26&&(B-=26,P++);return this._strip()};function o(A,y){var x=A.charCodeAt(y);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;n(!1,"Invalid character in "+A)}function l(A,y,x){var S=o(A,x);return x-1>=y&&(S|=o(A,x-1)<<4),S}a.prototype._parseHex=function(y,x,S){this.length=Math.ceil((y.length-x)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var P=0,M=0,B;if(S==="be")for(C=y.length-1;C>=x;C-=2)B=l(y,x,C)<<P,this.words[M]|=B&67108863,P>=18?(P-=18,M+=1,this.words[M]|=B>>>26):P+=8;else{var L=y.length-x;for(C=L%2===0?x+1:x;C<y.length;C+=2)B=l(y,x,C)<<P,this.words[M]|=B&67108863,P>=18?(P-=18,M+=1,this.words[M]|=B>>>26):P+=8}this._strip()};function u(A,y,x,S){for(var C=0,P=0,M=Math.min(A.length,x),B=y;B<M;B++){var L=A.charCodeAt(B)-48;C*=S,L>=49?P=L-49+10:L>=17?P=L-17+10:P=L,n(L>=0&&P<S,"Invalid character"),C+=P}return C}a.prototype._parseBase=function(y,x,S){this.words=[0],this.length=1;for(var C=0,P=1;P<=67108863;P*=x)C++;C--,P=P/x|0;for(var M=y.length-S,B=M%C,L=Math.min(M,M-B)+S,_=0,U=S;U<L;U+=C)_=u(y,U,U+C,x),this.imuln(P),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(B!==0){var G=1;for(_=u(y,U,y.length,x),U=0;U<B;U++)G*=x;this.imuln(G),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},a.prototype.copy=function(y){y.words=new Array(this.length);for(var x=0;x<this.length;x++)y.words[x]=this.words[x];y.length=this.length,y.negative=this.negative,y.red=this.red};function c(A,y){A.words=y.words,A.length=y.length,A.negative=y.negative,A.red=y.red}if(a.prototype._move=function(y){c(y,this)},a.prototype.clone=function(){var y=new a(null);return this.copy(y),y},a.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(y,x){y=y||10,x=x|0||1;var S;if(y===16||y==="hex"){S="";for(var C=0,P=0,M=0;M<this.length;M++){var B=this.words[M],L=((B<<C|P)&16777215).toString(16);P=B>>>24-C&16777215,C+=2,C>=26&&(C-=26,M--),P!==0||M!==this.length-1?S=d[6-L.length]+L+S:S=L+S}for(P!==0&&(S=P.toString(16)+S);S.length%x!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(y===(y|0)&&y>=2&&y<=36){var _=h[y],U=p[y];S="";var G=this.clone();for(G.negative=0;!G.isZero();){var O=G.modrn(U).toString(y);G=G.idivn(U),G.isZero()?S=O+S:S=d[_-O.length]+O+S}for(this.isZero()&&(S="0"+S);S.length%x!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},a.prototype.toJSON=function(){return this.toString(16,2)},s&&(a.prototype.toBuffer=function(y,x){return this.toArrayLike(s,y,x)}),a.prototype.toArray=function(y,x){return this.toArrayLike(Array,y,x)};var m=function(y,x){return y.allocUnsafe?y.allocUnsafe(x):new y(x)};a.prototype.toArrayLike=function(y,x,S){this._strip();var C=this.byteLength(),P=S||Math.max(1,C);n(C<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var M=m(y,P),B=x==="le"?"LE":"BE";return this["_toArrayLike"+B](M,C),M},a.prototype._toArrayLikeLE=function(y,x){for(var S=0,C=0,P=0,M=0;P<this.length;P++){var B=this.words[P]<<M|C;y[S++]=B&255,S<y.length&&(y[S++]=B>>8&255),S<y.length&&(y[S++]=B>>16&255),M===6?(S<y.length&&(y[S++]=B>>24&255),C=0,M=0):(C=B>>>24,M+=2)}if(S<y.length)for(y[S++]=C;S<y.length;)y[S++]=0},a.prototype._toArrayLikeBE=function(y,x){for(var S=y.length-1,C=0,P=0,M=0;P<this.length;P++){var B=this.words[P]<<M|C;y[S--]=B&255,S>=0&&(y[S--]=B>>8&255),S>=0&&(y[S--]=B>>16&255),M===6?(S>=0&&(y[S--]=B>>24&255),C=0,M=0):(C=B>>>24,M+=2)}if(S>=0)for(y[S--]=C;S>=0;)y[S--]=0},Math.clz32?a.prototype._countBits=function(y){return 32-Math.clz32(y)}:a.prototype._countBits=function(y){var x=y,S=0;return x>=4096&&(S+=13,x>>>=13),x>=64&&(S+=7,x>>>=7),x>=8&&(S+=4,x>>>=4),x>=2&&(S+=2,x>>>=2),S+x},a.prototype._zeroBits=function(y){if(y===0)return 26;var x=y,S=0;return x&8191||(S+=13,x>>>=13),x&127||(S+=7,x>>>=7),x&15||(S+=4,x>>>=4),x&3||(S+=2,x>>>=2),x&1||S++,S},a.prototype.bitLength=function(){var y=this.words[this.length-1],x=this._countBits(y);return(this.length-1)*26+x};function g(A){for(var y=new Array(A.bitLength()),x=0;x<y.length;x++){var S=x/26|0,C=x%26;y[x]=A.words[S]>>>C&1}return y}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,x=0;x<this.length;x++){var S=this._zeroBits(this.words[x]);if(y+=S,S!==26)break}return y},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},a.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var x=0;x<y.length;x++)this.words[x]=this.words[x]|y.words[x];return this._strip()},a.prototype.ior=function(y){return n((this.negative|y.negative)===0),this.iuor(y)},a.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},a.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},a.prototype.iuand=function(y){var x;this.length>y.length?x=y:x=this;for(var S=0;S<x.length;S++)this.words[S]=this.words[S]&y.words[S];return this.length=x.length,this._strip()},a.prototype.iand=function(y){return n((this.negative|y.negative)===0),this.iuand(y)},a.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},a.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},a.prototype.iuxor=function(y){var x,S;this.length>y.length?(x=this,S=y):(x=y,S=this);for(var C=0;C<S.length;C++)this.words[C]=x.words[C]^S.words[C];if(this!==x)for(;C<x.length;C++)this.words[C]=x.words[C];return this.length=x.length,this._strip()},a.prototype.ixor=function(y){return n((this.negative|y.negative)===0),this.iuxor(y)},a.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},a.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},a.prototype.inotn=function(y){n(typeof y=="number"&&y>=0);var x=Math.ceil(y/26)|0,S=y%26;this._expand(x),S>0&&x--;for(var C=0;C<x;C++)this.words[C]=~this.words[C]&67108863;return S>0&&(this.words[C]=~this.words[C]&67108863>>26-S),this._strip()},a.prototype.notn=function(y){return this.clone().inotn(y)},a.prototype.setn=function(y,x){n(typeof y=="number"&&y>=0);var S=y/26|0,C=y%26;return this._expand(S+1),x?this.words[S]=this.words[S]|1<<C:this.words[S]=this.words[S]&~(1<<C),this._strip()},a.prototype.iadd=function(y){var x;if(this.negative!==0&&y.negative===0)return this.negative=0,x=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,x=this.isub(y),y.negative=1,x._normSign();var S,C;this.length>y.length?(S=this,C=y):(S=y,C=this);for(var P=0,M=0;M<C.length;M++)x=(S.words[M]|0)+(C.words[M]|0)+P,this.words[M]=x&67108863,P=x>>>26;for(;P!==0&&M<S.length;M++)x=(S.words[M]|0)+P,this.words[M]=x&67108863,P=x>>>26;if(this.length=S.length,P!==0)this.words[this.length]=P,this.length++;else if(S!==this)for(;M<S.length;M++)this.words[M]=S.words[M];return this},a.prototype.add=function(y){var x;return y.negative!==0&&this.negative===0?(y.negative=0,x=this.sub(y),y.negative^=1,x):y.negative===0&&this.negative!==0?(this.negative=0,x=y.sub(this),this.negative=1,x):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},a.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var x=this.iadd(y);return y.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var S=this.cmp(y);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,P;S>0?(C=this,P=y):(C=y,P=this);for(var M=0,B=0;B<P.length;B++)x=(C.words[B]|0)-(P.words[B]|0)+M,M=x>>26,this.words[B]=x&67108863;for(;M!==0&&B<C.length;B++)x=(C.words[B]|0)+M,M=x>>26,this.words[B]=x&67108863;if(M===0&&B<C.length&&C!==this)for(;B<C.length;B++)this.words[B]=C.words[B];return this.length=Math.max(this.length,B),C!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(y){return this.clone().isub(y)};function v(A,y,x){x.negative=y.negative^A.negative;var S=A.length+y.length|0;x.length=S,S=S-1|0;var C=A.words[0]|0,P=y.words[0]|0,M=C*P,B=M&67108863,L=M/67108864|0;x.words[0]=B;for(var _=1;_<S;_++){for(var U=L>>>26,G=L&67108863,O=Math.min(_,y.length-1),Y=Math.max(0,_-A.length+1);Y<=O;Y++){var H=_-Y|0;C=A.words[H]|0,P=y.words[Y]|0,M=C*P+G,U+=M/67108864|0,G=M&67108863}x.words[_]=G|0,L=U|0}return L!==0?x.words[_]=L|0:x.length--,x._strip()}var b=function(y,x,S){var C=y.words,P=x.words,M=S.words,B=0,L,_,U,G=C[0]|0,O=G&8191,Y=G>>>13,H=C[1]|0,W=H&8191,K=H>>>13,ie=C[2]|0,Q=ie&8191,te=ie>>>13,xe=C[3]|0,oe=xe&8191,ve=xe>>>13,Ae=C[4]|0,Ie=Ae&8191,Fe=Ae>>>13,Gt=C[5]|0,Be=Gt&8191,st=Gt>>>13,jt=C[6]|0,We=jt&8191,ze=jt>>>13,Ye=C[7]|0,rt=Ye&8191,bt=Ye>>>13,ar=C[8]|0,Ve=ar&8191,xt=ar>>>13,fn=C[9]|0,je=fn&8191,_e=fn>>>13,ee=P[0]|0,J=ee&8191,le=ee>>>13,de=P[1]|0,Te=de&8191,Re=de>>>13,qe=P[2]|0,Se=qe&8191,Ee=qe>>>13,zt=P[3]|0,ft=zt&8191,Ue=zt>>>13,It=P[4]|0,tt=It&8191,Nt=It>>>13,Zn=P[5]|0,Vt=Zn&8191,Wt=Zn>>>13,wn=P[6]|0,Ct=wn&8191,Ht=wn>>>13,_a=P[7]|0,qt=_a&8191,Kt=_a>>>13,Et=P[8]|0,wt=Et&8191,Ot=Et>>>13,Ia=P[9]|0,it=Ia&8191,Yt=Ia>>>13;S.negative=y.negative^x.negative,S.length=19,L=Math.imul(O,J),_=Math.imul(O,le),_=_+Math.imul(Y,J)|0,U=Math.imul(Y,le);var Ca=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,L=Math.imul(W,J),_=Math.imul(W,le),_=_+Math.imul(K,J)|0,U=Math.imul(K,le),L=L+Math.imul(O,Te)|0,_=_+Math.imul(O,Re)|0,_=_+Math.imul(Y,Te)|0,U=U+Math.imul(Y,Re)|0;var cs=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(cs>>>26)|0,cs&=67108863,L=Math.imul(Q,J),_=Math.imul(Q,le),_=_+Math.imul(te,J)|0,U=Math.imul(te,le),L=L+Math.imul(W,Te)|0,_=_+Math.imul(W,Re)|0,_=_+Math.imul(K,Te)|0,U=U+Math.imul(K,Re)|0,L=L+Math.imul(O,Se)|0,_=_+Math.imul(O,Ee)|0,_=_+Math.imul(Y,Se)|0,U=U+Math.imul(Y,Ee)|0;var fl=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(fl>>>26)|0,fl&=67108863,L=Math.imul(oe,J),_=Math.imul(oe,le),_=_+Math.imul(ve,J)|0,U=Math.imul(ve,le),L=L+Math.imul(Q,Te)|0,_=_+Math.imul(Q,Re)|0,_=_+Math.imul(te,Te)|0,U=U+Math.imul(te,Re)|0,L=L+Math.imul(W,Se)|0,_=_+Math.imul(W,Ee)|0,_=_+Math.imul(K,Se)|0,U=U+Math.imul(K,Ee)|0,L=L+Math.imul(O,ft)|0,_=_+Math.imul(O,Ue)|0,_=_+Math.imul(Y,ft)|0,U=U+Math.imul(Y,Ue)|0;var dl=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(dl>>>26)|0,dl&=67108863,L=Math.imul(Ie,J),_=Math.imul(Ie,le),_=_+Math.imul(Fe,J)|0,U=Math.imul(Fe,le),L=L+Math.imul(oe,Te)|0,_=_+Math.imul(oe,Re)|0,_=_+Math.imul(ve,Te)|0,U=U+Math.imul(ve,Re)|0,L=L+Math.imul(Q,Se)|0,_=_+Math.imul(Q,Ee)|0,_=_+Math.imul(te,Se)|0,U=U+Math.imul(te,Ee)|0,L=L+Math.imul(W,ft)|0,_=_+Math.imul(W,Ue)|0,_=_+Math.imul(K,ft)|0,U=U+Math.imul(K,Ue)|0,L=L+Math.imul(O,tt)|0,_=_+Math.imul(O,Nt)|0,_=_+Math.imul(Y,tt)|0,U=U+Math.imul(Y,Nt)|0;var hl=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(hl>>>26)|0,hl&=67108863,L=Math.imul(Be,J),_=Math.imul(Be,le),_=_+Math.imul(st,J)|0,U=Math.imul(st,le),L=L+Math.imul(Ie,Te)|0,_=_+Math.imul(Ie,Re)|0,_=_+Math.imul(Fe,Te)|0,U=U+Math.imul(Fe,Re)|0,L=L+Math.imul(oe,Se)|0,_=_+Math.imul(oe,Ee)|0,_=_+Math.imul(ve,Se)|0,U=U+Math.imul(ve,Ee)|0,L=L+Math.imul(Q,ft)|0,_=_+Math.imul(Q,Ue)|0,_=_+Math.imul(te,ft)|0,U=U+Math.imul(te,Ue)|0,L=L+Math.imul(W,tt)|0,_=_+Math.imul(W,Nt)|0,_=_+Math.imul(K,tt)|0,U=U+Math.imul(K,Nt)|0,L=L+Math.imul(O,Vt)|0,_=_+Math.imul(O,Wt)|0,_=_+Math.imul(Y,Vt)|0,U=U+Math.imul(Y,Wt)|0;var DE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(DE>>>26)|0,DE&=67108863,L=Math.imul(We,J),_=Math.imul(We,le),_=_+Math.imul(ze,J)|0,U=Math.imul(ze,le),L=L+Math.imul(Be,Te)|0,_=_+Math.imul(Be,Re)|0,_=_+Math.imul(st,Te)|0,U=U+Math.imul(st,Re)|0,L=L+Math.imul(Ie,Se)|0,_=_+Math.imul(Ie,Ee)|0,_=_+Math.imul(Fe,Se)|0,U=U+Math.imul(Fe,Ee)|0,L=L+Math.imul(oe,ft)|0,_=_+Math.imul(oe,Ue)|0,_=_+Math.imul(ve,ft)|0,U=U+Math.imul(ve,Ue)|0,L=L+Math.imul(Q,tt)|0,_=_+Math.imul(Q,Nt)|0,_=_+Math.imul(te,tt)|0,U=U+Math.imul(te,Nt)|0,L=L+Math.imul(W,Vt)|0,_=_+Math.imul(W,Wt)|0,_=_+Math.imul(K,Vt)|0,U=U+Math.imul(K,Wt)|0,L=L+Math.imul(O,Ct)|0,_=_+Math.imul(O,Ht)|0,_=_+Math.imul(Y,Ct)|0,U=U+Math.imul(Y,Ht)|0;var ME=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(ME>>>26)|0,ME&=67108863,L=Math.imul(rt,J),_=Math.imul(rt,le),_=_+Math.imul(bt,J)|0,U=Math.imul(bt,le),L=L+Math.imul(We,Te)|0,_=_+Math.imul(We,Re)|0,_=_+Math.imul(ze,Te)|0,U=U+Math.imul(ze,Re)|0,L=L+Math.imul(Be,Se)|0,_=_+Math.imul(Be,Ee)|0,_=_+Math.imul(st,Se)|0,U=U+Math.imul(st,Ee)|0,L=L+Math.imul(Ie,ft)|0,_=_+Math.imul(Ie,Ue)|0,_=_+Math.imul(Fe,ft)|0,U=U+Math.imul(Fe,Ue)|0,L=L+Math.imul(oe,tt)|0,_=_+Math.imul(oe,Nt)|0,_=_+Math.imul(ve,tt)|0,U=U+Math.imul(ve,Nt)|0,L=L+Math.imul(Q,Vt)|0,_=_+Math.imul(Q,Wt)|0,_=_+Math.imul(te,Vt)|0,U=U+Math.imul(te,Wt)|0,L=L+Math.imul(W,Ct)|0,_=_+Math.imul(W,Ht)|0,_=_+Math.imul(K,Ct)|0,U=U+Math.imul(K,Ht)|0,L=L+Math.imul(O,qt)|0,_=_+Math.imul(O,Kt)|0,_=_+Math.imul(Y,qt)|0,U=U+Math.imul(Y,Kt)|0;var $E=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+($E>>>26)|0,$E&=67108863,L=Math.imul(Ve,J),_=Math.imul(Ve,le),_=_+Math.imul(xt,J)|0,U=Math.imul(xt,le),L=L+Math.imul(rt,Te)|0,_=_+Math.imul(rt,Re)|0,_=_+Math.imul(bt,Te)|0,U=U+Math.imul(bt,Re)|0,L=L+Math.imul(We,Se)|0,_=_+Math.imul(We,Ee)|0,_=_+Math.imul(ze,Se)|0,U=U+Math.imul(ze,Ee)|0,L=L+Math.imul(Be,ft)|0,_=_+Math.imul(Be,Ue)|0,_=_+Math.imul(st,ft)|0,U=U+Math.imul(st,Ue)|0,L=L+Math.imul(Ie,tt)|0,_=_+Math.imul(Ie,Nt)|0,_=_+Math.imul(Fe,tt)|0,U=U+Math.imul(Fe,Nt)|0,L=L+Math.imul(oe,Vt)|0,_=_+Math.imul(oe,Wt)|0,_=_+Math.imul(ve,Vt)|0,U=U+Math.imul(ve,Wt)|0,L=L+Math.imul(Q,Ct)|0,_=_+Math.imul(Q,Ht)|0,_=_+Math.imul(te,Ct)|0,U=U+Math.imul(te,Ht)|0,L=L+Math.imul(W,qt)|0,_=_+Math.imul(W,Kt)|0,_=_+Math.imul(K,qt)|0,U=U+Math.imul(K,Kt)|0,L=L+Math.imul(O,wt)|0,_=_+Math.imul(O,Ot)|0,_=_+Math.imul(Y,wt)|0,U=U+Math.imul(Y,Ot)|0;var FE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(FE>>>26)|0,FE&=67108863,L=Math.imul(je,J),_=Math.imul(je,le),_=_+Math.imul(_e,J)|0,U=Math.imul(_e,le),L=L+Math.imul(Ve,Te)|0,_=_+Math.imul(Ve,Re)|0,_=_+Math.imul(xt,Te)|0,U=U+Math.imul(xt,Re)|0,L=L+Math.imul(rt,Se)|0,_=_+Math.imul(rt,Ee)|0,_=_+Math.imul(bt,Se)|0,U=U+Math.imul(bt,Ee)|0,L=L+Math.imul(We,ft)|0,_=_+Math.imul(We,Ue)|0,_=_+Math.imul(ze,ft)|0,U=U+Math.imul(ze,Ue)|0,L=L+Math.imul(Be,tt)|0,_=_+Math.imul(Be,Nt)|0,_=_+Math.imul(st,tt)|0,U=U+Math.imul(st,Nt)|0,L=L+Math.imul(Ie,Vt)|0,_=_+Math.imul(Ie,Wt)|0,_=_+Math.imul(Fe,Vt)|0,U=U+Math.imul(Fe,Wt)|0,L=L+Math.imul(oe,Ct)|0,_=_+Math.imul(oe,Ht)|0,_=_+Math.imul(ve,Ct)|0,U=U+Math.imul(ve,Ht)|0,L=L+Math.imul(Q,qt)|0,_=_+Math.imul(Q,Kt)|0,_=_+Math.imul(te,qt)|0,U=U+Math.imul(te,Kt)|0,L=L+Math.imul(W,wt)|0,_=_+Math.imul(W,Ot)|0,_=_+Math.imul(K,wt)|0,U=U+Math.imul(K,Ot)|0,L=L+Math.imul(O,it)|0,_=_+Math.imul(O,Yt)|0,_=_+Math.imul(Y,it)|0,U=U+Math.imul(Y,Yt)|0;var BE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(BE>>>26)|0,BE&=67108863,L=Math.imul(je,Te),_=Math.imul(je,Re),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,Re),L=L+Math.imul(Ve,Se)|0,_=_+Math.imul(Ve,Ee)|0,_=_+Math.imul(xt,Se)|0,U=U+Math.imul(xt,Ee)|0,L=L+Math.imul(rt,ft)|0,_=_+Math.imul(rt,Ue)|0,_=_+Math.imul(bt,ft)|0,U=U+Math.imul(bt,Ue)|0,L=L+Math.imul(We,tt)|0,_=_+Math.imul(We,Nt)|0,_=_+Math.imul(ze,tt)|0,U=U+Math.imul(ze,Nt)|0,L=L+Math.imul(Be,Vt)|0,_=_+Math.imul(Be,Wt)|0,_=_+Math.imul(st,Vt)|0,U=U+Math.imul(st,Wt)|0,L=L+Math.imul(Ie,Ct)|0,_=_+Math.imul(Ie,Ht)|0,_=_+Math.imul(Fe,Ct)|0,U=U+Math.imul(Fe,Ht)|0,L=L+Math.imul(oe,qt)|0,_=_+Math.imul(oe,Kt)|0,_=_+Math.imul(ve,qt)|0,U=U+Math.imul(ve,Kt)|0,L=L+Math.imul(Q,wt)|0,_=_+Math.imul(Q,Ot)|0,_=_+Math.imul(te,wt)|0,U=U+Math.imul(te,Ot)|0,L=L+Math.imul(W,it)|0,_=_+Math.imul(W,Yt)|0,_=_+Math.imul(K,it)|0,U=U+Math.imul(K,Yt)|0;var UE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(UE>>>26)|0,UE&=67108863,L=Math.imul(je,Se),_=Math.imul(je,Ee),_=_+Math.imul(_e,Se)|0,U=Math.imul(_e,Ee),L=L+Math.imul(Ve,ft)|0,_=_+Math.imul(Ve,Ue)|0,_=_+Math.imul(xt,ft)|0,U=U+Math.imul(xt,Ue)|0,L=L+Math.imul(rt,tt)|0,_=_+Math.imul(rt,Nt)|0,_=_+Math.imul(bt,tt)|0,U=U+Math.imul(bt,Nt)|0,L=L+Math.imul(We,Vt)|0,_=_+Math.imul(We,Wt)|0,_=_+Math.imul(ze,Vt)|0,U=U+Math.imul(ze,Wt)|0,L=L+Math.imul(Be,Ct)|0,_=_+Math.imul(Be,Ht)|0,_=_+Math.imul(st,Ct)|0,U=U+Math.imul(st,Ht)|0,L=L+Math.imul(Ie,qt)|0,_=_+Math.imul(Ie,Kt)|0,_=_+Math.imul(Fe,qt)|0,U=U+Math.imul(Fe,Kt)|0,L=L+Math.imul(oe,wt)|0,_=_+Math.imul(oe,Ot)|0,_=_+Math.imul(ve,wt)|0,U=U+Math.imul(ve,Ot)|0,L=L+Math.imul(Q,it)|0,_=_+Math.imul(Q,Yt)|0,_=_+Math.imul(te,it)|0,U=U+Math.imul(te,Yt)|0;var jE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(jE>>>26)|0,jE&=67108863,L=Math.imul(je,ft),_=Math.imul(je,Ue),_=_+Math.imul(_e,ft)|0,U=Math.imul(_e,Ue),L=L+Math.imul(Ve,tt)|0,_=_+Math.imul(Ve,Nt)|0,_=_+Math.imul(xt,tt)|0,U=U+Math.imul(xt,Nt)|0,L=L+Math.imul(rt,Vt)|0,_=_+Math.imul(rt,Wt)|0,_=_+Math.imul(bt,Vt)|0,U=U+Math.imul(bt,Wt)|0,L=L+Math.imul(We,Ct)|0,_=_+Math.imul(We,Ht)|0,_=_+Math.imul(ze,Ct)|0,U=U+Math.imul(ze,Ht)|0,L=L+Math.imul(Be,qt)|0,_=_+Math.imul(Be,Kt)|0,_=_+Math.imul(st,qt)|0,U=U+Math.imul(st,Kt)|0,L=L+Math.imul(Ie,wt)|0,_=_+Math.imul(Ie,Ot)|0,_=_+Math.imul(Fe,wt)|0,U=U+Math.imul(Fe,Ot)|0,L=L+Math.imul(oe,it)|0,_=_+Math.imul(oe,Yt)|0,_=_+Math.imul(ve,it)|0,U=U+Math.imul(ve,Yt)|0;var zE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(zE>>>26)|0,zE&=67108863,L=Math.imul(je,tt),_=Math.imul(je,Nt),_=_+Math.imul(_e,tt)|0,U=Math.imul(_e,Nt),L=L+Math.imul(Ve,Vt)|0,_=_+Math.imul(Ve,Wt)|0,_=_+Math.imul(xt,Vt)|0,U=U+Math.imul(xt,Wt)|0,L=L+Math.imul(rt,Ct)|0,_=_+Math.imul(rt,Ht)|0,_=_+Math.imul(bt,Ct)|0,U=U+Math.imul(bt,Ht)|0,L=L+Math.imul(We,qt)|0,_=_+Math.imul(We,Kt)|0,_=_+Math.imul(ze,qt)|0,U=U+Math.imul(ze,Kt)|0,L=L+Math.imul(Be,wt)|0,_=_+Math.imul(Be,Ot)|0,_=_+Math.imul(st,wt)|0,U=U+Math.imul(st,Ot)|0,L=L+Math.imul(Ie,it)|0,_=_+Math.imul(Ie,Yt)|0,_=_+Math.imul(Fe,it)|0,U=U+Math.imul(Fe,Yt)|0;var VE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(VE>>>26)|0,VE&=67108863,L=Math.imul(je,Vt),_=Math.imul(je,Wt),_=_+Math.imul(_e,Vt)|0,U=Math.imul(_e,Wt),L=L+Math.imul(Ve,Ct)|0,_=_+Math.imul(Ve,Ht)|0,_=_+Math.imul(xt,Ct)|0,U=U+Math.imul(xt,Ht)|0,L=L+Math.imul(rt,qt)|0,_=_+Math.imul(rt,Kt)|0,_=_+Math.imul(bt,qt)|0,U=U+Math.imul(bt,Kt)|0,L=L+Math.imul(We,wt)|0,_=_+Math.imul(We,Ot)|0,_=_+Math.imul(ze,wt)|0,U=U+Math.imul(ze,Ot)|0,L=L+Math.imul(Be,it)|0,_=_+Math.imul(Be,Yt)|0,_=_+Math.imul(st,it)|0,U=U+Math.imul(st,Yt)|0;var YE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(YE>>>26)|0,YE&=67108863,L=Math.imul(je,Ct),_=Math.imul(je,Ht),_=_+Math.imul(_e,Ct)|0,U=Math.imul(_e,Ht),L=L+Math.imul(Ve,qt)|0,_=_+Math.imul(Ve,Kt)|0,_=_+Math.imul(xt,qt)|0,U=U+Math.imul(xt,Kt)|0,L=L+Math.imul(rt,wt)|0,_=_+Math.imul(rt,Ot)|0,_=_+Math.imul(bt,wt)|0,U=U+Math.imul(bt,Ot)|0,L=L+Math.imul(We,it)|0,_=_+Math.imul(We,Yt)|0,_=_+Math.imul(ze,it)|0,U=U+Math.imul(ze,Yt)|0;var GE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(GE>>>26)|0,GE&=67108863,L=Math.imul(je,qt),_=Math.imul(je,Kt),_=_+Math.imul(_e,qt)|0,U=Math.imul(_e,Kt),L=L+Math.imul(Ve,wt)|0,_=_+Math.imul(Ve,Ot)|0,_=_+Math.imul(xt,wt)|0,U=U+Math.imul(xt,Ot)|0,L=L+Math.imul(rt,it)|0,_=_+Math.imul(rt,Yt)|0,_=_+Math.imul(bt,it)|0,U=U+Math.imul(bt,Yt)|0;var HE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(HE>>>26)|0,HE&=67108863,L=Math.imul(je,wt),_=Math.imul(je,Ot),_=_+Math.imul(_e,wt)|0,U=Math.imul(_e,Ot),L=L+Math.imul(Ve,it)|0,_=_+Math.imul(Ve,Yt)|0,_=_+Math.imul(xt,it)|0,U=U+Math.imul(xt,Yt)|0;var WE=(B+L|0)+((_&8191)<<13)|0;B=(U+(_>>>13)|0)+(WE>>>26)|0,WE&=67108863,L=Math.imul(je,it),_=Math.imul(je,Yt),_=_+Math.imul(_e,it)|0,U=Math.imul(_e,Yt);var qE=(B+L|0)+((_&8191)<<13)|0;return B=(U+(_>>>13)|0)+(qE>>>26)|0,qE&=67108863,M[0]=Ca,M[1]=cs,M[2]=fl,M[3]=dl,M[4]=hl,M[5]=DE,M[6]=ME,M[7]=$E,M[8]=FE,M[9]=BE,M[10]=UE,M[11]=jE,M[12]=zE,M[13]=VE,M[14]=YE,M[15]=GE,M[16]=HE,M[17]=WE,M[18]=qE,B!==0&&(M[19]=B,S.length++),S};Math.imul||(b=v);function w(A,y,x){x.negative=y.negative^A.negative,x.length=A.length+y.length;for(var S=0,C=0,P=0;P<x.length-1;P++){var M=C;C=0;for(var B=S&67108863,L=Math.min(P,y.length-1),_=Math.max(0,P-A.length+1);_<=L;_++){var U=P-_,G=A.words[U]|0,O=y.words[_]|0,Y=G*O,H=Y&67108863;M=M+(Y/67108864|0)|0,H=H+B|0,B=H&67108863,M=M+(H>>>26)|0,C+=M>>>26,M&=67108863}x.words[P]=B,S=M,M=C}return S!==0?x.words[P]=S:x.length--,x._strip()}function E(A,y,x){return w(A,y,x)}a.prototype.mulTo=function(y,x){var S,C=this.length+y.length;return this.length===10&&y.length===10?S=b(this,y,x):C<63?S=v(this,y,x):C<1024?S=w(this,y,x):S=E(this,y,x),S},a.prototype.mul=function(y){var x=new a(null);return x.words=new Array(this.length+y.length),this.mulTo(y,x)},a.prototype.mulf=function(y){var x=new a(null);return x.words=new Array(this.length+y.length),E(this,y,x)},a.prototype.imul=function(y){return this.clone().mulTo(y,this)},a.prototype.imuln=function(y){var x=y<0;x&&(y=-y),n(typeof y=="number"),n(y<67108864);for(var S=0,C=0;C<this.length;C++){var P=(this.words[C]|0)*y,M=(P&67108863)+(S&67108863);S>>=26,S+=P/67108864|0,S+=M>>>26,this.words[C]=M&67108863}return S!==0&&(this.words[C]=S,this.length++),x?this.ineg():this},a.prototype.muln=function(y){return this.clone().imuln(y)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(y){var x=g(y);if(x.length===0)return new a(1);for(var S=this,C=0;C<x.length&&x[C]===0;C++,S=S.sqr());if(++C<x.length)for(var P=S.sqr();C<x.length;C++,P=P.sqr())x[C]!==0&&(S=S.mul(P));return S},a.prototype.iushln=function(y){n(typeof y=="number"&&y>=0);var x=y%26,S=(y-x)/26,C=67108863>>>26-x<<26-x,P;if(x!==0){var M=0;for(P=0;P<this.length;P++){var B=this.words[P]&C,L=(this.words[P]|0)-B<<x;this.words[P]=L|M,M=B>>>26-x}M&&(this.words[P]=M,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this._strip()},a.prototype.ishln=function(y){return n(this.negative===0),this.iushln(y)},a.prototype.iushrn=function(y,x,S){n(typeof y=="number"&&y>=0);var C;x?C=(x-x%26)/26:C=0;var P=y%26,M=Math.min((y-P)/26,this.length),B=67108863^67108863>>>P<<P,L=S;if(C-=M,C=Math.max(0,C),L){for(var _=0;_<M;_++)L.words[_]=this.words[_];L.length=M}if(M!==0)if(this.length>M)for(this.length-=M,_=0;_<this.length;_++)this.words[_]=this.words[_+M];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=C);_--){var G=this.words[_]|0;this.words[_]=U<<26-P|G>>>P,U=G&B}return L&&U!==0&&(L.words[L.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(y,x,S){return n(this.negative===0),this.iushrn(y,x,S)},a.prototype.shln=function(y){return this.clone().ishln(y)},a.prototype.ushln=function(y){return this.clone().iushln(y)},a.prototype.shrn=function(y){return this.clone().ishrn(y)},a.prototype.ushrn=function(y){return this.clone().iushrn(y)},a.prototype.testn=function(y){n(typeof y=="number"&&y>=0);var x=y%26,S=(y-x)/26,C=1<<x;if(this.length<=S)return!1;var P=this.words[S];return!!(P&C)},a.prototype.imaskn=function(y){n(typeof y=="number"&&y>=0);var x=y%26,S=(y-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(x!==0&&S++,this.length=Math.min(S,this.length),x!==0){var C=67108863^67108863>>>x<<x;this.words[this.length-1]&=C}return this._strip()},a.prototype.maskn=function(y){return this.clone().imaskn(y)},a.prototype.iaddn=function(y){return n(typeof y=="number"),n(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},a.prototype._iaddn=function(y){this.words[0]+=y;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},a.prototype.isubn=function(y){if(n(typeof y=="number"),n(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},a.prototype.addn=function(y){return this.clone().iaddn(y)},a.prototype.subn=function(y){return this.clone().isubn(y)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(y,x,S){var C=y.length+S,P;this._expand(C);var M,B=0;for(P=0;P<y.length;P++){M=(this.words[P+S]|0)+B;var L=(y.words[P]|0)*x;M-=L&67108863,B=(M>>26)-(L/67108864|0),this.words[P+S]=M&67108863}for(;P<this.length-S;P++)M=(this.words[P+S]|0)+B,B=M>>26,this.words[P+S]=M&67108863;if(B===0)return this._strip();for(n(B===-1),B=0,P=0;P<this.length;P++)M=-(this.words[P]|0)+B,B=M>>26,this.words[P]=M&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(y,x){var S=this.length-y.length,C=this.clone(),P=y,M=P.words[P.length-1]|0,B=this._countBits(M);S=26-B,S!==0&&(P=P.ushln(S),C.iushln(S),M=P.words[P.length-1]|0);var L=C.length-P.length,_;if(x!=="mod"){_=new a(null),_.length=L+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var G=C.clone()._ishlnsubmul(P,1,L);G.negative===0&&(C=G,_&&(_.words[L]=1));for(var O=L-1;O>=0;O--){var Y=(C.words[P.length+O]|0)*67108864+(C.words[P.length+O-1]|0);for(Y=Math.min(Y/M|0,67108863),C._ishlnsubmul(P,Y,O);C.negative!==0;)Y--,C.negative=0,C._ishlnsubmul(P,1,O),C.isZero()||(C.negative^=1);_&&(_.words[O]=Y)}return _&&_._strip(),C._strip(),x!=="div"&&S!==0&&C.iushrn(S),{div:_||null,mod:C}},a.prototype.divmod=function(y,x,S){if(n(!y.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var C,P,M;return this.negative!==0&&y.negative===0?(M=this.neg().divmod(y,x),x!=="mod"&&(C=M.div.neg()),x!=="div"&&(P=M.mod.neg(),S&&P.negative!==0&&P.iadd(y)),{div:C,mod:P}):this.negative===0&&y.negative!==0?(M=this.divmod(y.neg(),x),x!=="mod"&&(C=M.div.neg()),{div:C,mod:M.mod}):this.negative&y.negative?(M=this.neg().divmod(y.neg(),x),x!=="div"&&(P=M.mod.neg(),S&&P.negative!==0&&P.isub(y)),{div:M.div,mod:P}):y.length>this.length||this.cmp(y)<0?{div:new a(0),mod:this}:y.length===1?x==="div"?{div:this.divn(y.words[0]),mod:null}:x==="mod"?{div:null,mod:new a(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new a(this.modrn(y.words[0]))}:this._wordDiv(y,x)},a.prototype.div=function(y){return this.divmod(y,"div",!1).div},a.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},a.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},a.prototype.divRound=function(y){var x=this.divmod(y);if(x.mod.isZero())return x.div;var S=x.div.negative!==0?x.mod.isub(y):x.mod,C=y.ushrn(1),P=y.andln(1),M=S.cmp(C);return M<0||P===1&&M===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},a.prototype.modrn=function(y){var x=y<0;x&&(y=-y),n(y<=67108863);for(var S=(1<<26)%y,C=0,P=this.length-1;P>=0;P--)C=(S*C+(this.words[P]|0))%y;return x?-C:C},a.prototype.modn=function(y){return this.modrn(y)},a.prototype.idivn=function(y){var x=y<0;x&&(y=-y),n(y<=67108863);for(var S=0,C=this.length-1;C>=0;C--){var P=(this.words[C]|0)+S*67108864;this.words[C]=P/y|0,S=P%y}return this._strip(),x?this.ineg():this},a.prototype.divn=function(y){return this.clone().idivn(y)},a.prototype.egcd=function(y){n(y.negative===0),n(!y.isZero());var x=this,S=y.clone();x.negative!==0?x=x.umod(y):x=x.clone();for(var C=new a(1),P=new a(0),M=new a(0),B=new a(1),L=0;x.isEven()&&S.isEven();)x.iushrn(1),S.iushrn(1),++L;for(var _=S.clone(),U=x.clone();!x.isZero();){for(var G=0,O=1;!(x.words[0]&O)&&G<26;++G,O<<=1);if(G>0)for(x.iushrn(G);G-- >0;)(C.isOdd()||P.isOdd())&&(C.iadd(_),P.isub(U)),C.iushrn(1),P.iushrn(1);for(var Y=0,H=1;!(S.words[0]&H)&&Y<26;++Y,H<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(M.isOdd()||B.isOdd())&&(M.iadd(_),B.isub(U)),M.iushrn(1),B.iushrn(1);x.cmp(S)>=0?(x.isub(S),C.isub(M),P.isub(B)):(S.isub(x),M.isub(C),B.isub(P))}return{a:M,b:B,gcd:S.iushln(L)}},a.prototype._invmp=function(y){n(y.negative===0),n(!y.isZero());var x=this,S=y.clone();x.negative!==0?x=x.umod(y):x=x.clone();for(var C=new a(1),P=new a(0),M=S.clone();x.cmpn(1)>0&&S.cmpn(1)>0;){for(var B=0,L=1;!(x.words[0]&L)&&B<26;++B,L<<=1);if(B>0)for(x.iushrn(B);B-- >0;)C.isOdd()&&C.iadd(M),C.iushrn(1);for(var _=0,U=1;!(S.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(S.iushrn(_);_-- >0;)P.isOdd()&&P.iadd(M),P.iushrn(1);x.cmp(S)>=0?(x.isub(S),C.isub(P)):(S.isub(x),P.isub(C))}var G;return x.cmpn(1)===0?G=C:G=P,G.cmpn(0)<0&&G.iadd(y),G},a.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var x=this.clone(),S=y.clone();x.negative=0,S.negative=0;for(var C=0;x.isEven()&&S.isEven();C++)x.iushrn(1),S.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;S.isEven();)S.iushrn(1);var P=x.cmp(S);if(P<0){var M=x;x=S,S=M}else if(P===0||S.cmpn(1)===0)break;x.isub(S)}while(!0);return S.iushln(C)},a.prototype.invm=function(y){return this.egcd(y).a.umod(y)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(y){return this.words[0]&y},a.prototype.bincn=function(y){n(typeof y=="number");var x=y%26,S=(y-x)/26,C=1<<x;if(this.length<=S)return this._expand(S+1),this.words[S]|=C,this;for(var P=C,M=S;P!==0&&M<this.length;M++){var B=this.words[M]|0;B+=P,P=B>>>26,B&=67108863,this.words[M]=B}return P!==0&&(this.words[M]=P,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(y){var x=y<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var S;if(this.length>1)S=1;else{x&&(y=-y),n(y<=67108863,"Number is too big");var C=this.words[0]|0;S=C===y?0:C<y?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var x=this.ucmp(y);return this.negative!==0?-x|0:x},a.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var x=0,S=this.length-1;S>=0;S--){var C=this.words[S]|0,P=y.words[S]|0;if(C!==P){C<P?x=-1:C>P&&(x=1);break}}return x},a.prototype.gtn=function(y){return this.cmpn(y)===1},a.prototype.gt=function(y){return this.cmp(y)===1},a.prototype.gten=function(y){return this.cmpn(y)>=0},a.prototype.gte=function(y){return this.cmp(y)>=0},a.prototype.ltn=function(y){return this.cmpn(y)===-1},a.prototype.lt=function(y){return this.cmp(y)===-1},a.prototype.lten=function(y){return this.cmpn(y)<=0},a.prototype.lte=function(y){return this.cmp(y)<=0},a.prototype.eqn=function(y){return this.cmpn(y)===0},a.prototype.eq=function(y){return this.cmp(y)===0},a.red=function(y){return new z(y)},a.prototype.toRed=function(y){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(y){return this.red=y,this},a.prototype.forceRed=function(y){return n(!this.red,"Already a number in reduction context"),this._forceRed(y)},a.prototype.redAdd=function(y){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},a.prototype.redIAdd=function(y){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},a.prototype.redSub=function(y){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},a.prototype.redISub=function(y){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},a.prototype.redShl=function(y){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},a.prototype.redMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},a.prototype.redIMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(y){return n(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var R={k256:null,p224:null,p192:null,p25519:null};function I(A,y){this.name=A,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var y=new a(null);return y.words=new Array(Math.ceil(this.n/13)),y},I.prototype.ireduce=function(y){var x=y,S;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),S=x.bitLength();while(S>this.n);var C=S<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},I.prototype.split=function(y,x){y.iushrn(this.n,0,x)},I.prototype.imulK=function(y){return y.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,I),D.prototype.split=function(y,x){for(var S=4194303,C=Math.min(y.length,9),P=0;P<C;P++)x.words[P]=y.words[P];if(x.length=C,y.length<=9){y.words[0]=0,y.length=1;return}var M=y.words[9];for(x.words[x.length++]=M&S,P=10;P<y.length;P++){var B=y.words[P]|0;y.words[P-10]=(B&S)<<4|M>>>22,M=B}M>>>=22,y.words[P-10]=M,M===0&&y.length>10?y.length-=10:y.length-=9},D.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var x=0,S=0;S<y.length;S++){var C=y.words[S]|0;x+=C*977,y.words[S]=x&67108863,x=C*64+(x/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function N(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,I);function F(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,I);function $(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,I),$.prototype.imulK=function(y){for(var x=0,S=0;S<y.length;S++){var C=(y.words[S]|0)*19+x,P=C&67108863;C>>>=26,y.words[S]=P,x=C}return x!==0&&(y.words[y.length++]=x),y},a._prime=function(y){if(R[y])return R[y];var x;if(y==="k256")x=new D;else if(y==="p224")x=new N;else if(y==="p192")x=new F;else if(y==="p25519")x=new $;else throw new Error("Unknown prime "+y);return R[y]=x,x};function z(A){if(typeof A=="string"){var y=a._prime(A);this.m=y.p,this.prime=y}else n(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}z.prototype._verify1=function(y){n(y.negative===0,"red works only with positives"),n(y.red,"red works only with red numbers")},z.prototype._verify2=function(y,x){n((y.negative|x.negative)===0,"red works only with positives"),n(y.red&&y.red===x.red,"red works only with red numbers")},z.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(c(y,y.umod(this.m)._forceRed(this)),y)},z.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},z.prototype.add=function(y,x){this._verify2(y,x);var S=y.add(x);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},z.prototype.iadd=function(y,x){this._verify2(y,x);var S=y.iadd(x);return S.cmp(this.m)>=0&&S.isub(this.m),S},z.prototype.sub=function(y,x){this._verify2(y,x);var S=y.sub(x);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},z.prototype.isub=function(y,x){this._verify2(y,x);var S=y.isub(x);return S.cmpn(0)<0&&S.iadd(this.m),S},z.prototype.shl=function(y,x){return this._verify1(y),this.imod(y.ushln(x))},z.prototype.imul=function(y,x){return this._verify2(y,x),this.imod(y.imul(x))},z.prototype.mul=function(y,x){return this._verify2(y,x),this.imod(y.mul(x))},z.prototype.isqr=function(y){return this.imul(y,y.clone())},z.prototype.sqr=function(y){return this.mul(y,y)},z.prototype.sqrt=function(y){if(y.isZero())return y.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(y,S)}for(var C=this.m.subn(1),P=0;!C.isZero()&&C.andln(1)===0;)P++,C.iushrn(1);n(!C.isZero());var M=new a(1).toRed(this),B=M.redNeg(),L=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new a(2*_*_).toRed(this);this.pow(_,L).cmp(B)!==0;)_.redIAdd(B);for(var U=this.pow(_,C),G=this.pow(y,C.addn(1).iushrn(1)),O=this.pow(y,C),Y=P;O.cmp(M)!==0;){for(var H=O,W=0;H.cmp(M)!==0;W++)H=H.redSqr();n(W<Y);var K=this.pow(U,new a(1).iushln(Y-W-1));G=G.redMul(K),U=K.redSqr(),O=O.redMul(U),Y=W}return G},z.prototype.invm=function(y){var x=y._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},z.prototype.pow=function(y,x){if(x.isZero())return new a(1).toRed(this);if(x.cmpn(1)===0)return y.clone();var S=4,C=new Array(1<<S);C[0]=new a(1).toRed(this),C[1]=y;for(var P=2;P<C.length;P++)C[P]=this.mul(C[P-1],y);var M=C[0],B=0,L=0,_=x.bitLength()%26;for(_===0&&(_=26),P=x.length-1;P>=0;P--){for(var U=x.words[P],G=_-1;G>=0;G--){var O=U>>G&1;if(M!==C[0]&&(M=this.sqr(M)),O===0&&B===0){L=0;continue}B<<=1,B|=O,L++,!(L!==S&&(P!==0||G!==0))&&(M=this.mul(M,C[B]),L=0,B=0)}_=26}return M},z.prototype.convertTo=function(y){var x=y.umod(this.m);return x===y?x.clone():x},z.prototype.convertFrom=function(y){var x=y.clone();return x.red=null,x},a.mont=function(y){return new k(y)};function k(A){z.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,z),k.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},k.prototype.convertFrom=function(y){var x=this.imod(y.mul(this.rinv));return x.red=null,x},k.prototype.imul=function(y,x){if(y.isZero()||x.isZero())return y.words[0]=0,y.length=1,y;var S=y.imul(x),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(C).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},k.prototype.mul=function(y,x){if(y.isZero()||x.isZero())return new a(0)._forceRed(this);var S=y.mul(x),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(C).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},k.prototype.invm=function(y){var x=this.imod(y._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,Cn)})(zk);var NMe=zk.exports;const ut=Pi(NMe),LMe="logger/5.7.0";let uF=!1,cF=!1;const b1={debug:1,default:2,info:2,warning:3,error:4,off:5};let fF=b1.default,nR=null;function DMe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const dF=DMe();var a3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(a3||(a3={}));var Li;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Li||(Li={}));const hF="0123456789abcdef";class q{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();b1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(fF>b1[n])&&console.log.apply(console,r)}debug(...e){this._log(q.levels.DEBUG,e)}info(...e){this._log(q.levels.INFO,e)}warn(...e){this._log(q.levels.WARNING,e)}makeError(e,r,n){if(cF)return this.makeError("censored error",r,{});r||(r=q.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const u=n[l];try{if(u instanceof Uint8Array){let c="";for(let f=0;f<u.length;f++)c+=hF[u[f]>>4],c+=hF[u[f]&15];i.push(l+"=Uint8Array(0x"+c+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const a=e;let s="";switch(r){case Li.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Li.CALL_EXCEPTION:case Li.INSUFFICIENT_FUNDS:case Li.MISSING_NEW:case Li.NONCE_EXPIRED:case Li.REPLACEMENT_UNDERPRICED:case Li.TRANSACTION_REPLACED:case Li.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=a,o.code=r,Object.keys(n).forEach(function(l){o[l]=n[l]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,q.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){dF&&this.throwError("platform missing String.prototype.normalize",q.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:dF})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,q.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,q.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",q.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return nR||(nR=new q(LMe)),nR}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),uF){if(!e)return;this.globalLogger().throwError("error censorship permanent",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cF=!!e,uF=!!r}static setLogLevel(e){const r=b1[e.toLowerCase()];if(r==null){q.globalLogger().warn("invalid log level - "+e);return}fF=r}static from(e){return new q(e)}}q.errors=Li;q.levels=a3;const MMe="bytes/5.7.0",Mr=new q(MMe);function DQ(t){return!!t.toHexString}function Vd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Vd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function kv(t){return ht(t)&&!(t.length%2)||ku(t)}function pF(t){return typeof t=="number"&&t==t&&t%1===0}function ku(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!pF(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!pF(r)||r<0||r>=256)return!1}return!0}function ge(t,e){if(e||(e={}),typeof t=="number"){Mr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Vd(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),DQ(t)&&(t=t.toHexString()),ht(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Mr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Vd(new Uint8Array(n))}return ku(t)?Vd(new Uint8Array(t)):Mr.throwArgumentError("invalid arrayify value","value",t)}function sr(t){const e=t.map(i=>ge(i)),r=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(r);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),Vd(n)}function Ns(t){let e=ge(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function qp(t,e){t=ge(t),t.length>e&&Mr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Vd(r)}function ht(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const iR="0123456789abcdef";function be(t,e){if(e||(e={}),typeof t=="number"){Mr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=iR[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),DQ(t))return t.toHexString();if(ht(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Mr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ku(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=iR[(i&240)>>4]+iR[i&15]}return r}return Mr.throwArgumentError("invalid hexlify value","value",t)}function zs(t){if(typeof t!="string")t=be(t);else if(!ht(t)||t.length%2)return null;return(t.length-2)/2}function Hr(t,e,r){return typeof t!="string"?t=be(t):(!ht(t)||t.length%2)&&Mr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ri(t){let e="0x";return t.forEach(r=>{e+=be(r).substring(2)}),e}function Ov(t){const e=MQ(be(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function MQ(t){typeof t!="string"&&(t=be(t)),ht(t)||Mr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function or(t,e){for(typeof t!="string"?t=be(t):ht(t)||Mr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Mr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Zc(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(kv(t)){let r=ge(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=be(r.slice(0,32)),e.s=be(r.slice(32,64))):r.length===65?(e.r=be(r.slice(0,32)),e.s=be(r.slice(32,64)),e.v=r[64]):Mr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Mr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=be(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=qp(ge(e._vs),32);e._vs=be(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&Mr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=be(i);e.s==null?e.s=s:e.s!==s&&Mr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Mr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Mr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ht(e.r)?Mr.throwArgumentError("signature missing or invalid r","signature",t):e.r=or(e.r,32),e.s==null||!ht(e.s)?Mr.throwArgumentError("signature missing or invalid s","signature",t):e.s=or(e.s,32);const r=ge(e.s);r[0]>=128&&Mr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=be(r);e._vs&&(ht(e._vs)||Mr.throwArgumentError("signature invalid _vs","signature",t),e._vs=or(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Mr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function s3(t){return t=Zc(t),be(sr([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const $Q="bignumber/5.7.0";var eg=ut.BN;const co=new q($Q),aR={},mF=9007199254740991;function $Me(t){return t!=null&&(me.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ht(t)||typeof t=="bigint"||ku(t))}let gF=!1;class me{constructor(e,r){e!==aR&&co.throwError("cannot call constructor directly; use BigNumber.from",q.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return gi(St(this).fromTwos(e))}toTwos(e){return gi(St(this).toTwos(e))}abs(){return this._hex[0]==="-"?me.from(this._hex.substring(1)):this}add(e){return gi(St(this).add(St(e)))}sub(e){return gi(St(this).sub(St(e)))}div(e){return me.from(e).isZero()&&sa("division-by-zero","div"),gi(St(this).div(St(e)))}mul(e){return gi(St(this).mul(St(e)))}mod(e){const r=St(e);return r.isNeg()&&sa("division-by-zero","mod"),gi(St(this).umod(r))}pow(e){const r=St(e);return r.isNeg()&&sa("negative-power","pow"),gi(St(this).pow(r))}and(e){const r=St(e);return(this.isNegative()||r.isNeg())&&sa("unbound-bitwise-result","and"),gi(St(this).and(r))}or(e){const r=St(e);return(this.isNegative()||r.isNeg())&&sa("unbound-bitwise-result","or"),gi(St(this).or(r))}xor(e){const r=St(e);return(this.isNegative()||r.isNeg())&&sa("unbound-bitwise-result","xor"),gi(St(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&sa("negative-width","mask"),gi(St(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&sa("negative-width","shl"),gi(St(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&sa("negative-width","shr"),gi(St(this).shrn(e))}eq(e){return St(this).eq(St(e))}lt(e){return St(this).lt(St(e))}lte(e){return St(this).lte(St(e))}gt(e){return St(this).gt(St(e))}gte(e){return St(this).gte(St(e))}isNegative(){return this._hex[0]==="-"}isZero(){return St(this).isZero()}toNumber(){try{return St(this).toNumber()}catch{sa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return co.throwError("this platform does not support BigInt",q.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?gF||(gF=!0,co.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?co.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",q.errors.UNEXPECTED_ARGUMENT,{}):co.throwError("BigNumber.toString does not accept parameters",q.errors.UNEXPECTED_ARGUMENT,{})),St(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof me)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new me(aR,tg(e)):e.match(/^-?[0-9]+$/)?new me(aR,tg(new eg(e))):co.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&sa("underflow","BigNumber.from",e),(e>=mF||e<=-mF)&&sa("overflow","BigNumber.from",e),me.from(String(e));const r=e;if(typeof r=="bigint")return me.from(r.toString());if(ku(r))return me.from(be(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return me.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ht(n)||n[0]==="-"&&ht(n.substring(1))))return me.from(n)}return co.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tg(t){if(typeof t!="string")return tg(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&co.throwArgumentError("invalid hex","value",t),t=tg(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function gi(t){return me.from(tg(t))}function St(t){const e=me.from(t).toHexString();return e[0]==="-"?new eg("-"+e.substring(3),16):new eg(e.substring(2),16)}function sa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),co.throwError(t,q.errors.NUMERIC_FAULT,n)}function FMe(t){return new eg(t,36).toString(16)}function BMe(t){return new eg(t,16).toString(36)}const ni=new q($Q),Kp={},FQ=me.from(0),BQ=me.from(-1);function UQ(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),ni.throwError(t,q.errors.NUMERIC_FAULT,i)}let Qp="0";for(;Qp.length<256;)Qp+=Qp;function Vk(t){if(typeof t!="number")try{t=me.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Qp.substring(0,t):ni.throwArgumentError("invalid decimal size","decimals",t)}function x1(t,e){e==null&&(e=0);const r=Vk(e);t=me.from(t);const n=t.lt(FQ);n&&(t=t.mul(BQ));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=t.div(r).toString();return r.length===1?t=a:t=a+"."+i,n&&(t="-"+t),t}function ms(t,e){e==null&&(e=0);const r=Vk(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&ni.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&ni.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&ni.throwArgumentError("too many decimal points","value",t);let a=i[0],s=i[1];for(a||(a="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>r.length-1&&UQ("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<r.length-1;)s+="0";const o=me.from(a),l=me.from(s);let u=o.mul(r).add(l);return n&&(u=u.mul(BQ)),u}class Yd{constructor(e,r,n,i){e!==Kp&&ni.throwError("cannot use FixedFormat constructor; use FixedFormat.from",q.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Vk(i),Object.freeze(this)}static from(e){if(e instanceof Yd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||ni.throwArgumentError("invalid fixed format","format",e),r=a[1]!=="u",n=parseInt(a[2]),i=parseInt(a[3])}}else if(e){const a=(s,o,l)=>e[s]==null?l:(typeof e[s]!==o&&ni.throwArgumentError("invalid fixed format ("+s+" not "+o+")","format."+s,e[s]),e[s]);r=a("signed","boolean",r),n=a("width","number",n),i=a("decimals","number",i)}return n%8&&ni.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&ni.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Yd(Kp,r,n,i)}}class rn{constructor(e,r,n,i){e!==Kp&&ni.throwError("cannot use FixedNumber constructor; use FixedNumber.from",q.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ni.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=ms(this._value,this.format.decimals),n=ms(e._value,e.format.decimals);return rn.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=ms(this._value,this.format.decimals),n=ms(e._value,e.format.decimals);return rn.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=ms(this._value,this.format.decimals),n=ms(e._value,e.format.decimals);return rn.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=ms(this._value,this.format.decimals),n=ms(e._value,e.format.decimals);return rn.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=rn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(vF.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=rn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(vF.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&ni.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=rn.from("1"+Qp.substring(0,e),this.format),i=UMe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&ni.throwArgumentError("invalid byte width","width",e);const r=me.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return or(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return rn.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!$Me(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),rn.fromString(x1(e,r),Yd.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Yd.from(r),i=ms(e,n.decimals);!n.signed&&i.lt(FQ)&&UQ("unsigned value cannot be negative","overflow","value",e);let a=null;n.signed?a=i.toTwos(n.width).toHexString():(a=i.toHexString(),a=or(a,n.width/8));const s=x1(i,n.decimals);return new rn(Kp,a,s,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Yd.from(r);if(ge(e).length>n.width/8)throw new Error("overflow");let i=me.from(e);n.signed&&(i=i.fromTwos(n.width));const a=i.toTwos((n.signed?0:1)+n.width).toHexString(),s=x1(i,n.decimals);return new rn(Kp,a,s,n)}static from(e,r){if(typeof e=="string")return rn.fromString(e,r);if(ku(e))return rn.fromBytes(e,r);try{return rn.fromValue(e,0,r)}catch(n){if(n.code!==q.errors.INVALID_ARGUMENT)throw n}return ni.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const vF=rn.from(1),UMe=rn.from("0.5"),jMe="properties/5.7.0";var zMe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Kx=new q(jMe);function se(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Pn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function $r(t){return zMe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Yk(t,e){(!t||typeof t!="object")&&Kx.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Kx.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function cr(t){const e={};for(const r in t)e[r]=t[r];return e}const VMe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function jQ(t){if(t==null||VMe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!jQ(n))return!1}return!0}return Kx.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function YMe(t){if(jQ(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>oi(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&se(e,r,oi(n))}return e}return Kx.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function oi(t){return YMe(t)}class Xc{constructor(e){for(const r in e)this[r]=oi(e[r])}}const Nv="abi/5.7.0",kt=new q(Nv),kc={};let yF={calldata:!0,memory:!0,storage:!0},GMe={calldata:!0,memory:!0};function cb(t,e){if(t==="bytes"||t==="string"){if(yF[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&GMe[e])return!0;return(yF[e]||e==="payable")&&kt.throwArgumentError("invalid modifier","name",e),!1}function HMe(t,e){let r=t;function n(o){kt.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function i(o){let l={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(l.indexed=!1),l}let a={type:"",name:"",state:{allowType:!0}},s=a;for(let o=0;o<t.length;o++){let l=t[o];switch(l){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(o),s.state.allowType=!1,s.type=jf(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),cb(s.type,s.name)&&(s.name=""),s.type=jf(s.type);let u=s;s=s.parent,s||n(o),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(o),s.indexed=!0,s.name=""),cb(s.type,s.name)&&(s.name=""),s.type=jf(s.type);let c=i(s.parent);s.parent.components.push(c),delete s.parent,s=c;break;case" ":s.state.allowType&&s.type!==""&&(s.type=jf(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(o),s.indexed&&n(o),s.indexed=!0,s.name=""):cb(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(o),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(o),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:n(o)}}return s.parent&&kt.throwArgumentError("unexpected eof","param",t),delete a.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):cb(s.type,s.name)&&(s.name=""),a.type=jf(a.type),a}function w1(t,e){for(let r in e)se(t,r,e[r])}const Dt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),WMe=new RegExp(/^(.*)\[([0-9]*)\]$/);class an{constructor(e,r){e!==kc&&kt.throwError("use fromString",q.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),w1(this,r);let n=this.type.match(WMe);n?w1(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:an.fromObject({type:n[1],components:this.components}),baseType:"array"}):w1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Dt.sighash),Dt[e]||kt.throwArgumentError("invalid format type","format",e),e===Dt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Dt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Dt.full?", ":",")+")"):r+=this.type,e!==Dt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Dt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?an.fromString(e,r):an.fromObject(e)}static fromObject(e){return an.isParamType(e)?e:new an(kc,{name:e.name||null,type:jf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(an.fromObject):null})}static fromString(e,r){function n(i){return an.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(HMe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function rg(t,e){return KMe(t).map(r=>an.fromString(r,e))}class _s{constructor(e,r){e!==kc&&kt.throwError("use a static from method",q.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),w1(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return _s.isFragment(e)?e:typeof e=="string"?_s.fromString(e):_s.fromObject(e)}static fromObject(e){if(_s.isFragment(e))return e;switch(e.type){case"function":return Za.fromObject(e);case"event":return As.fromObject(e);case"constructor":return Qa.fromObject(e);case"error":return vo.fromObject(e);case"fallback":case"receive":return null}return kt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?As.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Za.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Qa.fromString(e.trim()):e.split(" ")[0]==="error"?vo.fromString(e.substring(5).trim()):kt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class As extends _s{format(e){if(e||(e=Dt.sighash),Dt[e]||kt.throwArgumentError("invalid format type","format",e),e===Dt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Dt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Dt.full?", ":",")+") ",e!==Dt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?As.fromString(e):As.fromObject(e)}static fromObject(e){if(As.isEventFragment(e))return e;e.type!=="event"&&kt.throwArgumentError("invalid event object","value",e);const r={name:ng(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(an.fromObject):[],type:"event"};return new As(kc,r)}static fromString(e){let r=e.match(ig);r||kt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:kt.warn("unknown modifier: "+i)}}),As.fromObject({name:r[1].trim(),anonymous:n,inputs:rg(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function zQ(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&kt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||kt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=me.from(r[1]),r[0]):t}function VQ(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function YQ(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&kt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&kt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&kt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&kt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&kt.throwArgumentError("unable to determine stateMutability","value",t),e}class Qa extends _s{format(e){if(e||(e=Dt.sighash),Dt[e]||kt.throwArgumentError("invalid format type","format",e),e===Dt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Dt.sighash&&kt.throwError("cannot format a constructor for sighash",q.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Dt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Qa.fromString(e):Qa.fromObject(e)}static fromObject(e){if(Qa.isConstructorFragment(e))return e;e.type!=="constructor"&&kt.throwArgumentError("invalid constructor object","value",e);let r=YQ(e);r.constant&&kt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(an.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?me.from(e.gas):null};return new Qa(kc,n)}static fromString(e){let r={type:"constructor"};e=zQ(e,r);let n=e.match(ig);return(!n||n[1].trim()!=="constructor")&&kt.throwArgumentError("invalid constructor string","value",e),r.inputs=rg(n[2].trim(),!1),VQ(n[3].trim(),r),Qa.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Za extends Qa{format(e){if(e||(e=Dt.sighash),Dt[e]||kt.throwArgumentError("invalid format type","format",e),e===Dt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Dt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Dt.full?", ":",")+") ",e!==Dt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Za.fromString(e):Za.fromObject(e)}static fromObject(e){if(Za.isFunctionFragment(e))return e;e.type!=="function"&&kt.throwArgumentError("invalid function object","value",e);let r=YQ(e);const n={type:e.type,name:ng(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(an.fromObject):[],outputs:e.outputs?e.outputs.map(an.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?me.from(e.gas):null};return new Za(kc,n)}static fromString(e){let r={type:"function"};e=zQ(e,r);let n=e.split(" returns ");n.length>2&&kt.throwArgumentError("invalid function string","value",e);let i=n[0].match(ig);if(i||kt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ng(r.name),r.inputs=rg(i[2],!1),VQ(i[3].trim(),r),n.length>1){let a=n[1].match(ig);(a[1].trim()!=""||a[3].trim()!="")&&kt.throwArgumentError("unexpected tokens","value",e),r.outputs=rg(a[2],!1)}else r.outputs=[];return Za.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function bF(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&kt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class vo extends _s{format(e){if(e||(e=Dt.sighash),Dt[e]||kt.throwArgumentError("invalid format type","format",e),e===Dt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Dt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Dt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?vo.fromString(e):vo.fromObject(e)}static fromObject(e){if(vo.isErrorFragment(e))return e;e.type!=="error"&&kt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ng(e.name),inputs:e.inputs?e.inputs.map(an.fromObject):[]};return bF(new vo(kc,r))}static fromString(e){let r={type:"error"},n=e.match(ig);return n||kt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ng(r.name),r.inputs=rg(n[2],!1),bF(vo.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function jf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const qMe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ng(t){return(!t||!t.match(qMe))&&kt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ig=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function KMe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let a=t[i];a===","&&n===0?(e.push(r),r=""):(r+=a,a==="("?n++:a===")"&&(n--,n===-1&&kt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Gk=new q(Nv);function GQ(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let a in i){const s=n.slice();s.push(a);try{r(s,i[a])}catch(o){e.push({path:s,error:o})}}};return r([],t),e}class al{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Gk.throwArgumentError(e,this.localName,r)}}class o3{constructor(e){se(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ri(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(sr(e._data))}writeBytes(e){let r=ge(e);const n=r.length%this.wordSize;return n&&(r=sr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=ge(me.from(e));return r.length>this.wordSize&&Gk.throwError("value out-of-bounds",q.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=sr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Qx{constructor(e,r,n,i){se(this,"_data",ge(e)),se(this,"wordSize",r||32),se(this,"_coerceFunc",n),se(this,"allowLoose",i),this._offset=0}get data(){return be(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Qx.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Gk.throwError("data out-of-bounds",q.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Qx(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return me.from(this.readBytes(this.wordSize))}}var HQ={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=Cn:a&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],v=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var E=function(O,Y,H){return function(W){return new _(O,Y,O).update(W)[H]()}},R=function(O,Y,H){return function(W,K){return new _(O,Y,K).update(W)[H]()}},I=function(O,Y,H){return function(W,K,ie,Q){return y["cshake"+O].update(W,K,ie,Q)[H]()}},D=function(O,Y,H){return function(W,K,ie,Q){return y["kmac"+O].update(W,K,ie,Q)[H]()}},N=function(O,Y,H,W){for(var K=0;K<b.length;++K){var ie=b[K];O[ie]=Y(H,W,ie)}return O},F=function(O,Y){var H=E(O,Y,"hex");return H.create=function(){return new _(O,Y,O)},H.update=function(W){return H.create().update(W)},N(H,E,O,Y)},$=function(O,Y){var H=R(O,Y,"hex");return H.create=function(W){return new _(O,Y,W)},H.update=function(W,K){return H.create(K).update(W)},N(H,R,O,Y)},z=function(O,Y){var H=w[O],W=I(O,Y,"hex");return W.create=function(K,ie,Q){return!ie&&!Q?y["shake"+O].create(K):new _(O,Y,K).bytepad([ie,Q],H)},W.update=function(K,ie,Q,te){return W.create(ie,Q,te).update(K)},N(W,I,O,Y)},k=function(O,Y){var H=w[O],W=D(O,Y,"hex");return W.create=function(K,ie,Q){return new U(O,Y,ie).bytepad(["KMAC",Q],H).bytepad([K],H)},W.update=function(K,ie,Q,te){return W.create(K,Q,te).update(ie)},N(W,D,O,Y)},A=[{name:"keccak",padding:d,bits:g,createMethod:F},{name:"sha3",padding:h,bits:g,createMethod:F},{name:"shake",padding:c,bits:v,createMethod:$},{name:"cshake",padding:f,bits:v,createMethod:z},{name:"kmac",padding:f,bits:v,createMethod:k}],y={},x=[],S=0;S<A.length;++S)for(var C=A[S],P=C.bits,M=0;M<P.length;++M){var B=C.name+"_"+P[M];if(x.push(B),y[B]=C.createMethod(P[M],C.padding),C.name!=="sha3"){var L=C.name+P[M];x.push(L),y[L]=y[B]}}function _(O,Y,H){this.blocks=[],this.s=[],this.padding=Y,this.outputBits=H,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=H>>5,this.extraBytes=(H&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}_.prototype.update=function(O){if(this.finalized)throw new Error(r);var Y,H=typeof O;if(H!=="string"){if(H==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Y=!0}for(var W=this.blocks,K=this.byteCount,ie=O.length,Q=this.blockCount,te=0,xe=this.s,oe,ve;te<ie;){if(this.reset)for(this.reset=!1,W[0]=this.block,oe=1;oe<Q+1;++oe)W[oe]=0;if(Y)for(oe=this.start;te<ie&&oe<K;++te)W[oe>>2]|=O[te]<<p[oe++&3];else for(oe=this.start;te<ie&&oe<K;++te)ve=O.charCodeAt(te),ve<128?W[oe>>2]|=ve<<p[oe++&3]:ve<2048?(W[oe>>2]|=(192|ve>>6)<<p[oe++&3],W[oe>>2]|=(128|ve&63)<<p[oe++&3]):ve<55296||ve>=57344?(W[oe>>2]|=(224|ve>>12)<<p[oe++&3],W[oe>>2]|=(128|ve>>6&63)<<p[oe++&3],W[oe>>2]|=(128|ve&63)<<p[oe++&3]):(ve=65536+((ve&1023)<<10|O.charCodeAt(++te)&1023),W[oe>>2]|=(240|ve>>18)<<p[oe++&3],W[oe>>2]|=(128|ve>>12&63)<<p[oe++&3],W[oe>>2]|=(128|ve>>6&63)<<p[oe++&3],W[oe>>2]|=(128|ve&63)<<p[oe++&3]);if(this.lastByteIndex=oe,oe>=K){for(this.start=oe-K,this.block=W[Q],oe=0;oe<Q;++oe)xe[oe]^=W[oe];G(xe),this.reset=!0}else this.start=oe}return this},_.prototype.encode=function(O,Y){var H=O&255,W=1,K=[H];for(O=O>>8,H=O&255;H>0;)K.unshift(H),O=O>>8,H=O&255,++W;return Y?K.push(W):K.unshift(W),this.update(K),K.length},_.prototype.encodeString=function(O){var Y,H=typeof O;if(H!=="string"){if(H==="object"){if(O===null)throw new Error(e);if(l&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!l||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Y=!0}var W=0,K=O.length;if(Y)W=K;else for(var ie=0;ie<O.length;++ie){var Q=O.charCodeAt(ie);Q<128?W+=1:Q<2048?W+=2:Q<55296||Q>=57344?W+=3:(Q=65536+((Q&1023)<<10|O.charCodeAt(++ie)&1023),W+=4)}return W+=this.encode(W*8),this.update(O),W},_.prototype.bytepad=function(O,Y){for(var H=this.encode(Y),W=0;W<O.length;++W)H+=this.encodeString(O[W]);var K=Y-H%Y,ie=[];return ie.length=K,this.update(ie),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,Y=this.lastByteIndex,H=this.blockCount,W=this.s;if(O[Y>>2]|=this.padding[Y&3],this.lastByteIndex===this.byteCount)for(O[0]=O[H],Y=1;Y<H+1;++Y)O[Y]=0;for(O[H-1]|=2147483648,Y=0;Y<H;++Y)W[Y]^=O[Y];G(W)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var O=this.blockCount,Y=this.s,H=this.outputBlocks,W=this.extraBytes,K=0,ie=0,Q="",te;ie<H;){for(K=0;K<O&&ie<H;++K,++ie)te=Y[K],Q+=u[te>>4&15]+u[te&15]+u[te>>12&15]+u[te>>8&15]+u[te>>20&15]+u[te>>16&15]+u[te>>28&15]+u[te>>24&15];ie%O===0&&(G(Y),K=0)}return W&&(te=Y[K],Q+=u[te>>4&15]+u[te&15],W>1&&(Q+=u[te>>12&15]+u[te>>8&15]),W>2&&(Q+=u[te>>20&15]+u[te>>16&15])),Q},_.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,Y=this.s,H=this.outputBlocks,W=this.extraBytes,K=0,ie=0,Q=this.outputBits>>3,te;W?te=new ArrayBuffer(H+1<<2):te=new ArrayBuffer(Q);for(var xe=new Uint32Array(te);ie<H;){for(K=0;K<O&&ie<H;++K,++ie)xe[ie]=Y[K];ie%O===0&&G(Y)}return W&&(xe[K]=Y[K],te=te.slice(0,Q)),te},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var O=this.blockCount,Y=this.s,H=this.outputBlocks,W=this.extraBytes,K=0,ie=0,Q=[],te,xe;ie<H;){for(K=0;K<O&&ie<H;++K,++ie)te=ie<<2,xe=Y[K],Q[te]=xe&255,Q[te+1]=xe>>8&255,Q[te+2]=xe>>16&255,Q[te+3]=xe>>24&255;ie%O===0&&G(Y)}return W&&(te=ie<<2,xe=Y[K],Q[te]=xe&255,W>1&&(Q[te+1]=xe>>8&255),W>2&&(Q[te+2]=xe>>16&255)),Q};function U(O,Y,H){_.call(this,O,Y,H)}U.prototype=new _,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var G=function(O){var Y,H,W,K,ie,Q,te,xe,oe,ve,Ae,Ie,Fe,Gt,Be,st,jt,We,ze,Ye,rt,bt,ar,Ve,xt,fn,je,_e,ee,J,le,de,Te,Re,qe,Se,Ee,zt,ft,Ue,It,tt,Nt,Zn,Vt,Wt,wn,Ct,Ht,_a,qt,Kt,Et,wt,Ot,Ia,it,Yt,Ca,cs,fl,dl,hl;for(W=0;W<48;W+=2)K=O[0]^O[10]^O[20]^O[30]^O[40],ie=O[1]^O[11]^O[21]^O[31]^O[41],Q=O[2]^O[12]^O[22]^O[32]^O[42],te=O[3]^O[13]^O[23]^O[33]^O[43],xe=O[4]^O[14]^O[24]^O[34]^O[44],oe=O[5]^O[15]^O[25]^O[35]^O[45],ve=O[6]^O[16]^O[26]^O[36]^O[46],Ae=O[7]^O[17]^O[27]^O[37]^O[47],Ie=O[8]^O[18]^O[28]^O[38]^O[48],Fe=O[9]^O[19]^O[29]^O[39]^O[49],Y=Ie^(Q<<1|te>>>31),H=Fe^(te<<1|Q>>>31),O[0]^=Y,O[1]^=H,O[10]^=Y,O[11]^=H,O[20]^=Y,O[21]^=H,O[30]^=Y,O[31]^=H,O[40]^=Y,O[41]^=H,Y=K^(xe<<1|oe>>>31),H=ie^(oe<<1|xe>>>31),O[2]^=Y,O[3]^=H,O[12]^=Y,O[13]^=H,O[22]^=Y,O[23]^=H,O[32]^=Y,O[33]^=H,O[42]^=Y,O[43]^=H,Y=Q^(ve<<1|Ae>>>31),H=te^(Ae<<1|ve>>>31),O[4]^=Y,O[5]^=H,O[14]^=Y,O[15]^=H,O[24]^=Y,O[25]^=H,O[34]^=Y,O[35]^=H,O[44]^=Y,O[45]^=H,Y=xe^(Ie<<1|Fe>>>31),H=oe^(Fe<<1|Ie>>>31),O[6]^=Y,O[7]^=H,O[16]^=Y,O[17]^=H,O[26]^=Y,O[27]^=H,O[36]^=Y,O[37]^=H,O[46]^=Y,O[47]^=H,Y=ve^(K<<1|ie>>>31),H=Ae^(ie<<1|K>>>31),O[8]^=Y,O[9]^=H,O[18]^=Y,O[19]^=H,O[28]^=Y,O[29]^=H,O[38]^=Y,O[39]^=H,O[48]^=Y,O[49]^=H,Gt=O[0],Be=O[1],Wt=O[11]<<4|O[10]>>>28,wn=O[10]<<4|O[11]>>>28,_e=O[20]<<3|O[21]>>>29,ee=O[21]<<3|O[20]>>>29,cs=O[31]<<9|O[30]>>>23,fl=O[30]<<9|O[31]>>>23,tt=O[40]<<18|O[41]>>>14,Nt=O[41]<<18|O[40]>>>14,Re=O[2]<<1|O[3]>>>31,qe=O[3]<<1|O[2]>>>31,st=O[13]<<12|O[12]>>>20,jt=O[12]<<12|O[13]>>>20,Ct=O[22]<<10|O[23]>>>22,Ht=O[23]<<10|O[22]>>>22,J=O[33]<<13|O[32]>>>19,le=O[32]<<13|O[33]>>>19,dl=O[42]<<2|O[43]>>>30,hl=O[43]<<2|O[42]>>>30,wt=O[5]<<30|O[4]>>>2,Ot=O[4]<<30|O[5]>>>2,Se=O[14]<<6|O[15]>>>26,Ee=O[15]<<6|O[14]>>>26,We=O[25]<<11|O[24]>>>21,ze=O[24]<<11|O[25]>>>21,_a=O[34]<<15|O[35]>>>17,qt=O[35]<<15|O[34]>>>17,de=O[45]<<29|O[44]>>>3,Te=O[44]<<29|O[45]>>>3,Ve=O[6]<<28|O[7]>>>4,xt=O[7]<<28|O[6]>>>4,Ia=O[17]<<23|O[16]>>>9,it=O[16]<<23|O[17]>>>9,zt=O[26]<<25|O[27]>>>7,ft=O[27]<<25|O[26]>>>7,Ye=O[36]<<21|O[37]>>>11,rt=O[37]<<21|O[36]>>>11,Kt=O[47]<<24|O[46]>>>8,Et=O[46]<<24|O[47]>>>8,Zn=O[8]<<27|O[9]>>>5,Vt=O[9]<<27|O[8]>>>5,fn=O[18]<<20|O[19]>>>12,je=O[19]<<20|O[18]>>>12,Yt=O[29]<<7|O[28]>>>25,Ca=O[28]<<7|O[29]>>>25,Ue=O[38]<<8|O[39]>>>24,It=O[39]<<8|O[38]>>>24,bt=O[48]<<14|O[49]>>>18,ar=O[49]<<14|O[48]>>>18,O[0]=Gt^~st&We,O[1]=Be^~jt&ze,O[10]=Ve^~fn&_e,O[11]=xt^~je&ee,O[20]=Re^~Se&zt,O[21]=qe^~Ee&ft,O[30]=Zn^~Wt&Ct,O[31]=Vt^~wn&Ht,O[40]=wt^~Ia&Yt,O[41]=Ot^~it&Ca,O[2]=st^~We&Ye,O[3]=jt^~ze&rt,O[12]=fn^~_e&J,O[13]=je^~ee&le,O[22]=Se^~zt&Ue,O[23]=Ee^~ft&It,O[32]=Wt^~Ct&_a,O[33]=wn^~Ht&qt,O[42]=Ia^~Yt&cs,O[43]=it^~Ca&fl,O[4]=We^~Ye&bt,O[5]=ze^~rt&ar,O[14]=_e^~J&de,O[15]=ee^~le&Te,O[24]=zt^~Ue&tt,O[25]=ft^~It&Nt,O[34]=Ct^~_a&Kt,O[35]=Ht^~qt&Et,O[44]=Yt^~cs&dl,O[45]=Ca^~fl&hl,O[6]=Ye^~bt&Gt,O[7]=rt^~ar&Be,O[16]=J^~de&Ve,O[17]=le^~Te&xt,O[26]=Ue^~tt&Re,O[27]=It^~Nt&qe,O[36]=_a^~Kt&Zn,O[37]=qt^~Et&Vt,O[46]=cs^~dl&wt,O[47]=fl^~hl&Ot,O[8]=bt^~Gt&st,O[9]=ar^~Be&jt,O[18]=de^~Ve&fn,O[19]=Te^~xt&je,O[28]=tt^~Re&Se,O[29]=Nt^~qe&Ee,O[38]=Kt^~Zn&Wt,O[39]=Et^~Vt&wn,O[48]=dl^~wt&Ia,O[49]=hl^~Ot&it,O[0]^=m[W],O[1]^=m[W+1]};if(o)t.exports=y;else for(S=0;S<x.length;++S)i[x[S]]=y[x[S]]})()})(HQ);var QMe=HQ.exports;const ZMe=Pi(QMe);function ir(t){return"0x"+ZMe.keccak_256(ge(t))}const XMe="rlp/5.7.0",bs=new q(XMe);function xF(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function wF(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function WQ(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(WQ(a))}),n.length<=55)return n.unshift(192+n.length),n;const i=xF(n.length);return i.unshift(247+i.length),i.concat(n)}kv(t)||bs.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ge(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=xF(e.length);return r.unshift(183+r.length),r.concat(e)}function Oc(t){return be(WQ(t))}function EF(t,e,r,n){const i=[];for(;r<e+1+n;){const a=qQ(t,r);i.push(a.result),r+=a.consumed,r>e+1+n&&bs.throwError("child data too short",q.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function qQ(t,e){if(t.length===0&&bs.throwError("data too short",q.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&bs.throwError("data short segment too short",q.errors.BUFFER_OVERRUN,{});const n=wF(t,e+1,r);return e+1+r+n>t.length&&bs.throwError("data long segment too short",q.errors.BUFFER_OVERRUN,{}),EF(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&bs.throwError("data array too short",q.errors.BUFFER_OVERRUN,{}),EF(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&bs.throwError("data array too short",q.errors.BUFFER_OVERRUN,{});const n=wF(t,e+1,r);e+1+r+n>t.length&&bs.throwError("data array too short",q.errors.BUFFER_OVERRUN,{});const i=be(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&bs.throwError("data too short",q.errors.BUFFER_OVERRUN,{});const n=be(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:be(t[e])}}function J2(t){const e=ge(t),r=qQ(e,0);return r.consumed!==e.length&&bs.throwArgumentError("invalid rlp data","data",t),r.result}const JMe=Object.freeze(Object.defineProperty({__proto__:null,decode:J2,encode:Oc},Symbol.toStringTag,{value:"Module"})),e7e="address/5.7.0",jl=new q(e7e);function SF(t){ht(t,20)||jl.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ge(ir(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const t7e=9007199254740991;function r7e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Hk={};for(let t=0;t<10;t++)Hk[String(t)]=String(t);for(let t=0;t<26;t++)Hk[String.fromCharCode(65+t)]=String(10+t);const TF=Math.floor(r7e(t7e));function KQ(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Hk[n]).join("");for(;e.length>=TF;){let n=e.substring(0,TF);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Zt(t){let e=null;if(typeof t!="string"&&jl.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=SF(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&jl.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==KQ(t)&&jl.throwArgumentError("bad icap checksum","address",t),e=FMe(t.substring(4));e.length<40;)e="0"+e;e=SF("0x"+e)}else jl.throwArgumentError("invalid address","address",t);return e}function QQ(t){try{return Zt(t),!0}catch{}return!1}function n7e(t){let e=BMe(Zt(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+KQ("XE00"+e)+e}function eE(t){let e=null;try{e=Zt(t.from)}catch{jl.throwArgumentError("missing from address","transaction",t)}const r=Ns(ge(me.from(t.nonce).toHexString()));return Zt(Hr(ir(Oc([e,r])),12))}function i7e(t,e,r){return zs(e)!==32&&jl.throwArgumentError("salt must be 32 bytes","salt",e),zs(r)!==32&&jl.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Zt(Hr(ir(sr(["0xff",Zt(t),e,r])),12))}class a7e extends al{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Zt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Zt(or(e.readValue().toHexString(),20))}}class s7e extends al{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const yd=new q(Nv);function ZQ(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(u=>{const c=u.localName;return c||yd.throwError("cannot encode object for signature with missing names",q.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[c]&&yd.throwError("cannot encode object for signature with duplicate names",q.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[c]=!0,r[c]})}else yd.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&yd.throwArgumentError("types/value length mismatch","tuple",r);let i=new o3(t.wordSize),a=new o3(t.wordSize),s=[];e.forEach((l,u)=>{let c=n[u];if(l.dynamic){let f=a.length;l.encode(a,c);let d=i.writeUpdatableValue();s.push(h=>{d(h+f)})}else l.encode(i,c)}),s.forEach(l=>{l(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(a),o}function XQ(t,e){let r=[],n=t.subReader(0);e.forEach(a=>{let s=null;if(a.dynamic){let o=t.readValue(),l=n.subReader(o.toNumber());try{s=a.decode(l)}catch(u){if(u.code===q.errors.BUFFER_OVERRUN)throw u;s=u,s.baseType=a.name,s.name=a.localName,s.type=a.type}}else try{s=a.decode(t)}catch(o){if(o.code===q.errors.BUFFER_OVERRUN)throw o;s=o,s.baseType=a.name,s.name=a.localName,s.type=a.type}s!=null&&r.push(s)});const i=e.reduce((a,s)=>{const o=s.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});e.forEach((a,s)=>{let o=a.localName;if(!o||i[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const l=r[s];l instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw l}}):r[o]=l});for(let a=0;a<r.length;a++){const s=r[a];s instanceof Error&&Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class o7e extends al{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",a=r===-1||e.dynamic;super("array",i,n,a),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),yd.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<r.length;a++)i.push(this.coder);return ZQ(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&yd.throwError("insufficient data length",q.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new s7e(this.coder));return e.coerce(this.name,XQ(e,n))}}class l7e extends al{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class JQ extends al{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ge(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class u7e extends JQ{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,be(super.decode(e)))}}class c7e extends al{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=ge(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,be(e.readBytes(this.size)))}}class f7e extends al{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const eZ="0x0000000000000000000000000000000000000000",tZ=me.from(-1),Wk=me.from(0),rZ=me.from(1),d7e=me.from(2),h7e=me.from("1000000000000000000"),nZ=me.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),p7e=me.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),m7e=me.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),qk="0x0000000000000000000000000000000000000000000000000000000000000000",g7e="Ξ",iZ=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:eZ,EtherSymbol:g7e,HashZero:qk,MaxInt256:m7e,MaxUint256:nZ,MinInt256:p7e,NegativeOne:tZ,One:rZ,Two:d7e,WeiPerEther:h7e,Zero:Wk},Symbol.toStringTag,{value:"Module"}));class v7e extends al{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=me.from(r),i=nZ.mask(e.wordSize*8);if(this.signed){let a=i.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(rZ).mul(tZ)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Wk)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const y7e="strings/5.7.0",aZ=new q(y7e);var Vs;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Vs||(Vs={}));var bi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(bi||(bi={}));function b7e(t,e,r,n,i){return aZ.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function sZ(t,e,r,n,i){if(t===bi.BAD_PREFIX||t===bi.UNEXPECTED_CONTINUE){let a=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)a++;return a}return t===bi.OVERRUN?r.length-e-1:0}function x7e(t,e,r,n,i){return t===bi.OVERLONG?(n.push(i),0):(n.push(65533),sZ(t,e,r))}const oZ=Object.freeze({error:b7e,ignore:sZ,replace:x7e});function Kk(t,e){e==null&&(e=oZ.error),t=ge(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let a=null,s=null;if((i&224)===192)a=1,s=127;else if((i&240)===224)a=2,s=2047;else if((i&248)===240)a=3,s=65535;else{(i&192)===128?n+=e(bi.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(bi.BAD_PREFIX,n-1,t,r);continue}if(n-1+a>=t.length){n+=e(bi.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let u=t[n];if((u&192)!=128){n+=e(bi.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|u&63,n++}if(o!==null){if(o>1114111){n+=e(bi.OUT_OF_RANGE,n-1-a,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(bi.UTF16_SURROGATE,n-1-a,t,r,o);continue}if(o<=s){n+=e(bi.OVERLONG,n-1-a,t,r,o);continue}r.push(o)}}return r}function qr(t,e=Vs.current){e!=Vs.current&&(aZ.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);if(n>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ge(r)}function sR(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function w7e(t,e){return'"'+Kk(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?sR(r):(r-=65536,sR((r>>10&1023)+55296)+sR((r&1023)+56320))}).join("")+'"'}function l3(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jc(t,e){return l3(Kk(t,e))}function Zx(t,e=Vs.current){return Kk(qr(t,e))}function E7e(t){const e=qr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return be(sr([e,qk]).slice(0,32))}function S7e(t){const e=ge(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Jc(e.slice(0,r))}function T7e(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function Qk(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let a=i.split(":");r+=parseInt(a[0],16),n[r]=e(a[1])}),n}function lZ(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function Zk(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const A7e=lZ("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),R7e="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),_7e=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],I7e=Qk("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),C7e=Qk("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),P7e=Qk("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",T7e),k7e=lZ("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function O7e(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function N7e(t){return!!Zk(t,A7e)}function L7e(t){let e=Zk(t,_7e);if(e)return[t+e.s];let r=I7e[t];if(r)return r;let n=C7e[t];if(n)return[t+n[0]];let i=P7e[t];return i||null}function D7e(t){return!!Zk(t,k7e)}function M7e(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Zx(t);e=O7e(e.map(n=>{if(R7e.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=L7e(n);return i||[n]})),e=Zx(l3(e),Vs.NFKC),e.forEach(n=>{if(D7e(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(N7e(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=l3(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}class $7e extends JQ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,qr(r))}decode(e){return Jc(super.decode(e))}}class fb extends al{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,r){return ZQ(e,this.coders,r)}decode(e){return e.coerce(this.name,XQ(e,this.coders))}}const db=new q(Nv),F7e=new RegExp(/^bytes([0-9]*)$/),B7e=new RegExp(/^(u?int)([0-9]*)$/);class uZ{constructor(e){se(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new a7e(e.name);case"bool":return new l7e(e.name);case"string":return new $7e(e.name);case"bytes":return new u7e(e.name);case"array":return new o7e(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new fb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new f7e(e.name)}let r=e.type.match(B7e);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&db.throwArgumentError("invalid "+r[1]+" bit length","param",e),new v7e(n/8,r[1]==="int",e.name)}if(r=e.type.match(F7e),r){let n=parseInt(r[1]);return(n===0||n>32)&&db.throwArgumentError("invalid bytes length","param",e),new c7e(n,e.name)}return db.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Qx(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new o3(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(an.from(i)));return new fb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&db.throwError("types/values length mismatch",q.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(an.from(s))),i=new fb(n,"_"),a=this._getWriter();return i.encode(a,r),a.data}decode(e,r,n){const i=e.map(s=>this._getCoder(an.from(s)));return new fb(i,"_").decode(this._getReader(ge(r),n))}}const cZ=new uZ;function zl(t){return ir(qr(t))}const fZ="hash/5.7.0";function Xk(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ge(e)}function Jk(t){t=ge(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const U7e=Object.freeze(Object.defineProperty({__proto__:null,decode:Xk,encode:Jk},Symbol.toStringTag,{value:"Module"}));function dZ(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(a,s){n.call(a,function(o){s>0&&Array.isArray(o)?i(o,s-1):r.push(o)})};return i(t,e),r}function j7e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function z7e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,a=[0,1];for(let R=1;R<n;R++)a.push(i+=r());let s=r(),o=e;e+=s;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,d=Math.pow(2,f),h=d>>>1,p=h>>1,m=d-1;let g=0;for(let R=0;R<f;R++)g=g<<1|c();let v=[],b=0,w=d;for(;;){let R=Math.floor(((g-b+1)*i-1)/w),I=0,D=n;for(;D-I>1;){let $=I+D>>>1;R<a[$]?D=$:I=$}if(I==0)break;v.push(I);let N=b+Math.floor(w*a[I]/i),F=b+Math.floor(w*a[I+1]/i)-1;for(;!((N^F)&h);)g=g<<1&m|c(),N=N<<1&m,F=F<<1&m|1;for(;N&~F&p;)g=g&h|g<<1&m>>>1|c(),N=N<<1^h,F=(F^h)<<1|h|1;b=N,w=1+F-N}let E=n-4;return v.map(R=>{switch(R-E){case 3:return E+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return E+256+(t[o++]<<8|t[o++]);case 1:return E+t[o++];default:return R-1}})}function V7e(t){let e=0;return()=>t[e++]}function Y7e(t){return V7e(z7e(t))}function G7e(t){return t&1?~t>>1:t>>1}function H7e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function AF(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function W7e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=G7e(e());return r}function Xx(t,e){let r=AF(t(),t),n=t(),i=AF(n,t),a=H7e(n,t);for(let s=0;s<n;s++)for(let o=0;o<a[s];o++)r.push(i[s]+o);return e?r.map(s=>e[s]):r}function q7e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Q7e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Z7e(r,t))}return j7e(dZ(e))}function K7e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function hZ(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)W7e(t,r).forEach((a,s)=>n[s].push(a));return n}function Q7e(t,e){let r=1+e(),n=e(),i=K7e(e),a=hZ(i.length,1+t,e);return dZ(a.map((s,o)=>{const l=s[0],u=s.slice(1);return Array(i[o]).fill(void 0).map((c,f)=>{let d=f*n;return[l+f*r,u.map(h=>h+d)]})}))}function Z7e(t,e){let r=1+e();return hZ(r,1+t,e).map(i=>[i[0],i.slice(1)])}function X7e(t){let e=Xx(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=Xx(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,c)=>c.set.size-u.set.size);let i=t(),a=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let o=i==1,l=i==2;return{branches:n,valid:a,fe0f:s,save:o,check:l}}}function J7e(){return Y7e(Xk("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const tE=J7e(),e$e=new Set(Xx(tE)),t$e=new Set(Xx(tE)),r$e=q7e(tE),n$e=X7e(tE),RF=45,_F=95;function pZ(t){return Zx(t)}function i$e(t){return t.filter(e=>e!=65039)}function mZ(t){for(let e of t.split(".")){let r=pZ(e);try{for(let n=r.lastIndexOf(_F)-1;n>=0;n--)if(r[n]!==_F)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===RF&&r[3]===RF)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function a$e(t){return mZ(s$e(t,i$e))}function s$e(t,e){let r=pZ(t).reverse(),n=[];for(;r.length;){let i=l$e(r);if(i){n.push(...e(i));continue}let a=r.pop();if(e$e.has(a)){n.push(a);continue}if(t$e.has(a))continue;let s=r$e[a];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return mZ(o$e(String.fromCodePoint(...n)))}function o$e(t){return t.normalize("NFC")}function l$e(t,e){var r;let n=n$e,i,a,s=[],o=t.length;for(e&&(e.length=0);o;){let l=t[--o];if(n=(r=n.branches.find(u=>u.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)a=l;else if(n.check&&l===a)break;s.push(l),n.fe0f&&(s.push(65039),o>0&&t[o-1]==65039&&o--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(o).reverse()),t.length=o)}return i}const u$e=new q(fZ),gZ=new Uint8Array(32);gZ.fill(0);function IF(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function e5(t){const e=qr(a$e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(IF(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(IF(e.slice(n))),r}function c$e(t){try{return e5(t).length!==0}catch{}return!1}function Zp(t){typeof t!="string"&&u$e.throwArgumentError("invalid ENS name; not a string","name",t);let e=gZ;const r=e5(t);for(;r.length;)e=ir(sr([e,ir(r.pop())]));return be(e)}function vZ(t){return be(sr(e5(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const f$e=`Ethereum Signed Message:
`;function t5(t){return typeof t=="string"&&(t=qr(t)),ir(sr([qr(f$e),qr(String(t.length)),t]))}var d$e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Sr=new q(fZ),yZ=new Uint8Array(32);yZ.fill(0);const h$e=me.from(-1),bZ=me.from(0),xZ=me.from(1),p$e=me.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function m$e(t){const e=ge(t),r=e.length%32;return r?ri([e,yZ.slice(r)]):be(e)}const g$e=or(xZ.toHexString(),32),v$e=or(bZ.toHexString(),32),CF={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},oR=["name","version","chainId","verifyingContract","salt"];function PF(t){return function(e){return typeof e!="string"&&Sr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const y$e={name:PF("name"),version:PF("version"),chainId:function(t){try{return me.from(t).toString()}catch{}return Sr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Zt(t).toLowerCase()}catch{}return Sr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ge(t);if(e.length!==32)throw new Error("bad length");return be(e)}catch{}return Sr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function lR(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Sr.throwArgumentError("invalid numeric width","type",t);const i=p$e.mask(r?n-1:n),a=r?i.add(xZ).mul(h$e):bZ;return function(s){const o=me.from(s);return(o.lt(a)||o.gt(i))&&Sr.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),or(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Sr.throwArgumentError("invalid bytes width","type",t),function(n){return ge(n).length!==r&&Sr.throwArgumentError(`invalid length for ${t}`,"value",n),m$e(n)}}}switch(t){case"address":return function(e){return or(Zt(e),32)};case"bool":return function(e){return e?g$e:v$e};case"bytes":return function(e){return ir(e)};case"string":return function(e){return zl(e)}}return null}function kF(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class _n{constructor(e){se(this,"types",Object.freeze(oi(e))),se(this,"_encoderCache",{}),se(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const l={};e[o].forEach(u=>{l[u.name]&&Sr.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e),l[u.name]=!0;const c=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===o&&Sr.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!lR(c)&&(n[c]||Sr.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),n[c].push(o),r[o][c]=!0)})}const a=Object.keys(n).filter(o=>n[o].length===0);a.length===0?Sr.throwArgumentError("missing primary type","types",e):a.length>1&&Sr.throwArgumentError(`ambiguous primary types or unused types: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),se(this,"primaryType",a[0]);function s(o,l){l[o]&&Sr.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(r[o]).forEach(u=>{n[u]&&(s(u,l),Object.keys(l).forEach(c=>{i[c][u]=!0}))}),delete l[o]}s(this.primaryType,{});for(const o in i){const l=Object.keys(i[o]);l.sort(),this._types[o]=kF(o,e[o])+l.map(u=>kF(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=lR(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],a=this.getEncoder(i),s=parseInt(r[3]);return o=>{s>=0&&o.length!==s&&Sr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(a);return this._types[i]&&(l=l.map(ir)),ir(ri(l))}}const n=this.types[e];if(n){const i=zl(this._types[e]);return a=>{const s=n.map(({name:o,type:l})=>{const u=this.getEncoder(l)(a[o]);return this._types[l]?ir(u):u});return s.unshift(i),ri(s)}}return Sr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Sr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ir(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(lR(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&Sr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}const a=this.types[e];return a?a.reduce((s,{name:o,type:l})=>(s[o]=this._visit(l,r[o],n),s),{}):Sr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new _n(e)}static getPrimaryType(e){return _n.from(e).primaryType}static hashStruct(e,r,n){return _n.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=CF[n];i||Sr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>oR.indexOf(n.name)-oR.indexOf(i.name)),_n.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return ri(["0x1901",_n.hashDomain(e),_n.from(r).hash(n)])}static hash(e,r,n){return ir(_n.encode(e,r,n))}static resolveNames(e,r,n,i){return d$e(this,void 0,void 0,function*(){e=cr(e);const a={};e.verifyingContract&&!ht(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=_n.from(r);s.visit(n,(o,l)=>(o==="address"&&!ht(l,20)&&(a[l]="0x"),l));for(const o in a)a[o]=yield i(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(o,l)=>o==="address"&&a[l]?a[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){_n.hashDomain(e);const i={},a=[];oR.forEach(l=>{const u=e[l];u!=null&&(i[l]=y$e[l](u),a.push({name:l,type:CF[l]}))});const s=_n.from(r),o=cr(r);return o.EIP712Domain?Sr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=a,s.encode(n),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return be(ge(u));if(l.match(/^u?int/))return me.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&Sr.throwArgumentError("invalid string","value",u),u}return Sr.throwArgumentError("unsupported type","type",l)})}}}const wr=new q(Nv);class wZ extends Xc{}class EZ extends Xc{}class b$e extends Xc{}class Jx extends Xc{static isIndexed(e){return!!(e&&e._isIndexed)}}const x$e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function OF(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class u3{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,se(this,"fragments",r.map(n=>_s.from(n)).filter(n=>n!=null)),se(this,"_abiCoder",Pn(new.target,"getAbiCoder")()),se(this,"functions",{}),se(this,"errors",{}),se(this,"events",{}),se(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){wr.warn("duplicate definition - constructor");return}se(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let a=n.format();if(i[a]){wr.warn("duplicate definition - "+a);return}i[a]=n}),this.deploy||se(this,"deploy",Qa.from({payable:!1,type:"constructor"})),se(this,"_isInterface",!0)}format(e){e||(e=Dt.full),e===Dt.sighash&&wr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Dt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return cZ}static getAddress(e){return Zt(e)}static getSighash(e){return Hr(zl(e.format()),0,4)}static getEventTopic(e){return zl(e.format())}getFunction(e){if(ht(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];wr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return i.length===0?wr.throwArgumentError("no matching function","name",n):i.length>1&&wr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Za.fromString(e).format()];return r||wr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ht(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];wr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return i.length===0?wr.throwArgumentError("no matching event","name",n):i.length>1&&wr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[As.fromString(e).format()];return r||wr.throwArgumentError("no matching event","signature",e),r}getError(e){if(ht(e)){const n=Pn(this.constructor,"getSighash");for(const i in this.errors){const a=this.errors[i];if(e===n(a))return this.errors[i]}wr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return i.length===0?wr.throwArgumentError("no matching error","name",n):i.length>1&&wr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Za.fromString(e).format()];return r||wr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Pn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Pn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=ge(r);return be(n.slice(0,4))!==this.getSighash(e)&&wr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",be(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),be(sr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=ge(r);return be(n.slice(0,4))!==this.getSighash(e)&&wr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",be(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),be(sr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=ge(r),i=null,a="",s=null,o=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=be(n.slice(0,4)),c=x$e[u];if(c)s=this._abiCoder.decode(c.inputs,n.slice(4)),o=c.name,l=c.signature,c.reason&&(i=s[0]),o==="Error"?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:o==="Panic"&&(a=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const f=this.getError(u);s=this._abiCoder.decode(f.inputs,n.slice(4)),o=f.name,l=f.format()}catch{}break}}return wr.throwError("call revert exception"+a,q.errors.CALL_EXCEPTION,{method:e.format(),data:be(r),errorArgs:s,errorName:o,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),be(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&wr.throwError("too many arguments for "+e.format(),q.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(a,s)=>a.type==="string"?zl(s):a.type==="bytes"?ir(be(s)):(a.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),a.type.match(/^u?int/)&&(s=me.from(s).toHexString()),a.type==="address"&&this._abiCoder.encode(["address"],[s]),or(be(s),32));for(r.forEach((a,s)=>{let o=e.inputs[s];if(!o.indexed){a!=null&&wr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?wr.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?n.push(a.map(l=>i(o,l))):n.push(i(o,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&wr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,o)=>{const l=r[o];if(s.indexed)if(s.type==="string")n.push(zl(l));else if(s.type==="bytes")n.push(ir(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[l]))}else i.push(s),a.push(l)}),{data:this._abiCoder.encode(i,a),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ht(n[0],32)||n[0].toLowerCase()!==d)&&wr.throwError("fragment/topic mismatch",q.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],a=[],s=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(an.fromObject({type:"bytes32",name:d.name})),s.push(!0)):(i.push(d),s.push(!1)):(a.push(d),s.push(!1))});let o=n!=null?this._abiCoder.decode(i,sr(n)):null,l=this._abiCoder.decode(a,r,!0),u=[],c=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(o==null)u[h]=new Jx({_isIndexed:!0,hash:null});else if(s[h])u[h]=new Jx({_isIndexed:!0,hash:o[f++]});else try{u[h]=o[f++]}catch(p){u[h]=p}else try{u[h]=l[c++]}catch(p){u[h]=p}if(d.name&&u[d.name]==null){const p=u[h];p instanceof Error?Object.defineProperty(u,d.name,{enumerable:!0,get:()=>{throw OF(`property ${JSON.stringify(d.name)}`,p)}}):u[d.name]=p}});for(let d=0;d<u.length;d++){const h=u[d];h instanceof Error&&Object.defineProperty(u,d,{enumerable:!0,get:()=>{throw OF(`index ${d}`,h)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new EZ({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:me.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new wZ({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=be(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new b$e({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const w$e="abstract-provider/5.7.0";var E$e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const S$e=new q(w$e);class T$e extends Xc{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class ef{constructor(){S$e.checkAbstract(new.target,ef),se(this,"_isProvider",!0)}getFeeData(){return E$e(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield $r({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,a=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,a=me.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const A$e="abstract-signer/5.7.0";var La=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const la=new q(A$e),R$e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],_$e=[q.errors.INSUFFICIENT_FUNDS,q.errors.NONCE_EXPIRED,q.errors.REPLACEMENT_UNDERPRICED];class sl{constructor(){la.checkAbstract(new.target,sl),se(this,"_isSigner",!0)}getBalance(e){return La(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return La(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return La(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield $r(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return La(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield $r(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return La(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return La(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return La(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return La(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return La(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)R$e.indexOf(n)===-1&&la.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=cr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&la.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return La(this,void 0,void 0,function*(){const r=yield $r(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>La(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&la.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?la.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&la.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&la.throwError("network does not support EIP-1559",q.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):la.throwError("failed to get consistent fee data",q.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(_$e.indexOf(i.code)>=0)throw i;return la.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",q.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&la.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield $r(r)})}_checkProvider(e){this.provider||la.throwError("missing provider",q.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Lv extends sl{constructor(e,r){super(),se(this,"address",e),se(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{la.throwError(e,q.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Lv(this.address,e)}}var SZ={},_t={},Dv=TZ;function TZ(t,e){if(!t)throw new Error(e||"Assertion failed")}TZ.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var c3={exports:{}};typeof Object.create=="function"?c3.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:c3.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var I$e=c3.exports,C$e=Dv,P$e=I$e;_t.inherits=P$e;function k$e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function O$e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):k$e(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}_t.toArray=O$e;function N$e(t){for(var e="",r=0;r<t.length;r++)e+=RZ(t[r].toString(16));return e}_t.toHex=N$e;function AZ(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}_t.htonl=AZ;function L$e(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=AZ(i)),r+=_Z(i.toString(16))}return r}_t.toHex32=L$e;function RZ(t){return t.length===1?"0"+t:t}_t.zero2=RZ;function _Z(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}_t.zero8=_Z;function D$e(t,e,r,n){var i=r-e;C$e(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var l;n==="big"?l=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:l=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=l>>>0}return a}_t.join32=D$e;function M$e(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}_t.split32=M$e;function $$e(t,e){return t>>>e|t<<32-e}_t.rotr32=$$e;function F$e(t,e){return t<<e|t>>>32-e}_t.rotl32=F$e;function B$e(t,e){return t+e>>>0}_t.sum32=B$e;function U$e(t,e,r){return t+e+r>>>0}_t.sum32_3=U$e;function j$e(t,e,r,n){return t+e+r+n>>>0}_t.sum32_4=j$e;function z$e(t,e,r,n,i){return t+e+r+n+i>>>0}_t.sum32_5=z$e;function V$e(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}_t.sum64=V$e;function Y$e(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}_t.sum64_hi=Y$e;function G$e(t,e,r,n){var i=e+n;return i>>>0}_t.sum64_lo=G$e;function H$e(t,e,r,n,i,a,s,o){var l=0,u=e;u=u+n>>>0,l+=u<e?1:0,u=u+a>>>0,l+=u<a?1:0,u=u+o>>>0,l+=u<o?1:0;var c=t+r+i+s+l;return c>>>0}_t.sum64_4_hi=H$e;function W$e(t,e,r,n,i,a,s,o){var l=e+n+a+o;return l>>>0}_t.sum64_4_lo=W$e;function q$e(t,e,r,n,i,a,s,o,l,u){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+o>>>0,c+=f<o?1:0,f=f+u>>>0,c+=f<u?1:0;var d=t+r+i+s+l+c;return d>>>0}_t.sum64_5_hi=q$e;function K$e(t,e,r,n,i,a,s,o,l,u){var c=e+n+a+o+u;return c>>>0}_t.sum64_5_lo=K$e;function Q$e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}_t.rotr64_hi=Q$e;function Z$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}_t.rotr64_lo=Z$e;function X$e(t,e,r){return t>>>r}_t.shr64_hi=X$e;function J$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}_t.shr64_lo=J$e;var t0={},NF=_t,eFe=Dv;function rE(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t0.BlockHash=rE;rE.prototype.update=function(e,r){if(e=NF.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=NF.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};rE.prototype.digest=function(e){return this.update(this._pad()),eFe(this.pending===null),this._digest(e)};rE.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var r0={},Xs={},tFe=_t,Ls=tFe.rotr32;function rFe(t,e,r,n){if(t===0)return IZ(e,r,n);if(t===1||t===3)return PZ(e,r,n);if(t===2)return CZ(e,r,n)}Xs.ft_1=rFe;function IZ(t,e,r){return t&e^~t&r}Xs.ch32=IZ;function CZ(t,e,r){return t&e^t&r^e&r}Xs.maj32=CZ;function PZ(t,e,r){return t^e^r}Xs.p32=PZ;function nFe(t){return Ls(t,2)^Ls(t,13)^Ls(t,22)}Xs.s0_256=nFe;function iFe(t){return Ls(t,6)^Ls(t,11)^Ls(t,25)}Xs.s1_256=iFe;function aFe(t){return Ls(t,7)^Ls(t,18)^t>>>3}Xs.g0_256=aFe;function sFe(t){return Ls(t,17)^Ls(t,19)^t>>>10}Xs.g1_256=sFe;var _h=_t,oFe=t0,lFe=Xs,uR=_h.rotl32,j0=_h.sum32,uFe=_h.sum32_5,cFe=lFe.ft_1,kZ=oFe.BlockHash,fFe=[1518500249,1859775393,2400959708,3395469782];function Ys(){if(!(this instanceof Ys))return new Ys;kZ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_h.inherits(Ys,kZ);var dFe=Ys;Ys.blockSize=512;Ys.outSize=160;Ys.hmacStrength=80;Ys.padLength=64;Ys.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=uR(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),f=uFe(uR(a,5),cFe(c,s,o,l),u,n[i],fFe[c]);u=l,l=o,o=uR(s,30),s=a,a=f}this.h[0]=j0(this.h[0],a),this.h[1]=j0(this.h[1],s),this.h[2]=j0(this.h[2],o),this.h[3]=j0(this.h[3],l),this.h[4]=j0(this.h[4],u)};Ys.prototype._digest=function(e){return e==="hex"?_h.toHex32(this.h,"big"):_h.split32(this.h,"big")};var Ih=_t,hFe=t0,n0=Xs,pFe=Dv,Da=Ih.sum32,mFe=Ih.sum32_4,gFe=Ih.sum32_5,vFe=n0.ch32,yFe=n0.maj32,bFe=n0.s0_256,xFe=n0.s1_256,wFe=n0.g0_256,EFe=n0.g1_256,OZ=hFe.BlockHash,SFe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gs(){if(!(this instanceof Gs))return new Gs;OZ.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=SFe,this.W=new Array(64)}Ih.inherits(Gs,OZ);var NZ=Gs;Gs.blockSize=512;Gs.outSize=256;Gs.hmacStrength=192;Gs.padLength=64;Gs.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=mFe(EFe(n[i-2]),n[i-7],wFe(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7];for(pFe(this.k.length===n.length),i=0;i<n.length;i++){var h=gFe(d,xFe(u),vFe(u,c,f),this.k[i],n[i]),p=Da(bFe(a),yFe(a,s,o));d=f,f=c,c=u,u=Da(l,h),l=o,o=s,s=a,a=Da(h,p)}this.h[0]=Da(this.h[0],a),this.h[1]=Da(this.h[1],s),this.h[2]=Da(this.h[2],o),this.h[3]=Da(this.h[3],l),this.h[4]=Da(this.h[4],u),this.h[5]=Da(this.h[5],c),this.h[6]=Da(this.h[6],f),this.h[7]=Da(this.h[7],d)};Gs.prototype._digest=function(e){return e==="hex"?Ih.toHex32(this.h,"big"):Ih.split32(this.h,"big")};var f3=_t,LZ=NZ;function Vo(){if(!(this instanceof Vo))return new Vo;LZ.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f3.inherits(Vo,LZ);var TFe=Vo;Vo.blockSize=512;Vo.outSize=224;Vo.hmacStrength=192;Vo.padLength=64;Vo.prototype._digest=function(e){return e==="hex"?f3.toHex32(this.h.slice(0,7),"big"):f3.split32(this.h.slice(0,7),"big")};var Ci=_t,AFe=t0,RFe=Dv,Ds=Ci.rotr64_hi,Ms=Ci.rotr64_lo,DZ=Ci.shr64_hi,MZ=Ci.shr64_lo,xl=Ci.sum64,cR=Ci.sum64_hi,fR=Ci.sum64_lo,_Fe=Ci.sum64_4_hi,IFe=Ci.sum64_4_lo,CFe=Ci.sum64_5_hi,PFe=Ci.sum64_5_lo,$Z=AFe.BlockHash,kFe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function as(){if(!(this instanceof as))return new as;$Z.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=kFe,this.W=new Array(160)}Ci.inherits(as,$Z);var FZ=as;as.blockSize=1024;as.outSize=512;as.hmacStrength=192;as.padLength=128;as.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=zFe(n[i-4],n[i-3]),s=VFe(n[i-4],n[i-3]),o=n[i-14],l=n[i-13],u=UFe(n[i-30],n[i-29]),c=jFe(n[i-30],n[i-29]),f=n[i-32],d=n[i-31];n[i]=_Fe(a,s,o,l,u,c,f,d),n[i+1]=IFe(a,s,o,l,u,c,f,d)}};as.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],m=this.h[11],g=this.h[12],v=this.h[13],b=this.h[14],w=this.h[15];RFe(this.k.length===n.length);for(var E=0;E<n.length;E+=2){var R=b,I=w,D=FFe(d,h),N=BFe(d,h),F=OFe(d,h,p,m,g),$=NFe(d,h,p,m,g,v),z=this.k[E],k=this.k[E+1],A=n[E],y=n[E+1],x=CFe(R,I,D,N,F,$,z,k,A,y),S=PFe(R,I,D,N,F,$,z,k,A,y);R=MFe(i,a),I=$Fe(i,a),D=LFe(i,a,s,o,l),N=DFe(i,a,s,o,l,u);var C=cR(R,I,D,N),P=fR(R,I,D,N);b=g,w=v,g=p,v=m,p=d,m=h,d=cR(c,f,x,S),h=fR(f,f,x,S),c=l,f=u,l=s,u=o,s=i,o=a,i=cR(x,S,C,P),a=fR(x,S,C,P)}xl(this.h,0,i,a),xl(this.h,2,s,o),xl(this.h,4,l,u),xl(this.h,6,c,f),xl(this.h,8,d,h),xl(this.h,10,p,m),xl(this.h,12,g,v),xl(this.h,14,b,w)};as.prototype._digest=function(e){return e==="hex"?Ci.toHex32(this.h,"big"):Ci.split32(this.h,"big")};function OFe(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function NFe(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function LFe(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function DFe(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function MFe(t,e){var r=Ds(t,e,28),n=Ds(e,t,2),i=Ds(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function $Fe(t,e){var r=Ms(t,e,28),n=Ms(e,t,2),i=Ms(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function FFe(t,e){var r=Ds(t,e,14),n=Ds(t,e,18),i=Ds(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function BFe(t,e){var r=Ms(t,e,14),n=Ms(t,e,18),i=Ms(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function UFe(t,e){var r=Ds(t,e,1),n=Ds(t,e,8),i=DZ(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function jFe(t,e){var r=Ms(t,e,1),n=Ms(t,e,8),i=MZ(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function zFe(t,e){var r=Ds(t,e,19),n=Ds(e,t,29),i=DZ(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function VFe(t,e){var r=Ms(t,e,19),n=Ms(e,t,29),i=MZ(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var d3=_t,BZ=FZ;function Yo(){if(!(this instanceof Yo))return new Yo;BZ.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}d3.inherits(Yo,BZ);var YFe=Yo;Yo.blockSize=1024;Yo.outSize=384;Yo.hmacStrength=192;Yo.padLength=128;Yo.prototype._digest=function(e){return e==="hex"?d3.toHex32(this.h.slice(0,12),"big"):d3.split32(this.h.slice(0,12),"big")};r0.sha1=dFe;r0.sha224=TFe;r0.sha256=NZ;r0.sha384=YFe;r0.sha512=FZ;var UZ={},Nc=_t,GFe=t0,hb=Nc.rotl32,LF=Nc.sum32,z0=Nc.sum32_3,DF=Nc.sum32_4,jZ=GFe.BlockHash;function Hs(){if(!(this instanceof Hs))return new Hs;jZ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Nc.inherits(Hs,jZ);UZ.ripemd160=Hs;Hs.blockSize=512;Hs.outSize=160;Hs.hmacStrength=192;Hs.padLength=64;Hs.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],l=n,u=i,c=a,f=s,d=o,h=0;h<80;h++){var p=LF(hb(DF(n,MF(h,i,a,s),e[qFe[h]+r],HFe(h)),QFe[h]),o);n=o,o=s,s=hb(a,10),a=i,i=p,p=LF(hb(DF(l,MF(79-h,u,c,f),e[KFe[h]+r],WFe(h)),ZFe[h]),d),l=d,d=f,f=hb(c,10),c=u,u=p}p=z0(this.h[1],a,f),this.h[1]=z0(this.h[2],s,d),this.h[2]=z0(this.h[3],o,l),this.h[3]=z0(this.h[4],n,u),this.h[4]=z0(this.h[0],i,c),this.h[0]=p};Hs.prototype._digest=function(e){return e==="hex"?Nc.toHex32(this.h,"little"):Nc.split32(this.h,"little")};function MF(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function HFe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function WFe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var qFe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],KFe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],QFe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ZFe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],XFe=_t,JFe=Dv;function Ch(t,e,r){if(!(this instanceof Ch))return new Ch(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(XFe.toArray(e,r))}var eBe=Ch;Ch.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),JFe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Ch.prototype.update=function(e,r){return this.inner.update(e,r),this};Ch.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=_t,e.common=t0,e.sha=r0,e.ripemd=UZ,e.hmac=eBe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(SZ);const yi=Pi(SZ);function i0(t,e,r){return r={path:e,exports:{},require:function(n,i){return tBe(n,i??r.path)}},t(r,r.exports),r.exports}function tBe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r5=zZ;function zZ(t,e){if(!t)throw new Error(e||"Assertion failed")}zZ.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Xa=i0(function(t,e){var r=e;function n(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)l[u]=s[u]|0;return l}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)l.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),f=c>>8,d=c&255;f?l.push(f,d):l.push(d)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function a(s){for(var o="",l=0;l<s.length;l++)o+=i(s[l].toString(16));return o}r.toHex=a,r.encode=function(o,l){return l==="hex"?a(o):o}}),ea=i0(function(t,e){var r=e;r.assert=r5,r.toArray=Xa.toArray,r.zero2=Xa.zero2,r.toHex=Xa.toHex,r.encode=Xa.encode;function n(l,u,c){var f=new Array(Math.max(l.bitLength(),c)+1);f.fill(0);for(var d=1<<u+1,h=l.clone(),p=0;p<f.length;p++){var m,g=h.andln(d-1);h.isOdd()?(g>(d>>1)-1?m=(d>>1)-g:m=g,h.isubn(m)):m=0,f[p]=m,h.iushrn(1)}return f}r.getNAF=n;function i(l,u){var c=[[],[]];l=l.clone(),u=u.clone();for(var f=0,d=0,h;l.cmpn(-f)>0||u.cmpn(-d)>0;){var p=l.andln(3)+f&3,m=u.andln(3)+d&3;p===3&&(p=-1),m===3&&(m=-1);var g;p&1?(h=l.andln(7)+f&7,(h===3||h===5)&&m===2?g=-p:g=p):g=0,c[0].push(g);var v;m&1?(h=u.andln(7)+d&7,(h===3||h===5)&&p===2?v=-m:v=m):v=0,c[1].push(v),2*f===g+1&&(f=1-f),2*d===v+1&&(d=1-d),l.iushrn(1),u.iushrn(1)}return c}r.getJSF=i;function a(l,u,c){var f="_"+u;l.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=c.call(this)}}r.cachedProperty=a;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function o(l){return new ut(l,"hex","le")}r.intFromLE=o}),ew=ea.getNAF,rBe=ea.getJSF,tw=ea.assert;function Ou(t,e){this.type=t,this.p=new ut(e.p,16),this.red=e.prime?ut.red(e.prime):ut.mont(this.p),this.zero=new ut(0).toRed(this.red),this.one=new ut(1).toRed(this.red),this.two=new ut(2).toRed(this.red),this.n=e.n&&new ut(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tf=Ou;Ou.prototype.point=function(){throw new Error("Not implemented")};Ou.prototype.validate=function(){throw new Error("Not implemented")};Ou.prototype._fixedNafMul=function(e,r){tw(e.precomputed);var n=e._getDoubles(),i=ew(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,l;for(o=0;o<i.length;o+=n.step){l=0;for(var u=o+n.step-1;u>=o;u--)l=(l<<1)+i[u];s.push(l)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=a;d>0;d--){for(o=0;o<s.length;o++)l=s[o],l===d?f=f.mixedAdd(n.points[o]):l===-d&&(f=f.mixedAdd(n.points[o].neg()));c=c.add(f)}return c.toP()};Ou.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=ew(r,n,this._bitLength),o=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var u=0;l>=0&&s[l]===0;l--)u++;if(l>=0&&u++,o=o.dblp(u),l<0)break;var c=s[l];tw(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};Ou.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,l=this._wnafT3,u=0,c,f,d;for(c=0;c<i;c++){d=r[c];var h=d._getNAFPoints(e);s[c]=h.wnd,o[c]=h.points}for(c=i-1;c>=1;c-=2){var p=c-1,m=c;if(s[p]!==1||s[m]!==1){l[p]=ew(n[p],s[p],this._bitLength),l[m]=ew(n[m],s[m],this._bitLength),u=Math.max(l[p].length,u),u=Math.max(l[m].length,u);continue}var g=[r[p],null,null,r[m]];r[p].y.cmp(r[m].y)===0?(g[1]=r[p].add(r[m]),g[2]=r[p].toJ().mixedAdd(r[m].neg())):r[p].y.cmp(r[m].y.redNeg())===0?(g[1]=r[p].toJ().mixedAdd(r[m]),g[2]=r[p].add(r[m].neg())):(g[1]=r[p].toJ().mixedAdd(r[m]),g[2]=r[p].toJ().mixedAdd(r[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=rBe(n[p],n[m]);for(u=Math.max(b[0].length,u),l[p]=new Array(u),l[m]=new Array(u),f=0;f<u;f++){var w=b[0][f]|0,E=b[1][f]|0;l[p][f]=v[(w+1)*3+(E+1)],l[m][f]=0,o[p]=g}}var R=this.jpoint(null,null,null),I=this._wnafT4;for(c=u;c>=0;c--){for(var D=0;c>=0;){var N=!0;for(f=0;f<i;f++)I[f]=l[f][c]|0,I[f]!==0&&(N=!1);if(!N)break;D++,c--}if(c>=0&&D++,R=R.dblp(D),c<0)break;for(f=0;f<i;f++){var F=I[f];F!==0&&(F>0?d=o[f][F-1>>1]:F<0&&(d=o[f][-F-1>>1].neg()),d.type==="affine"?R=R.mixedAdd(d):R=R.add(d))}}for(c=0;c<i;c++)o[c]=null;return a?R:R.toP()};function Aa(t,e){this.curve=t,this.type=e,this.precomputed=null}Ou.BasePoint=Aa;Aa.prototype.eq=function(){throw new Error("Not implemented")};Aa.prototype.validate=function(){return this.curve.validate(this)};Ou.prototype.decodePoint=function(e,r){e=ea.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?tw(e[e.length-1]%2===0):e[0]===7&&tw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Aa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Aa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Aa.prototype.encode=function(e,r){return ea.encode(this._encode(r),e)};Aa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Aa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Aa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Aa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Aa.prototype._getBeta=function(){return null};Aa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var n5=i0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),nBe=ea.assert;function Ra(t){tf.call(this,"short",t),this.a=new ut(t.a,16).toRed(this.red),this.b=new ut(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n5(Ra,tf);var iBe=Ra;Ra.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ut(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ut(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],nBe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new ut(o.a,16),b:new ut(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ra.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ut.mont(e),n=new ut(2).toRed(r).redInvm(),i=n.redNeg(),a=new ut(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ra.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new ut(1),s=new ut(0),o=new ut(0),l=new ut(1),u,c,f,d,h,p,m,g=0,v,b;n.cmpn(0)!==0;){var w=i.div(n);v=i.sub(w.mul(n)),b=o.sub(w.mul(a));var E=l.sub(w.mul(s));if(!f&&v.cmp(r)<0)u=m.neg(),c=a,f=v.neg(),d=b;else if(f&&++g===2)break;m=v,i=n,n=v,o=a,a=b,l=s,s=E}h=v.neg(),p=b;var R=f.sqr().add(d.sqr()),I=h.sqr().add(p.sqr());return I.cmp(R)>=0&&(h=u,p=c),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),p=p.neg()),[{a:f,b:d},{a:h,b:p}]};Ra.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),l=s.mul(i.a),u=a.mul(n.b),c=s.mul(i.b),f=e.sub(o).sub(l),d=u.add(c).neg();return{k1:f,k2:d}};Ra.prototype.pointFromX=function(e,r){e=new ut(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Ra.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ra.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),l=e[s],u=l._getBeta();o.k1.negative&&(o.k1.ineg(),l=l.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[s*2]=l,i[s*2+1]=u,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,i,a,s*2,n),f=0;f<s*2;f++)i[f]=null,a[f]=null;return c};function xn(t,e,r,n){tf.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ut(e,16),this.y=new ut(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n5(xn,tf.BasePoint);Ra.prototype.point=function(e,r,n){return new xn(this,e,r,n)};Ra.prototype.pointFromJSON=function(e,r){return xn.fromJSON(this,e,r)};xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};xn.prototype.isInfinity=function(){return this.inf};xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};xn.prototype.getX=function(){return this.x.fromRed()};xn.prototype.getY=function(){return this.y.fromRed()};xn.prototype.mul=function(e){return e=new ut(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};xn.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ln(t,e,r,n){tf.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ut(0)):(this.x=new ut(e,16),this.y=new ut(r,16),this.z=new ut(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n5(Ln,tf.BasePoint);Ra.prototype.jpoint=function(e,r,n){return new Ln(this,e,r,n)};Ln.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Ln.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ln.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),l=i.redSub(a),u=s.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=l.redSqr(),f=c.redMul(l),d=i.redMul(c),h=u.redSqr().redIAdd(f).redISub(d).redISub(d),p=u.redMul(d.redISub(h)).redISub(s.redMul(f)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(h,p,m)};Ln.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),l=a.redSub(s);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=n.redMul(u),d=l.redSqr().redIAdd(c).redISub(f).redISub(f),h=l.redMul(f.redISub(d)).redISub(a.redMul(c)),p=this.z.redMul(o);return this.curve.jpoint(d,h,p)};Ln.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,l=this.z,u=l.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<e;r++){var f=s.redSqr(),d=c.redSqr(),h=d.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(u)),m=s.redMul(d),g=p.redSqr().redISub(m.redAdd(m)),v=m.redISub(g),b=p.redMul(v);b=b.redIAdd(b).redISub(h);var w=c.redMul(l);r+1<e&&(u=u.redMul(h)),s=g,l=w,c=b}return this.curve.jpoint(s,c.redMul(a),l)};Ln.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ln.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=l.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(f).redISub(h);p=p.redIAdd(p);var m=f.redAdd(f).redIAdd(f),g=m.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=g.redISub(p).redISub(p),r=m.redMul(p.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ln.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=l.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var m=h.redIAdd(h);m=m.redIAdd(m);var g=m.redAdd(m);e=p.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var v=d.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=p.redMul(m.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};Ln.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),f=l.redSqr().redISub(c.redAdd(c)),d=c.redISub(f),h=o.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=l.redMul(d).redISub(h),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,p,m)};Ln.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var l=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=a.redIAdd(o).redSqr().redISub(s).redISub(l).redISub(u),f=r.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(l).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(l)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=this.z.redAdd(o).redSqr().redISub(n).redISub(l);return this.curve.jpoint(d,h,p)};Ln.prototype.mul=function(e,r){return e=new ut(e,r),this.curve._wnafMul(this,e)};Ln.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Ln.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Ln.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ln.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var E1=i0(function(t,e){var r=e;r.base=tf,r.short=iBe,r.mont=null,r.edwards=null}),S1=i0(function(t,e){var r=e,n=ea.assert;function i(o){o.type==="short"?this.curve=new E1.short(o):o.type==="edwards"?this.curve=new E1.edwards(o):this.curve=new E1.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function a(o,l){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:u}),u}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function mu(t){if(!(this instanceof mu))return new mu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Xa.toArray(t.entropy,t.entropyEnc||"hex"),r=Xa.toArray(t.nonce,t.nonceEnc||"hex"),n=Xa.toArray(t.pers,t.persEnc||"hex");r5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var VZ=mu;mu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};mu.prototype._hmac=function(){return new yi.hmac(this.hash,this.K)};mu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Xa.toArray(e,r),n=Xa.toArray(n,i),r5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};mu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Xa.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,Xa.encode(s,r)};var h3=ea.assert;function Gn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var i5=Gn;Gn.fromPublic=function(e,r,n){return r instanceof Gn?r:new Gn(e,{pub:r,pubEnc:n})};Gn.fromPrivate=function(e,r,n){return r instanceof Gn?r:new Gn(e,{priv:r,privEnc:n})};Gn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Gn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Gn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Gn.prototype._importPrivate=function(e,r){this.priv=new ut(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Gn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?h3(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&h3(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Gn.prototype.derive=function(e){return e.validate()||h3(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Gn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Gn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Gn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var aBe=ea.assert;function nE(t,e){if(t instanceof nE)return t;this._importDER(t,e)||(aBe(t.r&&t.s,"Signature without r or s"),this.r=new ut(t.r,16),this.s=new ut(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var iE=nE;function sBe(){this.place=0}function dR(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function $F(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}nE.prototype._importDER=function(e,r){e=ea.toArray(e,r);var n=new sBe;if(e[n.place++]!==48)return!1;var i=dR(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=dR(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=dR(e,n);if(o===!1||e.length!==o+n.place)return!1;var l=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new ut(s),this.s=new ut(l),this.recoveryParam=null,!0};function hR(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}nE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=$F(r),n=$F(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];hR(i,r.length),i=i.concat(r),i.push(2),hR(i,n.length);var a=i.concat(n),s=[48];return hR(s,a.length),s=s.concat(a),ea.encode(s,e)};var oBe=function(){throw new Error("unsupported")},YZ=ea.assert;function Ea(t){if(!(this instanceof Ea))return new Ea(t);typeof t=="string"&&(YZ(Object.prototype.hasOwnProperty.call(S1,t),"Unknown curve "+t),t=S1[t]),t instanceof S1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var lBe=Ea;Ea.prototype.keyPair=function(e){return new i5(this,e)};Ea.prototype.keyFromPrivate=function(e,r){return i5.fromPrivate(this,e,r)};Ea.prototype.keyFromPublic=function(e,r){return i5.fromPublic(this,e,r)};Ea.prototype.genKeyPair=function(e){e||(e={});for(var r=new VZ({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||oBe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ut(2));;){var a=new ut(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Ea.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ea.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ut(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),l=new VZ({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new ut(1)),c=0;;c++){var f=i.k?i.k(c):new ut(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),p=h.umod(this.n);if(p.cmpn(0)!==0){var m=f.invm(this.n).mul(p.mul(r.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var g=(d.getY().isOdd()?1:0)|(h.cmp(p)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),g^=1),new iE({r:p,s:m,recoveryParam:g})}}}}}};Ea.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ut(e,16)),n=this.keyFromPublic(n,i),r=new iE(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),l=o.mul(e).umod(this.n),u=o.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(l,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(l,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};Ea.prototype.recoverPubKey=function(t,e,r,n){YZ((3&r)===r,"The recovery param is more than two bits"),e=new iE(e,n);var i=this.n,a=new ut(t),s=e.r,o=e.s,l=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var c=e.r.invm(i),f=i.sub(a).mul(c).umod(i),d=o.mul(c).umod(i);return this.g.mulAdd(f,s,d)};Ea.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new iE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var uBe=i0(function(t,e){var r=e;r.version="6.5.4",r.utils=ea,r.rand=function(){throw new Error("unsupported")},r.curve=E1,r.curves=S1,r.ec=lBe,r.eddsa=null}),cBe=uBe.ec;const fBe="signing-key/5.7.0",p3=new q(fBe);let pR=null;function Es(){return pR||(pR=new cBe("secp256k1")),pR}class mc{constructor(e){se(this,"curve","secp256k1"),se(this,"privateKey",be(e)),zs(this.privateKey)!==32&&p3.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Es().keyFromPrivate(ge(this.privateKey));se(this,"publicKey","0x"+r.getPublic(!1,"hex")),se(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),se(this,"_isSigningKey",!0)}_addPoint(e){const r=Es().keyFromPublic(ge(this.publicKey)),n=Es().keyFromPublic(ge(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Es().keyFromPrivate(ge(this.privateKey)),n=ge(e);n.length!==32&&p3.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Zc({recoveryParam:i.recoveryParam,r:or("0x"+i.r.toString(16),32),s:or("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Es().keyFromPrivate(ge(this.privateKey)),n=Es().keyFromPublic(ge(a5(e)));return or("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function GZ(t,e){const r=Zc(e),n={r:ge(r.r),s:ge(r.s)};return"0x"+Es().recoverPubKey(ge(t),n,r.recoveryParam).encode("hex",!1)}function a5(t,e){const r=ge(t);if(r.length===32){const n=new mc(r);return e?"0x"+Es().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?be(r):"0x"+Es().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Es().keyFromPublic(r).getPublic(!0,"hex"):be(r)}return p3.throwArgumentError("invalid public or private key","key","[REDACTED]")}const dBe="transactions/5.7.0",Vn=new q(dBe);var m3;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(m3||(m3={}));function s5(t){return t==="0x"?null:Zt(t)}function jn(t){return t==="0x"?Wk:me.from(t)}const hBe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],pBe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Jl(t){const e=a5(t);return Zt(Hr(ir(Hr(e,1)),12))}function Mv(t,e){return Jl(GZ(ge(t),e))}function Di(t,e){const r=Ns(me.from(t).toHexString());return r.length>32&&Vn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function mR(t,e){return{address:Zt(t),storageKeys:(e||[]).map((r,n)=>(zs(r)!==32&&Vn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Nu(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Vn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),mR(r[0],r[1])):mR(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return mR(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function HZ(t){return Nu(t).map(e=>[e.address,e.storageKeys])}function WZ(t,e){if(t.gasPrice!=null){const n=me.from(t.gasPrice),i=me.from(t.maxFeePerGas||0);n.eq(i)||Vn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Di(t.chainId||0,"chainId"),Di(t.nonce||0,"nonce"),Di(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Di(t.maxFeePerGas||0,"maxFeePerGas"),Di(t.gasLimit||0,"gasLimit"),t.to!=null?Zt(t.to):"0x",Di(t.value||0,"value"),t.data||"0x",HZ(t.accessList||[])];if(e){const n=Zc(e);r.push(Di(n.recoveryParam,"recoveryParam")),r.push(Ns(n.r)),r.push(Ns(n.s))}return ri(["0x02",Oc(r)])}function qZ(t,e){const r=[Di(t.chainId||0,"chainId"),Di(t.nonce||0,"nonce"),Di(t.gasPrice||0,"gasPrice"),Di(t.gasLimit||0,"gasLimit"),t.to!=null?Zt(t.to):"0x",Di(t.value||0,"value"),t.data||"0x",HZ(t.accessList||[])];if(e){const n=Zc(e);r.push(Di(n.recoveryParam,"recoveryParam")),r.push(Ns(n.r)),r.push(Ns(n.s))}return ri(["0x01",Oc(r)])}function mBe(t,e){Yk(t,pBe);const r=[];hBe.forEach(function(s){let o=t[s.name]||[];const l={};s.numeric&&(l.hexPad="left"),o=ge(be(o,l)),s.length&&o.length!==s.length&&o.length>0&&Vn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o),s.maxLength&&(o=Ns(o),o.length>s.maxLength&&Vn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o)),r.push(be(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Vn.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!kv(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(be(n)),r.push("0x"),r.push("0x")),!e)return Oc(r);const i=Zc(e);let a=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),a+=n*2+8,i.v>28&&i.v!==a&&Vn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==a&&Vn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(be(a)),r.push(Ns(ge(i.r))),r.push(Ns(ge(i.s))),Oc(r)}function g3(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Vn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),mBe(t,e);switch(t.type){case 1:return qZ(t,e);case 2:return WZ(t,e)}return Vn.throwError(`unsupported transaction type: ${t.type}`,q.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function KZ(t,e,r){try{const n=jn(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Vn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=or(e[1],32),t.s=or(e[2],32);try{const n=ir(r(t));t.from=Mv(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function gBe(t){const e=J2(t.slice(1));e.length!==9&&e.length!==12&&Vn.throwArgumentError("invalid component count for transaction type: 2","payload",be(t));const r=jn(e[2]),n=jn(e[3]),i={type:2,chainId:jn(e[0]).toNumber(),nonce:jn(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:jn(e[4]),to:s5(e[5]),value:jn(e[6]),data:e[7],accessList:Nu(e[8])};return e.length===9||(i.hash=ir(t),KZ(i,e.slice(9),WZ)),i}function vBe(t){const e=J2(t.slice(1));e.length!==8&&e.length!==11&&Vn.throwArgumentError("invalid component count for transaction type: 1","payload",be(t));const r={type:1,chainId:jn(e[0]).toNumber(),nonce:jn(e[1]).toNumber(),gasPrice:jn(e[2]),gasLimit:jn(e[3]),to:s5(e[4]),value:jn(e[5]),data:e[6],accessList:Nu(e[7])};return e.length===8||(r.hash=ir(t),KZ(r,e.slice(8),qZ)),r}function yBe(t){const e=J2(t);e.length!==9&&e.length!==6&&Vn.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:jn(e[0]).toNumber(),gasPrice:jn(e[1]),gasLimit:jn(e[2]),to:s5(e[3]),value:jn(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=me.from(e[6]).toNumber()}catch{return r}if(r.r=or(e[7],32),r.s=or(e[8],32),me.from(r.r).isZero()&&me.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(be(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const a=ir(Oc(i));try{r.from=Mv(a,{r:be(r.r),s:be(r.s),recoveryParam:n})}catch{}r.hash=ir(t)}return r.type=null,r}function QZ(t){const e=ge(t);if(e[0]>127)return yBe(e);switch(e[0]){case 1:return vBe(e);case 2:return gBe(e)}return Vn.throwError(`unsupported transaction type: ${e[0]}`,q.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const bBe="contracts/5.7.0";var gu=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const tr=new q(bBe),xBe={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function rw(t,e){return gu(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&tr.throwArgumentError("invalid address or ENS name","name",r);try{return Zt(r)}catch{}t||tr.throwError("a provider or signer is needed to resolve ENS names",q.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&tr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Xp(t,e,r){return gu(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Xp(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield rw(t,e):r.type==="tuple"?yield Xp(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Xp(t,n,r.arrayChildren))):Promise.reject(tr.makeError("invalid value for array",q.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function aE(t,e,r){return gu(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=cr(r.pop())),tr.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=$r({override:rw(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>gu(this,void 0,void 0,function*(){return Zt(u.signer)!==u.override&&tr.throwError("Contract with a Signer cannot override from",q.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=rw(t.provider,n.from));const i=yield $r({args:Xp(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:$r(n)||{}}),a=t.interface.encodeFunctionData(e,i.args),s={data:a,to:i.address},o=i.overrides;if(o.nonce!=null&&(s.nonce=me.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=me.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=me.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=me.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=me.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=Nu(o.accessList)),s.gasLimit==null&&e.gas!=null){let u=21e3;const c=ge(a);for(let f=0;f<c.length;f++)u+=4,c[f]&&(u+=64);s.gasLimit=me.from(e.gas).add(u)}if(o.value){const u=me.from(o.value);!u.isZero()&&!e.payable&&tr.throwError("non-payable method cannot override value",q.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=u}o.customData&&(s.customData=cr(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(u=>n[u]!=null);return l.length&&tr.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,q.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function wBe(t,e){return function(...r){return aE(t,e,r)}}function EBe(t,e){const r=t.signer||t.provider;return function(...n){return gu(this,void 0,void 0,function*(){r||tr.throwError("estimate require a provider or signer",q.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield aE(t,e,n);return yield r.estimateGas(i)})}}function ZZ(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(a=>{let s=oi(a),o=null;try{o=t.interface.parseLog(a)}catch{}return o&&(s.args=o.args,s.decode=(l,u)=>t.interface.decodeEventLog(o.eventFragment,l,u),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function XZ(t,e,r){const n=t.signer||t.provider;return function(...i){return gu(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=cr(i.pop());l.blockTag!=null&&(a=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(a));const s=yield aE(t,e,i),o=yield n.call(s,a);try{let l=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===q.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=s),l}})}}function SBe(t,e){return function(...r){return gu(this,void 0,void 0,function*(){t.signer||tr.throwError("sending a transaction requires a signer",q.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield aE(t,e,r),i=yield t.signer.sendTransaction(n);return ZZ(t,i),i})}}function FF(t,e,r){return e.constant?XZ(t,e,r):SBe(t,e)}function JZ(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ag{constructor(e,r){se(this,"tag",e),se(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class TBe extends ag{constructor(){super("error",null)}}class BF extends ag{constructor(e,r,n,i){const a={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&tr.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[s],super(JZ(a),a),se(this,"address",e),se(this,"interface",r),se(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=GQ(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class UF extends ag{constructor(e,r){super("*",{address:e}),se(this,"address",e),se(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class o5{constructor(e,r,n){se(this,"interface",Pn(new.target,"getInterface")(r)),n==null?(se(this,"provider",null),se(this,"signer",null)):sl.isSigner(n)?(se(this,"provider",n.provider||null),se(this,"signer",n)):ef.isProvider(n)?(se(this,"provider",n),se(this,"signer",null)):tr.throwArgumentError("invalid signer or provider","signerOrProvider",n),se(this,"callStatic",{}),se(this,"estimateGas",{}),se(this,"functions",{}),se(this,"populateTransaction",{}),se(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(o=>{const l=this.interface.events[o];se(this.filters,o,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),s[l.name]||(s[l.name]=[]),s[l.name].push(o)}),Object.keys(s).forEach(o=>{const l=s[o];l.length===1?se(this.filters,o,this.filters[l[0]]):tr.warn(`Duplicate definition of ${o} (${l.join(", ")})`)})}if(se(this,"_runningEvents",{}),se(this,"_wrappedEmits",{}),e==null&&tr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),se(this,"address",e),this.provider)se(this,"resolvedAddress",rw(this.provider,e));else try{se(this,"resolvedAddress",Promise.resolve(Zt(e)))}catch{tr.throwError("provider is required to use ENS name as contract address",q.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},a={};Object.keys(this.interface.functions).forEach(s=>{const o=this.interface.functions[s];if(a[s]){tr.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}a[s]=!0;{const l=o.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(s)}this[s]==null&&se(this,s,FF(this,o,!0)),this.functions[s]==null&&se(this.functions,s,FF(this,o,!1)),this.callStatic[s]==null&&se(this.callStatic,s,XZ(this,o,!0)),this.populateTransaction[s]==null&&se(this.populateTransaction,s,wBe(this,o)),this.estimateGas[s]==null&&se(this.estimateGas,s,EBe(this,o))}),Object.keys(i).forEach(s=>{const o=i[s];if(o.length>1)return;s=s.substring(1);const l=o[0];try{this[s]==null&&se(this,s,this[l])}catch{}this.functions[s]==null&&se(this.functions,s,this.functions[l]),this.callStatic[s]==null&&se(this.callStatic,s,this.callStatic[l]),this.populateTransaction[s]==null&&se(this.populateTransaction,s,this.populateTransaction[l]),this.estimateGas[s]==null&&se(this.estimateGas,s,this.estimateGas[l])})}static getContractAddress(e){return eE(e)}static getInterface(e){return u3.isInterface(e)?e:new u3(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&tr.throwError("contract not deployed",q.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||tr.throwError("sending a transactions require a signer",q.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=cr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&tr.throwError("cannot override "+n,q.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Lv(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&se(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Jx.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new TBe);if(e==="event")return this._normalizeRunningEvent(new ag("event",null));if(e==="*")return this._normalizeRunningEvent(new UF(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new BF(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new BF(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ag(JZ(r),r))}return this._normalizeRunningEvent(new UF(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=oi(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||tr.throwError("events require a provider or a signer with a provider",q.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let s=this._wrapEvent(e,a,r);if(s.decodeError==null)try{const o=e.getEmit(s);this.emit(e.filter,...o)}catch(o){s.decodeError=o.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),a=cr(i.filter);return typeof r=="string"&&ht(r,32)?(n!=null&&tr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=r):(a.fromBlock=r??0,a.toBlock=n??"latest"),this.provider.getLogs(a).then(s=>s.map(o=>this._wrapEvent(i,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class nw extends o5{}class eX{constructor(e,r,n){let i=null;typeof r=="string"?i=r:ku(r)?i=be(r):r&&typeof r.object=="string"?i=r.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!ht(i)||i.length%2)&&tr.throwArgumentError("invalid bytecode","bytecode",r),n&&!sl.isSigner(n)&&tr.throwArgumentError("invalid signer","signer",n),se(this,"bytecode",i),se(this,"interface",Pn(new.target,"getInterface")(e)),se(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=cr(e.pop());for(const n in r)if(!xBe[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&tr.throwError("cannot override "+n,q.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!me.from(r.value).isZero()&&!this.interface.deploy.payable&&tr.throwError("non-payable constructor cannot override value",q.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),tr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=be(sr([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return gu(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),tr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield Xp(this.signer,e,this.interface.deploy.inputs);n.push(r);const i=this.getDeployTransaction(...n),a=yield this.signer.sendTransaction(i),s=Pn(this.constructor,"getContractAddress")(a),o=Pn(this.constructor,"getContract")(s,this.interface,this.signer);return ZZ(o,a),se(o,"deployTransaction",a),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&tr.throwError("missing compiler output",q.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}static getInterface(e){return nw.getInterface(e)}static getContractAddress(e){return eE(e)}static getContract(e,r,n){return new nw(e,r,n)}}class tX{constructor(e){se(this,"alphabet",e),se(this,"base",e.length),se(this,"_alphabetMap",{}),se(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ge(e);if(r.length===0)return"";let n=[0];for(let a=0;a<r.length;++a){let s=r[a];for(let o=0;o<n.length;++o)s+=n[o]<<8,n[o]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let a=0;r[a]===0&&a<r.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let s=0;s<r.length;++s)a+=r[s]*this.base,r[s]=a&255,a>>=8;for(;a>0;)r.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ge(new Uint8Array(r.reverse()))}}new tX("abcdefghijklmnopqrstuvwxyz234567");const Ph=new tX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var kh;(function(t){t.sha256="sha256",t.sha512="sha512"})(kh||(kh={}));const ABe="sha2/5.7.0",RBe=new q(ABe);function rX(t){return"0x"+yi.ripemd160().update(ge(t)).digest("hex")}function Go(t){return"0x"+yi.sha256().update(ge(t)).digest("hex")}function _Be(t){return"0x"+yi.sha512().update(ge(t)).digest("hex")}function sg(t,e,r){return kh[t]||RBe.throwError("unsupported algorithm "+t,q.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+yi.hmac(yi[t],ge(e)).update(ge(r)).digest("hex")}function l5(t,e,r,n,i){t=ge(t),e=ge(e);let a,s=1;const o=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let u,c;for(let f=1;f<=s;f++){l[e.length]=f>>24&255,l[e.length+1]=f>>16&255,l[e.length+2]=f>>8&255,l[e.length+3]=f&255;let d=ge(sg(i,t,l));a||(a=d.length,c=new Uint8Array(a),s=Math.ceil(n/a),u=n-(s-1)*a),c.set(d);for(let m=1;m<r;m++){d=ge(sg(i,t,d));for(let g=0;g<a;g++)c[g]^=d[g]}const h=(f-1)*a,p=f===s?u:a;o.set(ge(c).slice(0,p),h)}return be(o)}const IBe="wordlists/5.7.0",CBe=new q(IBe);class rf{constructor(e){CBe.checkAbstract(new.target,rf),se(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return zl(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const PBe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Jp=null;function jF(t){if(Jp==null&&(Jp=PBe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),rf.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Jp=null,new Error("BIP39 Wordlist for en (English) FAILED")}class kBe extends rf{constructor(){super("en")}getWord(e){return jF(this),Jp[e]}getWordIndex(e){return jF(this),Jp.indexOf(e)}}const nX=new kBe;rf.register(nX);const iw={en:nX},OBe="hdnode/5.7.0",og=new q(OBe),NBe=me.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LBe=qr("Bitcoin seed"),zf=2147483648;function iX(t){return(1<<t)-1<<8-t}function DBe(t){return(1<<t)-1}function pb(t){return or(be(t),32)}function zF(t){return Ph.encode(sr([t,Hr(Go(Go(t)),0,4)]))}function u5(t){if(t==null)return iw.en;if(typeof t=="string"){const e=iw[t];return e==null&&og.throwArgumentError("unknown locale","wordlist",t),e}return t}const Of={},Oh="m/44'/60'/0'/0/0";class Mi{constructor(e,r,n,i,a,s,o,l){if(e!==Of)throw new Error("HDNode constructor cannot be called directly");if(r){const u=new mc(r);se(this,"privateKey",u.privateKey),se(this,"publicKey",u.compressedPublicKey)}else se(this,"privateKey",null),se(this,"publicKey",be(n));se(this,"parentFingerprint",i),se(this,"fingerprint",Hr(rX(Go(this.publicKey)),0,4)),se(this,"address",Jl(this.publicKey)),se(this,"chainCode",a),se(this,"index",s),se(this,"depth",o),l==null?(se(this,"mnemonic",null),se(this,"path",null)):typeof l=="string"?(se(this,"mnemonic",null),se(this,"path",l)):(se(this,"mnemonic",l),se(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return zF(sr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",be(this.depth),this.parentFingerprint,or(be(this.index),4),this.chainCode,this.privateKey!=null?sr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Mi(Of,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~zf));const n=new Uint8Array(37);if(e&zf){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ge(this.privateKey),1),r&&(r+="'")}else n.set(ge(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=ge(sg(kh.sha512,this.chainCode,n)),a=i.slice(0,32),s=i.slice(32);let o=null,l=null;this.privateKey?o=pb(me.from(a).add(this.privateKey).mod(NBe)):l=new mc(be(a))._addPoint(this.publicKey);let u=r;const c=this.mnemonic;return c&&(u=Object.freeze({phrase:c.phrase,path:r,locale:c.locale||"en"})),new Mi(Of,o,l,this.fingerprint,pb(s),e,this.depth+1,u)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const a=r[i];if(a.match(/^[0-9]+'$/)){const s=parseInt(a.substring(0,a.length-1));if(s>=zf)throw new Error("invalid path index - "+a);n=n._derive(zf+s)}else if(a.match(/^[0-9]+$/)){const s=parseInt(a);if(s>=zf)throw new Error("invalid path index - "+a);n=n._derive(s)}else throw new Error("invalid path component - "+a)}return n}static _fromSeed(e,r){const n=ge(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=ge(sg(kh.sha512,LBe,n));return new Mi(Of,pb(i.slice(0,32)),null,"0x00000000",pb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=u5(n),e=oE(sE(e,n),n),Mi._fromSeed(aX(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Mi._fromSeed(e,null)}static fromExtendedKey(e){const r=Ph.decode(e);(r.length!==82||zF(r.slice(0,78))!==e)&&og.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=be(r.slice(5,9)),a=parseInt(be(r.slice(9,13)).substring(2),16),s=be(r.slice(13,45)),o=r.slice(45,78);switch(be(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Mi(Of,null,be(o),i,s,a,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Mi(Of,be(o.slice(1)),null,i,s,a,n,null)}return og.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function aX(t,e){e||(e="");const r=qr("mnemonic"+e,Vs.NFKD);return l5(qr(t,Vs.NFKD),r,2048,64,"sha512")}function sE(t,e){e=u5(e),og.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=ge(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let u=0;u<r.length;u++){let c=e.getWordIndex(r[u].normalize("NFKD"));if(c===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)c&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const a=32*r.length/3,s=r.length/3,o=iX(s);if((ge(Go(n.slice(0,a/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return be(n.slice(0,a/8))}function oE(t,e){if(e=u5(e),t=ge(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&DBe(8-n)),n+=3);const i=t.length/4,a=ge(Go(t))[0]&iX(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,e.join(r.map(s=>e.getWord(s)))}function MBe(t,e){try{return sE(t,e),!0}catch{}return!1}function $Be(t){return(typeof t!="number"||t<0||t>=zf||t%1)&&og.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const FBe="random/5.7.0",v3=new q(FBe);function BBe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const VF=BBe();let T1=VF.crypto||VF.msCrypto;(!T1||!T1.getRandomValues)&&(v3.warn("WARNING: Missing strong random number source"),T1={getRandomValues:function(t){return v3.throwError("no secure random source avaialble",q.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function bd(t){(t<=0||t>1024||t%1||t!=t)&&v3.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return T1.getRandomValues(e),ge(e)}function sX(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}var oX={exports:{}};(function(t,e){(function(r){function n(L){return parseInt(L)===L}function i(L){if(!n(L.length))return!1;for(var _=0;_<L.length;_++)if(!n(L[_])||L[_]<0||L[_]>255)return!1;return!0}function a(L,_){if(L.buffer&&ArrayBuffer.isView(L)&&L.name==="Uint8Array")return _&&(L.slice?L=L.slice():L=Array.prototype.slice.call(L)),L;if(Array.isArray(L)){if(!i(L))throw new Error("Array contains invalid value: "+L);return new Uint8Array(L)}if(n(L.length)&&i(L))return new Uint8Array(L);throw new Error("unsupported array-like object")}function s(L){return new Uint8Array(L)}function o(L,_,U,G,O){(G!=null||O!=null)&&(L.slice?L=L.slice(G,O):L=Array.prototype.slice.call(L,G,O)),_.set(L,U)}var l=function(){function L(U){var G=[],O=0;for(U=encodeURI(U);O<U.length;){var Y=U.charCodeAt(O++);Y===37?(G.push(parseInt(U.substr(O,2),16)),O+=2):G.push(Y)}return a(G)}function _(U){for(var G=[],O=0;O<U.length;){var Y=U[O];Y<128?(G.push(String.fromCharCode(Y)),O++):Y>191&&Y<224?(G.push(String.fromCharCode((Y&31)<<6|U[O+1]&63)),O+=2):(G.push(String.fromCharCode((Y&15)<<12|(U[O+1]&63)<<6|U[O+2]&63)),O+=3)}return G.join("")}return{toBytes:L,fromBytes:_}}(),u=function(){function L(G){for(var O=[],Y=0;Y<G.length;Y+=2)O.push(parseInt(G.substr(Y,2),16));return O}var _="0123456789abcdef";function U(G){for(var O=[],Y=0;Y<G.length;Y++){var H=G[Y];O.push(_[(H&240)>>4]+_[H&15])}return O.join("")}return{toBytes:L,fromBytes:U}}(),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],E=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],R=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],D=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],N=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],F=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function $(L){for(var _=[],U=0;U<L.length;U+=4)_.push(L[U]<<24|L[U+1]<<16|L[U+2]<<8|L[U+3]);return _}var z=function(L){if(!(this instanceof z))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(L,!0)}),this._prepare()};z.prototype._prepare=function(){var L=c[this.key.length];if(L==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _=0;_<=L;_++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var U=(L+1)*4,G=this.key.length/4,O=$(this.key),Y,_=0;_<G;_++)Y=_>>2,this._Ke[Y][_%4]=O[_],this._Kd[L-Y][_%4]=O[_];for(var H=0,W=G,K;W<U;){if(K=O[G-1],O[0]^=d[K>>16&255]<<24^d[K>>8&255]<<16^d[K&255]<<8^d[K>>24&255]^f[H]<<24,H+=1,G!=8)for(var _=1;_<G;_++)O[_]^=O[_-1];else{for(var _=1;_<G/2;_++)O[_]^=O[_-1];K=O[G/2-1],O[G/2]^=d[K&255]^d[K>>8&255]<<8^d[K>>16&255]<<16^d[K>>24&255]<<24;for(var _=G/2+1;_<G;_++)O[_]^=O[_-1]}for(var _=0,ie,Q;_<G&&W<U;)ie=W>>2,Q=W%4,this._Ke[ie][Q]=O[_],this._Kd[L-ie][Q]=O[_++],W++}for(var ie=1;ie<L;ie++)for(var Q=0;Q<4;Q++)K=this._Kd[ie][Q],this._Kd[ie][Q]=I[K>>24&255]^D[K>>16&255]^N[K>>8&255]^F[K&255]},z.prototype.encrypt=function(L){if(L.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _=this._Ke.length-1,U=[0,0,0,0],G=$(L),O=0;O<4;O++)G[O]^=this._Ke[0][O];for(var Y=1;Y<_;Y++){for(var O=0;O<4;O++)U[O]=p[G[O]>>24&255]^m[G[(O+1)%4]>>16&255]^g[G[(O+2)%4]>>8&255]^v[G[(O+3)%4]&255]^this._Ke[Y][O];G=U.slice()}for(var H=s(16),W,O=0;O<4;O++)W=this._Ke[_][O],H[4*O]=(d[G[O]>>24&255]^W>>24)&255,H[4*O+1]=(d[G[(O+1)%4]>>16&255]^W>>16)&255,H[4*O+2]=(d[G[(O+2)%4]>>8&255]^W>>8)&255,H[4*O+3]=(d[G[(O+3)%4]&255]^W)&255;return H},z.prototype.decrypt=function(L){if(L.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _=this._Kd.length-1,U=[0,0,0,0],G=$(L),O=0;O<4;O++)G[O]^=this._Kd[0][O];for(var Y=1;Y<_;Y++){for(var O=0;O<4;O++)U[O]=b[G[O]>>24&255]^w[G[(O+3)%4]>>16&255]^E[G[(O+2)%4]>>8&255]^R[G[(O+1)%4]&255]^this._Kd[Y][O];G=U.slice()}for(var H=s(16),W,O=0;O<4;O++)W=this._Kd[_][O],H[4*O]=(h[G[O]>>24&255]^W>>24)&255,H[4*O+1]=(h[G[(O+3)%4]>>16&255]^W>>16)&255,H[4*O+2]=(h[G[(O+2)%4]>>8&255]^W>>8)&255,H[4*O+3]=(h[G[(O+1)%4]&255]^W)&255;return H};var k=function(L){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new z(L)};k.prototype.encrypt=function(L){if(L=a(L),L.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=s(L.length),U=s(16),G=0;G<L.length;G+=16)o(L,U,0,G,G+16),U=this._aes.encrypt(U),o(U,_,G);return _},k.prototype.decrypt=function(L){if(L=a(L),L.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=s(L.length),U=s(16),G=0;G<L.length;G+=16)o(L,U,0,G,G+16),U=this._aes.decrypt(U),o(U,_,G);return _};var A=function(L,_){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_)_=s(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=a(_,!0),this._aes=new z(L)};A.prototype.encrypt=function(L){if(L=a(L),L.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=s(L.length),U=s(16),G=0;G<L.length;G+=16){o(L,U,0,G,G+16);for(var O=0;O<16;O++)U[O]^=this._lastCipherblock[O];this._lastCipherblock=this._aes.encrypt(U),o(this._lastCipherblock,_,G)}return _},A.prototype.decrypt=function(L){if(L=a(L),L.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=s(L.length),U=s(16),G=0;G<L.length;G+=16){o(L,U,0,G,G+16),U=this._aes.decrypt(U);for(var O=0;O<16;O++)_[G+O]=U[O]^this._lastCipherblock[O];o(L,this._lastCipherblock,0,G,G+16)}return _};var y=function(L,_,U){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_)_=s(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");U||(U=1),this.segmentSize=U,this._shiftRegister=a(_,!0),this._aes=new z(L)};y.prototype.encrypt=function(L){if(L.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _=a(L,!0),U,G=0;G<_.length;G+=this.segmentSize){U=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)_[G+O]^=U[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(_,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _},y.prototype.decrypt=function(L){if(L.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _=a(L,!0),U,G=0;G<_.length;G+=this.segmentSize){U=this._aes.encrypt(this._shiftRegister);for(var O=0;O<this.segmentSize;O++)_[G+O]^=U[O];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(L,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _};var x=function(L,_){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_)_=s(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=a(_,!0),this._lastPrecipherIndex=16,this._aes=new z(L)};x.prototype.encrypt=function(L){for(var _=a(L,!0),U=0;U<_.length;U++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_[U]^=this._lastPrecipher[this._lastPrecipherIndex++];return _},x.prototype.decrypt=x.prototype.encrypt;var S=function(L){if(!(this instanceof S))throw Error("Counter must be instanitated with `new`");L!==0&&!L&&(L=1),typeof L=="number"?(this._counter=s(16),this.setValue(L)):this.setBytes(L)};S.prototype.setValue=function(L){if(typeof L!="number"||parseInt(L)!=L)throw new Error("invalid counter value (must be an integer)");for(var _=15;_>=0;--_)this._counter[_]=L%256,L=L>>8},S.prototype.setBytes=function(L){if(L=a(L,!0),L.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=L},S.prototype.increment=function(){for(var L=15;L>=0;L--)if(this._counter[L]===255)this._counter[L]=0;else{this._counter[L]++;break}};var C=function(L,_){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_ instanceof S||(_=new S(_)),this._counter=_,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new z(L)};C.prototype.encrypt=function(L){for(var _=a(L,!0),U=0;U<_.length;U++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_[U]^=this._remainingCounter[this._remainingCounterIndex++];return _},C.prototype.decrypt=C.prototype.encrypt;function P(L){L=a(L,!0);var _=16-L.length%16,U=s(L.length+_);o(L,U);for(var G=L.length;G<U.length;G++)U[G]=_;return U}function M(L){if(L=a(L,!0),L.length<16)throw new Error("PKCS#7 invalid length");var _=L[L.length-1];if(_>16)throw new Error("PKCS#7 padding byte out of range");for(var U=L.length-_,G=0;G<_;G++)if(L[U+G]!==_)throw new Error("PKCS#7 invalid padding byte");var O=s(U);return o(L,O,0,0,U),O}var B={AES:z,Counter:S,ModeOfOperation:{ecb:k,cbc:A,cfb:y,ofb:x,ctr:C},utils:{hex:u,utf8:l},padding:{pkcs7:{pad:P,strip:M}},_arrayTest:{coerceArray:a,createArray:s,copyArray:o}};t.exports=B})()})(oX);var UBe=oX.exports;const Is=Pi(UBe),lX="json-wallets/5.7.0";function gc(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ge(t)}function V0(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function c5(t){return typeof t=="string"?qr(t,Vs.NFKC):ge(t)}function Gr(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let a=null;for(const s in r)if(s.toLowerCase()===n[i]){a=r[s];break}if(a===null)return null;r=a}return r}function jBe(t){const e=ge(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=be(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const zBe=new q(lX);class VBe extends Xc{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function uX(t,e){const r=JSON.parse(t);e=c5(e);const n=Zt(Gr(r,"ethaddr")),i=gc(Gr(r,"encseed"));(!i||i.length%16!==0)&&zBe.throwArgumentError("invalid encseed","json",t);const a=ge(l5(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),o=i.slice(16),l=new Is.ModeOfOperation.cbc(a,s),u=Is.padding.pkcs7.strip(ge(l.decrypt(o)));let c="";for(let h=0;h<u.length;h++)c+=String.fromCharCode(u[h]);const f=qr(c),d=ir(f);return new VBe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function f5(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function d5(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function YBe(t){if(f5(t))try{return Zt(JSON.parse(t).ethaddr)}catch{return null}if(d5(t))try{return Zt(JSON.parse(t).address)}catch{return null}return null}var cX={exports:{}};(function(t,e){(function(r){function i(m){const g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let v=1779033703,b=3144134277,w=1013904242,E=2773480762,R=1359893119,I=2600822924,D=528734635,N=1541459225;const F=new Uint32Array(64);function $(C){let P=0,M=C.length;for(;M>=64;){let B=v,L=b,_=w,U=E,G=R,O=I,Y=D,H=N,W,K,ie,Q,te;for(K=0;K<16;K++)ie=P+K*4,F[K]=(C[ie]&255)<<24|(C[ie+1]&255)<<16|(C[ie+2]&255)<<8|C[ie+3]&255;for(K=16;K<64;K++)W=F[K-2],Q=(W>>>17|W<<32-17)^(W>>>19|W<<32-19)^W>>>10,W=F[K-15],te=(W>>>7|W<<32-7)^(W>>>18|W<<32-18)^W>>>3,F[K]=(Q+F[K-7]|0)+(te+F[K-16]|0)|0;for(K=0;K<64;K++)Q=(((G>>>6|G<<32-6)^(G>>>11|G<<32-11)^(G>>>25|G<<32-25))+(G&O^~G&Y)|0)+(H+(g[K]+F[K]|0)|0)|0,te=((B>>>2|B<<32-2)^(B>>>13|B<<32-13)^(B>>>22|B<<32-22))+(B&L^B&_^L&_)|0,H=Y,Y=O,O=G,G=U+Q|0,U=_,_=L,L=B,B=Q+te|0;v=v+B|0,b=b+L|0,w=w+_|0,E=E+U|0,R=R+G|0,I=I+O|0,D=D+Y|0,N=N+H|0,P+=64,M-=64}}$(m);let z,k=m.length%64,A=m.length/536870912|0,y=m.length<<3,x=k<56?56:120,S=m.slice(m.length-k,m.length);for(S.push(128),z=k+1;z<x;z++)S.push(0);return S.push(A>>>24&255),S.push(A>>>16&255),S.push(A>>>8&255),S.push(A>>>0&255),S.push(y>>>24&255),S.push(y>>>16&255),S.push(y>>>8&255),S.push(y>>>0&255),$(S),[v>>>24&255,v>>>16&255,v>>>8&255,v>>>0&255,b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255]}function a(m,g,v){m=m.length<=64?m:i(m);const b=64+g.length+4,w=new Array(b),E=new Array(64);let R,I=[];for(R=0;R<64;R++)w[R]=54;for(R=0;R<m.length;R++)w[R]^=m[R];for(R=0;R<g.length;R++)w[64+R]=g[R];for(R=b-4;R<b;R++)w[R]=0;for(R=0;R<64;R++)E[R]=92;for(R=0;R<m.length;R++)E[R]^=m[R];function D(){for(let N=b-1;N>=b-4;N--){if(w[N]++,w[N]<=255)return;w[N]=0}}for(;v>=32;)D(),I=I.concat(i(E.concat(i(w)))),v-=32;return v>0&&(D(),I=I.concat(i(E.concat(i(w))).slice(0,v))),I}function s(m,g,v,b,w){let E;for(c(m,(2*v-1)*16,w,0,16),E=0;E<2*v;E++)u(m,E*16,w,16),l(w,b),c(w,0,m,g+E*16,16);for(E=0;E<v;E++)c(m,g+E*2*16,m,E*16,16);for(E=0;E<v;E++)c(m,g+(E*2+1)*16,m,(E+v)*16,16)}function o(m,g){return m<<g|m>>>32-g}function l(m,g){c(m,0,g,0,16);for(let v=8;v>0;v-=2)g[4]^=o(g[0]+g[12],7),g[8]^=o(g[4]+g[0],9),g[12]^=o(g[8]+g[4],13),g[0]^=o(g[12]+g[8],18),g[9]^=o(g[5]+g[1],7),g[13]^=o(g[9]+g[5],9),g[1]^=o(g[13]+g[9],13),g[5]^=o(g[1]+g[13],18),g[14]^=o(g[10]+g[6],7),g[2]^=o(g[14]+g[10],9),g[6]^=o(g[2]+g[14],13),g[10]^=o(g[6]+g[2],18),g[3]^=o(g[15]+g[11],7),g[7]^=o(g[3]+g[15],9),g[11]^=o(g[7]+g[3],13),g[15]^=o(g[11]+g[7],18),g[1]^=o(g[0]+g[3],7),g[2]^=o(g[1]+g[0],9),g[3]^=o(g[2]+g[1],13),g[0]^=o(g[3]+g[2],18),g[6]^=o(g[5]+g[4],7),g[7]^=o(g[6]+g[5],9),g[4]^=o(g[7]+g[6],13),g[5]^=o(g[4]+g[7],18),g[11]^=o(g[10]+g[9],7),g[8]^=o(g[11]+g[10],9),g[9]^=o(g[8]+g[11],13),g[10]^=o(g[9]+g[8],18),g[12]^=o(g[15]+g[14],7),g[13]^=o(g[12]+g[15],9),g[14]^=o(g[13]+g[12],13),g[15]^=o(g[14]+g[13],18);for(let v=0;v<16;++v)m[v]+=g[v]}function u(m,g,v,b){for(let w=0;w<b;w++)v[w]^=m[g+w]}function c(m,g,v,b,w){for(;w--;)v[b++]=m[g++]}function f(m){if(!m||typeof m.length!="number")return!1;for(let g=0;g<m.length;g++){const v=m[g];if(typeof v!="number"||v%1||v<0||v>=256)return!1}return!0}function d(m,g){if(typeof m!="number"||m%1)throw new Error("invalid "+g);return m}function h(m,g,v,b,w,E,R){if(v=d(v,"N"),b=d(b,"r"),w=d(w,"p"),E=d(E,"dkLen"),v===0||v&v-1)throw new Error("N must be power of 2");if(v>2147483647/128/b)throw new Error("N too large");if(b>2147483647/128/w)throw new Error("r too large");if(!f(m))throw new Error("password must be an array or buffer");if(m=Array.prototype.slice.call(m),!f(g))throw new Error("salt must be an array or buffer");g=Array.prototype.slice.call(g);let I=a(m,g,w*128*b);const D=new Uint32Array(w*32*b);for(let G=0;G<D.length;G++){const O=G*4;D[G]=(I[O+3]&255)<<24|(I[O+2]&255)<<16|(I[O+1]&255)<<8|(I[O+0]&255)<<0}const N=new Uint32Array(64*b),F=new Uint32Array(32*b*v),$=32*b,z=new Uint32Array(16),k=new Uint32Array(16),A=w*v*2;let y=0,x=null,S=!1,C=0,P=0,M,B;const L=R?parseInt(1e3/b):4294967295,_=typeof setImmediate<"u"?setImmediate:setTimeout,U=function(){if(S)return R(new Error("cancelled"),y/A);let G;switch(C){case 0:B=P*32*b,c(D,B,N,0,$),C=1,M=0;case 1:G=v-M,G>L&&(G=L);for(let Y=0;Y<G;Y++)c(N,0,F,(M+Y)*$,$),s(N,$,b,z,k);if(M+=G,y+=G,R){const Y=parseInt(1e3*y/A);if(Y!==x){if(S=R(null,y/A),S)break;x=Y}}if(M<v)break;M=0,C=2;case 2:G=v-M,G>L&&(G=L);for(let Y=0;Y<G;Y++){const H=(2*b-1)*16,W=N[H]&v-1;u(F,W*$,N,$),s(N,$,b,z,k)}if(M+=G,y+=G,R){const Y=parseInt(1e3*y/A);if(Y!==x){if(S=R(null,y/A),S)break;x=Y}}if(M<v)break;if(c(N,0,D,B,$),P++,P<w){C=0;break}I=[];for(let Y=0;Y<D.length;Y++)I.push(D[Y]>>0&255),I.push(D[Y]>>8&255),I.push(D[Y]>>16&255),I.push(D[Y]>>24&255);const O=a(m,I,E);return R&&R(null,1,O),O}R&&_(U)};if(!R)for(;;){const G=U();if(G!=null)return G}U()}const p={scrypt:function(m,g,v,b,w,E,R){return new Promise(function(I,D){let N=0;R&&R(0),h(m,g,v,b,w,E,function(F,$,z){if(F)D(F);else if(z)R&&N!==1&&R(1),I(new Uint8Array(z));else if(R&&$!==N)return N=$,R($)})})},syncScrypt:function(m,g,v,b,w,E){return new Uint8Array(h(m,g,v,b,w,E))}};t.exports=p})()})(cX);var GBe=cX.exports;const h5=Pi(GBe);var HBe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const y3=new q(lX);function YF(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class WBe extends Xc{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function qBe(t,e,r){if(Gr(t,"crypto/cipher")==="aes-128-ctr"){const i=gc(Gr(t,"crypto/cipherparams/iv")),a=new Is.Counter(i),s=new Is.ModeOfOperation.ctr(e,a);return ge(s.decrypt(r))}return null}function fX(t,e){const r=gc(Gr(t,"crypto/ciphertext"));if(be(ir(sr([e.slice(16,32),r]))).substring(2)!==Gr(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=qBe(t,e.slice(0,16),r);i||y3.throwError("unsupported cipher",q.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const a=e.slice(32,64),s=Jl(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),Zt(l)!==s)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:s,privateKey:be(i)};if(Gr(t,"x-ethers/version")==="0.1"){const l=gc(Gr(t,"x-ethers/mnemonicCiphertext")),u=gc(Gr(t,"x-ethers/mnemonicCounter")),c=new Is.Counter(u),f=new Is.ModeOfOperation.ctr(a,c),d=Gr(t,"x-ethers/path")||Oh,h=Gr(t,"x-ethers/locale")||"en",p=ge(f.decrypt(l));try{const m=oE(p,h),g=Mi.fromMnemonic(m,null,h).derivePath(d);if(g.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=g.mnemonic}catch(m){if(m.code!==q.errors.INVALID_ARGUMENT||m.argument!=="wordlist")throw m}}return new WBe(o)}function dX(t,e,r,n,i){return ge(l5(t,e,r,n,i))}function KBe(t,e,r,n,i){return Promise.resolve(dX(t,e,r,n,i))}function hX(t,e,r,n,i){const a=c5(e),s=Gr(t,"crypto/kdf");if(s&&typeof s=="string"){const o=function(l,u){return y3.throwArgumentError("invalid key-derivation function parameters",l,u)};if(s.toLowerCase()==="scrypt"){const l=gc(Gr(t,"crypto/kdfparams/salt")),u=parseInt(Gr(t,"crypto/kdfparams/n")),c=parseInt(Gr(t,"crypto/kdfparams/r")),f=parseInt(Gr(t,"crypto/kdfparams/p"));(!u||!c||!f)&&o("kdf",s),u&u-1&&o("N",u);const d=parseInt(Gr(t,"crypto/kdfparams/dklen"));return d!==32&&o("dklen",d),n(a,l,u,c,f,64,i)}else if(s.toLowerCase()==="pbkdf2"){const l=gc(Gr(t,"crypto/kdfparams/salt"));let u=null;const c=Gr(t,"crypto/kdfparams/prf");c==="hmac-sha256"?u="sha256":c==="hmac-sha512"?u="sha512":o("prf",c);const f=parseInt(Gr(t,"crypto/kdfparams/c")),d=parseInt(Gr(t,"crypto/kdfparams/dklen"));return d!==32&&o("dklen",d),r(a,l,f,d,u)}}return y3.throwArgumentError("unsupported key-derivation function","kdf",s)}function QBe(t,e){const r=JSON.parse(t),n=hX(r,e,dX,h5.syncScrypt);return fX(r,n)}function ZBe(t,e,r){return HBe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield hX(n,e,KBe,h5.scrypt,r);return fX(n,i)})}function XBe(t,e,r,n){try{if(Zt(t.address)!==Jl(t.privateKey))throw new Error("address/privateKey mismatch");if(YF(t)){const g=t.mnemonic;if(Mi.fromMnemonic(g.phrase,null,g.locale).derivePath(g.path||Oh).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=ge(t.privateKey),a=c5(e);let s=null,o=null,l=null;if(YF(t)){const g=t.mnemonic;s=ge(sE(g.phrase,g.locale||"en")),o=g.path||Oh,l=g.locale||"en"}let u=r.client;u||(u="ethers.js");let c=null;r.salt?c=ge(r.salt):c=bd(32);let f=null;if(r.iv){if(f=ge(r.iv),f.length!==16)throw new Error("invalid iv")}else f=bd(16);let d=null;if(r.uuid){if(d=ge(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=bd(16);let h=1<<17,p=8,m=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),h5.scrypt(a,c,h,p,m,64,n).then(g=>{g=ge(g);const v=g.slice(0,16),b=g.slice(16,32),w=g.slice(32,64),E=new Is.Counter(f),R=new Is.ModeOfOperation.ctr(v,E),I=ge(R.encrypt(i)),D=ir(sr([b,I])),N={address:t.address.substring(2).toLowerCase(),id:jBe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:be(f).substring(2)},ciphertext:be(I).substring(2),kdf:"scrypt",kdfparams:{salt:be(c).substring(2),n:h,dklen:32,p:m,r:p},mac:D.substring(2)}};if(s){const F=bd(16),$=new Is.Counter(F),z=new Is.ModeOfOperation.ctr(w,$),k=ge(z.encrypt(s)),A=new Date,y=A.getUTCFullYear()+"-"+V0(A.getUTCMonth()+1,2)+"-"+V0(A.getUTCDate(),2)+"T"+V0(A.getUTCHours(),2)+"-"+V0(A.getUTCMinutes(),2)+"-"+V0(A.getUTCSeconds(),2)+".0Z";N["x-ethers"]={client:u,gethFilename:"UTC--"+y+"--"+N.address,mnemonicCounter:be(F).substring(2),mnemonicCiphertext:be(k).substring(2),path:o,locale:l,version:"0.1"}}return JSON.stringify(N)})}function JBe(t,e,r){if(f5(t)){r&&r(0);const n=uX(t,e);return r&&r(1),Promise.resolve(n)}return d5(t)?ZBe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function eUe(t,e){if(f5(t))return uX(t,e);if(d5(t))return QBe(t,e);throw new Error("invalid JSON wallet")}const tUe="wallet/5.7.0";var GF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Nf=new q(tUe);function rUe(t){return t!=null&&ht(t.privateKey,32)&&t.address!=null}function nUe(t){const e=t.mnemonic;return e&&e.phrase}class Ll extends sl{constructor(e,r){if(super(),rUe(e)){const n=new mc(e.privateKey);if(se(this,"_signingKey",()=>n),se(this,"address",Jl(this.publicKey)),this.address!==Zt(e.address)&&Nf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),nUe(e)){const i=e.mnemonic;se(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Oh,locale:i.locale||"en"}));const a=this.mnemonic,s=Mi.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path);Jl(s.privateKey)!==this.address&&Nf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else se(this,"_mnemonic",()=>null)}else{if(mc.isSigningKey(e))e.curve!=="secp256k1"&&Nf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),se(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new mc(e);se(this,"_signingKey",()=>n)}se(this,"_mnemonic",()=>null),se(this,"address",Jl(this.publicKey))}r&&!ef.isProvider(r)&&Nf.throwArgumentError("invalid provider","provider",r),se(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Ll(this,e)}signTransaction(e){return $r(e).then(r=>{r.from!=null&&(Zt(r.from)!==this.address&&Nf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(ir(g3(r)));return g3(r,n)})}signMessage(e){return GF(this,void 0,void 0,function*(){return s3(this._signingKey().signDigest(t5(e)))})}_signTypedData(e,r,n){return GF(this,void 0,void 0,function*(){const i=yield _n.resolveNames(e,r,n,a=>(this.provider==null&&Nf.throwError("cannot resolve ENS names without a provider",q.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:a}),this.provider.resolveName(a)));return s3(this._signingKey().signDigest(_n.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),XBe(this,e,r,n)}static createRandom(e){let r=bd(16);e||(e={}),e.extraEntropy&&(r=ge(Hr(ir(sr([r,e.extraEntropy])),0,16)));const n=oE(r,e.locale);return Ll.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return JBe(e,r,n).then(i=>new Ll(i))}static fromEncryptedJsonSync(e,r){return new Ll(eUe(e,r))}static fromMnemonic(e,r,n){return r||(r=Oh),new Ll(Mi.fromMnemonic(e,null,n).derivePath(r))}}function iUe(t,e){return Mv(t5(t),e)}function aUe(t,e,r,n){return Mv(_n.hash(t,e,r),n)}const sUe="networks/5.7.1",HF=new q(sUe);function oUe(t){return t&&typeof t.renetwork=="function"}function go(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const a=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&a.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:t==="homestead"&&(a=2),new r.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(r){return go(r)},e}function aw(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return aw(t,n)},r}const WF={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:go("homestead")},qF={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:go("ropsten")},KF={chainId:63,name:"classicMordor",_defaultProvider:aw("https://www.ethercluster.com/mordor","classicMordor")},mb={unspecified:{chainId:0,name:"unspecified"},homestead:WF,mainnet:WF,morden:{chainId:2,name:"morden"},ropsten:qF,testnet:qF,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:go("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:go("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:go("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:go("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:aw("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:KF,classicTestnet:KF,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:aw("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:go("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:go("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function p5(t){if(t==null)return null;if(typeof t=="number"){for(const n in mb){const i=mb[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=mb[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=mb[t.name];if(!e)return typeof t.chainId!="number"&&HF.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&HF.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(oUe(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const lUe="web/5.7.1";var uUe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function cUe(t,e){return uUe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((s,o)=>{a[o.toLowerCase()]=s}):n.headers.keys().forEach(s=>{a[s.toLowerCase()]=n.headers.get(s)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:ge(new Uint8Array(i))}})}var fUe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const $a=new q(lUe);function QF(t){return new Promise(e=>{setTimeout(e,t)})}function wl(t,e){if(t==null)return null;if(typeof t=="string")return t;if(kv(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Jc(t)}catch{}return be(t)}return t}function dUe(t){return qr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function pX(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;$a.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,a=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;$a.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const s=typeof t=="object"?!!t.errorPassThrough:!1,o={};let l=null;const u={method:"GET"};let c=!1,f=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&$a.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const v in t.headers)o[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&$a.throwError("basic authentication requires a secure https url",q.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+Jk(qr(v))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=cr(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=l?l.match(d):null;if(h)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?Xk(h[3]):dUe(h[3])};let b=v.body;return r&&(b=r(v.body,v)),Promise.resolve(b)}catch(v){$a.throwError("processing response error",q.errors.SERVER_ERROR,{body:wl(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(o).forEach(v=>{const b=o[v];p[b.key]=b.value}),u.headers=p;const m=function(){let v=null;return{promise:new Promise(function(E,R){f&&(v=setTimeout(()=>{v!=null&&(v=null,R($a.makeError("timeout",q.errors.TIMEOUT,{requestBody:wl(u.body,p["content-type"]),requestMethod:u.method,timeout:f,url:l})))},f))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),g=function(){return fUe(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let b=null;try{if(b=yield cUe(l,u),v<n){if(b.statusCode===301||b.statusCode===302){const E=b.headers.location||"";if(u.method==="GET"&&E.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let E=!0;if(i&&(E=yield i(v,l)),E){let R=0;const I=b.headers["retry-after"];typeof I=="string"&&I.match(/^[1-9][0-9]*$/)?R=parseInt(I)*1e3:R=a*parseInt(String(Math.random()*Math.pow(2,v))),yield QF(R);continue}}}}catch(E){b=E.response,b==null&&(m.cancel(),$a.throwError("missing response",q.errors.SERVER_ERROR,{requestBody:wl(u.body,p["content-type"]),requestMethod:u.method,serverError:E,url:l}))}let w=b.body;if(c&&b.statusCode===304?w=null:!s&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),$a.throwError("bad response",q.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:wl(w,b.headers?b.headers["content-type"]:null),requestBody:wl(u.body,p["content-type"]),requestMethod:u.method,url:l})),r)try{const E=yield r(w,b);return m.cancel(),E}catch(E){if(E.throttleRetry&&v<n){let R=!0;if(i&&(R=yield i(v,l)),R){const I=a*parseInt(String(Math.random()*Math.pow(2,v)));yield QF(I);continue}}m.cancel(),$a.throwError("processing response error",q.errors.SERVER_ERROR,{body:wl(w,b.headers?b.headers["content-type"]:null),error:E,requestBody:wl(u.body,p["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),w}return $a.throwError("failed response",q.errors.SERVER_ERROR,{requestBody:wl(u.body,p["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([m.promise,g])}function a0(t,e,r){let n=(a,s)=>{let o=null;if(a!=null)try{o=JSON.parse(Jc(a))}catch(l){$a.throwError("invalid JSON",q.errors.SERVER_ERROR,{body:a,error:l})}return r&&(o=r(o,s)),o},i=null;if(e!=null){i=qr(e);const a=typeof t=="string"?{url:t}:cr(t);a.headers?Object.keys(a.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(a.headers=cr(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},t=a}return pX(t,i,n)}function oc(t,e){return e||(e={}),e=cr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,a=!1;const s=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function u(){return t().then(function(c){if(c!==void 0)s()&&r(c);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!a){if(l++,l>o){s()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(u,f)}return null},function(c){s()&&n(c)})}u()})}var sw="qpzry9x8gf2tvdw0s3jn54khce6mua7l",b3={};for(var gb=0;gb<sw.length;gb++){var gR=sw.charAt(gb);if(b3[gR]!==void 0)throw new TypeError(gR+" is ambiguous");b3[gR]=gb}function Gd(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function mX(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Gd(e)^n>>5}for(e=Gd(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Gd(e)^i&31}return e}function hUe(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=mX(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=Gd(n)^s,i+=sw.charAt(s)}for(a=0;a<6;++a)n=Gd(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=sw.charAt(o)}return i}function gX(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=mX(a);if(typeof o=="string")return o;for(var l=[],u=0;u<s.length;++u){var c=s.charAt(u),f=b3[c];if(f===void 0)return"Unknown character "+c;o=Gd(o)^f,!(u+6>=s.length)&&l.push(f)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:l}}function pUe(){var t=gX.apply(null,arguments);if(typeof t=="object")return t}function mUe(t){var e=gX.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function lE(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],l=0;l<t.length;++l)for(i=i<<e|t[l],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function gUe(t){var e=lE(t,8,5,!0);if(Array.isArray(e))return e}function vUe(t){var e=lE(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function yUe(t){var e=lE(t,5,8,!1);if(Array.isArray(e))return e}function bUe(t){var e=lE(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var xUe={decodeUnsafe:pUe,decode:mUe,encode:hUe,toWordsUnsafe:gUe,toWords:vUe,fromWordsUnsafe:yUe,fromWords:bUe};const ZF=Pi(xUe),Qn="providers/5.7.2",Y0=new q(Qn);class De{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=f=>this.data(f,!0);return e.transaction={hash:s,type:u,accessList:De.allowNull(this.accessList.bind(this),null),blockHash:De.allowNull(s,null),blockNumber:De.allowNull(l,null),transactionIndex:De.allowNull(l,null),confirmations:De.allowNull(l,null),from:r,gasPrice:De.allowNull(n),maxPriorityFeePerGas:De.allowNull(n),maxFeePerGas:De.allowNull(n),gasLimit:n,to:De.allowNull(r,null),value:n,nonce:l,data:a,r:De.allowNull(this.uint256),s:De.allowNull(this.uint256),v:De.allowNull(l),creates:De.allowNull(r,null),raw:De.allowNull(a)},e.transactionRequest={from:De.allowNull(r),nonce:De.allowNull(l),gasLimit:De.allowNull(n),gasPrice:De.allowNull(n),maxPriorityFeePerGas:De.allowNull(n),maxFeePerGas:De.allowNull(n),to:De.allowNull(r),value:De.allowNull(n),data:De.allowNull(c),type:De.allowNull(l),accessList:De.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:r,topics:De.arrayOf(s),data:a,logIndex:l,blockHash:s},e.receipt={to:De.allowNull(this.address,null),from:De.allowNull(this.address,null),contractAddress:De.allowNull(r,null),transactionIndex:l,root:De.allowNull(o),gasUsed:n,logsBloom:De.allowNull(a),blockHash:s,transactionHash:s,logs:De.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:De.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:De.allowNull(n),status:De.allowNull(l),type:u},e.block={hash:De.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:De.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:De.allowNull(r),extraData:a,transactions:De.allowNull(De.arrayOf(s)),baseFeePerGas:De.allowNull(n)},e.blockWithTransactions=cr(e.block),e.blockWithTransactions.transactions=De.allowNull(De.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:De.allowNull(i,void 0),toBlock:De.allowNull(i,void 0),blockHash:De.allowNull(s,void 0),address:De.allowNull(r,void 0),topics:De.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:De.allowNull(l),blockHash:De.allowNull(s),transactionIndex:l,removed:De.allowNull(this.boolean.bind(this)),address:r,data:De.allowFalsish(a,"0x"),topics:De.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return Nu(e||[])}number(e){return e==="0x"?0:me.from(e).toNumber()}type(e){return e==="0x"||e==null?0:me.from(e).toNumber()}bigNumber(e){return me.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ht(e))?e.toLowerCase():Y0.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Zt(e)}callAddress(e){if(!ht(e,32))return null;const r=Zt(Hr(e,12));return r===eZ?null:r}contractAddress(e){return eE(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ht(e))return Ov(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return zs(n)!==32?Y0.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=me.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ht(e))throw new Error("invalid uint256");return or(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=De.check(r,e);return i._difficulty=n==null?null:me.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return De.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&me.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=De.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ht(n)&&(n=me.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ht(n)&&(n=me.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return QZ(e)}receiptLog(e){return De.check(this.formats.receiptLog,e)}receipt(e){const r=De.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=me.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Y0.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Y0.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Y0.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return De.check(this.formats.filter,e)}filterLog(e){return De.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const a=e[i](r[i]);a!==void 0&&(n[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=r[i],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function vX(t){return t&&typeof t.isCommunityResource=="function"}function x3(t){return vX(t)&&t.isCommunityResource()}let XF=!1;function $v(){XF||(XF=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ot=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const yt=new q(Qn),wUe=10;function JF(t){return t==null?"null":(zs(t)!==32&&yt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function eB(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[JF(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return JF(e)}).join("&")}function EUe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Lf(t){if(typeof t=="string"){if(t=t.toLowerCase(),zs(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+eB(t);if(T$e.isForkEvent(t))throw yt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+eB(t.topics||[])}throw new Error("invalid event - "+t)}function G0(){return new Date().getTime()}function tB(t){return new Promise(e=>{setTimeout(e,t)})}const SUe=["block","network","pending","poll"];let TUe=class{constructor(e,r,n){se(this,"tag",e),se(this,"listener",r),se(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=EUe(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||SUe.indexOf(this.tag)>=0}};const AUe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function vR(t){return or(me.from(t).toHexString(),32)}function rB(t){return Ph.encode(sr([t,Hr(Go(Go(t)),0,4)]))}const yX=new RegExp("^(ipfs)://(.*)$","i"),nB=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),yX,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function A1(t,e){try{return Jc(lg(t,e))}catch{}return null}function lg(t,e){if(t==="0x")return null;const r=me.from(Hr(t,e,e+32)).toNumber(),n=me.from(Hr(t,r,r+32)).toNumber();return Hr(t,r+32,r+32+n)}function yR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):yt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function iB(t){const e=ge(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function RUe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function bX(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=ge(t[n]);e[n]=iB(r),e.push(iB(i.length)),e.push(RUe(i)),r+=32+Math.ceil(i.length/32)*32}return ri(e)}class w3{constructor(e,r,n,i){se(this,"provider",e),se(this,"name",n),se(this,"address",e.formatter.address(r)),se(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>me.from(e).eq(1)).catch(e=>{if(e.code===q.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return ot(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:ri([e,Zp(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=ri(["0x9061b923",bX([vZ(this.name),n.data])]));try{let a=yield this.provider.call(n);return ge(a).length%32===4&&yt.throwError("resolver threw error",q.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=lg(a,0)),a}catch(a){if(a.code===q.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return ot(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?lg(n,0):null})}_getAddress(e,r){const n=AUe[String(e)];if(n==null&&yt.throwError(`unsupported coin type: ${e}`,q.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ge(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return rB(sr([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const s=parseInt(a[1],16);if(a[2].length===s*2&&s>=1&&s<=75)return rB(sr([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=i[1];let s=i[0];if(s===0?a!==20&&a!==32&&(s=-1):s=-1,s>=0&&i.length===2+a&&a>=1&&a<=75){const o=ZF.toWords(i.slice(2));return o.unshift(s),ZF.encode(n.prefix,o)}}return null}getAddress(e){return ot(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===qk?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===q.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",vR(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&yt.throwError("invalid or unsupported coin data",q.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return ot(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<nB.length;n++){const i=r.match(nB[n]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:yR(r)};case"erc721":case"erc1155":{const s=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const o=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),c=or(me.from(l[1]).toHexString(),32);if(a==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:ri(["0x6352211e",c])}));if(o!==m)return null;e.push({type:"owner",content:m})}else if(a==="erc1155"){const m=me.from(yield this.provider.call({to:u,data:ri(["0x00fdd58e",or(o,32),c])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const f={to:this.provider.formatter.address(l[0]),data:ri([s,c])};let d=A1(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),a==="erc1155"&&(d=d.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=yR(d)),e.push({type:"metadata-url",content:d});const h=yield a0(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let p=h.image;if(typeof p!="string")return null;if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(yX)==null)return null;e.push({type:"url-ipfs",content:p}),p=yR(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch{}return null})}getContentHash(){return ot(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+Ph.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Ph.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+Jk("0x"+a[1]).replace(/[=+\/]/g,l=>s[l])}return yt.throwError("invalid or unsupported content hash data",q.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ot(this,void 0,void 0,function*(){let r=qr(e);r=sr([vR(64),vR(r.length),r]),r.length%32!==0&&(r=sr([r,or("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",be(r));return n==null||n==="0x"?null:Jc(n)})}}let bR=null,_Ue=1;class uE extends ef{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),se(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Pn(new.target,"getNetwork")(e);r?(se(this,"_network",r),this.emit("network",r,null)):yt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ot(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||yt.throwError("no network detected",q.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:se(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return oc(()=>this._ready().then(e=>e,e=>{if(!(e.code===q.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return bR==null&&(bR=new De),bR}static getNetwork(e){return p5(e??"homestead")}ccipReadFetch(e,r,n){return ot(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),a=r.toLowerCase(),s=[];for(let o=0;o<n.length;o++){const l=n[o],u=l.replace("{sender}",i).replace("{data}",a),c=l.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),f=yield a0({url:u,errorPassThrough:!0},c,(h,p)=>(h.status=p.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return yt.throwError(`response not found during CCIP fetch: ${d}`,q.errors.SERVER_ERROR,{url:l,errorMessage:d});s.push(d)}return yt.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,q.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return ot(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(G0()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=G0(),n=$r({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const s=G0();return i=me.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return ot(this,void 0,void 0,function*(){const e=_Ue++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)yt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",yt.makeError("network block skew detected",q.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&n-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let s=this.getTransactionReceipt(a).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+a]=o.blockNumber,this.emit(a,o)),null)).catch(o=>{this.emit("error",o)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=n;const s=a.toBlock-this._maxFilterBlockRange;s>a.fromBlock&&(a.fromBlock=s),a.fromBlock<0&&(a.fromBlock=0);const o=this.getLogs(a).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(a,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(o)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ot(this,void 0,void 0,function*(){return yt.throwError("provider does not support network detection",q.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ot(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield tB(0),this._network;const n=yt.makeError("underlying network changed",q.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=G0();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=G0(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return ot(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return ot(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((s,o)=>{const l=[];let u=!1;const c=function(){return u?!0:(u=!0,l.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||c()||s(d)};if(this.on(e,f),l.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const p=m=>ot(this,void 0,void 0,function*(){u||(yield tB(1e3),this.getTransactionCount(i.from).then(g=>ot(this,void 0,void 0,function*(){if(!u){if(g<=i.nonce)d=m;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=m;){if(u)return;const v=yield this.getBlockWithTransactions(h);for(let b=0;b<v.transactions.length;b++){const w=v.transactions[b];if(w.hash===e)return;if(w.from===i.from&&w.nonce===i.nonce){if(u)return;const E=yield this.waitForTransaction(w.hash,r);if(c())return;let R="replaced";w.data===i.data&&w.to===i.to&&w.value.eq(i.value)?R="repriced":w.data==="0x"&&w.from===w.to&&w.value.isZero()&&(R="cancelled"),o(yt.makeError("transaction was replaced",q.errors.TRANSACTION_REPLACED,{cancelled:R==="replaced"||R==="cancelled",reason:R,replacement:this._wrapTransaction(w),hash:e,receipt:E}));return}}h++}}u||this.once("block",p)}}),g=>{u||this.once("block",p)}))});if(u)return;this.once("block",p),l.push(()=>{this.removeListener("block",p)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{c()||o(yt.makeError("timeout exceeded",q.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),l.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return ot(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return me.from(e)}catch(r){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $r({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return me.from(i)}catch(a){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:a})}})}getTransactionCount(e,r){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $r({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return me.from(i).toNumber()}catch(a){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:a})}})}getCode(e,r){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $r({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return be(i)}catch(a){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:a})}})}getStorageAt(e,r,n){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield $r({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Ov(s))}),a=yield this.perform("getStorageAt",i);try{return be(a)}catch(s){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&zs(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&yt.throwError("Transaction hash mismatch from Provider.sendTransaction.",q.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(a,s)=>ot(this,void 0,void 0,function*(){a==null&&(a=1),s==null&&(s=0);let o;a!==0&&n!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,a,s,o);return l==null&&a===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&yt.throwError("transaction failed",q.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>be(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,i)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return ot(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?me.from(a):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?be(a):null))}),this.formatter.transactionRequest(yield $r(n))})}_getFilter(e){return ot(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield $r(r))})}_call(e,r,n){return ot(this,void 0,void 0,function*(){n>=wUe&&yt.throwError("CCIP read exceeded maximum redirections",q.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&zs(a)%32===4)try{const s=Hr(a,4),o=Hr(s,0,32);me.from(o).eq(i)||yt.throwError("CCIP Read sender did not match",q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const l=[],u=me.from(Hr(s,32,64)).toNumber(),c=me.from(Hr(s,u,u+32)).toNumber(),f=Hr(s,u+32);for(let v=0;v<c;v++){const b=A1(f,v*32);b==null&&yt.throwError("CCIP Read contained corrupt URL string",q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),l.push(b)}const d=lg(s,64);me.from(Hr(s,100,128)).isZero()||yt.throwError("CCIP Read callback selector included junk",q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const h=Hr(s,96,100),p=lg(s,128),m=yield this.ccipReadFetch(e,d,l);m==null&&yt.throwError("CCIP Read disabled or provided no URLs",q.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const g={to:i,data:ri([h,bX([m,p])])};return this._call(g,r,n+1)}catch(s){if(s.code===q.errors.SERVER_ERROR)throw s}try{return be(a)}catch(s){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:s})}})}call(e,r){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield $r({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield $r({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return me.from(n)}catch(i){return yt.throwError("bad result from backend",q.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return ot(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&yt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&yt.throwError("ENS name not configured",q.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ht(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ht(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{yt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return oc(()=>ot(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let l=0;l<a.transactions.length;l++){const u=a.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=s-u.blockNumber+1;c<=0&&(c=1),u.confirmations=c}}const o=this.formatter.blockWithTransactions(a);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return oc(()=>ot(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return ot(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return oc(()=>ot(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return ot(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield $r({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),De.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return ot(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ot(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&yt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return ot(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new w3(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return ot(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||yt.throwError("network does not support ENS",q.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Zp(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return ot(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ht(e))throw n}typeof e!="string"&&yt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return ot(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=A1(yield this.call({to:n,data:"0x691f3431"+Zp(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return ot(this,void 0,void 0,function*(){let r=null;if(ht(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(a,"getAvatar");if(!s)return null;r=new w3(this,s,a);try{const o=yield r.getAvatar();if(o)return o.url}catch(o){if(o.code!==q.errors.CALL_EXCEPTION)throw o}try{const o=A1(yield this.call({to:s,data:"0x691f3431"+Zp(a).substring(2)}),0);r=yield this.getResolver(o)}catch(o){if(o.code!==q.errors.CALL_EXCEPTION)throw o;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return yt.throwError(e+" not implemented",q.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new TUe(Lf(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],a=Lf(e);return this._events=this._events.filter(s=>s.tag!==a?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=Lf(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Lf(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,a=Lf(e);return this._events=this._events.filter(s=>s.tag!==a||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Lf(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var fo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Xr=new q(Qn),IUe=["call","estimateGas"];function em(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ht(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=em(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return em(JSON.parse(t),e)}catch{}return null}function xX(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const a=em(e,!0);if(a)return a.data;Xr.throwError("missing revert data in call exception; Transaction reverted without a reason string",q.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let a=em(e.body,!1);a==null&&(a=em(e,!1)),a&&Xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",q.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===q.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Xr.throwError("insufficient funds for intrinsic transaction cost",q.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Xr.throwError("nonce has already been used",q.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Xr.throwError("replacement fee too low",q.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Xr.throwError("legacy pre-eip-155 transactions not supported",q.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),IUe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",q.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function aB(t){return new Promise(function(e){setTimeout(e,t)})}function CUe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function H0(t){return t&&t.toLowerCase()}const E3={};class m5 extends sl{constructor(e,r,n){if(super(),e!==E3)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");se(this,"provider",r),n==null&&(n=0),typeof n=="string"?(se(this,"_address",this.provider.formatter.address(n)),se(this,"_index",null)):typeof n=="number"?(se(this,"_index",n),se(this,"_address",null)):Xr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Xr.throwError("cannot alter JSON-RPC Signer connection",q.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new PUe(E3,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Xr.throwError("unknown account #"+this._index,q.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=cr(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=cr(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>fo(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Xr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),$r({tx:$r(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Xr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Xr.throwError("user rejected transaction",q.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),xX("sendTransaction",s,a)))})}signTransaction(e){return Xr.throwError("signing transactions is unsupported",q.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return fo(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield oc(()=>fo(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return fo(this,void 0,void 0,function*(){const r=typeof e=="string"?qr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[be(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Xr.throwError("user rejected signing",q.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return fo(this,void 0,void 0,function*(){const r=typeof e=="string"?qr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),be(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Xr.throwError("user rejected signing",q.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return fo(this,void 0,void 0,function*(){const i=yield _n.resolveNames(e,r,n,s=>this.provider.resolveName(s)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(_n.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Xr.throwError("user rejected signing",q.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return fo(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class PUe extends m5{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const kUe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Lc extends uE{constructor(e,r){let n=r;n==null&&(n=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{a(s)})},0)})),super(n),e||(e=Pn(this.constructor,"defaultUrl")()),typeof e=="string"?se(this,"connection",Object.freeze({url:e})):se(this,"connection",Object.freeze(cr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return fo(this,void 0,void 0,function*(){yield aB(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Pn(this.constructor,"getNetwork");try{return r(me.from(e).toNumber())}catch(n){return Xr.throwError("could not detect network",q.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Xr.throwError("could not detect network",q.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new m5(E3,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:oi(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=a0(this.connection,JSON.stringify(n),CUe).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[H0(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[H0(r.address),r.blockTag]];case"getCode":return["eth_getCode",[H0(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[H0(r.address),or(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Pn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Pn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=H0(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return fo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&me.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=cr(r),r.transaction=cr(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Xr.throwError(e+" not implemented",q.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return xX(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return a.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return aB(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=cr(kUe);if(r)for(const a in r)r[a]&&(n[a]=!0);Yk(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const s=Ov(me.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=s}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=be(e[a]))}),e.accessList&&(i.accessList=Nu(e.accessList)),i}}let tm=null;try{if(tm=WebSocket,tm==null)throw new Error("inject please")}catch{const e=new q(Qn);tm=function(){e.throwError("WebSockets not supported in this environment",q.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var xR=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const vb=new q(Qn);let OUe=1;class cE extends Lc{constructor(e,r){r==="any"&&vb.throwError("WebSocketProvider does not support 'any' network yet",q.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?se(this,"_websocket",new tm(this.connection.url)):se(this,"_websocket",e),se(this,"_requests",{}),se(this,"_subs",{}),se(this,"_subIds",{}),se(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const a=i.data,s=JSON.parse(a);if(s.id!=null){const o=String(s.id),l=this._requests[o];if(delete this._requests[o],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let u=null;s.error?(u=new Error(s.error.message||"unknown error"),se(u,"code",s.error.code||null),se(u,"response",a)):u=new Error("unknown error"),l.callback(u,void 0),this.emit("debug",{action:"response",error:u,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){vb.throwError("cannot reset events block on WebSocketProvider",q.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){vb.throwError("cannot set polling interval on WebSocketProvider",q.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return xR(this,void 0,void 0,function*(){return null})}set polling(e){e&&vb.throwError("cannot set polling on WebSocketProvider",q.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=OUe++;return new Promise((i,a)=>{function s(l,u){return l?a(l):i(u)}const o=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(n)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return xR(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const a=yield i;this._subs[a]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=me.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(a=>{a&&this.emit(i,a)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return xR(this,void 0,void 0,function*(){this.websocket.readyState===tm.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var NUe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const bp=new q(Qn);class wX extends Lc{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return NUe(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||bp.throwError("no network detected",q.errors.UNKNOWN_ERROR,{}),this._network==null&&(se(this,"_network",r),this.emit("network",r,null))),r})}}class ol extends wX{constructor(e,r){bp.checkAbstract(new.target,ol),e=Pn(new.target,"getNetwork")(e),r=Pn(new.target,"getApiKey")(r);const n=Pn(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?se(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{se(this,i,r[i])})}_startPending(){bp.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return bp.throwError("API provider does not support signing",q.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return bp.throwError("not implemented; sub-classes must override getUrl",q.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const sB=new q(Qn),R1="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class EX extends cE{constructor(e,r){const n=new g5(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),se(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===R1}}class g5 extends ol{static getWebSocketProvider(e,r){return new EX(e,r)}static getApiKey(e){return e==null?R1:(e&&typeof e!="string"&&sB.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:sB.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,a)=>(r===R1&&$v(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===R1}}const LUe=new q(Qn),yb="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function DUe(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return LUe.throwArgumentError("unsupported network","name",t)}class SX extends ol{isCommunityResource(){return this.apiKey===yb}static getApiKey(e){return e??yb}static getUrl(e,r){r==null&&(r=yb);const n={allowGzip:!0,url:"https://"+DUe(e.name)+r,throttleCallback:(i,a)=>(r.apiKey===yb&&$v(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var MUe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const oB=new q(Qn);class TX extends ol{static getApiKey(e){return e!=null&&oB.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:oB.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return MUe(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var bb=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Dl=new q(Qn);function lB(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Ov(be(n)):r==="accessList"?n="["+Nu(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=be(n),e[r]=n)}return e}function $Ue(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function uB(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function cB(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function wR(t,e,r){if(t==="call"&&e.code===q.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let a=i.data;if(a&&(a="0x"+a.replace(/^.*0x/i,"")),ht(a))return a;Dl.throwError("missing revert data in call exception",q.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===q.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Dl.throwError("insufficient funds for intrinsic transaction cost",q.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Dl.throwError("nonce has already been used",q.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&Dl.throwError("replacement fee too low",q.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Dl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",q.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class AX extends uE{constructor(e,r){super(e),se(this,"baseUrl",this.getBaseUrl()),se(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Dl.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((a,s)=>{const o=r[s];return o!=null&&(a+=`&${s}=${o}`),a},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return bb(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),a=n?this.getPostData(e,r):null,s=e==="proxy"?uB:$Ue;this.emit("debug",{action:"request",request:i,provider:this});const o={url:i,throttleSlotInterval:1e3,throttleCallback:(c,f)=>(this.isCommunityResource()&&$v(),Promise.resolve(!0))};let l=null;a&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(a).map(c=>`${c}=${a[c]}`).join("&"));const u=yield a0(o,l,s||uB);return this.emit("debug",{action:"response",request:i,response:oi(u),provider:this}),u})}detectNetwork(){return bb(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return bb(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>wR("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=lB(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(a){return wR("call",a,r.transaction)}}case"estimateGas":{const i=lB(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(a){return wR("estimateGas",a,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=cB(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=cB(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&Dl.throwError("unsupported topic count",q.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const o=r.filter.topics[0];(typeof o!="string"||o.length!==66)&&Dl.throwError("unsupported topic format",q.errors.UNSUPPORTED_OPERATION,{topic0:o}),i.topic0=o}const a=yield this.fetch("logs",i);let s={};for(let o=0;o<a.length;o++){const l=a[o];if(l.blockHash==null){if(s[l.blockNumber]==null){const u=yield this.getBlock(l.blockNumber);u&&(s[l.blockNumber]=u.hash)}l.blockHash=s[l.blockNumber]}}return a}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return bb(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const o=this.formatter.transactionResponse(s);return s.timeStamp&&(o.timestamp=parseInt(s.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}}var ow=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(f){s(f)}}function l(c){try{u(n.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Xu=new q(Qn);function xb(){return new Date().getTime()}function fB(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Xu.throwArgumentError("provider mismatch","networks",t):e=n}return e}function dB(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function xd(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(me.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>xd(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=xd(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let FUe=1;function hB(t){let e=null,r=null,n=new Promise(s=>{e=function(){r&&(clearTimeout(r),r=null),s()},r=setTimeout(e,t)});const i=s=>(n=n.then(s),n);function a(){return n}return{cancel:e,getPromise:a,wait:i}}const BUe=[q.errors.CALL_EXCEPTION,q.errors.INSUFFICIENT_FUNDS,q.errors.NONCE_EXPIRED,q.errors.REPLACEMENT_UNDERPRICED,q.errors.UNPREDICTABLE_GAS_LIMIT],UUe=["address","args","errorArgs","errorSignature","method","transaction"];function wb(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function jUe(t,e){return function(r){const n={};r.forEach(a=>{const s=t(a.result);n[s]||(n[s]={count:0,result:a.result}),n[s].count++});const i=Object.keys(n);for(let a=0;a<i.length;a++){const s=n[i[a]];if(s.count>=e)return s.result}}}function zUe(t,e,r){let n=xd;switch(e){case"getBlockNumber":return function(i){const a=i.map(o=>o.result);let s=dB(i.map(o=>o.result),2);if(s!=null)return s=Math.ceil(s),a.indexOf(s+1)>=0&&s++,s>=t._highestBlockNumber&&(t._highestBlockNumber=s),t._highestBlockNumber};case"getGasPrice":return function(i){const a=i.map(s=>s.result);return a.sort(),a[Math.floor(a.length/2)]};case"getEtherPrice":return function(i){return dB(i.map(a=>a.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=cr(i),i.confirmations=-1,xd(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=cr(i),i.transactions=i.transactions.map(a=>(a=cr(a),a.confirmations=-1,a)),xd(i))}:n=function(i){return i==null?null:xd(i)};break;default:throw new Error("unknown method: "+e)}return jUe(n,t.quorum)}function W0(t,e){return ow(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:oc(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function VUe(t,e,r,n){return ow(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ht(n.blockTag)&&(i=yield W0(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ht(n.blockTag)&&(i=yield W0(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ht(n.blockTag)&&(i=yield W0(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ht(n.blockTag)&&(i=yield W0(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let a=n.filter;return(a.fromBlock&&ht(a.fromBlock)||a.toBlock&&ht(a.toBlock))&&(i=yield W0(t,e)),i.getLogs(a)}}return Xu.throwError("unknown method error",q.errors.UNKNOWN_ERROR,{method:r,params:n})})}class RX extends uE{constructor(e,r){e.length===0&&Xu.throwArgumentError("missing providers","providers",e);const n=e.map((s,o)=>{if(ef.isProvider(s)){const c=x3(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:c,priority:1})}const l=cr(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=x3(s)?2e3:750),l.weight==null&&(l.weight=1);const u=l.weight;return(u%1||u>512||u<1)&&Xu.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,u),Object.freeze(l)}),i=n.reduce((s,o)=>s+o.weight,0);r==null?r=i/2:r>i&&Xu.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let a=fB(n.map(s=>s.provider.network));a==null&&(a=new Promise((s,o)=>{setTimeout(()=>{this.detectNetwork().then(s,o)},0)})),super(a),se(this,"providerConfigs",Object.freeze(n)),se(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return ow(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return fB(e)})}perform(e,r){return ow(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(u=>u.provider.sendTransaction(r.signedTransaction).then(c=>c.hash,c=>c)));for(let u=0;u<l.length;u++){const c=l[u];if(typeof c=="string")return c}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=zUe(this,e,r),i=sX(this.providerConfigs.map(cr));i.sort((l,u)=>l.priority-u.priority);const a=this._highestBlockNumber;let s=0,o=!0;for(;;){const l=xb();let u=i.filter(h=>h.runner&&l-h.start<h.stallTimeout).reduce((h,p)=>h+p.weight,0);for(;u<this.quorum&&s<i.length;){const h=i[s++],p=FUe++;h.start=xb(),h.staller=hB(h.stallTimeout),h.staller.wait(()=>{h.staller=null}),h.runner=VUe(h,a,e,r).then(m=>{h.done=!0,h.result=m,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:p,backend:wb(h,xb()),request:{method:e,params:oi(r)},provider:this})},m=>{h.done=!0,h.error=m,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:p,backend:wb(h,xb()),request:{method:e,params:oi(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:p,backend:wb(h,null),request:{method:e,params:oi(r)},provider:this}),u+=h.weight}const c=[];i.forEach(h=>{h.done||!h.runner||(c.push(h.runner),h.staller&&c.push(h.staller.getPromise()))}),c.length&&(yield Promise.race(c));const f=i.filter(h=>h.done&&h.error==null);if(f.length>=this.quorum){const h=n(f);if(h!==void 0)return i.forEach(p=>{p.staller&&p.staller.cancel(),p.cancelled=!0}),h;o||(yield hB(100).getPromise()),o=!1}const d=i.reduce((h,p)=>{if(!p.done||p.error==null)return h;const m=p.error.code;return BUe.indexOf(m)>=0&&(h[m]||(h[m]={error:p.error,weight:0}),h[m].weight+=p.weight),h},{});if(Object.keys(d).forEach(h=>{const p=d[h];if(p.weight<this.quorum)return;i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0});const m=p.error,g={};UUe.forEach(v=>{m[v]!=null&&(g[v]=m[v])}),Xu.throwError(m.reason||m.message,h,g)}),i.filter(h=>!h.done).length===0)break}return i.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),Xu.throwError("failed to meet quorum",q.errors.SERVER_ERROR,{method:e,params:r,results:i.map(l=>wb(l)),provider:this})})}}const _X=null,_1=new q(Qn),xp="84842078b09946638c03157f83405213";class IX extends cE{constructor(e,r){const n=new v5(e,r),i=n.connection;i.password&&_1.throwError("INFURA WebSocket project secrets unsupported",q.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const a=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(a,e),se(this,"apiKey",n.projectId),se(this,"projectId",n.projectId),se(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===xp}}class v5 extends ol{static getWebSocketProvider(e,r){return new IX(e,r)}static getApiKey(e){const r={apiKey:xp,projectId:xp,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(_1.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),_1.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:_1.throwError("unsupported network",q.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(a,s)=>(r.projectId===xp&&$v(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===xp}}class YUe extends Lc{send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},a=new Promise((s,o)=>{i.resolve=s,i.reject=o});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const o=s.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:oi(o),provider:this}),a0(this.connection,JSON.stringify(o)).then(l=>{this.emit("debug",{action:"response",request:o,response:l,provider:this}),s.forEach((u,c)=>{const f=l[c];if(f.error){const d=new Error(f.error.message);d.code=f.error.code,d.data=f.error.data,u.reject(d)}else u.resolve(f.result)})},l=>{this.emit("debug",{action:"response",error:l,request:o,provider:this}),s.forEach(u=>{u.reject(l)})})},10)),a}}const ER=new q(Qn),GUe="ETHERS_JS_SHARED";class CX extends ol{static getApiKey(e){return e&&typeof e!="string"&&ER.throwArgumentError("invalid apiKey","apiKey",e),e||GUe}static getUrl(e,r){ER.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ER.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const pB=new q(Qn),mB="62e1ad51b37b8e00394bda3b";class PX extends ol{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=mB:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:pB.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:pB.throwError("unsupported network",q.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,a={headers:{},url:i};return r.applicationSecretKey!=null&&(a.user="",a.password=r.applicationSecretKey),a}isCommunityResource(){return this.applicationId===mB}}const gB=new q(Qn);let HUe=1;function vB(t,e){const r="Web3LegacyFetcher";return function(n,i){const a={method:n,params:i,id:HUe++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:r,request:oi(a),provider:this}),e(a,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:r,error:l,request:a,provider:this}),o(l);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:u,provider:this}),u.error){const c=new Error(u.error.message);return c.code=u.error.code,c.data=u.error.data,o(c)}s(u.result)})})}}function WUe(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:oi(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class kX extends Lc{constructor(e,r){e==null&&gB.throwArgumentError("missing provider","provider",e);let n=null,i=null,a=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),i=WUe(e)):e.sendAsync?i=vB(e,e.sendAsync.bind(e)):e.send?i=vB(e,e.send.bind(e)):gB.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),se(this,"jsonRpcFetchFunc",i),se(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const yB=new q(Qn);function y5(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Lc(t);case"ws":case"wss":return new cE(t);default:yB.throwArgumentError("unsupported URL scheme","network",t)}}const r=p5(t);return(!r||!r._defaultProvider)&&yB.throwError("unsupported getDefaultProvider network",q.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:RX,AlchemyProvider:g5,AnkrProvider:SX,CloudflareProvider:TX,EtherscanProvider:AX,InfuraProvider:v5,JsonRpcProvider:Lc,NodesmithProvider:CX,PocketProvider:PX,Web3Provider:kX,IpcProvider:_X},e)}const OX=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:g5,AlchemyWebSocketProvider:EX,AnkrProvider:SX,BaseProvider:uE,CloudflareProvider:TX,EtherscanProvider:AX,FallbackProvider:RX,Formatter:De,InfuraProvider:v5,InfuraWebSocketProvider:IX,IpcProvider:_X,JsonRpcBatchProvider:YUe,JsonRpcProvider:Lc,JsonRpcSigner:m5,NodesmithProvider:CX,PocketProvider:PX,Provider:ef,Resolver:w3,StaticJsonRpcProvider:wX,UrlJsonRpcProvider:ol,Web3Provider:kX,WebSocketProvider:cE,getDefaultProvider:y5,getNetwork:p5,isCommunityResourcable:vX,isCommunityResource:x3,showThrottleMessage:$v},Symbol.toStringTag,{value:"Module"})),qUe="solidity/5.7.0",KUe=new RegExp("^bytes([0-9]+)$"),QUe=new RegExp("^(u?int)([0-9]*)$"),ZUe=new RegExp("^(.*)\\[([0-9]*)\\]$"),XUe="0000000000000000000000000000000000000000000000000000000000000000",Vf=new q(qUe);function NX(t,e,r){switch(t){case"address":return r?qp(e,32):ge(e);case"string":return qr(e);case"bytes":return ge(e);case"bool":return e=e?"0x01":"0x00",r?qp(e,32):ge(e)}let n=t.match(QUe);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Vf.throwArgumentError("invalid number type","type",t),r&&(i=256),e=me.from(e).toTwos(i),qp(e,i/8)}if(n=t.match(KUe),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Vf.throwArgumentError("invalid bytes type","type",t),ge(e).byteLength!==i&&Vf.throwArgumentError(`invalid value for ${t}`,"value",e),r?ge((e+XUe).substring(0,66)):e}if(n=t.match(ZUe),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Vf.throwArgumentError(`invalid array length for ${t}`,"value",e);const s=[];return e.forEach(function(o){s.push(NX(i,o,!0))}),sr(s)}return Vf.throwArgumentError("invalid type","type",t)}function b5(t,e){t.length!=e.length&&Vf.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(NX(n,e[i]))}),be(sr(r))}function JUe(t,e){return ir(b5(t,e))}function eje(t,e){return Go(b5(t,e))}const tje="units/5.7.0",LX=new q(tje),DX=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rje(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&LX.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const a=[];for(;r.length;)if(r.length<=3){a.unshift(r);break}else{const s=r.length-3;a.unshift(r.substring(s)),r=r.substring(0,s)}return n+a.join(",")+i}function MX(t,e){if(typeof e=="string"){const r=DX.indexOf(e);r!==-1&&(e=3*r)}return x1(t,e??18)}function $X(t,e){if(typeof t!="string"&&LX.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=DX.indexOf(e);r!==-1&&(e=3*r)}return ms(t,e??18)}function FX(t){return MX(t,18)}function nje(t){return $X(t,18)}const BX=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:uZ,ConstructorFragment:Qa,ErrorFragment:vo,EventFragment:As,FormatTypes:Dt,Fragment:_s,FunctionFragment:Za,HDNode:Mi,Indexed:Jx,Interface:u3,LogDescription:wZ,Logger:q,ParamType:an,RLP:JMe,SigningKey:mc,get SupportedAlgorithm(){return kh},TransactionDescription:EZ,get TransactionTypes(){return m3},get UnicodeNormalizationForm(){return Vs},Utf8ErrorFuncs:oZ,get Utf8ErrorReason(){return bi},_TypedDataEncoder:_n,_fetchData:pX,_toEscapedUtf8String:w7e,accessListify:Nu,arrayify:ge,base58:Ph,base64:U7e,checkProperties:Yk,checkResultErrors:GQ,commify:rje,computeAddress:Jl,computeHmac:sg,computePublicKey:a5,concat:sr,deepCopy:oi,defaultAbiCoder:cZ,defaultPath:Oh,defineReadOnly:se,dnsEncode:vZ,entropyToMnemonic:oE,fetchJson:a0,formatBytes32String:E7e,formatEther:FX,formatUnits:MX,getAccountPath:$Be,getAddress:Zt,getContractAddress:eE,getCreate2Address:i7e,getIcapAddress:n7e,getJsonWalletAddress:YBe,getStatic:Pn,hashMessage:t5,hexConcat:ri,hexDataLength:zs,hexDataSlice:Hr,hexStripZeros:MQ,hexValue:Ov,hexZeroPad:or,hexlify:be,id:zl,isAddress:QQ,isBytes:ku,isBytesLike:kv,isHexString:ht,isValidMnemonic:MBe,isValidName:c$e,joinSignature:s3,keccak256:ir,mnemonicToEntropy:sE,mnemonicToSeed:aX,namehash:Zp,nameprep:M7e,parseBytes32String:S7e,parseEther:nje,parseTransaction:QZ,parseUnits:$X,poll:oc,randomBytes:bd,recoverAddress:Mv,recoverPublicKey:GZ,resolveProperties:$r,ripemd160:rX,serializeTransaction:g3,sha256:Go,sha512:_Be,shallowCopy:cr,shuffled:sX,solidityKeccak256:JUe,solidityPack:b5,soliditySha256:eje,splitSignature:Zc,stripZeros:Ns,toUtf8Bytes:qr,toUtf8CodePoints:Zx,toUtf8String:Jc,verifyMessage:iUe,verifyTypedData:aUe,zeroPad:qp},Symbol.toStringTag,{value:"Module"})),x5="ethers/5.7.2",UX=new q(x5),jX=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:o5,BigNumber:me,Contract:nw,ContractFactory:eX,FixedNumber:rn,Signer:sl,VoidSigner:Lv,Wallet:Ll,Wordlist:rf,constants:iZ,get errors(){return Li},getDefaultProvider:y5,logger:UX,providers:OX,utils:BX,version:x5,wordlists:iw},Symbol.toStringTag,{value:"Module"}));try{const t=window;t._ethers==null&&(t._ethers=jX)}catch{}const ije=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:o5,BigNumber:me,Contract:nw,ContractFactory:eX,FixedNumber:rn,Signer:sl,VoidSigner:Lv,Wallet:Ll,Wordlist:rf,constants:iZ,get errors(){return Li},ethers:jX,getDefaultProvider:y5,logger:UX,providers:OX,utils:BX,version:x5,wordlists:iw},Symbol.toStringTag,{value:"Module"})),aje=t=>FX(t),sje=(t,e)=>{if(t.length<=e)return t;var r="...",n=r.length,i=e-n,a=Math.ceil(i/2),s=Math.floor(i/2);return t.substr(0,a)+r+t.substr(t.length-s)},oje=t=>{let e={licenseOwner:null,parcelId:null};if(t.data.geoWebParcels.length===0)return e;try{e.parcelId=t.data.geoWebParcels[0].id,e.licenseOwner=t.data.geoWebParcels[0].licenseOwner}catch(r){console.log(r)}return e},lje=t=>{let e={id:null,licensee:null,value:null};try{let r=t.data.geoWebParcel;e.id=r.id,e.licensee=sje(r.licenseOwner,11),e.value=aje(r.currentBid.forSalePrice)}catch(r){console.log(r)}return e},zX=new wMe({uri:qNe,cache:new pMe}),uje=Pc`
  query GeoWebParcels($lat: String, $lon: String) {
    geoWebParcels(
      where: {
        bboxE_gte: $lon
        bboxW_lte: $lon
        bboxS_lte: $lat
        bboxN_gte: $lat
      }
    ) {
      id
      licenseOwner
    }
  }
`,cje=Pc`
  query Parcel($id: String) {
    geoWebParcel(id: $id) {
      id
      licenseOwner
      currentBid {
        forSalePrice
      }
    }
  }
`,fje=async(t,e)=>{let r=await zX.query({query:uje,variables:{lat:t,lon:e}});return oje(r)},dje=async t=>{let e=await zX.query({query:cje,variables:{id:t}});return lje(e)},hje="0.9.8";let ta=class S3 extends Error{constructor(e,r={}){const n=r.cause instanceof S3?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof S3&&r.cause.docsPath||r.docsPath,a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${hje}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function nf(t,e){return t.exec(e)?.groups}const VX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,YX=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,GX=/^\(.+?\).*?$/,HX=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pje(t){return HX.test(t)}function mje(t){return nf(HX,t)}const WX=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function gje(t){return WX.test(t)}function vje(t){return nf(WX,t)}const qX=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function yje(t){return qX.test(t)}function bje(t){return nf(qX,t)}const KX=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function w5(t){return KX.test(t)}function xje(t){return nf(KX,t)}const QX=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function wje(t){return QX.test(t)}function Eje(t){return nf(QX,t)}const Sje=/^fallback\(\)$/;function Tje(t){return Sje.test(t)}const Aje=/^receive\(\) external payable$/;function Rje(t){return Aje.test(t)}const bB=new Set(["memory","indexed","storage","calldata"]),_je=new Set(["indexed"]),T3=new Set(["calldata","memory","storage"]);class Ije extends ta{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Cje extends ta{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Pje extends ta{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class kje extends ta{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Oje extends ta{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Nje extends ta{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Lje extends ta{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Dje extends ta{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class wp extends ta{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Mje extends ta{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class $je extends ta{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Fje extends ta{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Bje extends ta{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Uje(t,e){return e?`${e}:${t}`:t}const SR=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function jje(t,e={}){if(yje(t)){const r=bje(t);if(!r)throw new wp({signature:t,type:"function"});const n=Bi(r.parameters),i=[],a=n.length;for(let o=0;o<a;o++)i.push(yo(n[o],{modifiers:T3,structs:e,type:"function"}));const s=[];if(r.returns){const o=Bi(r.returns),l=o.length;for(let u=0;u<l;u++)s.push(yo(o[u],{modifiers:T3,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:s}}if(gje(t)){const r=vje(t);if(!r)throw new wp({signature:t,type:"event"});const n=Bi(r.parameters),i=[],a=n.length;for(let s=0;s<a;s++)i.push(yo(n[s],{modifiers:_je,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}if(pje(t)){const r=mje(t);if(!r)throw new wp({signature:t,type:"error"});const n=Bi(r.parameters),i=[],a=n.length;for(let s=0;s<a;s++)i.push(yo(n[s],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}if(wje(t)){const r=Eje(t);if(!r)throw new wp({signature:t,type:"constructor"});const n=Bi(r.parameters),i=[],a=n.length;for(let s=0;s<a;s++)i.push(yo(n[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}if(Tje(t))return{type:"fallback"};if(Rje(t))return{type:"receive",stateMutability:"payable"};throw new Mje({signature:t})}const zje=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Vje=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Yje=/^u?int$/;function yo(t,e){const r=Uje(t,e?.type);if(SR.has(r))return SR.get(r);const n=GX.test(t),i=nf(n?Vje:zje,t);if(!i)throw new kje({param:t});if(i.name&&Hje(i.name))throw new Oje({param:t,name:i.name});const a=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let l,u={};if(n){l="tuple";const f=Bi(i.type),d=[],h=f.length;for(let p=0;p<h;p++)d.push(yo(f[p],{structs:o}));u={components:d}}else if(i.type in o)l="tuple",u={components:o[i.type]};else if(Yje.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!ZX(l))throw new Cje({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new Nje({param:t,type:e?.type,modifier:i.modifier});if(T3.has(i.modifier)&&!Wje(l,!!i.array))throw new Lje({param:t,type:e?.type,modifier:i.modifier})}const c={type:`${l}${i.array??""}`,...a,...s,...u};return SR.set(r,c),c}function Bi(t,e=[],r="",n=0){if(t===""){if(r==="")return e;if(n!==0)throw new Bje({current:r,depth:n});return e.push(r.trim()),e}const i=t.length;for(let a=0;a<i;a++){const s=t[a],o=t.slice(a+1);switch(s){case",":return n===0?Bi(o,[...e,r.trim()]):Bi(o,e,`${r}${s}`,n);case"(":return Bi(o,e,`${r}${s}`,n+1);case")":return Bi(o,e,`${r}${s}`,n-1);default:return Bi(o,e,`${r}${s}`,n)}}return[]}function ZX(t){return t==="address"||t==="bool"||t==="function"||t==="string"||VX.test(t)||YX.test(t)}const Gje=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Hje(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||VX.test(t)||YX.test(t)||Gje.test(t)}function Wje(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function XX(t){const e={},r=t.length;for(let s=0;s<r;s++){const o=t[s];if(!w5(o))continue;const l=xje(o);if(!l)throw new wp({signature:o,type:"struct"});const u=l.properties.split(";"),c=[],f=u.length;for(let d=0;d<f;d++){const p=u[d].trim();if(!p)continue;const m=yo(p,{type:"struct"});c.push(m)}if(!c.length)throw new $je({signature:o});e[l.name]=c}const n={},i=Object.entries(e),a=i.length;for(let s=0;s<a;s++){const[o,l]=i[s];n[o]=JX(l,e)}return n}const qje=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function JX(t,e,r=new Set){const n=[],i=t.length;for(let a=0;a<i;a++){const s=t[a];if(GX.test(s.type))n.push(s);else{const l=nf(qje,s.type);if(!l?.type)throw new Dje({abiParameter:s});const{array:u,type:c}=l;if(c in e){if(r.has(c))throw new Fje({type:c});n.push({...s,type:`tuple${u??""}`,components:JX(e[c]??[],e,new Set([...r,c]))})}else if(ZX(c))n.push(s);else throw new Ije({type:c})}}return n}function eJ(t){const e=XX(t),r=[],n=t.length;for(let i=0;i<n;i++){const a=t[i];w5(a)||r.push(jje(a,e))}return r}function xB(t){const e=[];if(typeof t=="string"){const r=Bi(t),n=r.length;for(let i=0;i<n;i++)e.push(yo(r[i],{modifiers:bB}))}else{const r=XX(t),n=t.length;for(let i=0;i<n;i++){const a=t[i];if(w5(a))continue;const s=Bi(a),o=s.length;for(let l=0;l<o;l++)e.push(yo(s[l],{modifiers:bB,structs:r}))}}if(e.length===0)throw new Pje({params:t});return e}function Lu(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new lze(t.type);return`${t.name}(${fE(t.inputs,{includeName:e})})`}function fE(t,{includeName:e=!1}={}){return t?t.map(r=>Kje(r,{includeName:e})).join(e?", ":","):""}function Kje(t,{includeName:e}){return t.type.startsWith("tuple")?`(${fE(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Vi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Kr(t){return Vi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Qje="1.13.2",Zje=t=>t,dE=t=>t,Xje=()=>`viem@${Qje}`;class we extends Error{constructor(e,r={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Xje()});const n=r.cause instanceof we?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof we&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://viem.sh${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return tJ(this,e)}}function tJ(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t?tJ(t.cause,e):e?null:t}class Jje extends we{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class wB extends we{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class E5 extends we{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${fE(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class hE extends we{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class eze extends we{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class tze extends we{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Kr(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class rJ extends we{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class nJ extends we{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class rze extends we{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class nze extends we{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class EB extends we{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class lw extends we{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class ize extends we{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class iJ extends we{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Dc extends we{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${fE(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class s0 extends we{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Lu(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class aze extends we{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class sze extends we{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class oze extends we{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class lze extends we{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class uze extends we{constructor(e){super(`Type "${e}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class cze extends we{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class aJ extends we{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class sJ extends we{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function So(t,{dir:e,size:r=32}={}){return typeof t=="string"?To(t,{dir:e,size:r}):fze(t,{dir:e,size:r})}function To(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new sJ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function fze(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new sJ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const a=e==="right";n[a?i:r-i-1]=t[a?i:t.length-i-1]}return n}class dze extends we{constructor({max:e,min:r,signed:n,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class hze extends we{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class pze extends we{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Hd(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Du(t,{size:e}){if(Kr(t)>e)throw new pze({givenSize:Kr(t),maxSize:e})}function Rs(t,e={}){const{signed:r}=e;e.size&&Du(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return n<=a?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function oJ(t,e={}){let r=t;if(e.size&&(Du(r,{size:e.size}),r=Hd(r)),Hd(r)==="0x00")return!1;if(Hd(r)==="0x01")return!0;throw new hze(r)}function li(t,e={}){return Number(Rs(t,e))}function rm(t,e={}){let r=T5(t);return e.size&&(Du(r,{size:e.size}),r=Hd(r,{dir:"right"})),new TextDecoder().decode(r)}const mze=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mu(t,e={}){return typeof t=="number"||typeof t=="bigint"?Pt(t,e):typeof t=="string"?Ao(t,e):typeof t=="boolean"?S5(t,e):ug(t,e)}function S5(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Du(r,{size:e.size}),So(r,{size:e.size})):r}function ug(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=mze[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Du(n,{size:e.size}),So(n,{dir:"right",size:e.size})):n}function Pt(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let a;n?r?a=(1n<<BigInt(n)*8n-1n)-1n:a=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof a=="bigint"&&r?-a-1n:0;if(a&&i>a||i<s){const l=typeof t=="bigint"?"n":"";throw new dze({max:a?`${a}${l}`:void 0,min:`${s}${l}`,signed:r,size:n,value:`${t}${l}`})}const o=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?So(o,{size:n}):o}const gze=new TextEncoder;function Ao(t,e={}){const r=gze.encode(t);return ug(r,e)}const vze=new TextEncoder;function vu(t,e={}){return typeof t=="number"||typeof t=="bigint"?bze(t,e):typeof t=="boolean"?yze(t,e):Vi(t)?T5(t,e):Ro(t,e)}function yze(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Du(r,{size:e.size}),So(r,{size:e.size})):r}const ro={zero:48,nine:57,A:65,F:70,a:97,f:102};function SB(t){if(t>=ro.zero&&t<=ro.nine)return t-ro.zero;if(t>=ro.A&&t<=ro.F)return t-(ro.A-10);if(t>=ro.a&&t<=ro.f)return t-(ro.a-10)}function T5(t,e={}){let r=t;e.size&&(Du(r,{size:e.size}),r=So(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,a=new Uint8Array(i);for(let s=0,o=0;s<i;s++){const l=SB(n.charCodeAt(o++)),u=SB(n.charCodeAt(o++));if(l===void 0||u===void 0)throw new we(`Invalid byte sequence ("${n[o-2]}${n[o-1]}" in "${n}").`);a[s]=l*16+u}return a}function bze(t,e){const r=Pt(t,e);return T5(r)}function Ro(t,e={}){const r=vze.encode(t);return typeof e.size=="number"?(Du(r,{size:e.size}),So(r,{dir:"right",size:e.size})):r}const xze=/((function|event)\s)?(.*)(\((.*)\))/;function lJ(t){const e=t.match(xze),r=e?.[2]||void 0,n=e?.[3],i=e?.[5]||void 0;return{type:r,name:n,params:i}}function wze(t){return lJ(t).name}function Eze(t){return lJ(t).params?.split(",").map(n=>n.trim().split(" "))?.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}const uJ=t=>{if(typeof t=="string"){const e=wze(t),r=Eze(t)||[];return`${e}(${r.map(({type:n})=>n).join(",")})`}return Lu(t)},Sze=t=>uJ(t);function TB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function cJ(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function AB(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Tze(t,e){cJ(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Eb=BigInt(2**32-1),RB=BigInt(32);function Aze(t,e=!1){return e?{h:Number(t&Eb),l:Number(t>>RB&Eb)}:{h:Number(t>>RB&Eb)|0,l:Number(t&Eb)|0}}function Rze(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=Aze(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const _ze=(t,e,r)=>t<<r|e>>>32-r,Ize=(t,e,r)=>e<<r|t>>>32-r,Cze=(t,e,r)=>e<<r-32|t>>>64-r,Pze=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kze=t=>t instanceof Uint8Array,Oze=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Nze=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Nze)throw new Error("Non little-endian hardware is not supported");function Lze(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function fJ(t){if(typeof t=="string"&&(t=Lze(t)),!kze(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}class Dze{clone(){return this._cloneInto()}}function Mze(t){const e=n=>t().update(fJ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const[dJ,hJ,pJ]=[[],[],[]],$ze=BigInt(0),q0=BigInt(1),Fze=BigInt(2),Bze=BigInt(7),Uze=BigInt(256),jze=BigInt(113);for(let t=0,e=q0,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],dJ.push(2*(5*n+r)),hJ.push((t+1)*(t+2)/2%64);let i=$ze;for(let a=0;a<7;a++)e=(e<<q0^(e>>Bze)*jze)%Uze,e&Fze&&(i^=q0<<(q0<<BigInt(a))-q0);pJ.push(i)}const[zze,Vze]=Rze(pJ,!0),_B=(t,e,r)=>r>32?Cze(t,e,r):_ze(t,e,r),IB=(t,e,r)=>r>32?Pze(t,e,r):Ize(t,e,r);function Yze(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,l=(s+2)%10,u=r[l],c=r[l+1],f=_B(u,c,1)^r[o],d=IB(u,c,1)^r[o+1];for(let h=0;h<50;h+=10)t[s+h]^=f,t[s+h+1]^=d}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=hJ[s],l=_B(i,a,o),u=IB(i,a,o),c=dJ[s];i=t[c],a=t[c+1],t[c]=l,t[c+1]=u}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=zze[n],t[1]^=Vze[n]}r.fill(0)}class A5 extends Dze{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,TB(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Oze(this.state)}keccak(){Yze(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){AB(this);const{blockLen:r,state:n}=this;e=fJ(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){AB(this,!1),cJ(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return TB(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Tze(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new A5(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Gze=(t,e,r)=>Mze(()=>new A5(e,t,r)),Hze=Gze(1,136,256/8);function Yn(t,e){const r=e||"hex",n=Hze(Vi(t,{strict:!1})?vu(t):t);return r==="bytes"?n:Mu(n)}const Wze=t=>Yn(vu(t)),R5=t=>Wze(Sze(t));class Nh extends we{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const qze=/^0x[a-fA-F0-9]{40}$/;function Ho(t){return qze.test(t)}function Wo(t){return typeof t[0]=="string"?qi(t):Kze(t)}function Kze(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function qi(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function tn(t,e,r,{strict:n}={}){return Vi(t,{strict:!1})?nm(t,e,r,{strict:n}):Qze(t,e,r,{strict:n})}function mJ(t,e){if(typeof e=="number"&&e>0&&e>Kr(t)-1)throw new aJ({offset:e,position:"start",size:Kr(t)})}function gJ(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Kr(t)!==r-e)throw new aJ({offset:r,position:"end",size:Kr(t)})}function Qze(t,e,r,{strict:n}={}){mJ(t,e);const i=t.slice(e,r);return n&&gJ(i,e,r),i}function nm(t,e,r,{strict:n}={}){mJ(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&gJ(i,e,r),i}function yu(t,e){if(t.length!==e.length)throw new rJ({expectedLength:t.length,givenLength:e.length});const r=Zze({params:t,values:e}),n=I5(r);return n.length===0?"0x":n}function Zze({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(_5({param:t[n],value:e[n]}));return r}function _5({param:t,value:e}){const r=pE(t.type);if(r){const[n,i]=r;return Jze(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return iVe(e,{param:t});if(t.type==="address")return Xze(e);if(t.type==="bool")return tVe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return rVe(e,{signed:n})}if(t.type.startsWith("bytes"))return eVe(e,{param:t});if(t.type==="string")return nVe(e);throw new aze(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function I5(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?e+=32:e+=Kr(o)}const r=[],n=[];let i=0;for(let a=0;a<t.length;a++){const{dynamic:s,encoded:o}=t[a];s?(r.push(Pt(e+i,{size:32})),n.push(o),i+=Kr(o)):r.push(o)}return Wo([...r,...n])}function Xze(t){if(!Ho(t))throw new Nh({address:t});return{dynamic:!1,encoded:To(t.toLowerCase())}}function Jze(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new oze(t);if(!n&&t.length!==e)throw new eze({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const a=[];for(let s=0;s<t.length;s++){const o=_5({param:r,value:t[s]});o.dynamic&&(i=!0),a.push(o)}if(n||i){const s=I5(a);if(n){const o=Pt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Wo([o,s]):o}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Wo(a.map(({encoded:s})=>s))}}function eVe(t,{param:e}){const[,r]=e.type.split("bytes"),n=Kr(t);if(!r){let i=t;return n%32!==0&&(i=To(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Wo([To(Pt(n,{size:32})),i])}}if(n!==parseInt(r))throw new tze({expectedSize:parseInt(r),value:t});return{dynamic:!1,encoded:To(t,{dir:"right"})}}function tVe(t){return{dynamic:!1,encoded:To(S5(t))}}function rVe(t,{signed:e}){return{dynamic:!1,encoded:Pt(t,{size:32,signed:e})}}function nVe(t){const e=Ao(t),r=Math.ceil(Kr(e)/32),n=[];for(let i=0;i<r;i++)n.push(To(tn(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Wo([To(Pt(Kr(e),{size:32})),...n])}}function iVe(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const a=e.components[i],s=Array.isArray(t)?i:a.name,o=_5({param:a,value:t[s]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?I5(n):Wo(n.map(({encoded:i})=>i))}}function pE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const aVe=t=>Yn(vu(t)),C5=t=>tn(aVe(uJ(t)),0,4);function Fv({abi:t,args:e=[],name:r}){const n=Vi(r,{strict:!1}),i=t.filter(a=>n?a.type==="function"?C5(a)===r:a.type==="event"?R5(a)===r:!1:"name"in a&&a.name===r);if(i.length!==0){if(i.length===1)return i[0];for(const a of i){if(!("inputs"in a))continue;if(!e||e.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==e.length)continue;if(e.every((o,l)=>{const u="inputs"in a&&a.inputs[l];return u?A3(o,u):!1}))return a}return i[0]}}function A3(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Ho(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,a)=>A3(Object.values(t)[a],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>A3(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Bv({abi:t,eventName:e,args:r}){let n=t[0];if(e&&(n=Fv({abi:t,args:r,name:e}),!n))throw new EB(e,{docsPath:"/docs/contract/encodeEventTopics"});if(n.type!=="event")throw new EB(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const i=Lu(n),a=R5(i);let s=[];if(r&&"inputs"in n){const o=n.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?o?.map(u=>r[u.name])??[]:[];l.length>0&&(s=o?.map((u,c)=>Array.isArray(l[c])?l[c].map((f,d)=>CB({param:u,value:l[c][d]})):l[c]?CB({param:u,value:l[c]}):null)??[])}return[a,...s]}function CB({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Yn(vu(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new cze(t.type);return yu([t],[e])}function mE(t,{method:e}){const r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:a,transport:s})=>{a==="success"&&e===n&&(r[i]=s.request)}),n=>r[n]||t.request}async function P5(t,{address:e,abi:r,args:n,eventName:i,fromBlock:a,strict:s,toBlock:o}){const l=mE(t,{method:"eth_newFilter"}),u=i?Bv({abi:r,args:n,eventName:i}):void 0,c=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?Pt(a):a,toBlock:typeof o=="bigint"?Pt(o):o,topics:u}]});return{abi:r,args:n,eventName:i,id:c,request:l(c),strict:s,type:"event"}}function ll(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}function $u({abi:t,args:e,functionName:r}){let n=t[0];if(r&&(n=Fv({abi:t,args:e,name:r}),!n))throw new lw(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new lw(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const i=Lu(n),a=C5(i),s="inputs"in n&&n.inputs?yu(n.inputs,e??[]):void 0;return qi([a,s??"0x"])}const vJ={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},sVe={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},oVe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function yJ(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Yn(Ro(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());return`0x${i.join("")}`}function lVe(t,e){if(!Ho(t))throw new Nh({address:t});return yJ(t,e)}function Uv(t,e){if(e==="0x"&&t.length>0)throw new hE;if(Kr(e)&&Kr(e)<32)throw new E5({data:e,params:t,size:Kr(e)});return uVe({data:e,params:t})}function uVe({data:t,params:e}){const r=[];let n=0;for(let i=0;i<e.length;i++){if(n>=Kr(t))throw new E5({data:t,params:e,size:Kr(t)});const a=e[i],{consumed:s,value:o}=Wd({data:t,param:a,position:n});r.push(o),n+=s}return r}function Wd({data:t,param:e,position:r}){const n=pE(e.type);if(n){const[a,s]=n;return fVe(t,{length:a,param:{...e,type:s},position:r})}if(e.type==="tuple")return gVe(t,{param:e,position:r});if(e.type==="string")return mVe(t,{position:r});if(e.type.startsWith("bytes"))return hVe(t,{param:e,position:r});const i=tn(t,r,r+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return pVe(i,{param:e});if(e.type==="address")return cVe(i);if(e.type==="bool")return dVe(i);throw new sze(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function cVe(t){return{consumed:32,value:yJ(tn(t,-20))}}function fVe(t,{param:e,length:r,position:n}){if(!r){const s=li(tn(t,n,n+32,{strict:!0})),o=li(tn(t,s,s+32,{strict:!0}));let l=0;const u=[];for(let c=0;c<o;++c){const f=Wd({data:tn(t,s+32),param:e,position:l});l+=f.consumed,u.push(f.value)}return{value:u,consumed:32}}if(uw(e)){const o=!pE(e.type)?.[0];let l=0;const u=[];for(let c=0;c<r;++c){const f=li(tn(t,n,n+32,{strict:!0})),d=Wd({data:tn(t,f),param:e,position:o?l:c*32});l+=d.consumed,u.push(d.value)}return{value:u,consumed:32}}let i=0;const a=[];for(let s=0;s<r;++s){const o=Wd({data:t,param:e,position:n+i});i+=o.consumed,a.push(o.value)}return{value:a,consumed:i}}function dVe(t){return{consumed:32,value:oJ(t)}}function hVe(t,{param:e,position:r}){const[n,i]=e.type.split("bytes");if(!i){const s=li(tn(t,r,r+32,{strict:!0})),o=li(tn(t,s,s+32,{strict:!0}));return o===0?{consumed:32,value:"0x"}:{consumed:32,value:tn(t,s+32,s+32+o,{strict:!0})}}return{consumed:32,value:tn(t,r,r+parseInt(i),{strict:!0})}}function pVe(t,{param:e}){const r=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?Rs(t,{signed:r}):li(t,{signed:r})}}function mVe(t,{position:e}){const r=li(tn(t,e,e+32,{strict:!0})),n=li(tn(t,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:rm(Hd(tn(t,r+32,r+32+n,{strict:!0})))}}function gVe(t,{param:e,position:r}){const n=e.components.length===0||e.components.some(({name:s})=>!s),i=n?[]:{};let a=0;if(uw(e)){const s=li(tn(t,r,r+32,{strict:!0}));for(let o=0;o<e.components.length;++o){const l=e.components[o],u=Wd({data:tn(t,s),param:l,position:a});a+=u.consumed,i[n?o:l?.name]=u.value}return{consumed:32,value:i}}for(let s=0;s<e.components.length;++s){const o=e.components[s],l=Wd({data:t,param:o,position:r+a});a+=l.consumed,i[n?s:o?.name]=l.value}return{consumed:a,value:i}}function uw(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(uw);const r=pE(t.type);return!!(r&&uw({...t,type:r[1]}))}function vVe({abi:t,data:e}){const r=tn(e,0,4);if(r==="0x")throw new hE;const i=[...t||[],sVe,oVe].find(a=>a.type==="error"&&r===C5(Lu(a)));if(!i)throw new nJ(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Uv(i.inputs,tn(e,4)):void 0,errorName:i.name}}const Ri=(t,e,r)=>JSON.stringify(t,(n,i)=>{const a=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,a):a},r);function bJ({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,a)=>`${n&&i.name?`${i.name}: `:""}${typeof e[a]=="object"?Ri(e[a]):e[a]}`).join(", ")})`}const yVe={gwei:9,wei:18},bVe={ether:-9,wei:9};function xJ(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,a]=[r.slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${a?`.${a}`:""}`}function k5(t,e="wei"){return xJ(t,yVe[e])}function _i(t,e="wei"){return xJ(t,bVe[e])}function jv(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class xVe extends we{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class wVe extends we{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",jv(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class EVe extends we{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d}){const h=jv({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:f,value:typeof d<"u"&&`${k5(d)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${_i(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_i(u)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class wJ extends we{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a}){let s="Transaction";n&&a!==void 0&&(s=`Transaction at block time "${n}" at index "${a}"`),e&&a!==void 0&&(s=`Transaction at block hash "${e}" at index "${a}"`),r&&a!==void 0&&(s=`Transaction at block number "${r}" at index "${a}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class O5 extends we{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class SVe extends we{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class EJ extends we{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d}){const h=r?ll(r):void 0,p=jv({from:h?.address,to:f,value:typeof d<"u"&&`${k5(d)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${_i(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_i(u)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class TVe extends we{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:a,functionName:s,sender:o}){const l=Fv({abi:r,args:n,name:s}),u=l?bJ({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,c=l?Lu(l,{includeName:!0}):void 0,f=jv({address:i&&Zje(i),function:c,args:u&&u!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=o}}class R3 extends we{constructor({abi:e,data:r,functionName:n,message:i}){let a,s,o,l;if(r&&r!=="0x")try{s=vVe({abi:e,data:r});const{abiItem:c,errorName:f,args:d}=s;if(f==="Error")l=d[0];else if(f==="Panic"){const[h]=d;l=vJ[h]}else{const h=c?Lu(c,{includeName:!0}):void 0,p=c&&d?bJ({abiItem:c,args:d,includeFunctionName:!1,includeName:!1}):void 0;o=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(c){a=c}else i&&(l=i);let u;a instanceof nJ&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${n}" reverted.`,{cause:a,metaMessages:o}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.reason=l,this.signature=u}}class AVe extends we{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class N5 extends we{constructor({data:e,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class im extends we{constructor({body:e,details:r,headers:n,status:i,url:a}){super("HTTP request failed.",{details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${dE(a)}`,e&&`Request body: ${Ri(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=i,this.url=a}}class RVe extends we{constructor({body:e,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${dE(n)}`,`Request body: ${Ri(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class L5 extends we{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${dE(n)}`,`Request body: ${Ri(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class _3 extends we{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${dE(r)}`,`Request body: ${Ri(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const _Ve=-1;class Oi extends we{constructor(e,{code:r,docsPath:n,metaMessages:i,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof L5?e.code:r??_Ve}}class o0 extends Oi{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class cg extends Oi{constructor(e){super(e,{code:cg.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class fg extends Oi{constructor(e){super(e,{code:fg.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class dg extends Oi{constructor(e){super(e,{code:dg.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class hg extends Oi{constructor(e){super(e,{code:hg.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Lh extends Oi{constructor(e){super(e,{code:Lh.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Mc extends Oi{constructor(e){super(e,{code:Mc.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Mc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class pg extends Oi{constructor(e){super(e,{code:pg.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class mg extends Oi{constructor(e){super(e,{code:mg.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class gg extends Oi{constructor(e){super(e,{code:gg.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vg extends Oi{constructor(e){super(e,{code:vg.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class yg extends Oi{constructor(e){super(e,{code:yg.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class bg extends Oi{constructor(e){super(e,{code:bg.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(bg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class qd extends o0{constructor(e){super(e,{code:qd.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class xg extends o0{constructor(e){super(e,{code:xg.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class wg extends o0{constructor(e){super(e,{code:wg.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Eg extends o0{constructor(e){super(e,{code:Eg.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Sg extends o0{constructor(e){super(e,{code:Sg.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Tg extends o0{constructor(e){super(e,{code:Tg.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class IVe extends Oi{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const CVe=3;function Ag(t,{abi:e,address:r,args:n,docsPath:i,functionName:a,sender:s}){const{code:o,data:l,message:u,shortMessage:c}=t instanceof N5?t:t instanceof we?t.walk(d=>"data"in d)||t.walk():{},f=(()=>t instanceof hE?new AVe({functionName:a}):[CVe,Lh.code].includes(o)&&(l||u||c)?new R3({abi:e,data:typeof l=="object"?l.data:l,functionName:a,message:c??u}):t)();return new TVe(f,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:a,sender:s})}class D5 extends we{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class PVe extends we{constructor(e,{account:r,docsPath:n,chain:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d}){const h=jv({from:r?.address,to:f,value:typeof d<"u"&&`${k5(d)} ${i?.nativeCurrency.symbol||"ETH"}`,data:a,gas:s,gasPrice:typeof o<"u"&&`${_i(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${_i(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_i(u)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class wd extends we{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(wd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class cw extends we{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${_i(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(cw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class I3 extends we{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${_i(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(I3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class C3 extends we{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(C3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class P3 extends we{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(P3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class k3 extends we{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(k3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class O3 extends we{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(O3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class N3 extends we{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(N3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class L3 extends we{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(L3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class D3 extends we{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(D3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class fw extends we{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${_i(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${_i(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(fw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class gE extends we{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function M5(t,e){const r=(t.details||"").toLowerCase(),n=t.walk(i=>i.code===wd.code);return n instanceof we?new wd({cause:t,message:n.details}):wd.nodeMessage.test(r)?new wd({cause:t,message:t.details}):cw.nodeMessage.test(r)?new cw({cause:t,maxFeePerGas:e?.maxFeePerGas}):I3.nodeMessage.test(r)?new I3({cause:t,maxFeePerGas:e?.maxFeePerGas}):C3.nodeMessage.test(r)?new C3({cause:t,nonce:e?.nonce}):P3.nodeMessage.test(r)?new P3({cause:t,nonce:e?.nonce}):k3.nodeMessage.test(r)?new k3({cause:t,nonce:e?.nonce}):O3.nodeMessage.test(r)?new O3({cause:t}):N3.nodeMessage.test(r)?new N3({cause:t,gas:e?.gas}):L3.nodeMessage.test(r)?new L3({cause:t,gas:e?.gas}):D3.nodeMessage.test(r)?new D3({cause:t}):fw.nodeMessage.test(r)?new fw({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new gE({cause:t})}function kVe(t,{docsPath:e,...r}){const n=(()=>{const i=M5(t,r);return i instanceof gE?t:i})();return new PVe(n,{docsPath:e,...r})}function $5(t,{format:e}){return e?Object.keys(e({})).reduce((n,i)=>(t?.hasOwnProperty(i)&&(n[i]=t[i]),n),{}):{}}function F5(t,e){return({exclude:r,format:n})=>({exclude:r,format:i=>{const a=e(i);if(r)for(const s of r)delete a[s];return{...a,...n(i)}},type:t})}const OVe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function B5(t){return{...t,gas:typeof t.gas<"u"?Pt(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?Pt(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?Pt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?Pt(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?Pt(t.nonce):void 0,type:typeof t.type<"u"?OVe[t.type]:void 0,value:typeof t.value<"u"?Pt(t.value):void 0}}function vE(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:a}=t,s=e?ll(e):void 0;if(s&&!Ho(s.address))throw new Nh({address:s.address});if(a&&!Ho(a))throw new Nh({address:a});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new xVe;if(n&&n>2n**256n-1n)throw new cw({maxFeePerGas:n});if(i&&n&&i>n)throw new fw({maxFeePerGas:n,maxPriorityFeePerGas:i})}class NVe extends we{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class U5 extends we{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class LVe extends we{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${_i(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class DVe extends we{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const SJ={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function yE(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?li(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?li(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?SJ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}const MVe=F5("transaction",yE);function j5(t){const e=t.transactions?.map(r=>typeof r=="string"?r:yE(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const $Ve=F5("block",j5);async function bu(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:i}={}){const a=n??"latest",s=i??!1,o=r!==void 0?Pt(r):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]}):l=await t.request({method:"eth_getBlockByNumber",params:[o||a,s]}),!l)throw new DVe({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||j5)(l)}async function z5(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function FVe(t,e){return TJ(t,e)}async function TJ(t,e){const{block:r,chain:n=t.chain,request:i}=e||{};if(typeof n?.fees?.defaultPriorityFee=="function"){const a=r||await bu(t);return n.fees.defaultPriorityFee({block:a,client:t,request:i})}else if(n?.fees?.defaultPriorityFee)return n?.fees?.defaultPriorityFee;try{const a=await t.request({method:"eth_maxPriorityFeePerGas"});return Rs(a)}catch{const[a,s]=await Promise.all([r?Promise.resolve(r):bu(t),z5(t)]);if(typeof a.baseFeePerGas!="bigint")throw new U5;const o=s-a.baseFeePerGas;return o<0n?0n:o}}async function BVe(t,e){return M3(t,e)}async function M3(t,e){const{block:r,chain:n=t.chain,request:i,type:a="eip1559"}=e||{},s=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new NVe;const l=10**(s.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(s*l))/BigInt(l),c=r||await bu(t);if(typeof n?.fees?.estimateFeesPerGas=="function")return n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:i,type:a});if(a==="eip1559"){if(typeof c.baseFeePerGas!="bigint")throw new U5;const d=i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await TJ(t,{block:c,chain:n,request:i}),h=u(c.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+d,maxPriorityFeePerGas:d}}return{gasPrice:i?.gasPrice??u(await z5(t))}}async function AJ(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?Pt(n):r]});return li(i)}function UVe(t){if(t.type)return t.type;if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new wVe({transaction:t})}async function V5(t,e){const{account:r=t.account,chain:n,gas:i,nonce:a,type:s}=e;if(!r)throw new D5;const o=ll(r),l=await bu(t,{blockTag:"latest"}),u={...e,from:o.address};if(typeof a>"u"&&(u.nonce=await AJ(t,{address:o.address,blockTag:"pending"})),typeof s>"u")try{u.type=UVe(u)}catch{u.type=typeof l.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(u.type==="eip1559"){const{maxFeePerGas:c,maxPriorityFeePerGas:f}=await M3(t,{block:l,chain:n,request:u});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<f)throw new LVe({maxPriorityFeePerGas:f});u.maxPriorityFeePerGas=f,u.maxFeePerGas=c}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new U5;const{gasPrice:c}=await M3(t,{block:l,chain:n,request:u,type:"legacy"});u.gasPrice=c}return typeof i>"u"&&(u.gas=await Y5(t,{...u,account:{address:o.address,type:"json-rpc"}})),vE(u),u}async function Y5(t,e){const r=e.account??t.account;if(!r)throw new D5({docsPath:"/docs/actions/public/estimateGas"});const n=ll(r);try{const{accessList:i,blockNumber:a,blockTag:s,data:o,gas:l,gasPrice:u,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:d,to:h,value:p,...m}=n.type==="local"?await V5(t,e):e,v=(a?Pt(a):void 0)||s;vE(e);const b=t.chain?.formatters?.transactionRequest?.format||B5,w=b({...$5(m,{format:b}),from:n.address,accessList:i,data:o,gas:l,gasPrice:u,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:d,to:h,value:p}),E=await t.request({method:"eth_estimateGas",params:v?[w,v]:[w]});return BigInt(E)}catch(i){throw kVe(i,{...e,account:n,chain:t.chain})}}async function RJ(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=$u({abi:e,args:n,functionName:i});try{return await Y5(t,{data:s,to:r,...a})}catch(o){const l=a.account?ll(a.account):void 0;throw Ag(o,{abi:e,address:r,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l?.address})}}const PB="/docs/contract/decodeEventLog";function zv({abi:t,data:e,strict:r,topics:n}){const i=r??!0,[a,...s]=n;if(!a)throw new rze({docsPath:PB});const o=t.find(p=>p.type==="event"&&a===R5(Lu(p)));if(!(o&&"name"in o)||o.type!=="event")throw new nze(a,{docsPath:PB});const{name:l,inputs:u}=o,c=u?.some(p=>!("name"in p&&p.name));let f=c?[]:{};const d=u.filter(p=>"indexed"in p&&p.indexed);if(s.length>0)for(let p=0;p<d.length;p++){const m=d[p],g=s[p];if(!g)throw new s0({abiItem:o,param:m});f[m.name||p]=jVe({param:m,value:g})}const h=u.filter(p=>!("indexed"in p&&p.indexed));if(h.length>0){if(e&&e!=="0x")try{const p=Uv(h,e);if(p)if(c)f=[...f,...p];else for(let m=0;m<h.length;m++)f[h[m].name]=p[m]}catch(p){if(i)throw p instanceof E5?new Dc({abiItem:o,data:p.data,params:p.params,size:p.size}):p}else if(i)throw new Dc({abiItem:o,data:"0x",params:h,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function jVe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Uv([t],e)||[])[0]}function ss(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function G5(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:a,events:s,args:o,strict:l}={}){const u=l??!1,c=s??(a?[a]:void 0);let f=[];c&&(f=[c.flatMap(h=>Bv({abi:[h],eventName:h.name,args:o}))],a&&(f=f[0]));let d;return r?d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:r}]}):d=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof n=="bigint"?Pt(n):n,toBlock:typeof i=="bigint"?Pt(i):i}]}),d.map(h=>{try{const{eventName:p,args:m}=c?zv({abi:c,data:h.data,topics:h.topics,strict:u}):{eventName:void 0,args:void 0};return ss(h,{args:m,eventName:p})}catch(p){let m,g;if(p instanceof Dc||p instanceof s0){if(u)return;m=p.abiItem.name,g=p.abiItem.inputs?.some(v=>!("name"in v&&v.name))}return ss(h,{args:g?[]:{},eventName:m})}}).filter(Boolean)}async function H5(t,{abi:e,address:r,args:n,blockHash:i,eventName:a,fromBlock:s,toBlock:o,strict:l}){const u=a?Fv({abi:e,name:a}):void 0,c=u?void 0:e.filter(f=>f.type==="event");return G5(t,{address:r,args:n,blockHash:i,event:u,events:c,fromBlock:s,toBlock:o,strict:l})}const TR="/docs/contract/decodeFunctionResult";function l0({abi:t,args:e,functionName:r,data:n}){let i=t[0];if(r&&(i=Fv({abi:t,args:e,name:r}),!i))throw new lw(r,{docsPath:TR});if(i.type!=="function")throw new lw(void 0,{docsPath:TR});if(!i.outputs)throw new ize(i.name,{docsPath:TR});const a=Uv(i.outputs,n);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const $3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],_J=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],IJ=[..._J,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],zVe=[..._J,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],kB=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],OB=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],VVe=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],YVe="0x82ad56cb";class F3 extends we{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class GVe extends we{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class HVe extends we{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class CJ extends we{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function WVe({chain:t,currentChainId:e}){if(!t)throw new HVe;if(e!==t.id)throw new GVe({chain:t,currentChainId:e})}function qVe(t,e={}){const{fees:r=t.fees,formatters:n=t.formatters,serializers:i=t.serializers}=e;return{...t,fees:r,formatters:n,serializers:i}}function u0({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new F3({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new F3({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function KVe(t,{docsPath:e,...r}){const n=(()=>{const i=M5(t,r);return i instanceof gE?t:i})();return new EJ(n,{docsPath:e,...r})}const AR=new Map;function W5({fn:t,id:e,shouldSplitBatch:r,wait:n=0}){const i=async()=>{const u=o();a();const c=u.map(({args:f})=>f);c.length!==0&&t(c).then(f=>{u.forEach(({pendingPromise:d},h)=>d.resolve?.([f[h],f]))}).catch(f=>{u.forEach(({pendingPromise:d})=>d.reject?.(f))})},a=()=>AR.delete(e),s=()=>o().map(({args:u})=>u),o=()=>AR.get(e)||[],l=u=>AR.set(e,[...o(),u]);return{flush:a,async schedule(u){const c={},f=new Promise((p,m)=>{c.resolve=p,c.reject=m});return r?.([...s(),u])&&i(),o().length>0?(l({args:u,pendingPromise:c}),f):(l({args:u,pendingPromise:c}),setTimeout(i,n),f)}}}async function bE(t,e){const{account:r=t.account,batch:n=!!t.batch?.multicall,blockNumber:i,blockTag:a="latest",accessList:s,data:o,gas:l,gasPrice:u,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:d,to:h,value:p,...m}=e,g=r?ll(r):void 0;try{vE(e);const b=(i?Pt(i):void 0)||a,w=t.chain?.formatters?.transactionRequest?.format||B5,E=w({...$5(m,{format:w}),from:g?.address,accessList:s,data:o,gas:l,gasPrice:u,maxFeePerGas:c,maxPriorityFeePerGas:f,nonce:d,to:h,value:p});if(n&&QVe({request:E}))try{return await ZVe(t,{...E,blockNumber:i,blockTag:a})}catch(I){if(!(I instanceof CJ)&&!(I instanceof F3))throw I}const R=await t.request({method:"eth_call",params:b?[E,b]:[E]});return R==="0x"?{data:void 0}:{data:R}}catch(v){const b=XVe(v),{offchainLookup:w,offchainLookupSignature:E}=await JV(()=>import("./ccip-aa272b2b.js"),[]);if(b?.slice(0,10)===E&&h)return{data:await w(t,{data:b,to:h})};throw KVe(v,{...e,account:g,chain:t.chain})}}function QVe({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(YVe)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function ZVe(t,e){const{batchSize:r=1024,wait:n=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:s,multicallAddress:o,to:l}=e;let u=o;if(!u){if(!t.chain)throw new CJ;u=u0({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=(i?Pt(i):void 0)||a,{schedule:d}=W5({id:`${t.uid}.${f}`,wait:n,shouldSplitBatch(m){return m.reduce((v,{data:b})=>v+(b.length-2),0)>r*2},fn:async m=>{const g=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),v=$u({abi:$3,args:[g],functionName:"aggregate3"}),b=await t.request({method:"eth_call",params:[{data:v,to:u},f]});return l0({abi:$3,args:[g],functionName:"aggregate3",data:b||"0x"})}}),[{returnData:h,success:p}]=await d({data:s,to:l});if(!p)throw new N5({data:h});return h==="0x"?{data:void 0}:{data:h}}function XVe(t){if(!(t instanceof we))return;const e=t.walk();return typeof e.data=="object"?e.data.data:e.data}async function qo(t,{abi:e,address:r,args:n,functionName:i,...a}){const s=$u({abi:e,args:n,functionName:i});try{const{data:o}=await bE(t,{data:s,to:r,...a});return l0({abi:e,args:n,functionName:i,data:o||"0x"})}catch(o){throw Ag(o,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:i})}}async function PJ(t,{abi:e,address:r,args:n,dataSuffix:i,functionName:a,...s}){const o=s.account?ll(s.account):void 0,l=$u({abi:e,args:n,functionName:a});try{const{data:u}=await bE(t,{batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...s});return{result:l0({abi:e,args:n,functionName:a,data:u||"0x"}),request:{abi:e,address:r,args:n,dataSuffix:i,functionName:a,...s}}}catch(u){throw Ag(u,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:a,sender:o?.address})}}const RR=new Map,NB=new Map;let JVe=0;function c0(t,e,r){const n=++JVe,i=()=>RR.get(t)||[],a=()=>{const c=i();RR.set(t,c.filter(f=>f.id!==n))},s=()=>{const c=NB.get(t);i().length===1&&c&&c(),a()},o=i();if(RR.set(t,[...o,{id:n,fns:e}]),o&&o.length>0)return s;const l={};for(const c in e)l[c]=(...f)=>{const d=i();d.length!==0&&d.forEach(h=>h.fns[c]?.(...f))};const u=r(l);return typeof u=="function"&&NB.set(t,u),s}async function dw(t){return new Promise(e=>setTimeout(e,t))}function Vv(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const a=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:a}));const l=await r?.(o)??n;await dw(l);const u=async()=>{i&&(await t({unpoll:a}),await dw(n),u())};u()})(),a}const eYe=new Map,tYe=new Map;function rYe(t){const e=(i,a)=>({clear:()=>a.delete(i),get:()=>a.get(i),set:s=>a.set(i,s)}),r=e(t,eYe),n=e(t,tYe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function nYe(t,{cacheKey:e,cacheTime:r=1/0}){const n=rYe(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let a=n.promise.get();a||(a=t(),n.promise.set(a));try{const s=await a;return n.response.set({created:new Date,data:s}),s}finally{n.promise.clear()}}const iYe=t=>`blockNumber.${t}`;async function Yv(t,{cacheTime:e=t.cacheTime,maxAge:r}={}){const n=await nYe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:iYe(t.uid),cacheTime:r??e});return BigInt(n)}async function xE(t,{filter:e}){const r="strict"in e&&e.strict;return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(i=>{if(typeof i=="string")return i;try{const{eventName:a,args:s}="abi"in e&&e.abi?zv({abi:e.abi,data:i.data,topics:i.topics,strict:r}):{eventName:void 0,args:void 0};return ss(i,{args:s,eventName:a})}catch(a){let s,o;if(a instanceof Dc||a instanceof s0){if("strict"in e&&e.strict)return;s=a.abiItem.name,o=a.abiItem.inputs?.some(l=>!("name"in l&&l.name))}return ss(i,{args:o?[]:{},eventName:s})}}).filter(Boolean)}async function wE(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function kJ(t,{abi:e,address:r,args:n,batch:i=!0,eventName:a,onError:s,onLogs:o,poll:l,pollingInterval:u=t.pollingInterval,strict:c}){return(typeof l<"u"?l:t.transport.type!=="webSocket")?(()=>{const p=Ri(["watchContractEvent",r,n,i,t.uid,a,u]),m=c??!1;return c0(p,{onLogs:o,onError:s},g=>{let v,b,w=!1;const E=Vv(async()=>{if(!w){try{b=await P5(t,{abi:e,address:r,args:n,eventName:a,strict:m})}catch{}w=!0;return}try{let R;if(b)R=await xE(t,{filter:b});else{const I=await Yv(t);v&&v!==I?R=await H5(t,{abi:e,address:r,args:n,fromBlock:v+1n,toBlock:I,strict:m}):R=[],v=I}if(R.length===0)return;i?g.onLogs(R):R.forEach(I=>g.onLogs([I]))}catch(R){b&&R instanceof Mc&&(w=!1),g.onError?.(R)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await wE(t,{filter:b}),E()}})})():(()=>{let p=!0,m=()=>p=!1;return(async()=>{try{const g=a?Bv({abi:e,eventName:a,args:n}):[],{unsubscribe:v}=await t.transport.subscribe({params:["logs",{address:r,topics:g}],onData(b){if(!p)return;const w=b.result;try{const{eventName:E,args:R}=zv({abi:e,data:w.data,topics:w.topics,strict:c}),I=ss(w,{args:R,eventName:E});o([I])}catch(E){let R,I;if(E instanceof Dc||E instanceof s0){if(c)return;R=E.abiItem.name,I=E.abiItem.inputs?.some(N=>!("name"in N&&N.name))}const D=ss(w,{args:I?[]:{},eventName:R});o([D])}},onError(b){s?.(b)}});m=v,p||m()}catch(g){s?.(g)}})(),m})()}function aYe(t,{docsPath:e,...r}){const n=(()=>{const i=M5(t,r);return i instanceof gE?t:i})();return new EVe(n,{docsPath:e,...r})}async function B3(t){const e=await t.request({method:"eth_chainId"});return li(e)}async function OJ(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]})}async function sYe(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d,...h}=e;if(!r)throw new D5({docsPath:"/docs/actions/wallet/sendTransaction"});const p=ll(r);try{vE(e);let m;if(n!==null&&(m=await B3(t),WVe({currentChainId:m,chain:n})),p.type==="local"){const b=await V5(t,{account:p,accessList:i,chain:n,data:a,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d,...h});m||(m=await B3(t));const w=n?.serializers?.transaction,E=await p.signTransaction({...b,chainId:m},{serializer:w});return await OJ(t,{serializedTransaction:E})}const g=n?.formatters?.transactionRequest?.format||B5,v=g({...$5(h,{format:g}),accessList:i,data:a,from:p.address,gas:s,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:c,to:f,value:d});return await t.request({method:"eth_sendTransaction",params:[v]})}catch(m){throw aYe(m,{...e,account:p,chain:e.chain||void 0})}}async function oYe(t,{abi:e,address:r,args:n,dataSuffix:i,functionName:a,...s}){const o=$u({abi:e,args:n,functionName:a});return await sYe(t,{data:`${o}${i?i.replace("0x",""):""}`,to:r,...s})}function lYe({abi:t,address:e,publicClient:r,walletClient:n}){const i=r!=null,a=n!=null,s={};let o=!1,l=!1,u=!1;for(const c of t)if(c.type==="function"?c.stateMutability==="view"||c.stateMutability==="pure"?o=!0:l=!0:c.type==="event"&&(u=!0),o&&l&&u)break;return i&&(o&&(s.read=new Proxy({},{get(c,f){return(...d)=>{const{args:h,options:p}=Sb(d);return qo(r,{abi:t,address:e,functionName:f,args:h,...p})}}})),l&&(s.simulate=new Proxy({},{get(c,f){return(...d)=>{const{args:h,options:p}=Sb(d);return PJ(r,{abi:t,address:e,functionName:f,args:h,...p})}}})),u&&(s.createEventFilter=new Proxy({},{get(c,f){return(...d)=>{const h=t.find(g=>g.type==="event"&&g.name===f),{args:p,options:m}=_R(d,h);return P5(r,{abi:t,address:e,eventName:f,args:p,...m})}}}),s.getEvents=new Proxy({},{get(c,f){return(...d)=>{const h=t.find(g=>g.type==="event"&&g.name===f),{args:p,options:m}=_R(d,h);return H5(r,{abi:t,address:e,eventName:f,args:p,...m})}}}),s.watchEvent=new Proxy({},{get(c,f){return(...d)=>{const h=t.find(g=>g.type==="event"&&g.name===f),{args:p,options:m}=_R(d,h);return kJ(r,{abi:t,address:e,eventName:f,args:p,...m})}}}))),a&&l&&(s.write=new Proxy({},{get(c,f){return(...d)=>{const{args:h,options:p}=Sb(d);return oYe(n,{abi:t,address:e,functionName:f,args:h,...p})}}})),(i||a)&&l&&(s.estimateGas=new Proxy({},{get(c,f){return(...d)=>{const{args:h,options:p}=Sb(d);return RJ(r??n,{abi:t,address:e,functionName:f,args:h,...p,account:p.account??n.account})}}})),s.address=e,s.abi=t,s}function Sb(t){const e=t.length&&Array.isArray(t[0]),r=e?t[0]:[],n=(e?t[1]:t[0])??{};return{args:r,options:n}}function _R(t,e){let r=!1;Array.isArray(t[0])?r=!0:t.length===1?r=e.inputs.some(a=>a.indexed):t.length===2&&(r=!0);const n=r?t[0]:void 0,i=(r?t[1]:t[0])??{};return{args:n,options:i}}const U3=256;let Tb=U3,Ab;function uYe(t=11){if(!Ab||Tb+t>U3*2){Ab="",Tb=0;for(let e=0;e<U3;e++)Ab+=(256+Math.random()*256|0).toString(16).substring(1)}return Ab.substring(Tb,Tb+++t)}function cYe(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,key:n="base",name:i="Base Client",pollingInterval:a=4e3,type:s="base"}=t,o=t.chain,l=t.account?ll(t.account):void 0,{config:u,request:c,value:f}=t.transport({chain:o,pollingInterval:a}),d={...u,...f},h={account:l,batch:e,cacheTime:r,chain:o,key:n,name:i,pollingInterval:a,request:c,transport:d,type:s,uid:uYe()};function p(m){return g=>{const v=g(m);for(const w in h)delete v[w];const b={...m,...v};return Object.assign(b,{extend:p(b)})}}return Object.assign(h,{extend:p(h)})}function NJ(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,a)=>{const s=async({count:o=0}={})=>{const l=async({error:u})=>{const c=typeof e=="function"?e({count:o,error:u}):e;c&&await dw(c),s({count:o+1})};try{const u=await t();i(u)}catch(u){if(o<r&&await n({count:o,error:u}))return l({error:u});a(u)}};s()})}const LJ=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof im&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function fYe(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>NJ(async()=>{try{return await t(n)}catch(i){const a=i;switch(a.code){case cg.code:throw new cg(a);case fg.code:throw new fg(a);case dg.code:throw new dg(a);case hg.code:throw new hg(a);case Lh.code:throw new Lh(a);case Mc.code:throw new Mc(a);case pg.code:throw new pg(a);case mg.code:throw new mg(a);case gg.code:throw new gg(a);case vg.code:throw new vg(a);case yg.code:throw new yg(a);case bg.code:throw new bg(a);case qd.code:throw new qd(a);case xg.code:throw new xg(a);case wg.code:throw new wg(a);case Eg.code:throw new Eg(a);case Sg.code:throw new Sg(a);case Tg.code:throw new Tg(a);case 5e3:throw new qd(a);default:throw i instanceof we?i:new IVe(a)}}},{delay:({count:i,error:a})=>{if(a&&a instanceof im){const s=a?.headers?.get("Retry-After");if(s?.match(/\d/))return parseInt(s)*1e3}return~~(1<<i)*e},retryCount:r,shouldRetry:({error:i})=>!LJ(i)})}function q5({key:t,name:e,request:r,retryCount:n=3,retryDelay:i=150,timeout:a,type:s},o){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:i,timeout:a,type:s},request:fYe(r,{retryCount:n,retryDelay:i}),value:o}}function dYe(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,retryCount:a,retryDelay:s}=e;return({chain:o,pollingInterval:l=4e3,timeout:u})=>{let c=t,f=()=>{};const d=q5({key:r,name:n,async request({method:h,params:p}){const m=async(g=0)=>{const v=c[g]({chain:o,retryCount:0,timeout:u});try{const b=await v.request({method:h,params:p});return f({method:h,params:p,response:b,transport:v,status:"success"}),b}catch(b){if(f({error:b,method:h,params:p,transport:v,status:"error"}),LJ(b)||g===c.length-1)throw b;return m(g+1)}};return m()},retryCount:a,retryDelay:s,type:"fallback"},{onResponse:h=>f=h,transports:c.map(h=>h({chain:o,retryCount:0}))});if(i){const h=typeof i=="object"?i:{};hYe({chain:o,interval:h.interval??l,onTransports:p=>c=p,sampleCount:h.sampleCount,timeout:h.timeout,transports:c,weights:h.weights})}return d}}function hYe({chain:t,interval:e=4e3,onTransports:r,sampleCount:n=10,timeout:i=1e3,transports:a,weights:s={}}){const{stability:o=.7,latency:l=.3}=s,u=[],c=async()=>{const f=await Promise.all(a.map(async p=>{const m=p({chain:t,retryCount:0,timeout:i}),g=Date.now();let v,b;try{await m.request({method:"net_listening"}),b=1}catch{b=0}finally{v=Date.now()}return{latency:v-g,success:b}}));u.push(f),u.length>n&&u.shift();const d=Math.max(...u.map(p=>Math.max(...p.map(({latency:m})=>m)))),h=a.map((p,m)=>{const g=u.map(R=>R[m].latency),b=1-g.reduce((R,I)=>R+I,0)/g.length/d,w=u.map(R=>R[m].success),E=w.reduce((R,I)=>R+I,0)/w.length;return E===0?[0,m]:[l*b+o*E,m]}).sort((p,m)=>m[0]-p[0]);r(h.map(([,p])=>a[p])),await dw(e),c()};c()}class DJ extends we{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var Yf=null;typeof WebSocket<"u"?Yf=WebSocket:typeof MozWebSocket<"u"?Yf=MozWebSocket:typeof global<"u"?Yf=global.WebSocket||global.MozWebSocket:typeof window<"u"?Yf=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Yf=self.WebSocket||self.MozWebSocket);const Rb=Yf;function MJ(t,{errorInstance:e,timeout:r,signal:n}){return new Promise((i,a)=>{(async()=>{let s;try{const o=new AbortController;r>0&&(s=setTimeout(()=>{n?o.abort():a(e)},r)),i(await t({signal:o?.signal}))}catch(o){o.name==="AbortError"&&a(e),a(o)}finally{clearTimeout(s)}})()})}let j3=0;async function pYe(t,{body:e,fetchOptions:r={},timeout:n=1e4}){const{headers:i,method:a,signal:s}=r;try{const o=await MJ(async({signal:u})=>await fetch(t,{...r,body:Array.isArray(e)?Ri(e.map(f=>({jsonrpc:"2.0",id:f.id??j3++,...f}))):Ri({jsonrpc:"2.0",id:e.id??j3++,...e}),headers:{...i,"Content-Type":"application/json"},method:a||"POST",signal:s||(n>0?u:void 0)}),{errorInstance:new _3({body:e,url:t}),timeout:n,signal:!0});let l;if(o.headers.get("Content-Type")?.startsWith("application/json")?l=await o.json():l=await o.text(),!o.ok)throw new im({body:e,details:Ri(l.error)||o.statusText,headers:o.headers,status:o.status,url:t});return l}catch(o){throw o instanceof im||o instanceof _3?o:new im({body:e,details:o.message,url:t})}}const IR=new Map;async function CR(t){let e=IR.get(t);if(e)return e;const{schedule:r}=W5({id:t,fn:async()=>{let a=Rb;Rb.constructor||(a=Rb.WebSocket);const s=new a(t),o=new Map,l=new Map,u=({data:f})=>{const d=JSON.parse(f),h=d.method==="eth_subscription",p=h?d.params.subscription:d.id,m=h?l:o,g=m.get(p);g&&g({data:f}),h||m.delete(p)},c=()=>{IR.delete(t),s.removeEventListener("close",c),s.removeEventListener("message",u)};return s.addEventListener("close",c),s.addEventListener("message",u),s.readyState===Rb.CONNECTING&&await new Promise((f,d)=>{s&&(s.onopen=f,s.onerror=d)}),e=Object.assign(s,{requests:o,subscriptions:l}),IR.set(t,e),[e]}}),[n,[i]]=await r();return i}function mYe(t,{body:e,onResponse:r}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new RVe({body:e,url:t.url,details:"Socket is closed."});const n=j3++,i=({data:a})=>{const s=JSON.parse(a);typeof s.id=="number"&&n!==s.id||(r?.(s),e.method==="eth_subscribe"&&typeof s.result=="string"&&t.subscriptions.set(s.result,i),e.method==="eth_unsubscribe"&&t.subscriptions.delete(e.params?.[0]))};return t.requests.set(n,i),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:n})),t}async function gYe(t,{body:e,timeout:r=1e4}){return MJ(()=>new Promise(n=>Kd.webSocket(t,{body:e,onResponse:n})),{errorInstance:new _3({body:e,url:t.url}),timeout:r})}const Kd={http:pYe,webSocket:mYe,webSocketAsync:gYe};function $J(t,e={}){const{batch:r,fetchOptions:n,key:i="http",name:a="HTTP JSON-RPC",retryDelay:s}=e;return({chain:o,retryCount:l,timeout:u})=>{const{batchSize:c=1e3,wait:f=0}=typeof r=="object"?r:{},d=e.retryCount??l,h=u??e.timeout??1e4,p=t||o?.rpcUrls.default.http[0];if(!p)throw new DJ;return q5({key:i,name:a,async request({method:m,params:g}){const v={method:m,params:g},{schedule:b}=W5({id:`${t}`,wait:f,shouldSplitBatch(I){return I.length>c},fn:I=>Kd.http(p,{body:I,fetchOptions:n,timeout:h})}),w=async I=>r?b(I):[await Kd.http(p,{body:I,fetchOptions:n,timeout:h})],[{error:E,result:R}]=await w(v);if(E)throw new L5({body:v,error:E,url:p});return R},retryCount:d,retryDelay:s,timeout:h,type:"http"},{url:t})}}function K5(t,e){if(!(t instanceof we))return!1;const r=t.walk(n=>n instanceof R3);return r instanceof R3?!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===vJ[50]):!1}function FJ(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Vi(e)?e:null}function I1(t){let e=new Uint8Array(32).fill(0);if(!t)return ug(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=FJ(r[n]),a=i?vu(i):Yn(Ro(r[n]),"bytes");e=Yn(Wo([e,a]),"bytes")}return ug(e)}function vYe(t){return`[${t.slice(2)}]`}function yYe(t){const e=new Uint8Array(32).fill(0);return t?FJ(t)||Yn(Ro(t)):ug(e)}function EE(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(Ro(e).byteLength+2);let n=0;const i=e.split(".");for(let a=0;a<i.length;a++){let s=Ro(i[a]);s.byteLength>255&&(s=Ro(vYe(yYe(i[a])))),r[n]=s.length,r.set(s,n+1),n+=s.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function bYe(t,{blockNumber:e,blockTag:r,coinType:n,name:i,universalResolverAddress:a}){let s=a;if(!s){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=u0({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const o=$u({abi:OB,functionName:"addr",...n!=null?{args:[I1(i),BigInt(n)]}:{args:[I1(i)]}}),l=await qo(t,{address:s,abi:IJ,functionName:"resolve",args:[Mu(EE(i)),o],blockNumber:e,blockTag:r});if(l[0]==="0x")return null;const u=l0({abi:OB,args:n!=null?[I1(i),BigInt(n)]:void 0,functionName:"addr",data:l[0]});return u==="0x"||Hd(u)==="0x00"?null:u}catch(o){if(K5(o,"resolve"))return null;throw o}}class xYe extends we{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class K0 extends we{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Q5 extends we{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class wYe extends we{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const EYe=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,SYe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,TYe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,AYe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function RYe(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function LB(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function BJ({uri:t,gatewayUrls:e}){const r=TYe.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=LB(e?.ipfs,"https://ipfs.io"),i=LB(e?.arweave,"https://arweave.net"),a=t.match(EYe),{protocol:s,subpath:o,target:l,subtarget:u=""}=a?.groups||{},c=s==="ipns:/"||o==="ipns/",f=s==="ipfs:/"||o==="ipfs/"||SYe.test(t);if(t.startsWith("http")&&!c&&!f){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((c||f)&&l)return{uri:`${n}/${c?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let d=t.replace(AYe,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new Q5({uri:t})}function UJ(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new xYe({data:t});return t.image||t.image_url||t.image_data}async function _Ye({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await Z5({gatewayUrls:t,uri:UJ(r)})}catch{throw new Q5({uri:e})}}async function Z5({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=BJ({uri:e,gatewayUrls:t});if(n||await RYe(r))return r;throw new Q5({uri:e})}function IYe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[a,s]=r.split(":"),[o,l]=n.split(":");if(!a||a.toLowerCase()!=="eip155")throw new K0({reason:"Only EIP-155 supported"});if(!s)throw new K0({reason:"Chain ID not found"});if(!l)throw new K0({reason:"Contract address not found"});if(!i)throw new K0({reason:"Token ID not found"});if(!o)throw new K0({reason:"ERC namespace not found"});return{chainID:parseInt(s),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}async function CYe(t,{nft:e}){if(e.namespace==="erc721")return qo(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return qo(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new wYe({namespace:e.namespace})}async function PYe(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?kYe(t,{gatewayUrls:e,record:r}):Z5({uri:r,gatewayUrls:e})}async function kYe(t,{gatewayUrls:e,record:r}){const n=IYe(r),i=await CYe(t,{nft:n}),{uri:a,isOnChain:s,isEncoded:o}=BJ({uri:i,gatewayUrls:e});if(s&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,c=JSON.parse(u);return Z5({uri:UJ(c),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),_Ye({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,l)})}async function jJ(t,{blockNumber:e,blockTag:r,name:n,key:i,universalResolverAddress:a}){let s=a;if(!s){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=u0({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const o=await qo(t,{address:s,abi:IJ,functionName:"resolve",args:[Mu(EE(n)),$u({abi:kB,functionName:"text",args:[I1(n),i]})],blockNumber:e,blockTag:r});if(o[0]==="0x")return null;const l=l0({abi:kB,functionName:"text",data:o[0]});return l===""?null:l}catch(o){if(K5(o,"resolve"))return null;throw o}}async function OYe(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:i,universalResolverAddress:a}){const s=await jJ(t,{blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a});if(!s)return null;try{return await PYe(t,{record:s,gatewayUrls:n})}catch{return null}}async function NYe(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=u0({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const s=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await qo(t,{address:a,abi:zVe,functionName:"reverse",args:[Mu(EE(s))],blockNumber:r,blockTag:n}))[0]}catch(o){if(K5(o,"reverse"))return null;throw o}}async function LYe(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=u0({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[s]=await qo(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Mu(EE(n))],blockNumber:e,blockTag:r});return s}async function DYe(t){const e=mE(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function zJ(t,{address:e,args:r,event:n,events:i,fromBlock:a,strict:s,toBlock:o}={}){const l=i??(n?[n]:void 0),u=mE(t,{method:"eth_newFilter"});let c=[];l&&(c=[l.flatMap(d=>Bv({abi:[d],eventName:d.name,args:r}))],n&&(c=c[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?Pt(a):a,toBlock:typeof o=="bigint"?Pt(o):o,...c.length?{topics:c}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:a,id:f,request:u(f),strict:s,toBlock:o,type:"event"}}async function VJ(t){const e=mE(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function MYe(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?Pt(r):void 0,a=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(a)}async function $Ye(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?Pt(r):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]}),li(a)}async function FYe(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?Pt(r):void 0,a=await t.request({method:"eth_getCode",params:[e,i||n]});if(a!=="0x")return a}function BYe(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}async function UYe(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const a=r?Pt(r):void 0,s=await t.request({method:"eth_feeHistory",params:[Pt(e),a||n,i]});return BYe(s)}async function jYe(t,{filter:e}){const r=e.strict??!1;return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>{try{const{eventName:a,args:s}="abi"in e&&e.abi?zv({abi:e.abi,data:i.data,topics:i.topics,strict:r}):{eventName:void 0,args:void 0};return ss(i,{args:s,eventName:a})}catch(a){let s,o;if(a instanceof Dc||a instanceof s0){if("strict"in e&&e.strict)return;s=a.abiItem.name,o=a.abiItem.inputs?.some(l=>!("name"in l&&l.name))}return ss(i,{args:o?[]:{},eventName:s})}}).filter(Boolean)}async function zYe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const a=r!==void 0?Pt(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,a||n]})}async function X5(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:a}){const s=n||"latest",o=r!==void 0?Pt(r):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Pt(a)]}):(o||s)&&(l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||s,Pt(a)]})),!l)throw new wJ({blockHash:e,blockNumber:r,blockTag:s,hash:i,index:a});return(t.chain?.formatters?.transaction?.format||yE)(l)}async function VYe(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([Yv(t),e?X5(t,{hash:e}):void 0]),a=r?.blockNumber||i?.blockNumber;return a?n-a+1n:0n}const YYe={"0x0":"reverted","0x1":"success"};function YJ(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>ss(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?li(t.transactionIndex):null,status:t.status?YYe[t.status]:null,type:t.type?SJ[t.type]||t.type:null}}const GYe=F5("transactionReceipt",YJ);async function z3(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new O5({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||YJ)(r)}async function HYe(t,e){const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:a,contracts:s,multicallAddress:o}=e,l=n??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let u=o;if(!u){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");u=u0({blockNumber:i,chain:t.chain,contract:"multicall3"})}const c=[[]];let f=0,d=0;for(let m=0;m<s.length;m++){const{abi:g,address:v,args:b,functionName:w}=s[m];try{const E=$u({abi:g,args:b,functionName:w});d+=(E.length-2)/2,l>0&&d>l&&c[f].length>0&&(f++,d=(E.length-2)/2,c[f]=[]),c[f]=[...c[f],{allowFailure:!0,callData:E,target:v}]}catch(E){const R=Ag(E,{abi:g,address:v,args:b,docsPath:"/docs/contract/multicall",functionName:w});if(!r)throw R;c[f]=[...c[f],{allowFailure:!0,callData:"0x",target:v}]}}const h=await Promise.allSettled(c.map(m=>qo(t,{abi:$3,address:u,args:[m],blockNumber:i,blockTag:a,functionName:"aggregate3"}))),p=[];for(let m=0;m<h.length;m++){const g=h[m];if(g.status==="rejected"){if(!r)throw g.reason;for(let b=0;b<c[m].length;b++)p.push({status:"failure",error:g.reason,result:void 0});continue}const v=g.value;for(let b=0;b<v.length;b++){const{returnData:w,success:E}=v[b],{callData:R}=c[m][b],{abi:I,address:D,functionName:N,args:F}=s[p.length];try{if(R==="0x")throw new hE;if(!E)throw new N5({data:w});const $=l0({abi:I,args:F,data:w,functionName:N});p.push(r?{result:$,status:"success"}:$)}catch($){const z=Ag($,{abi:I,address:D,args:F,docsPath:"/docs/contract/multicall",functionName:N});if(!r)throw z;p.push({error:z,result:void 0,status:"failure"})}}}if(p.length!==s.length)throw new we("multicall results mismatch");return p}const WYe=/^(.*)\[([0-9]*)\]$/,GJ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,HJ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function qYe({domain:t,message:e,primaryType:r,types:n}){const i=typeof t>"u"?{}:t,a={EIP712Domain:JYe({domain:i}),...n};XYe({domain:i,message:e,primaryType:r,types:a});const s=["0x1901"];return i&&s.push(KYe({domain:i,types:a})),r!=="EIP712Domain"&&s.push(WJ({data:e,primaryType:r,types:a})),Yn(Wo(s))}function KYe({domain:t,types:e}){return WJ({data:t,primaryType:"EIP712Domain",types:e})}function WJ({data:t,primaryType:e,types:r}){const n=qJ({data:t,primaryType:e,types:r});return Yn(n)}function qJ({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[QYe({primaryType:e,types:r})];for(const a of r[e]){const[s,o]=QJ({types:r,name:a.name,type:a.type,value:t[a.name]});n.push(s),i.push(o)}return yu(n,i)}function QYe({primaryType:t,types:e}){const r=Mu(ZYe({primaryType:t,types:e}));return Yn(r)}function ZYe({primaryType:t,types:e}){let r="";const n=KJ({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const a of i)r+=`${a}(${e[a].map(({name:s,type:o})=>`${o} ${s}`).join(",")})`;return r}function KJ({primaryType:t,types:e},r=new Set){const i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const a of e[i])KJ({primaryType:a.type,types:e},r);return r}function QJ({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},Yn(qJ({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},Yn(n)];if(r==="string")return[{type:"bytes32"},Yn(Mu(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),a=n.map(s=>QJ({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},Yn(yu(a.map(([s])=>s),a.map(([,s])=>s)))]}return[{type:r},n]}function XYe({domain:t,message:e,primaryType:r,types:n}){const i=n,a=(s,o)=>{for(const l of s){const{name:u,type:c}=l,f=c,d=o[u],h=f.match(HJ);if(h&&(typeof d=="number"||typeof d=="bigint")){const[g,v,b]=h;Pt(d,{signed:v==="int",size:parseInt(b)/8})}if(f==="address"&&typeof d=="string"&&!Ho(d))throw new Nh({address:d});const p=f.match(GJ);if(p){const[g,v]=p;if(v&&Kr(d)!==parseInt(v))throw new iJ({expectedSize:parseInt(v),givenSize:Kr(d)})}const m=i[f];m&&a(m,d)}};if(i.EIP712Domain&&t&&a(i.EIP712Domain,t),r!=="EIP712Domain"){const s=i[r];a(s,e)}}function JYe({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},typeof t?.chainId=="number"&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}const PR="/docs/contract/encodeDeployData";function eGe({abi:t,args:e,bytecode:r}){if(!e||e.length===0)return r;const n=t.find(a=>"type"in a&&a.type==="constructor");if(!n)throw new Jje({docsPath:PR});if(!("inputs"in n))throw new wB({docsPath:PR});if(!n.inputs||n.inputs.length===0)throw new wB({docsPath:PR});const i=yu(n.inputs,e);return qi([r,i])}function DB(t,e){if(t.length!==e.length)throw new rJ({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],a=e[n];r.push(ZJ(i,a))}return qi(r)}function ZJ(t,e,r=!1){if(t==="address"){const s=e;if(!Ho(s))throw new Nh({address:s});return So(s.toLowerCase(),{size:r?32:null})}if(t==="string")return Ao(e);if(t==="bytes")return e;if(t==="bool")return So(S5(e),{size:r?32:1});const n=t.match(HJ);if(n){const[s,o,l="256"]=n,u=parseInt(l)/8;return Pt(e,{size:r?32:u,signed:o==="int"})}const i=t.match(GJ);if(i){const[s,o]=i;if(parseInt(o)!==(e.length-2)/2)throw new iJ({expectedSize:parseInt(o),givenSize:(e.length-2)/2});return So(e,{dir:"right",size:r?32:null})}const a=t.match(WYe);if(a&&Array.isArray(e)){const[s,o]=a,l=[];for(let u=0;u<e.length;u++)l.push(ZJ(o,e[u],!0));return l.length===0?"0x":qi(l)}throw new uze(t)}function tGe(t,e){const r=(()=>typeof t=="string"?Ro(t):t.raw instanceof Uint8Array?t.raw:vu(t.raw))(),n=Ro(`Ethereum Signed Message:
${r.length}`);return Yn(Wo([n,r]),e)}const rGe="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function nGe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function iGe(t,e){const r=Vi(t)?vu(t):t,n=Vi(e)?vu(e):e;return nGe(r,n)}async function XJ(t,{address:e,hash:r,signature:n,...i}){const a=Vi(n)?n:Mu(n);try{const{data:s}=await bE(t,{data:eGe({abi:VVe,args:[e,r,a],bytecode:rGe}),...i});return iGe(s??"0x0","0x1")}catch(s){if(s instanceof EJ)return!1;throw s}}async function aGe(t,{address:e,message:r,signature:n,...i}){const a=tGe(r);return XJ(t,{address:e,hash:a,signature:n,...i})}async function sGe(t,{address:e,signature:r,message:n,primaryType:i,types:a,domain:s,...o}){const l=qYe({message:n,primaryType:i,types:a,domain:s});return XJ(t,{address:e,hash:l,signature:r,...o})}function JJ(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:a,pollingInterval:s=t.pollingInterval}){const o=typeof a<"u"?a:t.transport.type!=="webSocket";let l;return o?(()=>{const f=Ri(["watchBlockNumber",t.uid,e,r,s]);return c0(f,{onBlockNumber:n,onError:i},d=>Vv(async()=>{try{const h=await Yv(t,{cacheTime:0});if(l){if(h===l)return;if(h-l>1&&r)for(let p=l+1n;p<h;p++)d.onBlockNumber(p,l),l=p}(!l||h>l)&&(d.onBlockNumber(h,l),l=h)}catch(h){d.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{let f=!0,d=()=>f=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newHeads"],onData(p){if(!f)return;const m=Rs(p.result?.number);n(m,l),l=m},onError(p){i?.(p)}});d=h,f||d()}catch(h){i?.(h)}})(),d})()}async function oGe(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,timeout:a}){const s=Ri(["waitForTransactionReceipt",t.uid,r]);let o,l,u,c=!1;return new Promise((f,d)=>{a&&setTimeout(()=>d(new SVe({hash:r})),a);const h=c0(s,{onReplaced:n,resolve:f,reject:d},p=>{const m=JJ(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(g){if(c)return;let v=g;const b=w=>{m(),w(),h()};try{if(u){if(e>1&&(!u.blockNumber||v-u.blockNumber+1n<e))return;b(()=>p.resolve(u));return}if(o||(c=!0,await NJ(async()=>{o=await X5(t,{hash:r}),o.blockNumber&&(v=o.blockNumber)},{delay:({count:w})=>~~(1<<w)*200,retryCount:6}),c=!1),u=await z3(t,{hash:r}),e>1&&(!u.blockNumber||v-u.blockNumber+1n<e))return;b(()=>p.resolve(u))}catch(w){if(o&&(w instanceof wJ||w instanceof O5))try{l=o;const R=(await bu(t,{blockNumber:v,includeTransactions:!0})).transactions.find(({from:D,nonce:N})=>D===l.from&&N===l.nonce);if(!R||(u=await z3(t,{hash:R.hash}),e>1&&(!u.blockNumber||v-u.blockNumber+1n<e)))return;let I="replaced";R.to===l.to&&R.value===l.value?I="repriced":R.from===R.to&&R.value===0n&&(I="cancelled"),b(()=>{p.onReplaced?.({reason:I,replacedTransaction:l,transaction:R,transactionReceipt:u}),p.resolve(u)})}catch(E){b(()=>p.reject(E))}else b(()=>p.reject(w))}}})})})}function lGe(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:a,includeTransactions:s,poll:o,pollingInterval:l=t.pollingInterval}){const u=typeof o<"u"?o:t.transport.type!=="webSocket",c=s??!1;let f;return u?(()=>{const p=Ri(["watchBlocks",t.uid,r,n,c,l]);return c0(p,{onBlock:i,onError:a},m=>Vv(async()=>{try{const g=await bu(t,{blockTag:e,includeTransactions:c});if(g.number&&f?.number){if(g.number===f.number)return;if(g.number-f.number>1&&r)for(let v=f?.number+1n;v<g.number;v++){const b=await bu(t,{blockNumber:v,includeTransactions:c});m.onBlock(b,f),f=b}}(!f?.number||e==="pending"&&!g?.number||g.number&&g.number>f.number)&&(m.onBlock(g,f),f=g)}catch(g){m.onError?.(g)}},{emitOnBegin:n,interval:l}))})():(()=>{let p=!0,m=()=>p=!1;return(async()=>{try{const{unsubscribe:g}=await t.transport.subscribe({params:["newHeads"],onData(v){if(!p)return;const w=(t.chain?.formatters?.block?.format||j5)(v.result);i(w,f),f=w},onError(v){a?.(v)}});m=g,p||m()}catch(g){a?.(g)}})(),m})()}function uGe(t,{address:e,args:r,batch:n=!0,event:i,events:a,onError:s,onLogs:o,poll:l,pollingInterval:u=t.pollingInterval,strict:c}){const f=typeof l<"u"?l:t.transport.type!=="webSocket",d=c??!1;return f?(()=>{const m=Ri(["watchEvent",e,r,n,t.uid,i,u]);return c0(m,{onLogs:o,onError:s},g=>{let v,b,w=!1;const E=Vv(async()=>{if(!w){try{b=await zJ(t,{address:e,args:r,event:i,events:a,strict:d})}catch{}w=!0;return}try{let R;if(b)R=await xE(t,{filter:b});else{const I=await Yv(t);v&&v!==I?R=await G5(t,{address:e,args:r,event:i,events:a,fromBlock:v+1n,toBlock:I}):R=[],v=I}if(R.length===0)return;n?g.onLogs(R):R.forEach(I=>g.onLogs([I]))}catch(R){b&&R instanceof Mc&&(w=!1),g.onError?.(R)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await wE(t,{filter:b}),E()}})})():(()=>{let m=!0,g=()=>m=!1;return(async()=>{try{const v=a??(i?[i]:void 0);let b=[];v&&(b=[v.flatMap(E=>Bv({abi:[E],eventName:E.name,args:r}))],i&&(b=b[0]));const{unsubscribe:w}=await t.transport.subscribe({params:["logs",{address:e,topics:b}],onData(E){if(!m)return;const R=E.result;try{const{eventName:I,args:D}=zv({abi:v,data:R.data,topics:R.topics,strict:d}),N=ss(R,{args:D,eventName:I});o([N])}catch(I){let D,N;if(I instanceof Dc||I instanceof s0){if(c)return;D=I.abiItem.name,N=I.abiItem.inputs?.some($=>!("name"in $&&$.name))}const F=ss(R,{args:N?[]:{},eventName:D});o([F])}},onError(E){s?.(E)}});g=w,m||g()}catch(v){s?.(v)}})(),g})()}function cGe(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:a=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const u=Ri(["watchPendingTransactions",t.uid,e,a]);return c0(u,{onTransactions:n,onError:r},c=>{let f;const d=Vv(async()=>{try{if(!f)try{f=await VJ(t);return}catch(p){throw d(),p}const h=await xE(t,{filter:f});if(h.length===0)return;e?c.onTransactions(h):h.forEach(p=>c.onTransactions([p]))}catch(h){c.onError?.(h)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await wE(t,{filter:f}),d()}})})():(()=>{let u=!0,c=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;n([h])},onError(d){r?.(d)}});c=f,u||c()}catch(f){r?.(f)}})(),c})()}function fGe(t){return{call:e=>bE(t,e),createBlockFilter:()=>DYe(t),createContractEventFilter:e=>P5(t,e),createEventFilter:e=>zJ(t,e),createPendingTransactionFilter:()=>VJ(t),estimateContractGas:e=>RJ(t,e),estimateGas:e=>Y5(t,e),getBalance:e=>MYe(t,e),getBlock:e=>bu(t,e),getBlockNumber:e=>Yv(t,e),getBlockTransactionCount:e=>$Ye(t,e),getBytecode:e=>FYe(t,e),getChainId:()=>B3(t),getContractEvents:e=>H5(t,e),getEnsAddress:e=>bYe(t,e),getEnsAvatar:e=>OYe(t,e),getEnsName:e=>NYe(t,e),getEnsResolver:e=>LYe(t,e),getEnsText:e=>jJ(t,e),getFeeHistory:e=>UYe(t,e),estimateFeesPerGas:e=>BVe(t,e),getFilterChanges:e=>xE(t,e),getFilterLogs:e=>jYe(t,e),getGasPrice:()=>z5(t),getLogs:e=>G5(t,e),estimateMaxPriorityFeePerGas:e=>FVe(t,e),getStorageAt:e=>zYe(t,e),getTransaction:e=>X5(t,e),getTransactionConfirmations:e=>VYe(t,e),getTransactionCount:e=>AJ(t,e),getTransactionReceipt:e=>z3(t,e),multicall:e=>HYe(t,e),prepareTransactionRequest:e=>V5(t,e),readContract:e=>qo(t,e),sendRawTransaction:e=>OJ(t,e),simulateContract:e=>PJ(t,e),verifyMessage:e=>aGe(t,e),verifyTypedData:e=>sGe(t,e),uninstallFilter:e=>wE(t,e),waitForTransactionReceipt:e=>oGe(t,e),watchBlocks:e=>lGe(t,e),watchBlockNumber:e=>JJ(t,e),watchContractEvent:e=>kJ(t,e),watchEvent:e=>uGe(t,e),watchPendingTransactions:e=>cGe(t,e)}}function eee(t){const{key:e="public",name:r="Public Client"}=t;return cYe({...t,key:e,name:r,type:"publicClient"}).extend(fGe)}function dGe(t,e={}){const{key:r="webSocket",name:n="WebSocket JSON-RPC",retryDelay:i}=e;return({chain:a,retryCount:s,timeout:o})=>{const l=e.retryCount??s,u=o??e.timeout??1e4,c=t||a?.rpcUrls.default.webSocket?.[0];if(!c)throw new DJ;return q5({key:r,name:n,async request({method:f,params:d}){const h={method:f,params:d},p=await CR(c),{error:m,result:g}=await Kd.webSocketAsync(p,{body:h,timeout:u});if(m)throw new L5({body:h,error:m,url:c});return g},retryCount:l,retryDelay:i,timeout:u,type:"webSocket"},{getSocket(){return CR(c)},async subscribe({params:f,onData:d,onError:h}){const p=await CR(c),{result:m}=await new Promise((g,v)=>Kd.webSocket(p,{body:{method:"eth_subscribe",params:f},onResponse(b){if(b.error){v(b.error),h?.(b.error);return}if(typeof b.id=="number"){g(b);return}b.method==="eth_subscription"&&d(b.params)}}));return{subscriptionId:m,async unsubscribe(){return new Promise(g=>Kd.webSocket(p,{body:{method:"eth_unsubscribe",params:[m]},onResponse:g}))}}}})}}var V3={exports:{}},kR,MB;function hGe(){if(MB)return kR;MB=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,a=n*365.25;kR=function(c,f){f=f||{};var d=typeof c;if(d==="string"&&c.length>0)return s(c);if(d==="number"&&isFinite(c))return f.long?l(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function s(c){if(c=String(c),!(c.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var d=parseFloat(f[1]),h=(f[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*a;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(c){var f=Math.abs(c);return f>=n?Math.round(c/n)+"d":f>=r?Math.round(c/r)+"h":f>=e?Math.round(c/e)+"m":f>=t?Math.round(c/t)+"s":c+"ms"}function l(c){var f=Math.abs(c);return f>=n?u(c,f,n,"day"):f>=r?u(c,f,r,"hour"):f>=e?u(c,f,e,"minute"):f>=t?u(c,f,t,"second"):c+" ms"}function u(c,f,d,h){var p=f>=d*1.5;return Math.round(c/d)+" "+h+(p?"s":"")}return kR}function pGe(t){r.debug=r,r.default=r,r.coerce=l,r.disable=a,r.enable=i,r.enabled=s,r.humanize=hGe(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let f=0;for(let d=0;d<c.length;d++)f=(f<<5)-f+c.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(c){let f,d=null,h,p;function m(...g){if(!m.enabled)return;const v=m,b=Number(new Date),w=b-(f||b);v.diff=w,v.prev=f,v.curr=b,f=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(I,D)=>{if(I==="%%")return"%";E++;const N=r.formatters[D];if(typeof N=="function"){const F=g[E];I=N.call(v,F),g.splice(E,1),E--}return I}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return m.namespace=c,m.useColors=r.useColors(),m.color=r.selectColor(c),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==r.namespaces&&(h=r.namespaces,p=r.enabled(c)),p),set:g=>{d=g}}),typeof r.init=="function"&&r.init(m),m}function n(c,f){const d=r(this.namespace+(typeof f>"u"?":":f)+c);return d.log=this.log,d}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let f;const d=(typeof c=="string"?c:"").split(/[\s,]+/),h=d.length;for(f=0;f<h;f++)d[f]&&(c=d[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){const c=[...r.names.map(o),...r.skips.map(o).map(f=>"-"+f)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(c))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function l(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var mGe=pGe;(function(t,e){e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(c++,d==="%c"&&(f=c))}),l.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function a(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=mGe(e);const{formatters:o}=t.exports;o.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(V3,V3.exports);var gGe=V3.exports;const af=Pi(gGe);var Gv=af("mud:common"),vGe=af("mud:common");Gv.log=console.debug.bind(console);vGe.log=console.error.bind(console);var yGe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},o.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,d,h,p){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,h),!0;case 6:return g.fn.call(g.context,c,f,d,h,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var E=g.length,R;for(w=0;w<E;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,c);break;case 3:g[w].fn.call(g[w].context,c,f);break;case 4:g[w].fn.call(g[w].context,c,f,d);break;default:if(!b)for(R=1,b=new Array(v-1);R<v;R++)b[R-1]=arguments[R];g[w].fn.apply(g[w].context,b)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,d){var h=r?r+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==c||d&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(yGe);globalThis&&globalThis.__classPrivateFieldGet;globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;var bGe={};function Sa(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var xGe=Sa;Sa.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Sa.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Sa.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Sa.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Sa.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Sa.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Sa.prototype.start=Sa.prototype.try;Sa.prototype.errors=function(){return this._errors};Sa.prototype.attempts=function(){return this._attempts};Sa.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,s=(t[a]||0)+1;t[a]=s,s>=r&&(e=i,r=s)}return e};(function(t){var e=xGe;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<n.retries;s++)a.push(this.createTimeout(s,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(s,n)),a.sort(function(o,l){return o-l}),a},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var s=0;s<i.length;s++){var o=i[s],l=r[o];r[o]=function(c){var f=t.operation(n),d=Array.prototype.slice.call(arguments,1),h=d.pop();d.push(function(p){f.retry(p)||(p&&(arguments[0]=f.mainError()),h.apply(this,arguments))}),f.attempt(function(){c.apply(r,d)})}.bind(r,l),r[o].options=n}}})(bGe);var wGe=af("mud:benchmark");wGe.log=console.info.bind(console);Gv.extend("createNonceManager");Gv.extend("writeContract");var EGe=["table","offchainTable","namespace","module","system"],J5={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function tee(t){let e=J5[t.type];return qi([Ao(e,{size:2}),Ao(t.namespace.slice(0,14),{size:14}),Ao(t.name.slice(0,16),{size:16})])}var SGe=Object.fromEntries(Object.entries(J5).map(([t,e])=>[e,t]));function TGe(t){let e=SGe[t];if(EGe.includes(e))return e}function AGe(t){let e=rm(nm(t,0,2)).replace(/\0+$/,""),r=TGe(e),n=rm(nm(t,2,16)).replace(/\0+$/,""),i=rm(nm(t,16,32)).replace(/\0+$/,"");if(!r)throw new Error(`Unknown type (${e}) for resource (${e}:${n}:${i})`);return{resourceId:t,type:r,namespace:n,name:i}}function eu(t,e,r){return`0x${t.replace(/^0x/,"").slice(e*2,r!=null?r*2:void 0).padEnd(((r??e)-e)*2,"0")}`}function RGe(t){return"ok"in t}Gv.extend("sendTransaction");function $B(t,e,r=0,n="0x"){return qi([eu(t,0,e),n,eu(t,e+r)])}var _Ge=Gv.extend("transportObserver");function IGe(t){return e=>{let r=t(e);return{...r,request:async n=>{if(n.method==="eth_sendRawTransaction"&&n.params instanceof Array){let i=n.params.map(a=>Yn(a));_Ge("saw txs",i)}return r.request(n)}}}}var Ut;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ut||(Ut={}));var Y3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Y3||(Y3={}));const Ce=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ml=t=>{switch(typeof t){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(t)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(t)?Ce.array:t===null?Ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ce.promise:typeof Map<"u"&&t instanceof Map?Ce.map:typeof Set<"u"&&t instanceof Set?Ce.set:typeof Date<"u"&&t instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},re=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CGe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ui extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ui.create=t=>new ui(t);const Rg=(t,e)=>{let r;switch(t.code){case re.invalid_type:t.received===Ce.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ut.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ut.joinValues(t.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ut.joinValues(t.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${Ut.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ut.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ut.assertNever(t)}return{message:r}};let ree=Rg;function PGe(t){ree=t}function hw(){return ree}const pw=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:i.message||o}},kGe=[];function Pe(t,e){const r=pw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hw(),Rg].filter(n=>!!n)});t.common.issues.push(r)}class Wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return lt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Wn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return lt;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const lt=Object.freeze({status:"aborted"}),nee=t=>({status:"dirty",value:t}),fi=t=>({status:"valid",value:t}),G3=t=>t.status==="aborted",H3=t=>t.status==="dirty",_g=t=>t.status==="valid",mw=t=>typeof Promise<"u"&&t instanceof Promise;var Ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ke||(Ke={}));class Ws{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FB=(t,e)=>{if(_g(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ui(t.common.issues);return this._error=r,this._error}}};function mt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:r??o.defaultError},description:i}}class gt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ml(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wn,ctx:{common:e.parent.common,data:e.data,parsedType:Ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(mw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ml(e)},a=this._parseSync({data:e,path:i.path,parent:i});return FB(i,a)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ml(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(mw(i)?i:Promise.resolve(i));return FB(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:re.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new os({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return _o.create(this,this._def)}nullable(){return Bc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rs.create(this,this._def)}promise(){return Mh.create(this,this._def)}or(e){return kg.create([this,e],this._def)}and(e){return Og.create(this,e,this._def)}transform(e){return new os({...mt(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $g({...mt(this._def),innerType:this,defaultValue:r,typeName:Je.ZodDefault})}brand(){return new aee({typeName:Je.ZodBranded,type:this,...mt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new bw({...mt(this._def),innerType:this,catchValue:r,typeName:Je.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Hv.create(this,e)}readonly(){return ww.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const OGe=/^c[^\s-]{8,}$/i,NGe=/^[a-z][a-z0-9]*$/,LGe=/[0-9A-HJKMNP-TV-Z]{26}/,DGe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MGe=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$Ge=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,FGe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,BGe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,UGe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function jGe(t,e){return!!((e==="v4"||!e)&&FGe.test(t)||(e==="v6"||!e)&&BGe.test(t))}class Ja extends gt{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:re.invalid_string,...Ke.errToObj(n)}),this.nonempty=e=>this.min(1,Ke.errToObj(e)),this.trim=()=>new Ja({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ja({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ja({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ce.string){const a=this._getOrReturnCtx(e);return Pe(a,{code:re.invalid_type,expected:Ce.string,received:a.parsedType}),lt}const n=new Wn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?Pe(i,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Pe(i,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")MGe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")$Ge.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")DGe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")OGe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")NGe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")LGe.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:re.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:re.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:re.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?UGe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?jGe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:re.invalid_string,message:a.message}),n.dirty()):Ut.assertNever(a);return{status:n.value,value:e.data}}_addCheck(e){return new Ja({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ke.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...Ke.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ke.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ke.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ke.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ke.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ke.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ke.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ke.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ja.create=t=>{var e;return new Ja({checks:[],typeName:Je.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mt(t)})};function zGe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class xu extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ce.number){const a=this._getOrReturnCtx(e);return Pe(a,{code:re.invalid_type,expected:Ce.number,received:a.parsedType}),lt}let n;const i=new Wn;for(const a of this._def.checks)a.kind==="int"?Ut.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?zGe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.not_finite,message:a.message}),i.dirty()):Ut.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ke.toString(r))}setLimit(e,r,n,i){return new xu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ke.toString(i)}]})}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ut.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}xu.create=t=>new xu({checks:[],typeName:Je.ZodNumber,coerce:t?.coerce||!1,...mt(t)});class wu extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ce.bigint){const a=this._getOrReturnCtx(e);return Pe(a,{code:re.invalid_type,expected:Ce.bigint,received:a.parsedType}),lt}let n;const i=new Wn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ut.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ke.toString(r))}setLimit(e,r,n,i){return new wu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ke.toString(i)}]})}_addCheck(e){return new wu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}wu.create=t=>{var e;return new wu({checks:[],typeName:Je.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...mt(t)})};class Ig extends gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ce.boolean){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.boolean,received:n.parsedType}),lt}return fi(e.data)}}Ig.create=t=>new Ig({typeName:Je.ZodBoolean,coerce:t?.coerce||!1,...mt(t)});class $c extends gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ce.date){const a=this._getOrReturnCtx(e);return Pe(a,{code:re.invalid_type,expected:Ce.date,received:a.parsedType}),lt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Pe(a,{code:re.invalid_date}),lt}const n=new Wn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Ut.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $c({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ke.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ke.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$c.create=t=>new $c({checks:[],coerce:t?.coerce||!1,typeName:Je.ZodDate,...mt(t)});class gw extends gt{_parse(e){if(this._getType(e)!==Ce.symbol){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.symbol,received:n.parsedType}),lt}return fi(e.data)}}gw.create=t=>new gw({typeName:Je.ZodSymbol,...mt(t)});class Cg extends gt{_parse(e){if(this._getType(e)!==Ce.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.undefined,received:n.parsedType}),lt}return fi(e.data)}}Cg.create=t=>new Cg({typeName:Je.ZodUndefined,...mt(t)});class Pg extends gt{_parse(e){if(this._getType(e)!==Ce.null){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.null,received:n.parsedType}),lt}return fi(e.data)}}Pg.create=t=>new Pg({typeName:Je.ZodNull,...mt(t)});class Dh extends gt{constructor(){super(...arguments),this._any=!0}_parse(e){return fi(e.data)}}Dh.create=t=>new Dh({typeName:Je.ZodAny,...mt(t)});class vc extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fi(e.data)}}vc.create=t=>new vc({typeName:Je.ZodUnknown,...mt(t)});class Ko extends gt{_parse(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:re.invalid_type,expected:Ce.never,received:r.parsedType}),lt}}Ko.create=t=>new Ko({typeName:Je.ZodNever,...mt(t)});class vw extends gt{_parse(e){if(this._getType(e)!==Ce.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.void,received:n.parsedType}),lt}return fi(e.data)}}vw.create=t=>new vw({typeName:Je.ZodVoid,...mt(t)});class rs extends gt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ce.array)return Pe(r,{code:re.invalid_type,expected:Ce.array,received:r.parsedType}),lt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Pe(r,{code:s?re.too_big:re.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Pe(r,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Pe(r,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new Ws(r,s,r.path,o)))).then(s=>Wn.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new Ws(r,s,r.path,o)));return Wn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new rs({...this._def,minLength:{value:e,message:Ke.toString(r)}})}max(e,r){return new rs({...this._def,maxLength:{value:e,message:Ke.toString(r)}})}length(e,r){return new rs({...this._def,exactLength:{value:e,message:Ke.toString(r)}})}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...mt(e)});function Gf(t){if(t instanceof Ar){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=_o.create(Gf(n))}return new Ar({...t._def,shape:()=>e})}else return t instanceof rs?new rs({...t._def,type:Gf(t.element)}):t instanceof _o?_o.create(Gf(t.unwrap())):t instanceof Bc?Bc.create(Gf(t.unwrap())):t instanceof qs?qs.create(t.items.map(e=>Gf(e))):t}class Ar extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ut.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ce.object){const u=this._getOrReturnCtx(e);return Pe(u,{code:re.invalid_type,expected:Ce.object,received:u.parsedType}),lt}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const c=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ws(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ko){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")o.length>0&&(Pe(i,{code:re.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ws(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const f=await c.key;u.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>Wn.mergeObjectSync(n,u)):Wn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ke.errToObj,new Ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Ke.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ar({...this._def,catchall:e})}pick(e){const r={};return Ut.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ar({...this._def,shape:()=>r})}omit(e){const r={};return Ut.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ar({...this._def,shape:()=>r})}deepPartial(){return Gf(this)}partial(e){const r={};return Ut.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Ar({...this._def,shape:()=>r})}required(e){const r={};return Ut.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof _o;)a=a._def.innerType;r[n]=a}}),new Ar({...this._def,shape:()=>r})}keyof(){return iee(Ut.objectKeys(this.shape))}}Ar.create=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strip",catchall:Ko.create(),typeName:Je.ZodObject,...mt(e)});Ar.strictCreate=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strict",catchall:Ko.create(),typeName:Je.ZodObject,...mt(e)});Ar.lazycreate=(t,e)=>new Ar({shape:t,unknownKeys:"strip",catchall:Ko.create(),typeName:Je.ZodObject,...mt(e)});class kg extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new ui(o.ctx.common.issues));return Pe(r,{code:re.invalid_union,unionErrors:s}),lt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new ui(l));return Pe(r,{code:re.invalid_union,unionErrors:o}),lt}}get options(){return this._def.options}}kg.create=(t,e)=>new kg({options:t,typeName:Je.ZodUnion,...mt(e)});const C1=t=>t instanceof Lg?C1(t.schema):t instanceof os?C1(t.innerType()):t instanceof Dg?[t.value]:t instanceof Eu?t.options:t instanceof Mg?Object.keys(t.enum):t instanceof $g?C1(t._def.innerType):t instanceof Cg?[void 0]:t instanceof Pg?[null]:null;class SE extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.object)return Pe(r,{code:re.invalid_type,expected:Ce.object,received:r.parsedType}),lt;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Pe(r,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=C1(a.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new SE({typeName:Je.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...mt(n)})}}function W3(t,e){const r=Ml(t),n=Ml(e);if(t===e)return{valid:!0,data:t};if(r===Ce.object&&n===Ce.object){const i=Ut.objectKeys(e),a=Ut.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=W3(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Ce.array&&n===Ce.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=W3(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ce.date&&n===Ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Og extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(G3(a)||G3(s))return lt;const o=W3(a.value,s.value);return o.valid?((H3(a)||H3(s))&&r.dirty(),{status:r.value,value:o.data}):(Pe(n,{code:re.invalid_intersection_types}),lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Og.create=(t,e,r)=>new Og({left:t,right:e,typeName:Je.ZodIntersection,...mt(r)});class qs extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.array)return Pe(n,{code:re.invalid_type,expected:Ce.array,received:n.parsedType}),lt;if(n.data.length<this._def.items.length)return Pe(n,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ws(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Wn.mergeArray(r,s)):Wn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new qs({...this._def,rest:e})}}qs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qs({items:t,typeName:Je.ZodTuple,rest:null,...mt(e)})};class Ng extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.object)return Pe(n,{code:re.invalid_type,expected:Ce.object,received:n.parsedType}),lt;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new Ws(n,o,n.path,o)),value:s._parse(new Ws(n,n.data[o],n.path,o))});return n.common.async?Wn.mergeObjectAsync(r,i):Wn.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof gt?new Ng({keyType:e,valueType:r,typeName:Je.ZodRecord,...mt(n)}):new Ng({keyType:Ja.create(),valueType:e,typeName:Je.ZodRecord,...mt(r)})}}class yw extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.map)return Pe(n,{code:re.invalid_type,expected:Ce.map,received:n.parsedType}),lt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new Ws(n,o,n.path,[u,"key"])),value:a._parse(new Ws(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return lt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return lt;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}yw.create=(t,e,r)=>new yw({valueType:e,keyType:t,typeName:Je.ZodMap,...mt(r)});class Fc extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.set)return Pe(n,{code:re.invalid_type,expected:Ce.set,received:n.parsedType}),lt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Pe(n,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Pe(n,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return lt;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>a._parse(new Ws(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new Fc({...this._def,minSize:{value:e,message:Ke.toString(r)}})}max(e,r){return new Fc({...this._def,maxSize:{value:e,message:Ke.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Fc.create=(t,e)=>new Fc({valueType:t,minSize:null,maxSize:null,typeName:Je.ZodSet,...mt(e)});class Qd extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.function)return Pe(r,{code:re.invalid_type,expected:Ce.function,received:r.parsedType}),lt;function n(o,l){return pw({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hw(),Rg].filter(u=>!!u),issueData:{code:re.invalid_arguments,argumentsError:l}})}function i(o,l){return pw({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hw(),Rg].filter(u=>!!u),issueData:{code:re.invalid_return_type,returnTypeError:l}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Mh){const o=this;return fi(async function(...l){const u=new ui([]),c=await o._def.args.parseAsync(l,a).catch(h=>{throw u.addIssue(n(l,h)),u}),f=await Reflect.apply(s,this,c);return await o._def.returns._def.type.parseAsync(f,a).catch(h=>{throw u.addIssue(i(f,h)),u})})}else{const o=this;return fi(function(...l){const u=o._def.args.safeParse(l,a);if(!u.success)throw new ui([n(l,u.error)]);const c=Reflect.apply(s,this,u.data),f=o._def.returns.safeParse(c,a);if(!f.success)throw new ui([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qd({...this._def,args:qs.create(e).rest(vc.create())})}returns(e){return new Qd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Qd({args:e||qs.create([]).rest(vc.create()),returns:r||vc.create(),typeName:Je.ZodFunction,...mt(n)})}}class Lg extends gt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Lg.create=(t,e)=>new Lg({getter:t,typeName:Je.ZodLazy,...mt(e)});class Dg extends gt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Pe(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Dg.create=(t,e)=>new Dg({value:t,typeName:Je.ZodLiteral,...mt(e)});function iee(t,e){return new Eu({values:t,typeName:Je.ZodEnum,...mt(e)})}class Eu extends gt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{expected:Ut.joinValues(n),received:r.parsedType,code:re.invalid_type}),lt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{received:r.data,code:re.invalid_enum_value,options:n}),lt}return fi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Eu.create(e)}exclude(e){return Eu.create(this.options.filter(r=>!e.includes(r)))}}Eu.create=iee;class Mg extends gt{_parse(e){const r=Ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ce.string&&n.parsedType!==Ce.number){const i=Ut.objectValues(r);return Pe(n,{expected:Ut.joinValues(i),received:n.parsedType,code:re.invalid_type}),lt}if(r.indexOf(e.data)===-1){const i=Ut.objectValues(r);return Pe(n,{received:n.data,code:re.invalid_enum_value,options:i}),lt}return fi(e.data)}get enum(){return this._def.values}}Mg.create=(t,e)=>new Mg({values:t,typeName:Je.ZodNativeEnum,...mt(e)});class Mh extends gt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.promise&&r.common.async===!1)return Pe(r,{code:re.invalid_type,expected:Ce.promise,received:r.parsedType}),lt;const n=r.parsedType===Ce.promise?r.data:Promise.resolve(r.data);return fi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mh.create=(t,e)=>new Mh({type:t,typeName:Je.ZodPromise,...mt(e)});class os extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{Pe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(s).then(o=>this._def.schema._parseAsync({data:o,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?lt:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?lt:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_g(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>_g(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);Ut.assertNever(i)}}os.create=(t,e,r)=>new os({schema:t,typeName:Je.ZodEffects,effect:e,...mt(r)});os.createWithPreprocess=(t,e,r)=>new os({schema:e,effect:{type:"preprocess",transform:t},typeName:Je.ZodEffects,...mt(r)});class _o extends gt{_parse(e){return this._getType(e)===Ce.undefined?fi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_o.create=(t,e)=>new _o({innerType:t,typeName:Je.ZodOptional,...mt(e)});class Bc extends gt{_parse(e){return this._getType(e)===Ce.null?fi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bc.create=(t,e)=>new Bc({innerType:t,typeName:Je.ZodNullable,...mt(e)});class $g extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$g.create=(t,e)=>new $g({innerType:t,typeName:Je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...mt(e)});class bw extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mw(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ui(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ui(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bw.create=(t,e)=>new bw({innerType:t,typeName:Je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...mt(e)});class xw extends gt{_parse(e){if(this._getType(e)!==Ce.nan){const n=this._getOrReturnCtx(e);return Pe(n,{code:re.invalid_type,expected:Ce.nan,received:n.parsedType}),lt}return{status:"valid",value:e.data}}}xw.create=t=>new xw({typeName:Je.ZodNaN,...mt(t)});const VGe=Symbol("zod_brand");class aee extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Hv extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?lt:a.status==="dirty"?(r.dirty(),nee(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Hv({in:e,out:r,typeName:Je.ZodPipeline})}}class ww extends gt{_parse(e){const r=this._def.innerType._parse(e);return _g(r)&&(r.value=Object.freeze(r.value)),r}}ww.create=(t,e)=>new ww({innerType:t,typeName:Je.ZodReadonly,...mt(e)});const see=(t,e={},r)=>t?Dh.create().superRefine((n,i)=>{var a,s;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(s=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:l})}}):Dh.create(),YGe={object:Ar.lazycreate};var Je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Je||(Je={}));const GGe=(t,e={message:`Input not instance of ${t.name}`})=>see(r=>r instanceof t,e),oee=Ja.create,lee=xu.create,HGe=xw.create,WGe=wu.create,uee=Ig.create,qGe=$c.create,KGe=gw.create,QGe=Cg.create,ZGe=Pg.create,XGe=Dh.create,JGe=vc.create,eHe=Ko.create,tHe=vw.create,rHe=rs.create,nHe=Ar.create,iHe=Ar.strictCreate,aHe=kg.create,sHe=SE.create,oHe=Og.create,lHe=qs.create,uHe=Ng.create,cHe=yw.create,fHe=Fc.create,dHe=Qd.create,hHe=Lg.create,pHe=Dg.create,mHe=Eu.create,gHe=Mg.create,vHe=Mh.create,BB=os.create,yHe=_o.create,bHe=Bc.create,xHe=os.createWithPreprocess,wHe=Hv.create,EHe=()=>oee().optional(),SHe=()=>lee().optional(),THe=()=>uee().optional(),AHe={string:t=>Ja.create({...t,coerce:!0}),number:t=>xu.create({...t,coerce:!0}),boolean:t=>Ig.create({...t,coerce:!0}),bigint:t=>wu.create({...t,coerce:!0}),date:t=>$c.create({...t,coerce:!0})},RHe=lt;var X=Object.freeze({__proto__:null,defaultErrorMap:Rg,setErrorMap:PGe,getErrorMap:hw,makeIssue:pw,EMPTY_PATH:kGe,addIssueToContext:Pe,ParseStatus:Wn,INVALID:lt,DIRTY:nee,OK:fi,isAborted:G3,isDirty:H3,isValid:_g,isAsync:mw,get util(){return Ut},get objectUtil(){return Y3},ZodParsedType:Ce,getParsedType:Ml,ZodType:gt,ZodString:Ja,ZodNumber:xu,ZodBigInt:wu,ZodBoolean:Ig,ZodDate:$c,ZodSymbol:gw,ZodUndefined:Cg,ZodNull:Pg,ZodAny:Dh,ZodUnknown:vc,ZodNever:Ko,ZodVoid:vw,ZodArray:rs,ZodObject:Ar,ZodUnion:kg,ZodDiscriminatedUnion:SE,ZodIntersection:Og,ZodTuple:qs,ZodRecord:Ng,ZodMap:yw,ZodSet:Fc,ZodFunction:Qd,ZodLazy:Lg,ZodLiteral:Dg,ZodEnum:Eu,ZodNativeEnum:Mg,ZodPromise:Mh,ZodEffects:os,ZodTransformer:os,ZodOptional:_o,ZodNullable:Bc,ZodDefault:$g,ZodCatch:bw,ZodNaN:xw,BRAND:VGe,ZodBranded:aee,ZodPipeline:Hv,ZodReadonly:ww,custom:see,Schema:gt,ZodSchema:gt,late:YGe,get ZodFirstPartyTypeKind(){return Je},coerce:AHe,any:XGe,array:rHe,bigint:WGe,boolean:uee,date:qGe,discriminatedUnion:sHe,effect:BB,enum:mHe,function:dHe,instanceof:GGe,intersection:oHe,lazy:hHe,literal:pHe,map:cHe,nan:HGe,nativeEnum:gHe,never:eHe,null:ZGe,nullable:bHe,number:lee,object:nHe,oboolean:THe,onumber:SHe,optional:yHe,ostring:EHe,pipeline:wHe,preprocess:xHe,promise:vHe,record:uHe,set:fHe,strictObject:iHe,string:oee,symbol:KGe,transformer:BB,tuple:lHe,undefined:QGe,union:aHe,unknown:JGe,void:tHe,NEVER:RHe,ZodIssueCode:re,quotelessJson:CGe,ZodError:ui});const _He=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function IHe(t){return t.length===1?t[0].toString():t.reduce((e,r)=>{if(typeof r=="number")return e+"["+r.toString()+"]";if(r.includes('"'))return e+'["'+CHe(r)+'"]';if(!_He.test(r))return e+'["'+r+'"]';const n=e.length===0?"":".";return e+n+r},"")}function CHe(t){return t.replace(/"/g,'\\"')}function PHe(t){return t.length!==0}const kHe=99,OHe="; ",NHe=", or ",cee="Validation error",LHe=": ";class DHe extends Error{details;name;constructor(e,r=[]){super(e),this.details=r,this.name="ZodValidationError"}toString(){return this.message}}function fee(t,e,r){if(t.code==="invalid_union")return t.unionErrors.reduce((n,i)=>{const a=i.issues.map(s=>fee(s,e,r)).join(e);return n.includes(a)||n.push(a),n},[]).join(r);if(PHe(t.path)){if(t.path.length===1){const n=t.path[0];if(typeof n=="number")return`${t.message} at index ${n}`}return`${t.message} at "${IHe(t.path)}"`}return t.message}function MHe(t,e,r){return e!==null?t.length>0?[e,t].join(r):e:t.length>0?t:cee}function dee(t,e={}){const{maxIssuesInMessage:r=kHe,issueSeparator:n=OHe,unionSeparator:i=NHe,prefixSeparator:a=LHe,prefix:s=cee}=e,o=t.errors.slice(0,r).map(u=>fee(u,n,i)).join(n),l=MHe(o,s,a);return new DHe(l,t.errors)}var $He=Object.defineProperty,FHe=(t,e,r)=>e in t?$He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BHe=(t,e,r)=>(FHe(t,typeof e!="symbol"?e+"":e,r),r),UHe=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},jHe=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function hee(t,e){return dee(t,{prefix:e,prefixSeparator:`
- `,issueSeparator:`
- `})}var zHe=16,UB=14;function e8(t,e){/^\w+$/.test(t)||e.addIssue({code:re.custom,message:"Name must contain only alphanumeric & underscore characters"})}function VHe(t,e){e8(t,e),/^[A-Z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a capital letter"})}function YHe(t,e){e8(t,e),/^[a-z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a lowercase letter"})}function GHe(t,e){t.length===0&&e.addIssue({code:re.custom,message:"Enum must not be empty"}),t.length>=256&&e.addIssue({code:re.custom,message:"Length of enum must be < 256"});let r=P1(t);r.length>0&&e.addIssue({code:re.custom,message:`Enum must not have duplicate names for: ${r.join(", ")}`})}function t8(t,e){return(r,n)=>{if(r===""){t&&n.addIssue({code:re.custom,message:"Route must not be empty"});return}r[0]!=="/"&&n.addIssue({code:re.custom,message:'Route must start with "/"'}),r[r.length-1]==="/"&&n.addIssue({code:re.custom,message:'Route must not end with "/"'});let i=r.split("/");e&&i.length>2&&n.addIssue({code:re.custom,message:'Route must only have one level (e.g. "/foo")'});for(let a=1;a<i.length;a++)i[a]===""&&n.addIssue({code:re.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(i[a])||n.addIssue({code:re.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var HHe=t8(!0,!1),WHe=t8(!1,!1),qHe=t8(!0,!0);function KHe(t,e){QQ(t)||e.addIssue({code:re.custom,message:"Address must be a valid Ethereum address"})}function P1(t){let e=new Set,r=new Set;for(let n of t)e.has(n)&&r.add(n),e.add(n);return[...r]}function QHe(t,e){t.length>UB&&e.addIssue({code:re.custom,message:`Namespace must be <= ${UB} characters`}),/^\w*$/.test(t)||e.addIssue({code:re.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function ZHe(t){let e=t.match(/^(\w+)\[(\d+)\]$/);return e?{elementType:e[1],staticLength:Number.parseInt(e[2])}:null}var f0=X.string().superRefine(VHe),pee=X.string().superRefine(YHe),mee=X.string().superRefine(e8),XHe=X.string().superRefine(QHe),JHe=X.array(f0).superRefine(GHe);X.string().superRefine(HHe);X.string().superRefine(qHe);X.string().superRefine(WHe);var eWe=X.string().superRefine(KHe),gee=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new UHe;let e=this._global,r=new gee;return e.__mudCoreContext=r,r}static getContext(){let e=this._global.__mudCoreContext;if(e===void 0)throw new jHe;return e}configExtenders=[]},Fg=gee;BHe(Fg,"_global",typeof global>"u"?window.global??{}:global);function tWe(t){let e=t,r=Fg.getContext();for(let n of r.configExtenders)e=n(e);return e}function vee(t){Fg.getContext().configExtenders.push(t)}var yee=(t=>(t[t.TABLE_ID=0]="TABLE_ID",t[t.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",t))(yee||{}),q3={registerFunctionSelector:!0,openAccess:!0,accessList:[]},no={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},K3=f0,rWe=f0,nWe=X.array(K3.or(eWe)).default(q3.accessList),iWe=X.intersection(X.object({name:mee.optional(),registerFunctionSelectors:X.boolean().default(q3.registerFunctionSelector)}),X.discriminatedUnion("openAccess",[X.object({openAccess:X.literal(!0).default(q3.openAccess)}),X.object({openAccess:X.literal(!1),accessList:nWe})])),aWe=X.object({value:X.union([X.string(),X.number(),X.instanceof(Uint8Array)]),type:X.string()}),sWe=X.object({type:X.nativeEnum(yee),input:X.string()}),oWe=X.object({name:rWe,root:X.boolean().default(!1),args:X.array(X.union([aWe,sWe])).default([])}),lWe=X.object({worldContractName:X.string().optional(),worldInterfaceName:X.string().default(no.worldInterfaceName),systems:X.record(K3,iWe).default(no.systems),excludeSystems:X.array(K3).default(no.excludeSystems),postDeployScript:X.string().default(no.postDeployScript),deploysDirectory:X.string().default(no.deploysDirectory),worldsFile:X.string().default(no.worldsFile),worldgenDirectory:X.string().default(no.worldgenDirectory),worldImportPath:X.string().default(no.worldImportPath),modules:X.array(oWe).default(no.modules)}),uWe=lWe.catchall(X.any()),cWe=(t=>(t[t.UINT8=0]="UINT8",t[t.UINT16=1]="UINT16",t[t.UINT24=2]="UINT24",t[t.UINT32=3]="UINT32",t[t.UINT40=4]="UINT40",t[t.UINT48=5]="UINT48",t[t.UINT56=6]="UINT56",t[t.UINT64=7]="UINT64",t[t.UINT72=8]="UINT72",t[t.UINT80=9]="UINT80",t[t.UINT88=10]="UINT88",t[t.UINT96=11]="UINT96",t[t.UINT104=12]="UINT104",t[t.UINT112=13]="UINT112",t[t.UINT120=14]="UINT120",t[t.UINT128=15]="UINT128",t[t.UINT136=16]="UINT136",t[t.UINT144=17]="UINT144",t[t.UINT152=18]="UINT152",t[t.UINT160=19]="UINT160",t[t.UINT168=20]="UINT168",t[t.UINT176=21]="UINT176",t[t.UINT184=22]="UINT184",t[t.UINT192=23]="UINT192",t[t.UINT200=24]="UINT200",t[t.UINT208=25]="UINT208",t[t.UINT216=26]="UINT216",t[t.UINT224=27]="UINT224",t[t.UINT232=28]="UINT232",t[t.UINT240=29]="UINT240",t[t.UINT248=30]="UINT248",t[t.UINT256=31]="UINT256",t[t.INT8=32]="INT8",t[t.INT16=33]="INT16",t[t.INT24=34]="INT24",t[t.INT32=35]="INT32",t[t.INT40=36]="INT40",t[t.INT48=37]="INT48",t[t.INT56=38]="INT56",t[t.INT64=39]="INT64",t[t.INT72=40]="INT72",t[t.INT80=41]="INT80",t[t.INT88=42]="INT88",t[t.INT96=43]="INT96",t[t.INT104=44]="INT104",t[t.INT112=45]="INT112",t[t.INT120=46]="INT120",t[t.INT128=47]="INT128",t[t.INT136=48]="INT136",t[t.INT144=49]="INT144",t[t.INT152=50]="INT152",t[t.INT160=51]="INT160",t[t.INT168=52]="INT168",t[t.INT176=53]="INT176",t[t.INT184=54]="INT184",t[t.INT192=55]="INT192",t[t.INT200=56]="INT200",t[t.INT208=57]="INT208",t[t.INT216=58]="INT216",t[t.INT224=59]="INT224",t[t.INT232=60]="INT232",t[t.INT240=61]="INT240",t[t.INT248=62]="INT248",t[t.INT256=63]="INT256",t[t.BYTES1=64]="BYTES1",t[t.BYTES2=65]="BYTES2",t[t.BYTES3=66]="BYTES3",t[t.BYTES4=67]="BYTES4",t[t.BYTES5=68]="BYTES5",t[t.BYTES6=69]="BYTES6",t[t.BYTES7=70]="BYTES7",t[t.BYTES8=71]="BYTES8",t[t.BYTES9=72]="BYTES9",t[t.BYTES10=73]="BYTES10",t[t.BYTES11=74]="BYTES11",t[t.BYTES12=75]="BYTES12",t[t.BYTES13=76]="BYTES13",t[t.BYTES14=77]="BYTES14",t[t.BYTES15=78]="BYTES15",t[t.BYTES16=79]="BYTES16",t[t.BYTES17=80]="BYTES17",t[t.BYTES18=81]="BYTES18",t[t.BYTES19=82]="BYTES19",t[t.BYTES20=83]="BYTES20",t[t.BYTES21=84]="BYTES21",t[t.BYTES22=85]="BYTES22",t[t.BYTES23=86]="BYTES23",t[t.BYTES24=87]="BYTES24",t[t.BYTES25=88]="BYTES25",t[t.BYTES26=89]="BYTES26",t[t.BYTES27=90]="BYTES27",t[t.BYTES28=91]="BYTES28",t[t.BYTES29=92]="BYTES29",t[t.BYTES30=93]="BYTES30",t[t.BYTES31=94]="BYTES31",t[t.BYTES32=95]="BYTES32",t[t.BOOL=96]="BOOL",t[t.ADDRESS=97]="ADDRESS",t[t.UINT8_ARRAY=98]="UINT8_ARRAY",t[t.UINT16_ARRAY=99]="UINT16_ARRAY",t[t.UINT24_ARRAY=100]="UINT24_ARRAY",t[t.UINT32_ARRAY=101]="UINT32_ARRAY",t[t.UINT40_ARRAY=102]="UINT40_ARRAY",t[t.UINT48_ARRAY=103]="UINT48_ARRAY",t[t.UINT56_ARRAY=104]="UINT56_ARRAY",t[t.UINT64_ARRAY=105]="UINT64_ARRAY",t[t.UINT72_ARRAY=106]="UINT72_ARRAY",t[t.UINT80_ARRAY=107]="UINT80_ARRAY",t[t.UINT88_ARRAY=108]="UINT88_ARRAY",t[t.UINT96_ARRAY=109]="UINT96_ARRAY",t[t.UINT104_ARRAY=110]="UINT104_ARRAY",t[t.UINT112_ARRAY=111]="UINT112_ARRAY",t[t.UINT120_ARRAY=112]="UINT120_ARRAY",t[t.UINT128_ARRAY=113]="UINT128_ARRAY",t[t.UINT136_ARRAY=114]="UINT136_ARRAY",t[t.UINT144_ARRAY=115]="UINT144_ARRAY",t[t.UINT152_ARRAY=116]="UINT152_ARRAY",t[t.UINT160_ARRAY=117]="UINT160_ARRAY",t[t.UINT168_ARRAY=118]="UINT168_ARRAY",t[t.UINT176_ARRAY=119]="UINT176_ARRAY",t[t.UINT184_ARRAY=120]="UINT184_ARRAY",t[t.UINT192_ARRAY=121]="UINT192_ARRAY",t[t.UINT200_ARRAY=122]="UINT200_ARRAY",t[t.UINT208_ARRAY=123]="UINT208_ARRAY",t[t.UINT216_ARRAY=124]="UINT216_ARRAY",t[t.UINT224_ARRAY=125]="UINT224_ARRAY",t[t.UINT232_ARRAY=126]="UINT232_ARRAY",t[t.UINT240_ARRAY=127]="UINT240_ARRAY",t[t.UINT248_ARRAY=128]="UINT248_ARRAY",t[t.UINT256_ARRAY=129]="UINT256_ARRAY",t[t.INT8_ARRAY=130]="INT8_ARRAY",t[t.INT16_ARRAY=131]="INT16_ARRAY",t[t.INT24_ARRAY=132]="INT24_ARRAY",t[t.INT32_ARRAY=133]="INT32_ARRAY",t[t.INT40_ARRAY=134]="INT40_ARRAY",t[t.INT48_ARRAY=135]="INT48_ARRAY",t[t.INT56_ARRAY=136]="INT56_ARRAY",t[t.INT64_ARRAY=137]="INT64_ARRAY",t[t.INT72_ARRAY=138]="INT72_ARRAY",t[t.INT80_ARRAY=139]="INT80_ARRAY",t[t.INT88_ARRAY=140]="INT88_ARRAY",t[t.INT96_ARRAY=141]="INT96_ARRAY",t[t.INT104_ARRAY=142]="INT104_ARRAY",t[t.INT112_ARRAY=143]="INT112_ARRAY",t[t.INT120_ARRAY=144]="INT120_ARRAY",t[t.INT128_ARRAY=145]="INT128_ARRAY",t[t.INT136_ARRAY=146]="INT136_ARRAY",t[t.INT144_ARRAY=147]="INT144_ARRAY",t[t.INT152_ARRAY=148]="INT152_ARRAY",t[t.INT160_ARRAY=149]="INT160_ARRAY",t[t.INT168_ARRAY=150]="INT168_ARRAY",t[t.INT176_ARRAY=151]="INT176_ARRAY",t[t.INT184_ARRAY=152]="INT184_ARRAY",t[t.INT192_ARRAY=153]="INT192_ARRAY",t[t.INT200_ARRAY=154]="INT200_ARRAY",t[t.INT208_ARRAY=155]="INT208_ARRAY",t[t.INT216_ARRAY=156]="INT216_ARRAY",t[t.INT224_ARRAY=157]="INT224_ARRAY",t[t.INT232_ARRAY=158]="INT232_ARRAY",t[t.INT240_ARRAY=159]="INT240_ARRAY",t[t.INT248_ARRAY=160]="INT248_ARRAY",t[t.INT256_ARRAY=161]="INT256_ARRAY",t[t.BYTES1_ARRAY=162]="BYTES1_ARRAY",t[t.BYTES2_ARRAY=163]="BYTES2_ARRAY",t[t.BYTES3_ARRAY=164]="BYTES3_ARRAY",t[t.BYTES4_ARRAY=165]="BYTES4_ARRAY",t[t.BYTES5_ARRAY=166]="BYTES5_ARRAY",t[t.BYTES6_ARRAY=167]="BYTES6_ARRAY",t[t.BYTES7_ARRAY=168]="BYTES7_ARRAY",t[t.BYTES8_ARRAY=169]="BYTES8_ARRAY",t[t.BYTES9_ARRAY=170]="BYTES9_ARRAY",t[t.BYTES10_ARRAY=171]="BYTES10_ARRAY",t[t.BYTES11_ARRAY=172]="BYTES11_ARRAY",t[t.BYTES12_ARRAY=173]="BYTES12_ARRAY",t[t.BYTES13_ARRAY=174]="BYTES13_ARRAY",t[t.BYTES14_ARRAY=175]="BYTES14_ARRAY",t[t.BYTES15_ARRAY=176]="BYTES15_ARRAY",t[t.BYTES16_ARRAY=177]="BYTES16_ARRAY",t[t.BYTES17_ARRAY=178]="BYTES17_ARRAY",t[t.BYTES18_ARRAY=179]="BYTES18_ARRAY",t[t.BYTES19_ARRAY=180]="BYTES19_ARRAY",t[t.BYTES20_ARRAY=181]="BYTES20_ARRAY",t[t.BYTES21_ARRAY=182]="BYTES21_ARRAY",t[t.BYTES22_ARRAY=183]="BYTES22_ARRAY",t[t.BYTES23_ARRAY=184]="BYTES23_ARRAY",t[t.BYTES24_ARRAY=185]="BYTES24_ARRAY",t[t.BYTES25_ARRAY=186]="BYTES25_ARRAY",t[t.BYTES26_ARRAY=187]="BYTES26_ARRAY",t[t.BYTES27_ARRAY=188]="BYTES27_ARRAY",t[t.BYTES28_ARRAY=189]="BYTES28_ARRAY",t[t.BYTES29_ARRAY=190]="BYTES29_ARRAY",t[t.BYTES30_ARRAY=191]="BYTES30_ARRAY",t[t.BYTES31_ARRAY=192]="BYTES31_ARRAY",t[t.BYTES32_ARRAY=193]="BYTES32_ARRAY",t[t.BOOL_ARRAY=194]="BOOL_ARRAY",t[t.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",t[t.BYTES=196]="BYTES",t[t.STRING=197]="STRING",t))(cWe||{}),bee={0:"uint8",1:"uint16",2:"uint24",3:"uint32",4:"uint40",5:"uint48",6:"uint56",7:"uint64",8:"uint72",9:"uint80",10:"uint88",11:"uint96",12:"uint104",13:"uint112",14:"uint120",15:"uint128",16:"uint136",17:"uint144",18:"uint152",19:"uint160",20:"uint168",21:"uint176",22:"uint184",23:"uint192",24:"uint200",25:"uint208",26:"uint216",27:"uint224",28:"uint232",29:"uint240",30:"uint248",31:"uint256",32:"int8",33:"int16",34:"int24",35:"int32",36:"int40",37:"int48",38:"int56",39:"int64",40:"int72",41:"int80",42:"int88",43:"int96",44:"int104",45:"int112",46:"int120",47:"int128",48:"int136",49:"int144",50:"int152",51:"int160",52:"int168",53:"int176",54:"int184",55:"int192",56:"int200",57:"int208",58:"int216",59:"int224",60:"int232",61:"int240",62:"int248",63:"int256",64:"bytes1",65:"bytes2",66:"bytes3",67:"bytes4",68:"bytes5",69:"bytes6",70:"bytes7",71:"bytes8",72:"bytes9",73:"bytes10",74:"bytes11",75:"bytes12",76:"bytes13",77:"bytes14",78:"bytes15",79:"bytes16",80:"bytes17",81:"bytes18",82:"bytes19",83:"bytes20",84:"bytes21",85:"bytes22",86:"bytes23",87:"bytes24",88:"bytes25",89:"bytes26",90:"bytes27",91:"bytes28",92:"bytes29",93:"bytes30",94:"bytes31",95:"bytes32",96:"bool",97:"address",98:"uint8[]",99:"uint16[]",100:"uint24[]",101:"uint32[]",102:"uint40[]",103:"uint48[]",104:"uint56[]",105:"uint64[]",106:"uint72[]",107:"uint80[]",108:"uint88[]",109:"uint96[]",110:"uint104[]",111:"uint112[]",112:"uint120[]",113:"uint128[]",114:"uint136[]",115:"uint144[]",116:"uint152[]",117:"uint160[]",118:"uint168[]",119:"uint176[]",120:"uint184[]",121:"uint192[]",122:"uint200[]",123:"uint208[]",124:"uint216[]",125:"uint224[]",126:"uint232[]",127:"uint240[]",128:"uint248[]",129:"uint256[]",130:"int8[]",131:"int16[]",132:"int24[]",133:"int32[]",134:"int40[]",135:"int48[]",136:"int56[]",137:"int64[]",138:"int72[]",139:"int80[]",140:"int88[]",141:"int96[]",142:"int104[]",143:"int112[]",144:"int120[]",145:"int128[]",146:"int136[]",147:"int144[]",148:"int152[]",149:"int160[]",150:"int168[]",151:"int176[]",152:"int184[]",153:"int192[]",154:"int200[]",155:"int208[]",156:"int216[]",157:"int224[]",158:"int232[]",159:"int240[]",160:"int248[]",161:"int256[]",162:"bytes1[]",163:"bytes2[]",164:"bytes3[]",165:"bytes4[]",166:"bytes5[]",167:"bytes6[]",168:"bytes7[]",169:"bytes8[]",170:"bytes9[]",171:"bytes10[]",172:"bytes11[]",173:"bytes12[]",174:"bytes13[]",175:"bytes14[]",176:"bytes15[]",177:"bytes16[]",178:"bytes17[]",179:"bytes18[]",180:"bytes19[]",181:"bytes20[]",182:"bytes21[]",183:"bytes22[]",184:"bytes23[]",185:"bytes24[]",186:"bytes25[]",187:"bytes26[]",188:"bytes27[]",189:"bytes28[]",190:"bytes29[]",191:"bytes30[]",192:"bytes31[]",193:"bytes32[]",194:"bool[]",195:"address[]",196:"bytes",197:"string"},xee=Object.values(bee),fWe=Object.fromEntries(Object.entries(bee).map(([t,e])=>[e,parseInt(t)]));function dWe(t){let e=t.valueOf();return e<32?e+1:e<64?e+1-32:e<96?e+1-64:t==96?1:t==97?20:0}var hWe=xee.filter(t=>dWe(fWe[t])>0),r8=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"];r8.slice(0,98);r8.slice(98);var _b={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},n8={namespace:"",enums:{},userTypes:{}},Ep={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},pWe=f0,mWe=pee,gWe=pee,vWe=f0,yWe=f0,i8=X.string(),bWe=X.string(),xWe=X.record(mWe,bWe).default(Ep.keySchema),wee=X.record(gWe,i8).refine(t=>Object.keys(t).length>0,"Table schema may not be empty"),wWe=i8.transform(t=>wee.parse({value:t})),EWe=wee.or(wWe),Eee=X.object({directory:X.string().default(Ep.directory),name:mee.optional(),tableIdArgument:X.boolean().default(Ep.tableIdArgument),storeArgument:X.boolean().default(Ep.storeArgument),dataStruct:X.boolean().optional(),keySchema:xWe,valueSchema:EWe,offchainOnly:X.boolean().default(Ep.offchainOnly)}).transform(t=>(Object.keys(t.valueSchema).length===1?t.dataStruct??=!1:t.dataStruct??=!0,t)),SWe=i8.transform(t=>Eee.parse({valueSchema:{value:t}})),TWe=Eee.or(SWe),AWe=X.record(pWe,TWe).transform(t=>{for(let e of Object.keys(t)){let r=t[e];r.name=e.slice(0,zHe),t[e]=r}return t}),RWe=X.object({enums:X.record(vWe,JHe).default(n8.enums)}),_We=X.object({filePath:X.string(),internalType:X.enum(r8)}),IWe=X.object({userTypes:X.record(yWe,_We).default(n8.userTypes)}),See=X.object({namespace:XHe.default(n8.namespace),storeImportPath:X.string().default(_b.storeImportPath),tables:AWe,userTypesFilename:X.string().default(_b.userTypesFilename),codegenDirectory:X.string().default(_b.codegenDirectory),codegenIndexFilename:X.string().default(_b.codegenIndexFilename)}).merge(RWe).merge(IWe);See.superRefine(Tee);var CWe=See.catchall(X.any()).superRefine(Tee);function Tee(t,e){for(let u of Object.values(t.tables)){let c=Object.keys(u.keySchema),f=Object.keys(u.valueSchema),d=P1([...c,...f]);d.length>0&&e.addIssue({code:re.custom,message:`Field and key names within one table must be unique: ${d.join(", ")}`})}let r=Object.keys(t.tables),n=[...Object.keys(t.enums),...Object.keys(t.userTypes)],i=n,a=[...r,...i],s=P1(a);s.length>0&&e.addIssue({code:re.custom,message:`Table library names, enum names, user type names must be globally unique: ${s.join(", ")}`});let o=Object.values(t.tables).map(({name:u})=>u),l=P1(o);l.length>0&&e.addIssue({code:re.custom,message:`Table names must be unique: ${l.join(", ")}`});for(let u of Object.values(t.tables)){for(let c of Object.values(u.keySchema))Aee(n,c,e);for(let c of Object.values(u.valueSchema))PWe(i,n,c,e)}}function PWe(t,e,r,n){if(!xee.includes(r)&&!t.includes(r)){let i=ZHe(r);i?kWe(e,i.elementType,i.staticLength,n):n.addIssue({code:re.custom,message:`${r} is not a valid abi type, and is not defined in userTypes`})}}function Aee(t,e,r){!hWe.includes(e)&&!t.includes(e)&&r.addIssue({code:re.custom,message:`${e} is not a static type`})}function kWe(t,e,r,n){Aee(t,e,n),r===0?n.addIssue({code:re.custom,message:"Static array length must not be 0"}):r>=2**16&&n.addIssue({code:re.custom,message:"Static array length must be less than 2**16"})}Fg.isCreated()||Fg.createContext();vee(t=>{try{return CWe.parse(t)}catch(e){throw e instanceof ui?hee(e,"StoreConfig Validation Error"):e}});function OWe(t){return tWe(t)}vee(t=>{try{return uWe.parse(t)}catch(e){throw e instanceof ui?hee(e,"WorldConfig Validation Error"):e}});const Ew=OWe({enums:{ImageEncodingFormat:["Jpeg","Png","Svg"],ModelEncodingFormat:["Glb","Usdz"],AudioEncodingFormat:["Mpeg","Mp4","Mp3"],VideoEncodingFormat:["Mpeg","Mp4"]},userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},modules:[{name:"UniqueEntityModule",root:!0}],tables:{PCOOwnership:{directory:"../modules/pcoownership/tables",keySchema:{namespaceId:"ResourceId"},valueSchema:{exists:"bool",parcelId:"uint256"},tableIdArgument:!0,storeArgument:!0},Augments:{directory:"../modules/augmentinstallation/tables",keySchema:{augmentAddress:"address",argumentsHash:"bytes32"},valueSchema:{augmentMetadataURI:"string"},tableIdArgument:!0,storeArgument:!0},NameCom:{valueSchema:"string",tableIdArgument:!0,storeArgument:!0},ModelCom:{valueSchema:{encodingFormat:"ModelEncodingFormat",contentURI:"string"},tableIdArgument:!0,storeArgument:!0},ImageCom:{valueSchema:{encodingFormat:"ImageEncodingFormat",physicalWidthInMillimeters:"uint16",contentURI:"string"},tableIdArgument:!0,storeArgument:!0},PositionCom:{valueSchema:{h:"int32",geohash:"string"},tableIdArgument:!0,storeArgument:!0},OrientationCom:{valueSchema:{x:"int16",y:"int16",z:"int16",w:"int16"},tableIdArgument:!0,storeArgument:!0},ScaleCom:{valueSchema:{x:"int16",y:"int16",z:"int16"},tableIdArgument:!0,storeArgument:!0}}});X.object({chainId:X.number(),address:X.string().refine(Vi).optional(),filters:X.array(X.object({tableId:X.string().refine(Vi),key0:X.string().refine(Vi).optional(),key1:X.string().refine(Vi).optional()})).default([])});function Ree(t){const e=Object.create(null);for(const r in t){const n=t[r];e[n]=r}return e}const _ee={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};Ree(_ee);Ree(_ee);const Iee=()=>{};function Cee(t,e){return new Proxy(Iee,{get(n,i){if(!(typeof i!="string"||i==="then"))return Cee(t,[...e,i])},apply(n,i,a){const s=e[e.length-1]==="apply";return t({args:s?a.length>=2?a[1]:[]:a,path:s?e.slice(0,-1):e})}})}const NWe=t=>Cee(t,[]),LWe=t=>new Proxy(Iee,{get(e,r){if(!(typeof r!="string"||r==="then"))return t(r)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DWe=function(){function t(){this.keyToValue=new Map,this.valueToKey=new Map}return t.prototype.set=function(e,r){this.keyToValue.set(e,r),this.valueToKey.set(r,e)},t.prototype.getByKey=function(e){return this.keyToValue.get(e)},t.prototype.getByValue=function(e){return this.valueToKey.get(e)},t.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},t}(),Pee=function(){function t(e){this.generateIdentifier=e,this.kv=new DWe}return t.prototype.register=function(e,r){this.kv.getByValue(e)||(r||(r=this.generateIdentifier(e)),this.kv.set(r,e))},t.prototype.clear=function(){this.kv.clear()},t.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},t.prototype.getValue=function(e){return this.kv.getByKey(e)},t}(),MWe=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$We=function(t){MWe(e,t);function e(){var r=t.call(this,function(n){return n.name})||this;return r.classToAllowedProps=new Map,r}return e.prototype.register=function(r,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(r,n.allowProps),t.prototype.register.call(this,r,n.identifier)):t.prototype.register.call(this,r,n)},e.prototype.getAllowedProps=function(r){return this.classToAllowedProps.get(r)},e}(Pee),FWe=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a};function BWe(t){if("values"in Object)return Object.values(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}function UWe(t,e){var r=BWe(t);if("find"in r)return r.find(e);for(var n=r,i=0;i<n.length;i++){var a=n[i];if(e(a))return a}}function $h(t,e){Object.entries(t).forEach(function(r){var n=FWe(r,2),i=n[0],a=n[1];return e(a,i)})}function k1(t,e){return t.indexOf(e)!==-1}function jB(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(e(n))return n}}var jWe=function(){function t(){this.transfomers={}}return t.prototype.register=function(e){this.transfomers[e.name]=e},t.prototype.findApplicable=function(e){return UWe(this.transfomers,function(r){return r.isApplicable(e)})},t.prototype.findByName=function(e){return this.transfomers[e]},t}(),zWe=function(t){return Object.prototype.toString.call(t).slice(8,-1)},kee=function(t){return typeof t>"u"},VWe=function(t){return t===null},Bg=function(t){return typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype},Q3=function(t){return Bg(t)&&Object.keys(t).length===0},Su=function(t){return Array.isArray(t)},YWe=function(t){return typeof t=="string"},GWe=function(t){return typeof t=="number"&&!isNaN(t)},HWe=function(t){return typeof t=="boolean"},WWe=function(t){return t instanceof RegExp},Ug=function(t){return t instanceof Map},jg=function(t){return t instanceof Set},Oee=function(t){return zWe(t)==="Symbol"},qWe=function(t){return t instanceof Date&&!isNaN(t.valueOf())},KWe=function(t){return t instanceof Error},zB=function(t){return typeof t=="number"&&isNaN(t)},QWe=function(t){return HWe(t)||VWe(t)||kee(t)||GWe(t)||YWe(t)||Oee(t)},ZWe=function(t){return typeof t=="bigint"},XWe=function(t){return t===1/0||t===-1/0},JWe=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},eqe=function(t){return t instanceof URL},Nee=function(t){return t.replace(/\./g,"\\.")},OR=function(t){return t.map(String).map(Nee).join(".")},am=function(t){for(var e=[],r="",n=0;n<t.length;n++){var i=t.charAt(n),a=i==="\\"&&t.charAt(n+1)===".";if(a){r+=".",n++;continue}var s=i===".";if(s){e.push(r),r="";continue}r+=i}var o=r;return e.push(o),e},Z3=globalThis&&globalThis.__assign||function(){return Z3=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Z3.apply(this,arguments)},X3=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},J3=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};function ps(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var Lee=[ps(kee,"undefined",function(){return null},function(){}),ps(ZWe,"bigint",function(t){return t.toString()},function(t){return typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)}),ps(qWe,"Date",function(t){return t.toISOString()},function(t){return new Date(t)}),ps(KWe,"Error",function(t,e){var r={name:t.name,message:t.message};return e.allowedErrorProps.forEach(function(n){r[n]=t[n]}),r},function(t,e){var r=new Error(t.message);return r.name=t.name,r.stack=t.stack,e.allowedErrorProps.forEach(function(n){r[n]=t[n]}),r}),ps(WWe,"regexp",function(t){return""+t},function(t){var e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}),ps(jg,"set",function(t){return J3([],X3(t.values()))},function(t){return new Set(t)}),ps(Ug,"map",function(t){return J3([],X3(t.entries()))},function(t){return new Map(t)}),ps(function(t){return zB(t)||XWe(t)},"number",function(t){return zB(t)?"NaN":t>0?"Infinity":"-Infinity"},Number),ps(function(t){return t===0&&1/t===-1/0},"number",function(){return"-0"},Number),ps(eqe,"URL",function(t){return t.toString()},function(t){return new URL(t)})];function TE(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var Dee=TE(function(t,e){if(Oee(t)){var r=!!e.symbolRegistry.getIdentifier(t);return r}return!1},function(t,e){var r=e.symbolRegistry.getIdentifier(t);return["symbol",r]},function(t){return t.description},function(t,e,r){var n=r.symbolRegistry.getValue(e[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),tqe=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(t,e){return t[e.name]=e,t},{}),Mee=TE(JWe,function(t){return["typed-array",t.constructor.name]},function(t){return J3([],X3(t))},function(t,e){var r=tqe[e[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(t)});function $ee(t,e){if(t?.constructor){var r=!!e.classRegistry.getIdentifier(t.constructor);return r}return!1}var Fee=TE($ee,function(t,e){var r=e.classRegistry.getIdentifier(t.constructor);return["class",r]},function(t,e){var r=e.classRegistry.getAllowedProps(t.constructor);if(!r)return Z3({},t);var n={};return r.forEach(function(i){n[i]=t[i]}),n},function(t,e,r){var n=r.classRegistry.getValue(e[1]);if(!n)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),t)}),Bee=TE(function(t,e){return!!e.customTransformerRegistry.findApplicable(t)},function(t,e){var r=e.customTransformerRegistry.findApplicable(t);return["custom",r.name]},function(t,e){var r=e.customTransformerRegistry.findApplicable(t);return r.serialize(t)},function(t,e,r){var n=r.customTransformerRegistry.findByName(e[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(t)}),rqe=[Fee,Dee,Bee,Mee],VB=function(t,e){var r=jB(rqe,function(i){return i.isApplicable(t,e)});if(r)return{value:r.transform(t,e),type:r.annotation(t,e)};var n=jB(Lee,function(i){return i.isApplicable(t,e)});if(n)return{value:n.transform(t,e),type:n.annotation}},Uee={};Lee.forEach(function(t){Uee[t.annotation]=t});var nqe=function(t,e,r){if(Su(e))switch(e[0]){case"symbol":return Dee.untransform(t,e,r);case"class":return Fee.untransform(t,e,r);case"custom":return Bee.untransform(t,e,r);case"typed-array":return Mee.untransform(t,e,r);default:throw new Error("Unknown transformation: "+e)}else{var n=Uee[e];if(!n)throw new Error("Unknown transformation: "+e);return n.untransform(t,r)}},Ed=function(t,e){for(var r=t.keys();e>0;)r.next(),e--;return r.next().value};function jee(t){if(k1(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(k1(t,"prototype"))throw new Error("prototype is not allowed as a property");if(k1(t,"constructor"))throw new Error("constructor is not allowed as a property")}var iqe=function(t,e){jee(e);for(var r=0;r<e.length;r++){var n=e[r];if(jg(t))t=Ed(t,+n);else if(Ug(t)){var i=+n,a=+e[++r]==0?"key":"value",s=Ed(t,i);switch(a){case"key":t=s;break;case"value":t=t.get(s);break}}else t=t[n]}return t},eC=function(t,e,r){if(jee(e),e.length===0)return r(t);for(var n=t,i=0;i<e.length-1;i++){var a=e[i];if(Su(n)){var s=+a;n=n[s]}else if(Bg(n))n=n[a];else if(jg(n)){var o=+a;n=Ed(n,o)}else if(Ug(n)){var l=i===e.length-2;if(l)break;var o=+a,u=+e[++i]==0?"key":"value",c=Ed(n,o);switch(u){case"key":n=c;break;case"value":n=n.get(c);break}}}var f=e[e.length-1];if(Su(n)?n[+f]=r(n[+f]):Bg(n)&&(n[f]=r(n[f])),jg(n)){var d=Ed(n,+f),h=r(d);d!==h&&(n.delete(d),n.add(h))}if(Ug(n)){var o=+e[e.length-2],p=Ed(n,o),u=+f==0?"key":"value";switch(u){case"key":{var m=r(p);n.set(m,n.get(p)),m!==p&&n.delete(p);break}case"value":{n.set(p,r(n.get(p)));break}}}return t},bo=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},Vl=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};function tC(t,e,r){if(r===void 0&&(r=[]),!!t){if(!Su(t)){$h(t,function(s,o){return tC(s,e,Vl(Vl([],bo(r)),bo(am(o))))});return}var n=bo(t,2),i=n[0],a=n[1];a&&$h(a,function(s,o){tC(s,e,Vl(Vl([],bo(r)),bo(am(o))))}),e(i,r)}}function aqe(t,e,r){return tC(e,function(n,i){t=eC(t,i,function(a){return nqe(a,n,r)})}),t}function sqe(t,e){function r(s,o){var l=iqe(t,am(o));s.map(am).forEach(function(u){t=eC(t,u,function(){return l})})}if(Su(e)){var n=bo(e,2),i=n[0],a=n[1];i.forEach(function(s){t=eC(t,am(s),function(){return t})}),a&&$h(a,r)}else $h(e,r);return t}var oqe=function(t,e){return Bg(t)||Su(t)||Ug(t)||jg(t)||$ee(t,e)};function lqe(t,e,r){var n=r.get(t);n?n.push(e):r.set(t,[e])}function uqe(t){var e={},r=void 0;return t.forEach(function(n){if(!(n.length<=1)){var i=bo(n.map(function(o){return o.map(String)}).sort(function(o,l){return o.length-l.length})),a=i[0],s=i.slice(1);a.length===0?r=s.map(OR):e[OR(a)]=s.map(OR)}}),r?Q3(e)?[r]:[r,e]:Q3(e)?void 0:e}var zee=function(t,e,r,n,i,a,s){var o;i===void 0&&(i=[]),a===void 0&&(a=[]),s===void 0&&(s=new Map);var l=QWe(t);if(!l){lqe(t,i,e);var u=s.get(t);if(u)return n?{transformedValue:null}:u}if(!oqe(t,r)){var c=VB(t,r),f=c?{transformedValue:c.value,annotations:[c.type]}:{transformedValue:t};return l||s.set(t,f),f}if(k1(a,t))return{transformedValue:null};var d=VB(t,r),h=(o=d?.value)!==null&&o!==void 0?o:t,p=Su(h)?[]:{},m={};$h(h,function(v,b){var w=zee(v,e,r,n,Vl(Vl([],bo(i)),[b]),Vl(Vl([],bo(a)),[t]),s);p[b]=w.transformedValue,Su(w.annotations)?m[b]=w.annotations:Bg(w.annotations)&&$h(w.annotations,function(E,R){m[Nee(b)+"."+R]=E})});var g=Q3(m)?{transformedValue:p,annotations:d?[d.type]:void 0}:{transformedValue:p,annotations:d?[d.type,m]:m};return l||s.set(t,g),g};function Vee(t){return Object.prototype.toString.call(t).slice(8,-1)}function cqe(t){if(Vee(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function YB(t){return Vee(t)==="Array"}function fqe(t,e,r,n,i){const a={}.propertyIsEnumerable.call(n,e)?"enumerable":"nonenumerable";a==="enumerable"&&(t[e]=r),i&&a==="nonenumerable"&&Object.defineProperty(t,e,{value:r,enumerable:!1,writable:!0,configurable:!0})}function rC(t,e={}){if(YB(t))return t.map(i=>rC(i,e));if(!cqe(t))return t;const r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertySymbols(t);return[...r,...n].reduce((i,a)=>{if(YB(e.props)&&!e.props.includes(a))return i;const s=t[a],o=rC(s,e);return fqe(i,a,o,t,e.nonenumerable),i},{})}var Ju=globalThis&&globalThis.__assign||function(){return Ju=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ju.apply(this,arguments)},dqe=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},hqe=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},ul=function(){function t(e){var r=e===void 0?{}:e,n=r.dedupe,i=n===void 0?!1:n;this.classRegistry=new $We,this.symbolRegistry=new Pee(function(a){var s;return(s=a.description)!==null&&s!==void 0?s:""}),this.customTransformerRegistry=new jWe,this.allowedErrorProps=[],this.dedupe=i}return t.prototype.serialize=function(e){var r=new Map,n=zee(e,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta=Ju(Ju({},i.meta),{values:n.annotations}));var a=uqe(r);return a&&(i.meta=Ju(Ju({},i.meta),{referentialEqualities:a})),i},t.prototype.deserialize=function(e){var r=e.json,n=e.meta,i=rC(r);return n?.values&&(i=aqe(i,n.values,this)),n?.referentialEqualities&&(i=sqe(i,n.referentialEqualities)),i},t.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},t.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},t.prototype.registerClass=function(e,r){this.classRegistry.register(e,r)},t.prototype.registerSymbol=function(e,r){this.symbolRegistry.register(e,r)},t.prototype.registerCustom=function(e,r){this.customTransformerRegistry.register(Ju({name:r},e))},t.prototype.allowErrorProps=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(e=this.allowedErrorProps).push.apply(e,hqe([],dqe(r)))},t.defaultInstance=new t,t.serialize=t.defaultInstance.serialize.bind(t.defaultInstance),t.deserialize=t.defaultInstance.deserialize.bind(t.defaultInstance),t.stringify=t.defaultInstance.stringify.bind(t.defaultInstance),t.parse=t.defaultInstance.parse.bind(t.defaultInstance),t.registerClass=t.defaultInstance.registerClass.bind(t.defaultInstance),t.registerSymbol=t.defaultInstance.registerSymbol.bind(t.defaultInstance),t.registerCustom=t.defaultInstance.registerCustom.bind(t.defaultInstance),t.allowErrorProps=t.defaultInstance.allowErrorProps.bind(t.defaultInstance),t}();ul.serialize;ul.deserialize;ul.stringify;ul.parse;ul.registerClass;ul.registerCustom;ul.registerSymbol;ul.allowErrorProps;function pqe(t){return t}function mqe(t){return t.length===0?pqe:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}function Yee(t){const e={subscribe(r){let n=null,i=!1,a=!1,s=!1;function o(){if(n===null){s=!0;return}a||(a=!0,typeof n=="function"?n():n&&n.unsubscribe())}return n=t({next(l){i||r.next?.(l)},error(l){i||(i=!0,r.error?.(l),o())},complete(){i||(i=!0,r.complete?.(),o())}}),s&&o(),{unsubscribe:o}},pipe(...r){return mqe(r)(e)}};return e}function gqe(t){return e=>{let r=0,n=null;const i=[];function a(){n||(n=e.subscribe({next(o){for(const l of i)l.next?.(o)},error(o){for(const l of i)l.error?.(o)},complete(){for(const o of i)o.complete?.()}}))}function s(){if(r===0&&n){const o=n;n=null,o.unsubscribe()}}return{subscribe(o){return r++,i.push(o),a(),{unsubscribe(){r--,s();const l=i.findIndex(u=>u===o);l>-1&&i.splice(l,1)}}}}}}class a8 extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,a8.prototype)}}function vqe(t){let e;return{promise:new Promise((n,i)=>{let a=!1;function s(){a||(a=!0,i(new a8("This operation was aborted.")),o.unsubscribe())}const o=t.subscribe({next(l){a=!0,n(l),s()},error(l){a=!0,i(l),s()},complete(){a=!0,s()}});e=s}),abort:e}}function yqe(t){return Yee(e=>{function r(i=0,a=t.op){const s=t.links[i];if(!s)throw new Error("No more links to execute - did you forget to add an ending link?");return s({op:a,next(l){return r(i+1,l)}})}return r().subscribe(e)})}function bqe(t){return t instanceof $s||t.name==="TRPCClientError"}class $s extends Error{static from(e,r={}){return e instanceof Error?bqe(e)?(r.meta&&(e.meta={...e.meta,...r.meta}),e):new $s(e.message,{...r,cause:e,result:null}):new $s(e.error.message??"",{...r,cause:void 0,result:e})}constructor(e,r){const n=r?.cause;super(e,{cause:n}),this.meta=r?.meta,this.cause=n,this.shape=r?.result?.error,this.data=r?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,$s.prototype)}}const GB=t=>typeof t=="function";function xqe(t){if(t)return t;if(typeof window<"u"&&GB(window.fetch))return window.fetch;if(typeof globalThis<"u"&&GB(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function wqe(t){return t||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function Eqe(t){return{url:t.url,fetch:t.fetch,AbortController:wqe(t.AbortController)}}function Sqe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[r]=n}return e}const Tqe={query:"GET",mutation:"POST"};function Gee(t){return"input"in t?t.runtime.transformer.serialize(t.input):Sqe(t.inputs.map(e=>t.runtime.transformer.serialize(e)))}const Hee=t=>{let e=t.url+"/"+t.path;const r=[];if("inputs"in t&&r.push("batch=1"),t.type==="query"){const n=Gee(t);n!==void 0&&r.push(`input=${encodeURIComponent(JSON.stringify(n))}`)}return r.length&&(e+="?"+r.join("&")),e},Aqe=t=>{if(t.type==="query")return;const e=Gee(t);return e!==void 0?JSON.stringify(e):void 0},Rqe=t=>Iqe({...t,contentTypeHeader:"application/json",getUrl:Hee,getBody:Aqe});async function _qe(t,e){const r=t.getUrl(t),n=t.getBody(t),{type:i}=t,a=await t.headers();/* istanbul ignore if -- @preserve */if(i==="subscription")throw new Error("Subscriptions should use wsLink");const s={...t.contentTypeHeader?{"content-type":t.contentTypeHeader}:{},...t.batchModeHeader?{"trpc-batch-mode":t.batchModeHeader}:{},...a};return xqe(t.fetch)(r,{method:Tqe[i],signal:e?.signal,body:n,headers:s})}function Iqe(t){const e=t.AbortController?new t.AbortController:null,r={};return{promise:new Promise((a,s)=>{_qe(t,e).then(o=>(r.response=o,o.json())).then(o=>{r.responseJSON=o,a({json:o,meta:r})}).catch(o=>{s($s.from(o,{meta:r}))})}),cancel:()=>{e?.abort()}}}function HB(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}function Cqe(t,e){if("error"in t){const n=e.transformer.deserialize(t.error);return{ok:!1,error:{...t,error:n}}}return{ok:!0,result:{...t.result,...(!t.result.type||t.result.type==="data")&&{type:"data",data:e.transformer.deserialize(t.result.data)}}}}class NR extends Error{constructor(){super("Unable to transform response from server")}}function Pqe(t,e){let r;try{r=Cqe(t,e)}catch{throw new NR}if(!r.ok&&(!HB(r.error.error)||typeof r.error.error.code!="number"))throw new NR;if(r.ok&&!HB(r.result))throw new NR;return r}const LR=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function DR(t){let e=null,r=null;const n=()=>{clearTimeout(r),r=null,e=null};function i(o){const l=[[]];let u=0;for(;;){const c=o[u];if(!c)break;const f=l[l.length-1];if(c.aborted){c.reject?.(new Error("Aborted")),u++;continue}if(t.validate(f.concat(c).map(h=>h.key))){f.push(c),u++;continue}if(f.length===0){c.reject?.(new Error("Input is too big for a single dispatch")),u++;continue}l.push([])}return l}function a(){const o=i(e);n();for(const l of o){if(!l.length)continue;const u={items:l,cancel:LR};for(const h of l)h.batch=u;const c=(h,p)=>{const m=u.items[h];m.resolve?.(p),m.batch=null,m.reject=null,m.resolve=null},{promise:f,cancel:d}=t.fetch(u.items.map(h=>h.key),c);u.cancel=d,f.then(h=>{for(let p=0;p<h.length;p++){const m=h[p];c(p,m)}for(const p of u.items)p.reject?.(new Error("Missing result")),p.batch=null}).catch(h=>{for(const p of u.items)p.reject?.(h),p.batch=null})}}function s(o){const l={aborted:!1,key:o,batch:null,resolve:LR,reject:LR},u=new Promise((f,d)=>{l.reject=d,l.resolve=f,e||(e=[]),e.push(l)});return r||(r=setTimeout(a)),{promise:u,cancel:()=>{l.aborted=!0,l.batch?.items.every(f=>f.aborted)&&(l.batch.cancel(),l.batch=null)}}}return{load:s}}function kqe(t){return function(r){const n=Eqe(r),i=r.maxURLLength??1/0;return a=>{const s=f=>{const d=p=>{if(i===1/0)return!0;const m=p.map(b=>b.path).join(","),g=p.map(b=>b.input);return Hee({...n,runtime:a,type:f,path:m,inputs:g}).length<=i},h=t({...n,runtime:a,type:f,opts:r});return{validate:d,fetch:h}},o=DR(s("query")),l=DR(s("mutation")),u=DR(s("subscription")),c={query:o,subscription:u,mutation:l};return({op:f})=>Yee(d=>{const h=c[f.type],{promise:p,cancel:m}=h.load(f);let g;return p.then(v=>{g=v;const b=Pqe(v.json,a);if(!b.ok){d.error($s.from(b.error,{meta:v.meta}));return}d.next({context:v.meta,result:b.result}),d.complete()}).catch(v=>{d.error($s.from(v,{meta:g?.meta}))}),()=>{m()}})}}}const Oqe=t=>e=>{const r=e.map(s=>s.path).join(","),n=e.map(s=>s.input),{promise:i,cancel:a}=Rqe({...t,path:r,inputs:n,headers(){return t.opts.headers?typeof t.opts.headers=="function"?t.opts.headers({opList:e}):t.opts.headers:{}}});return{promise:i.then(s=>(Array.isArray(s.json)?s.json:e.map(()=>s.json)).map(u=>({meta:s.meta,json:u}))),cancel:a}},Nqe=kqe(Oqe);class Lqe{$request({type:e,input:r,path:n,context:i={}}){return yqe({links:this.links,op:{id:++this.requestId,type:e,path:n,input:r,context:i}}).pipe(gqe())}requestAsPromise(e){const r=this.$request(e),{promise:n,abort:i}=vqe(r);return new Promise((s,o)=>{e.signal?.addEventListener("abort",i),n.then(l=>{s(l.result.data)}).catch(l=>{o($s.from(l))})})}query(e,r,n){return this.requestAsPromise({type:"query",path:e,input:r,context:n?.context,signal:n?.signal})}mutation(e,r,n){return this.requestAsPromise({type:"mutation",path:e,input:r,context:n?.context,signal:n?.signal})}subscription(e,r,n){return this.$request({type:"subscription",path:e,input:r,context:n?.context}).subscribe({next(a){a.result.type==="started"?n.onStarted?.():a.result.type==="stopped"?n.onStopped?.():n.onData?.(a.result.data)},error(a){n.onError?.(a)},complete(){n.onComplete?.()}})}constructor(e){this.requestId=0;const r=(()=>{const n=e.transformer;return n?"input"in n?e.transformer:{input:n,output:n}:{input:{serialize:i=>i,deserialize:i=>i},output:{serialize:i=>i,deserialize:i=>i}}})();this.runtime={transformer:{serialize:n=>r.input.serialize(n),deserialize:n=>r.output.deserialize(n)},combinedTransformer:r},this.links=e.links.map(n=>n(this.runtime))}}const Dqe={query:"query",mutate:"mutation",subscribe:"subscription"},Mqe=t=>Dqe[t];function $qe(t){return LWe(e=>t.hasOwnProperty(e)?t[e]:e==="__untypedClient"?t:NWe(({path:r,args:n})=>{const i=[e,...r],a=Mqe(i.pop()),s=i.join(".");return t[a](s,...n)}))}function Fqe(t){const e=new Lqe(t);return $qe(e)}function Bqe({url:t}){return Fqe({transformer:ul,links:[Nqe({url:t})]})}function Uqe({url:t}){return{getLogs:async e=>{try{let r=encodeURIComponent(JSON.stringify(e)),n=new URL(t).origin,i=await(await fetch(`${n}/api/logs?input=${r}`,{method:"GET"})).json();return jqe(i)?{ok:{...i,blockNumber:BigInt(i.blockNumber)}}:{error:i}}catch(r){return{error:r}}}}}function jqe(t){return t&&typeof t.blockNumber=="string"&&Array.isArray(t.logs)}var zqe=(t=>(t[t.UINT8=0]="UINT8",t[t.UINT16=1]="UINT16",t[t.UINT24=2]="UINT24",t[t.UINT32=3]="UINT32",t[t.UINT40=4]="UINT40",t[t.UINT48=5]="UINT48",t[t.UINT56=6]="UINT56",t[t.UINT64=7]="UINT64",t[t.UINT72=8]="UINT72",t[t.UINT80=9]="UINT80",t[t.UINT88=10]="UINT88",t[t.UINT96=11]="UINT96",t[t.UINT104=12]="UINT104",t[t.UINT112=13]="UINT112",t[t.UINT120=14]="UINT120",t[t.UINT128=15]="UINT128",t[t.UINT136=16]="UINT136",t[t.UINT144=17]="UINT144",t[t.UINT152=18]="UINT152",t[t.UINT160=19]="UINT160",t[t.UINT168=20]="UINT168",t[t.UINT176=21]="UINT176",t[t.UINT184=22]="UINT184",t[t.UINT192=23]="UINT192",t[t.UINT200=24]="UINT200",t[t.UINT208=25]="UINT208",t[t.UINT216=26]="UINT216",t[t.UINT224=27]="UINT224",t[t.UINT232=28]="UINT232",t[t.UINT240=29]="UINT240",t[t.UINT248=30]="UINT248",t[t.UINT256=31]="UINT256",t[t.INT8=32]="INT8",t[t.INT16=33]="INT16",t[t.INT24=34]="INT24",t[t.INT32=35]="INT32",t[t.INT40=36]="INT40",t[t.INT48=37]="INT48",t[t.INT56=38]="INT56",t[t.INT64=39]="INT64",t[t.INT72=40]="INT72",t[t.INT80=41]="INT80",t[t.INT88=42]="INT88",t[t.INT96=43]="INT96",t[t.INT104=44]="INT104",t[t.INT112=45]="INT112",t[t.INT120=46]="INT120",t[t.INT128=47]="INT128",t[t.INT136=48]="INT136",t[t.INT144=49]="INT144",t[t.INT152=50]="INT152",t[t.INT160=51]="INT160",t[t.INT168=52]="INT168",t[t.INT176=53]="INT176",t[t.INT184=54]="INT184",t[t.INT192=55]="INT192",t[t.INT200=56]="INT200",t[t.INT208=57]="INT208",t[t.INT216=58]="INT216",t[t.INT224=59]="INT224",t[t.INT232=60]="INT232",t[t.INT240=61]="INT240",t[t.INT248=62]="INT248",t[t.INT256=63]="INT256",t[t.BYTES1=64]="BYTES1",t[t.BYTES2=65]="BYTES2",t[t.BYTES3=66]="BYTES3",t[t.BYTES4=67]="BYTES4",t[t.BYTES5=68]="BYTES5",t[t.BYTES6=69]="BYTES6",t[t.BYTES7=70]="BYTES7",t[t.BYTES8=71]="BYTES8",t[t.BYTES9=72]="BYTES9",t[t.BYTES10=73]="BYTES10",t[t.BYTES11=74]="BYTES11",t[t.BYTES12=75]="BYTES12",t[t.BYTES13=76]="BYTES13",t[t.BYTES14=77]="BYTES14",t[t.BYTES15=78]="BYTES15",t[t.BYTES16=79]="BYTES16",t[t.BYTES17=80]="BYTES17",t[t.BYTES18=81]="BYTES18",t[t.BYTES19=82]="BYTES19",t[t.BYTES20=83]="BYTES20",t[t.BYTES21=84]="BYTES21",t[t.BYTES22=85]="BYTES22",t[t.BYTES23=86]="BYTES23",t[t.BYTES24=87]="BYTES24",t[t.BYTES25=88]="BYTES25",t[t.BYTES26=89]="BYTES26",t[t.BYTES27=90]="BYTES27",t[t.BYTES28=91]="BYTES28",t[t.BYTES29=92]="BYTES29",t[t.BYTES30=93]="BYTES30",t[t.BYTES31=94]="BYTES31",t[t.BYTES32=95]="BYTES32",t[t.BOOL=96]="BOOL",t[t.ADDRESS=97]="ADDRESS",t[t.UINT8_ARRAY=98]="UINT8_ARRAY",t[t.UINT16_ARRAY=99]="UINT16_ARRAY",t[t.UINT24_ARRAY=100]="UINT24_ARRAY",t[t.UINT32_ARRAY=101]="UINT32_ARRAY",t[t.UINT40_ARRAY=102]="UINT40_ARRAY",t[t.UINT48_ARRAY=103]="UINT48_ARRAY",t[t.UINT56_ARRAY=104]="UINT56_ARRAY",t[t.UINT64_ARRAY=105]="UINT64_ARRAY",t[t.UINT72_ARRAY=106]="UINT72_ARRAY",t[t.UINT80_ARRAY=107]="UINT80_ARRAY",t[t.UINT88_ARRAY=108]="UINT88_ARRAY",t[t.UINT96_ARRAY=109]="UINT96_ARRAY",t[t.UINT104_ARRAY=110]="UINT104_ARRAY",t[t.UINT112_ARRAY=111]="UINT112_ARRAY",t[t.UINT120_ARRAY=112]="UINT120_ARRAY",t[t.UINT128_ARRAY=113]="UINT128_ARRAY",t[t.UINT136_ARRAY=114]="UINT136_ARRAY",t[t.UINT144_ARRAY=115]="UINT144_ARRAY",t[t.UINT152_ARRAY=116]="UINT152_ARRAY",t[t.UINT160_ARRAY=117]="UINT160_ARRAY",t[t.UINT168_ARRAY=118]="UINT168_ARRAY",t[t.UINT176_ARRAY=119]="UINT176_ARRAY",t[t.UINT184_ARRAY=120]="UINT184_ARRAY",t[t.UINT192_ARRAY=121]="UINT192_ARRAY",t[t.UINT200_ARRAY=122]="UINT200_ARRAY",t[t.UINT208_ARRAY=123]="UINT208_ARRAY",t[t.UINT216_ARRAY=124]="UINT216_ARRAY",t[t.UINT224_ARRAY=125]="UINT224_ARRAY",t[t.UINT232_ARRAY=126]="UINT232_ARRAY",t[t.UINT240_ARRAY=127]="UINT240_ARRAY",t[t.UINT248_ARRAY=128]="UINT248_ARRAY",t[t.UINT256_ARRAY=129]="UINT256_ARRAY",t[t.INT8_ARRAY=130]="INT8_ARRAY",t[t.INT16_ARRAY=131]="INT16_ARRAY",t[t.INT24_ARRAY=132]="INT24_ARRAY",t[t.INT32_ARRAY=133]="INT32_ARRAY",t[t.INT40_ARRAY=134]="INT40_ARRAY",t[t.INT48_ARRAY=135]="INT48_ARRAY",t[t.INT56_ARRAY=136]="INT56_ARRAY",t[t.INT64_ARRAY=137]="INT64_ARRAY",t[t.INT72_ARRAY=138]="INT72_ARRAY",t[t.INT80_ARRAY=139]="INT80_ARRAY",t[t.INT88_ARRAY=140]="INT88_ARRAY",t[t.INT96_ARRAY=141]="INT96_ARRAY",t[t.INT104_ARRAY=142]="INT104_ARRAY",t[t.INT112_ARRAY=143]="INT112_ARRAY",t[t.INT120_ARRAY=144]="INT120_ARRAY",t[t.INT128_ARRAY=145]="INT128_ARRAY",t[t.INT136_ARRAY=146]="INT136_ARRAY",t[t.INT144_ARRAY=147]="INT144_ARRAY",t[t.INT152_ARRAY=148]="INT152_ARRAY",t[t.INT160_ARRAY=149]="INT160_ARRAY",t[t.INT168_ARRAY=150]="INT168_ARRAY",t[t.INT176_ARRAY=151]="INT176_ARRAY",t[t.INT184_ARRAY=152]="INT184_ARRAY",t[t.INT192_ARRAY=153]="INT192_ARRAY",t[t.INT200_ARRAY=154]="INT200_ARRAY",t[t.INT208_ARRAY=155]="INT208_ARRAY",t[t.INT216_ARRAY=156]="INT216_ARRAY",t[t.INT224_ARRAY=157]="INT224_ARRAY",t[t.INT232_ARRAY=158]="INT232_ARRAY",t[t.INT240_ARRAY=159]="INT240_ARRAY",t[t.INT248_ARRAY=160]="INT248_ARRAY",t[t.INT256_ARRAY=161]="INT256_ARRAY",t[t.BYTES1_ARRAY=162]="BYTES1_ARRAY",t[t.BYTES2_ARRAY=163]="BYTES2_ARRAY",t[t.BYTES3_ARRAY=164]="BYTES3_ARRAY",t[t.BYTES4_ARRAY=165]="BYTES4_ARRAY",t[t.BYTES5_ARRAY=166]="BYTES5_ARRAY",t[t.BYTES6_ARRAY=167]="BYTES6_ARRAY",t[t.BYTES7_ARRAY=168]="BYTES7_ARRAY",t[t.BYTES8_ARRAY=169]="BYTES8_ARRAY",t[t.BYTES9_ARRAY=170]="BYTES9_ARRAY",t[t.BYTES10_ARRAY=171]="BYTES10_ARRAY",t[t.BYTES11_ARRAY=172]="BYTES11_ARRAY",t[t.BYTES12_ARRAY=173]="BYTES12_ARRAY",t[t.BYTES13_ARRAY=174]="BYTES13_ARRAY",t[t.BYTES14_ARRAY=175]="BYTES14_ARRAY",t[t.BYTES15_ARRAY=176]="BYTES15_ARRAY",t[t.BYTES16_ARRAY=177]="BYTES16_ARRAY",t[t.BYTES17_ARRAY=178]="BYTES17_ARRAY",t[t.BYTES18_ARRAY=179]="BYTES18_ARRAY",t[t.BYTES19_ARRAY=180]="BYTES19_ARRAY",t[t.BYTES20_ARRAY=181]="BYTES20_ARRAY",t[t.BYTES21_ARRAY=182]="BYTES21_ARRAY",t[t.BYTES22_ARRAY=183]="BYTES22_ARRAY",t[t.BYTES23_ARRAY=184]="BYTES23_ARRAY",t[t.BYTES24_ARRAY=185]="BYTES24_ARRAY",t[t.BYTES25_ARRAY=186]="BYTES25_ARRAY",t[t.BYTES26_ARRAY=187]="BYTES26_ARRAY",t[t.BYTES27_ARRAY=188]="BYTES27_ARRAY",t[t.BYTES28_ARRAY=189]="BYTES28_ARRAY",t[t.BYTES29_ARRAY=190]="BYTES29_ARRAY",t[t.BYTES30_ARRAY=191]="BYTES30_ARRAY",t[t.BYTES31_ARRAY=192]="BYTES31_ARRAY",t[t.BYTES32_ARRAY=193]="BYTES32_ARRAY",t[t.BOOL_ARRAY=194]="BOOL_ARRAY",t[t.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",t[t.BYTES=196]="BYTES",t[t.STRING=197]="STRING",t))(zqe||{}),Wee={0:"uint8",1:"uint16",2:"uint24",3:"uint32",4:"uint40",5:"uint48",6:"uint56",7:"uint64",8:"uint72",9:"uint80",10:"uint88",11:"uint96",12:"uint104",13:"uint112",14:"uint120",15:"uint128",16:"uint136",17:"uint144",18:"uint152",19:"uint160",20:"uint168",21:"uint176",22:"uint184",23:"uint192",24:"uint200",25:"uint208",26:"uint216",27:"uint224",28:"uint232",29:"uint240",30:"uint248",31:"uint256",32:"int8",33:"int16",34:"int24",35:"int32",36:"int40",37:"int48",38:"int56",39:"int64",40:"int72",41:"int80",42:"int88",43:"int96",44:"int104",45:"int112",46:"int120",47:"int128",48:"int136",49:"int144",50:"int152",51:"int160",52:"int168",53:"int176",54:"int184",55:"int192",56:"int200",57:"int208",58:"int216",59:"int224",60:"int232",61:"int240",62:"int248",63:"int256",64:"bytes1",65:"bytes2",66:"bytes3",67:"bytes4",68:"bytes5",69:"bytes6",70:"bytes7",71:"bytes8",72:"bytes9",73:"bytes10",74:"bytes11",75:"bytes12",76:"bytes13",77:"bytes14",78:"bytes15",79:"bytes16",80:"bytes17",81:"bytes18",82:"bytes19",83:"bytes20",84:"bytes21",85:"bytes22",86:"bytes23",87:"bytes24",88:"bytes25",89:"bytes26",90:"bytes27",91:"bytes28",92:"bytes29",93:"bytes30",94:"bytes31",95:"bytes32",96:"bool",97:"address",98:"uint8[]",99:"uint16[]",100:"uint24[]",101:"uint32[]",102:"uint40[]",103:"uint48[]",104:"uint56[]",105:"uint64[]",106:"uint72[]",107:"uint80[]",108:"uint88[]",109:"uint96[]",110:"uint104[]",111:"uint112[]",112:"uint120[]",113:"uint128[]",114:"uint136[]",115:"uint144[]",116:"uint152[]",117:"uint160[]",118:"uint168[]",119:"uint176[]",120:"uint184[]",121:"uint192[]",122:"uint200[]",123:"uint208[]",124:"uint216[]",125:"uint224[]",126:"uint232[]",127:"uint240[]",128:"uint248[]",129:"uint256[]",130:"int8[]",131:"int16[]",132:"int24[]",133:"int32[]",134:"int40[]",135:"int48[]",136:"int56[]",137:"int64[]",138:"int72[]",139:"int80[]",140:"int88[]",141:"int96[]",142:"int104[]",143:"int112[]",144:"int120[]",145:"int128[]",146:"int136[]",147:"int144[]",148:"int152[]",149:"int160[]",150:"int168[]",151:"int176[]",152:"int184[]",153:"int192[]",154:"int200[]",155:"int208[]",156:"int216[]",157:"int224[]",158:"int232[]",159:"int240[]",160:"int248[]",161:"int256[]",162:"bytes1[]",163:"bytes2[]",164:"bytes3[]",165:"bytes4[]",166:"bytes5[]",167:"bytes6[]",168:"bytes7[]",169:"bytes8[]",170:"bytes9[]",171:"bytes10[]",172:"bytes11[]",173:"bytes12[]",174:"bytes13[]",175:"bytes14[]",176:"bytes15[]",177:"bytes16[]",178:"bytes17[]",179:"bytes18[]",180:"bytes19[]",181:"bytes20[]",182:"bytes21[]",183:"bytes22[]",184:"bytes23[]",185:"bytes24[]",186:"bytes25[]",187:"bytes26[]",188:"bytes27[]",189:"bytes28[]",190:"bytes29[]",191:"bytes30[]",192:"bytes31[]",193:"bytes32[]",194:"bool[]",195:"address[]",196:"bytes",197:"string"},qee=Object.values(Wee),Vqe=Object.fromEntries(Object.entries(Wee).map(([t,e])=>[e,parseInt(t)]));function Yqe(t){let e=t.valueOf();return e<32?e+1:e<64?e+1-32:e<96?e+1-64:t==96?1:t==97?20:0}var Gqe=qee.filter(t=>Yqe(Vqe[t])>0),Hqe=Object.defineProperty,Wqe=(t,e,r)=>e in t?Hqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qqe=(t,e,r)=>(Wqe(t,typeof e!="symbol"?e+"":e,r),r),Kqe=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},Qqe=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function Kee(t,e){return dee(t,{prefix:e,prefixSeparator:`
- `,issueSeparator:`
- `})}var Wv=class extends Error{name="MUDError"},Zqe=16,WB=14;function s8(t,e){/^\w+$/.test(t)||e.addIssue({code:re.custom,message:"Name must contain only alphanumeric & underscore characters"})}function Xqe(t,e){s8(t,e),/^[A-Z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a capital letter"})}function Jqe(t,e){s8(t,e),/^[a-z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a lowercase letter"})}function eKe(t,e){t.length===0&&e.addIssue({code:re.custom,message:"Enum must not be empty"}),t.length>=256&&e.addIssue({code:re.custom,message:"Length of enum must be < 256"});let r=O1(t);r.length>0&&e.addIssue({code:re.custom,message:`Enum must not have duplicate names for: ${r.join(", ")}`})}function o8(t,e){return(r,n)=>{if(r===""){t&&n.addIssue({code:re.custom,message:"Route must not be empty"});return}r[0]!=="/"&&n.addIssue({code:re.custom,message:'Route must start with "/"'}),r[r.length-1]==="/"&&n.addIssue({code:re.custom,message:'Route must not end with "/"'});let i=r.split("/");e&&i.length>2&&n.addIssue({code:re.custom,message:'Route must only have one level (e.g. "/foo")'});for(let a=1;a<i.length;a++)i[a]===""&&n.addIssue({code:re.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(i[a])||n.addIssue({code:re.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var tKe=o8(!0,!1),rKe=o8(!1,!1),nKe=o8(!0,!0);function iKe(t,e){Ho(t)||e.addIssue({code:re.custom,message:"Address must be a valid Ethereum address"})}function O1(t){let e=new Set,r=new Set;for(let n of t)e.has(n)&&r.add(n),e.add(n);return[...r]}function aKe(t,e){t.length>WB&&e.addIssue({code:re.custom,message:`Namespace must be <= ${WB} characters`}),/^\w*$/.test(t)||e.addIssue({code:re.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function sKe(t){let e=t.match(/^(\w+)\[(\d+)\]$/);return e?{elementType:e[1],staticLength:Number.parseInt(e[2])}:null}var d0=X.string().superRefine(Xqe),Qee=X.string().superRefine(Jqe),Zee=X.string().superRefine(s8),oKe=X.string().superRefine(aKe),lKe=X.array(d0).superRefine(eKe);X.string().superRefine(tKe);X.string().superRefine(nKe);X.string().superRefine(rKe);var uKe=X.string().superRefine(iKe),Xee=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new Kqe;let e=this._global,r=new Xee;return e.__mudCoreContext=r,r}static getContext(){let e=this._global.__mudCoreContext;if(e===void 0)throw new Qqe;return e}configExtenders=[]},zg=Xee;qqe(zg,"_global",typeof global>"u"?window.global??{}:global);function cKe(t){let e=t,r=zg.getContext();for(let n of r.configExtenders)e=n(e);return e}function Jee(t){zg.getContext().configExtenders.push(t)}var ete=(t=>(t[t.TABLE_ID=0]="TABLE_ID",t[t.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",t))(ete||{}),tte=/\[\]$/;function fKe(t){return tte.test(t)}function rte(t){return t.replace(tte,"")}var Vg=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],dKe=Vg.slice(0,98),hKe=Vg.slice(98),pKe={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function AE(t){return hKe.includes(t)}var mKe={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},sf={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20};function of(t){return dKe.includes(t)}function nte(t,e){throw new Error(e??`Unexpected value: ${t}`)}function qB(...t){return t.reduce((e,r)=>r>e?r:e)}function KB(...t){return t.reduce((e,r)=>r<e?r:e)}function gKe(t,e){return t<e?-1:t>e?1:0}function*vKe(t,e){for(let r=0;r<t.length;r+=e)yield t.slice(r,r+e)}function Sw(t){return t!==void 0}function l8(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,e(n,r)]))}function yKe(t){return new Promise(e=>setTimeout(()=>e(),t))}var Ib={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},u8={namespace:"",enums:{},userTypes:{}},Sp={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},bKe=d0,xKe=Qee,wKe=Qee,EKe=d0,SKe=d0,c8=X.string(),TKe=X.string(),AKe=X.record(xKe,TKe).default(Sp.keySchema),ite=X.record(wKe,c8).refine(t=>Object.keys(t).length>0,"Table schema may not be empty"),RKe=c8.transform(t=>ite.parse({value:t})),_Ke=ite.or(RKe),ate=X.object({directory:X.string().default(Sp.directory),name:Zee.optional(),tableIdArgument:X.boolean().default(Sp.tableIdArgument),storeArgument:X.boolean().default(Sp.storeArgument),dataStruct:X.boolean().optional(),keySchema:AKe,valueSchema:_Ke,offchainOnly:X.boolean().default(Sp.offchainOnly)}).transform(t=>(Object.keys(t.valueSchema).length===1?t.dataStruct??=!1:t.dataStruct??=!0,t)),IKe=c8.transform(t=>ate.parse({valueSchema:{value:t}})),CKe=ate.or(IKe),PKe=X.record(bKe,CKe).transform(t=>{for(let e of Object.keys(t)){let r=t[e];r.name=e.slice(0,Zqe),t[e]=r}return t}),kKe=X.object({enums:X.record(EKe,lKe).default(u8.enums)}),OKe=X.object({filePath:X.string(),internalType:X.enum(Vg)}),NKe=X.object({userTypes:X.record(SKe,OKe).default(u8.userTypes)}),ste=X.object({namespace:oKe.default(u8.namespace),storeImportPath:X.string().default(Ib.storeImportPath),tables:PKe,userTypesFilename:X.string().default(Ib.userTypesFilename),codegenDirectory:X.string().default(Ib.codegenDirectory),codegenIndexFilename:X.string().default(Ib.codegenIndexFilename)}).merge(kKe).merge(NKe);ste.superRefine(ote);var LKe=ste.catchall(X.any()).superRefine(ote);function ote(t,e){for(let u of Object.values(t.tables)){let c=Object.keys(u.keySchema),f=Object.keys(u.valueSchema),d=O1([...c,...f]);d.length>0&&e.addIssue({code:re.custom,message:`Field and key names within one table must be unique: ${d.join(", ")}`})}let r=Object.keys(t.tables),n=[...Object.keys(t.enums),...Object.keys(t.userTypes)],i=n,a=[...r,...i],s=O1(a);s.length>0&&e.addIssue({code:re.custom,message:`Table library names, enum names, user type names must be globally unique: ${s.join(", ")}`});let o=Object.values(t.tables).map(({name:u})=>u),l=O1(o);l.length>0&&e.addIssue({code:re.custom,message:`Table names must be unique: ${l.join(", ")}`});for(let u of Object.values(t.tables)){for(let c of Object.values(u.keySchema))lte(n,c,e);for(let c of Object.values(u.valueSchema))DKe(i,n,c,e)}}function DKe(t,e,r,n){if(!qee.includes(r)&&!t.includes(r)){let i=sKe(r);i?MKe(e,i.elementType,i.staticLength,n):n.addIssue({code:re.custom,message:`${r} is not a valid abi type, and is not defined in userTypes`})}}function lte(t,e,r){!Gqe.includes(e)&&!t.includes(e)&&r.addIssue({code:re.custom,message:`${e} is not a static type`})}function MKe(t,e,r,n){lte(t,e,n),r===0?n.addIssue({code:re.custom,message:"Static array length must not be 0"}):r>=2**16&&n.addIssue({code:re.custom,message:"Static array length must be less than 2**16"})}function f8(t){let e={};for(let r of Object.keys(t.tables))e[r]=$Ke(t.tables[r],t.userTypes,Object.keys(t.enums),t.namespace,r);return{tables:e}}function $Ke(t,e,r,n,i){let{keySchema:a,valueSchema:s}=t;return{keySchema:FKe(a,e,r),valueSchema:BKe(s,e,r),namespace:n,name:i,tableId:tee({type:t.offchainOnly?"offchainTable":"table",namespace:n,name:i})}}function FKe(t,e,r){let n=t==null?{key:"bytes32"}:typeof t=="string"?{key:t}:t;return ute(n,e,r)}function BKe(t,e,r){return ute(typeof t=="string"?{value:t}:t,e,r)}function ute(t,e,r){return l8(t,(n,i)=>{let a=e&&n in e,s=r.includes(n);return{type:a?e[n].internalType:s?"uint8":n,internalType:n}})}var UKe="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",jKe="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",zKe="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",VKe="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",YKe=[UKe,jKe,zKe,VKe],GKe=eJ(YKe);zg.isCreated()||zg.createContext();Jee(t=>{try{return LKe.parse(t)}catch(e){throw e instanceof ui?Kee(e,"StoreConfig Validation Error"):e}});function cte(t){return cKe(t)}var HKe=cte({storeImportPath:"../../",namespace:"store",userTypes:{ResourceId:{filePath:"./src/ResourceId.sol",internalType:"bytes32"},FieldLayout:{filePath:"./src/FieldLayout.sol",internalType:"bytes32"},Schema:{filePath:"./src/Schema.sol",internalType:"bytes32"}},tables:{StoreHooks:{keySchema:{tableId:"ResourceId"},valueSchema:{hooks:"bytes21[]"}},Tables:{keySchema:{tableId:"ResourceId"},valueSchema:{fieldLayout:"FieldLayout",keySchema:"Schema",valueSchema:"Schema",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},ResourceIds:{keySchema:{resourceId:"ResourceId"},valueSchema:{exists:"bool"}},Hooks:{keySchema:{resourceId:"ResourceId"},valueSchema:{hooks:"bytes21[]"},tableIdArgument:!0}}}),nC={registerFunctionSelector:!0,openAccess:!0,accessList:[]},io={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},iC=d0,WKe=d0,qKe=X.array(iC.or(uKe)).default(nC.accessList),KKe=X.intersection(X.object({name:Zee.optional(),registerFunctionSelectors:X.boolean().default(nC.registerFunctionSelector)}),X.discriminatedUnion("openAccess",[X.object({openAccess:X.literal(!0).default(nC.openAccess)}),X.object({openAccess:X.literal(!1),accessList:qKe})])),QKe=X.object({value:X.union([X.string(),X.number(),X.instanceof(Uint8Array)]),type:X.string()}),ZKe=X.object({type:X.nativeEnum(ete),input:X.string()}),XKe=X.object({name:WKe,root:X.boolean().default(!1),args:X.array(X.union([QKe,ZKe])).default([])}),JKe=X.object({worldContractName:X.string().optional(),worldInterfaceName:X.string().default(io.worldInterfaceName),systems:X.record(iC,KKe).default(io.systems),excludeSystems:X.array(iC).default(io.excludeSystems),postDeployScript:X.string().default(io.postDeployScript),deploysDirectory:X.string().default(io.deploysDirectory),worldsFile:X.string().default(io.worldsFile),worldgenDirectory:X.string().default(io.worldgenDirectory),worldImportPath:X.string().default(io.worldImportPath),modules:X.array(XKe).default(io.modules)}),eQe=JKe.catchall(X.any());Jee(t=>{try{return eQe.parse(t)}catch(e){throw e instanceof ui?Kee(e,"WorldConfig Validation Error"):e}});var tQe=cte({worldImportPath:"../../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",namespace:"world",userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},tables:{NamespaceOwner:{keySchema:{namespaceId:"ResourceId"},valueSchema:{owner:"address"}},ResourceAccess:{keySchema:{resourceId:"ResourceId",caller:"address"},valueSchema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},valueSchema:{moduleAddress:"address"}},UserDelegationControl:{keySchema:{delegator:"address",delegatee:"address"},valueSchema:{delegationControlId:"ResourceId"}},NamespaceDelegationControl:{keySchema:{namespaceId:"ResourceId"},valueSchema:{delegationControlId:"ResourceId"}},Balances:{keySchema:{namespaceId:"ResourceId"},valueSchema:{balance:"uint256"}},Systems:{keySchema:{systemId:"ResourceId"},valueSchema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{keySchema:{system:"address"},valueSchema:{systemId:"ResourceId"}},SystemHooks:{keySchema:{systemId:"ResourceId"},valueSchema:"bytes21[]"},FunctionSelectors:{keySchema:{functionSelector:"bytes4"},valueSchema:{systemId:"ResourceId",systemFunctionSelector:"bytes4"},dataStruct:!1},FunctionSignatures:{keySchema:{functionSelector:"bytes4"},valueSchema:{functionSignature:"string"},offchainOnly:!0}},excludeSystems:["StoreRegistrationSystem"]}),fte=class extends Wv{name="InvalidHexValueError";constructor(e){super(`Hex value "${e}" is an odd length (${e.length-2}). It must be an even length.`)}},rQe=class extends Wv{name="InvalidHexLengthForPackedCounterError";constructor(e){super(`Hex value "${e}" has length of ${e.length-2}, but expected length of 64 for a packed counter.`)}},nQe=class extends Wv{name="InvalidHexLengthForStaticFieldError";constructor(e,r){super(`Hex value "${r}" has length of ${r.length-2}, but expected length of ${sf[e]*2} for ${e} type.`)}},iQe=class extends Wv{name="InvalidHexLengthForArrayFieldError";constructor(e,r){super(`Hex value "${r}" has length of ${r.length-2}, but expected a multiple of ${sf[e]*2} for ${e}[] type.`)}},aQe=class extends Wv{name="PackedCounterLengthMismatchError";constructor(e,r,n){super(`PackedCounter "${e}" total bytes length (${r}) did not match the summed length of all field byte lengths (${n}).`)}};function d8(t,e){if(e.length>3&&e.length%2!==0)throw new fte(e);if((e.length-2)/2!==sf[t])throw new nQe(t,e);switch(t){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let r=Rs(e,{signed:t.startsWith("int")}),n=typeof mKe[t];if(n==="number")return Number(r);if(n==="bigint")return r;throw new Error(`Unexpected default value type (${n}) for ABI type (${t})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return e;case"bool":return oJ(e);case"address":return lVe(e)}return nte(t,`Unsupported static ABI type: ${t}`)}function dte(t,e){if(t==="bytes")return e;if(t==="string")return rm(e);if(e.length>3&&e.length%2!==0)throw new fte(e);let r=(e.length-2)/2;switch(t){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let n=rte(t),i=sf[n];if(r%i!==0)throw new iQe(n,e);return new Array(r/i).fill(void 0).map((a,s)=>{let o=nm(e,s*i,(s+1)*i);return d8(n,o)})}}return nte(t,`Unsupported dynamic ABI type: ${t}`)}function sQe(t,e){if(t.staticFields.length!==e.length)throw new Error(`key tuple length ${e.length} does not match key schema length ${t.staticFields.length}`);return e.map((r,n)=>Uv([{type:t.staticFields[n]}],r)[0])}function oQe(t,e){let r=sQe({staticFields:Object.values(t),dynamicFields:[]},e);return Object.fromEntries(Object.keys(t).map((n,i)=>[n,r[i]]))}function lQe(t){if(t.length!==66)throw new rQe(t);let e=d8("uint56",eu(t,32-7,32)),r=dte("uint40[]",eu(t,0,32-7)),n=Object.freeze([...r].reverse()),i=BigInt(n.reduce((a,s)=>a+s,0));if(i!==e)throw new aQe(t,e,i);return{totalByteLength:e,fieldByteLengths:n}}function h8(t){return t.reduce((e,r)=>e+sf[r],0)}function uQe(t,e){let r=[],n=0;t.staticFields.forEach(s=>{let o=sf[s],l=d8(s,eu(e,n,n+o));n+=o,r.push(l)});let i=h8(t.staticFields),a=n;if(a!==i&&console.warn("Decoded static data length does not match value schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:i,actualLength:a,bytesOffset:n}),t.dynamicFields.length>0){let s=lQe(eu(e,n,n+32));n+=32,t.dynamicFields.forEach((l,u)=>{let c=s.fieldByteLengths[u];if(c>0){let f=dte(l,eu(e,n,n+c));n+=c,r.push(f)}else r.push(pKe[l])});let o=n-32-a;BigInt(o)!==s.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:s.totalByteLength,actualLength:o,bytesOffset:n})}return r}function cQe(t,e){let r=Object.values(t).filter(of),n=Object.values(t).filter(AE),i=uQe({staticFields:r,dynamicFields:n},e);return Object.fromEntries(Object.keys(t).map((a,s)=>[a,i[s]]))}function fQe(t,{staticData:e,encodedLengths:r,dynamicData:n}){return cQe(t,qi([eu(e,0,h8(Object.values(t).filter(of))),r,n]))}function Tw(t,e){if(fKe(t)&&Array.isArray(e)){let r=rte(t);return e.length===0?"0x":DB(e.map(()=>r),e)}return DB([t],[e])}function dQe(t,e){return e.map((r,n)=>yu([{type:t.staticFields[n]}],[r]))}function p8(t,e){let r=Object.values(t).filter(of);return dQe({staticFields:r,dynamicFields:[]},Object.values(e))}function hQe(t){let e=t.map(Kr).reverse(),r=e.reduce((n,i)=>n+BigInt(i),0n);return To(qi([...e.map(n=>Tw("uint40",n)),Tw("uint56",r)]),{size:32,dir:"left"})}function hte(t,e){let r=Object.entries(t),n=r.filter(([,l])=>of(l)),i=r.filter(([,l])=>AE(l)),a=n.map(([l,u])=>Tw(u,e[l])),s=i.map(([l,u])=>Tw(u,e[l])),o=hQe(s);return{staticData:qi(a),encodedLengths:o,dynamicData:qi(s)}}function pte(t){let e=t.staticFields.map(n=>Vg.indexOf(n)),r=t.dynamicFields.map(n=>Vg.indexOf(n));return`0x${[h8(t.staticFields).toString(16).padStart(4,"0"),t.staticFields.length.toString(16).padStart(2,"0"),t.dynamicFields.length.toString(16).padStart(2,"0"),...e.map(n=>n.toString(16).padStart(2,"0")),...r.map(n=>n.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function pQe(t){return pte({staticFields:Object.values(t).filter(of),dynamicFields:[]})}function mQe(t){let e=Object.values(t).filter(of),r=Object.values(t).filter(AE),n=e.map(i=>sf[i]);return`0x${[n.reduce((i,a)=>i+a,0).toString(16).padStart(4,"0"),e.length.toString(16).padStart(2,"0"),r.length.toString(16).padStart(2,"0"),...n.map(i=>i.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function gQe(t){return pte({staticFields:Object.values(t).filter(of),dynamicFields:Object.values(t).filter(AE)})}function jr(t){return typeof t=="function"}function m8(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var MR=m8(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function aC(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var RE=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,a;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=bh(s),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(jr(c))try{c()}catch(m){a=m instanceof MR?m.errors:[m]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=bh(f),h=d.next();!h.done;h=d.next()){var p=h.value;try{QB(p)}catch(m){a=a??[],m instanceof MR?a=si(si([],xh(a)),xh(m.errors)):a.push(m)}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(a)throw new MR(a)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)QB(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&aC(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&aC(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),mte=RE.EMPTY;function gte(t){return t instanceof RE||t&&"closed"in t&&jr(t.remove)&&jr(t.add)&&jr(t.unsubscribe)}function QB(t){jr(t)?t():t.unsubscribe()}var vte={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sC={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=sC.delegate;return i?.setTimeout?i.setTimeout.apply(i,si([t,e],xh(r))):setTimeout.apply(void 0,si([t,e],xh(r)))},clearTimeout:function(t){var e=sC.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yte(t){sC.setTimeout(function(){throw t})}function ZB(){}function N1(t){t()}var g8=function(t){Kn(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,gte(r)&&r.add(n)):n.destination=xQe,n}return e.create=function(r,n,i){return new Yg(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(RE),vQe=Function.prototype.bind;function $R(t,e){return vQe.call(t,e)}var yQe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Cb(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Cb(n)}else Cb(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Cb(r)}},t}(),Yg=function(t){Kn(e,t);function e(r,n,i){var a=t.call(this)||this,s;if(jr(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var o;a&&vte.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=function(){return a.unsubscribe()},s={next:r.next&&$R(r.next,o),error:r.error&&$R(r.error,o),complete:r.complete&&$R(r.complete,o)}):s=r}return a.destination=new yQe(s),a}return e}(g8);function Cb(t){yte(t)}function bQe(t){throw t}var xQe={closed:!0,next:ZB,error:bQe,complete:ZB},v8=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function h0(t){return t}function wQe(t){return t.length===0?h0:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var di=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,a=SQe(e)?e:new Yg(e,r,n);return N1(function(){var s=i,o=s.operator,l=s.source;a.add(o?o.call(a,l):l?i._subscribe(a):i._trySubscribe(a))}),a},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=XB(r),new r(function(i,a){var s=new Yg({next:function(o){try{e(o)}catch(l){a(l),s.unsubscribe()}},error:a,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[v8]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return wQe(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=XB(e),new e(function(n,i){var a;r.subscribe(function(s){return a=s},function(s){return i(s)},function(){return n(a)})})},t.create=function(e){return new t(e)},t}();function XB(t){var e;return(e=t??vte.Promise)!==null&&e!==void 0?e:Promise}function EQe(t){return t&&jr(t.next)&&jr(t.error)&&jr(t.complete)}function SQe(t){return t&&t instanceof g8||EQe(t)&&gte(t)}function TQe(t){return jr(t?.lift)}function Js(t){return function(e){if(TQe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ks(t,e,r,n,i){return new AQe(t,e,r,n,i)}var AQe=function(t){Kn(e,t);function e(r,n,i,a,s,o){var l=t.call(this,r)||this;return l.onFinalize=s,l.shouldUnsubscribe=o,l._next=n?function(u){try{n(u)}catch(c){r.error(c)}}:t.prototype._next,l._error=a?function(u){try{a(u)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(g8),RQe=m8(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),y8=function(t){Kn(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new JB(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new RQe},e.prototype.next=function(r){var n=this;N1(function(){var i,a;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=bh(n.currentObservers),o=s.next();!o.done;o=s.next()){var l=o.value;l.next(r)}}catch(u){i={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;N1(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;N1(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,a=i.hasError,s=i.isStopped,o=i.observers;return a||s?mte:(this.currentObservers=null,o.push(r),new RE(function(){n.currentObservers=null,aC(o,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,a=n.thrownError,s=n.isStopped;i?r.error(a):s&&r.complete()},e.prototype.asObservable=function(){var r=new di;return r.source=this,r},e.create=function(r,n){return new JB(r,n)},e}(di),JB=function(t){Kn(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:mte},e}(y8),bte={now:function(){return(bte.delegate||Date).now()},delegate:void 0},_Qe=function(t){Kn(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=bte);var a=t.call(this)||this;return a._bufferSize=r,a._windowTime=n,a._timestampProvider=i,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,r),a._windowTime=Math.max(1,n),a}return e.prototype.next=function(r){var n=this,i=n.isStopped,a=n._buffer,s=n._infiniteTimeWindow,o=n._timestampProvider,l=n._windowTime;i||(a.push(r),!s&&a.push(o.now()+l)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,a=i._infiniteTimeWindow,s=i._buffer,o=s.slice(),l=0;l<o.length&&!r.closed;l+=a?1:2)r.next(o[l]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,a=r._buffer,s=r._infiniteTimeWindow,o=(s?1:2)*n;if(n<1/0&&o<a.length&&a.splice(0,a.length-o),!s){for(var l=i.now(),u=0,c=1;c<a.length&&a[c]<=l;c+=2)u=c;u&&a.splice(0,u+1)}},e}(y8),IQe=new di(function(t){return t.complete()});function CQe(t){return t&&jr(t.schedule)}function xte(t){return t[t.length-1]}function PQe(t){return jr(xte(t))?t.pop():void 0}function b8(t){return CQe(xte(t))?t.pop():void 0}var wte=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Ete(t){return jr(t?.then)}function Ste(t){return jr(t[v8])}function Tte(t){return Symbol.asyncIterator&&jr(t?.[Symbol.asyncIterator])}function Ate(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function kQe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rte=kQe();function _te(t){return jr(t?.[Rte])}function Ite(t){return Q3e(this,arguments,function(){var r,n,i,a;return xs(this,function(s){switch(s.label){case 0:r=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,$d(r.read())];case 3:return n=s.sent(),i=n.value,a=n.done,a?[4,$d(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,$d(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Cte(t){return jr(t?.getReader)}function lf(t){if(t instanceof di)return t;if(t!=null){if(Ste(t))return OQe(t);if(wte(t))return NQe(t);if(Ete(t))return LQe(t);if(Tte(t))return Pte(t);if(_te(t))return DQe(t);if(Cte(t))return MQe(t)}throw Ate(t)}function OQe(t){return new di(function(e){var r=t[v8]();if(jr(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NQe(t){return new di(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function LQe(t){return new di(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,yte)})}function DQe(t){return new di(function(e){var r,n;try{for(var i=bh(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(e.next(s),e.closed)return}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function Pte(t){return new di(function(e){$Qe(t,e).catch(function(r){return e.error(r)})})}function MQe(t){return Pte(Ite(t))}function $Qe(t,e){var r,n,i,a;return mo(this,void 0,void 0,function(){var s,o;return xs(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=Z3e(t),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),i={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Io(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var a=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(a),!i)return a}function kte(t,e){return e===void 0&&(e=0),Js(function(r,n){r.subscribe(Ks(n,function(i){return Io(n,t,function(){return n.next(i)},e)},function(){return Io(n,t,function(){return n.complete()},e)},function(i){return Io(n,t,function(){return n.error(i)},e)}))})}function Ote(t,e){return e===void 0&&(e=0),Js(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function FQe(t,e){return lf(t).pipe(Ote(e),kte(e))}function BQe(t,e){return lf(t).pipe(Ote(e),kte(e))}function UQe(t,e){return new di(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function jQe(t,e){return new di(function(r){var n;return Io(r,e,function(){n=t[Rte](),Io(r,e,function(){var i,a,s;try{i=n.next(),a=i.value,s=i.done}catch(o){r.error(o);return}s?r.complete():r.next(a)},0,!0)}),function(){return jr(n?.return)&&n.return()}})}function Nte(t,e){if(!t)throw new Error("Iterable cannot be null");return new di(function(r){Io(r,e,function(){var n=t[Symbol.asyncIterator]();Io(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function zQe(t,e){return Nte(Ite(t),e)}function VQe(t,e){if(t!=null){if(Ste(t))return FQe(t,e);if(wte(t))return UQe(t,e);if(Ete(t))return BQe(t,e);if(Tte(t))return Nte(t,e);if(_te(t))return jQe(t,e);if(Cte(t))return zQe(t,e)}throw Ate(t)}function p0(t,e){return e?VQe(t,e):lf(t)}function YQe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=b8(t);return p0(t,r)}var GQe=m8(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function HQe(t,e){var r=typeof e=="object";return new Promise(function(n,i){var a=new Yg({next:function(s){n(s),a.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new GQe)}});t.subscribe(a)})}function sm(t,e){return Js(function(r,n){var i=0;r.subscribe(Ks(n,function(a){n.next(t.call(e,a,i++))}))})}var WQe=Array.isArray;function qQe(t,e){return WQe(e)?t.apply(void 0,si([],xh(e))):t(e)}function KQe(t){return sm(function(e){return qQe(t,e)})}var QQe=Array.isArray,ZQe=Object.getPrototypeOf,XQe=Object.prototype,JQe=Object.keys;function eZe(t){if(t.length===1){var e=t[0];if(QQe(e))return{args:e,keys:null};if(tZe(e)){var r=JQe(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function tZe(t){return t&&typeof t=="object"&&ZQe(t)===XQe}function rZe(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function nZe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=b8(t),n=PQe(t),i=eZe(t),a=i.args,s=i.keys;if(a.length===0)return p0([],r);var o=new di(iZe(a,r,s?function(l){return rZe(s,l)}:h0));return n?o.pipe(KQe(n)):o}function iZe(t,e,r){return r===void 0&&(r=h0),function(n){eU(e,function(){for(var i=t.length,a=new Array(i),s=i,o=i,l=function(c){eU(e,function(){var f=p0(t[c],e),d=!1;f.subscribe(Ks(n,function(h){a[c]=h,d||(d=!0,o--),o||n.next(r(a.slice()))},function(){--s||n.complete()}))},n)},u=0;u<i;u++)l(u)},n)}}function eU(t,e,r){t?Io(r,t,e):e()}function aZe(t,e,r,n,i,a,s,o){var l=[],u=0,c=0,f=!1,d=function(){f&&!l.length&&!u&&e.complete()},h=function(m){return u<n?p(m):l.push(m)},p=function(m){a&&e.next(m),u++;var g=!1;lf(r(m,c++)).subscribe(Ks(e,function(v){i?.(v),a?h(v):e.next(v)},function(){g=!0},void 0,function(){if(g)try{u--;for(var v=function(){var b=l.shift();s?Io(e,s,function(){return p(b)}):p(b)};l.length&&u<n;)v();d()}catch(b){e.error(b)}}))};return t.subscribe(Ks(e,h,function(){f=!0,d()})),function(){o?.()}}function Aw(t,e,r){return r===void 0&&(r=1/0),jr(e)?Aw(function(n,i){return sm(function(a,s){return e(n,a,i,s)})(lf(t(n,i)))},r):(typeof e=="number"&&(r=e),Js(function(n,i){return aZe(n,i,t,r)}))}function sZe(t){return t===void 0&&(t=1/0),Aw(h0,t)}function oZe(){return sZe(1)}function lZe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return oZe()(p0(t,b8(t)))}function uZe(t){return new di(function(e){lf(t()).subscribe(e)})}function FR(t,e){return Js(function(r,n){var i=0;r.subscribe(Ks(n,function(a){return t.call(e,a,i++)&&n.next(a)}))})}function Lte(t){return Js(function(e,r){var n=null,i=!1,a;n=e.subscribe(Ks(r,void 0,void 0,function(s){a=lf(t(s,Lte(t)(e))),n?(n.unsubscribe(),n=null,a.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(r))})}function cZe(t,e,r,n,i){return function(a,s){var o=r,l=e,u=0;a.subscribe(Ks(s,function(c){var f=u++;l=o?t(l,c,f):(o=!0,c),n&&s.next(l)},i&&function(){o&&s.next(l),s.complete()}))}}function BR(t,e){return jr(e)?Aw(t,e,1):Aw(t,1)}function fZe(t){return t<=0?function(){return IQe}:Js(function(e,r){var n=0;e.subscribe(Ks(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function dZe(t,e){return Js(cZe(t,e,arguments.length>=2,!0))}function oC(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new y8}:e,n=t.resetOnError,i=n===void 0?!0:n,a=t.resetOnComplete,s=a===void 0?!0:a,o=t.resetOnRefCountZero,l=o===void 0?!0:o;return function(u){var c=null,f=null,d=null,h=0,p=!1,m=!1,g=function(){f?.unsubscribe(),f=null},v=function(){g(),c=d=null,p=m=!1},b=function(){var w=c;v(),w?.unsubscribe()};return Js(function(w,E){h++,!m&&!p&&g();var R=d=d??r();E.add(function(){h--,h===0&&!m&&!p&&(f=UR(b,l))}),R.subscribe(E),c||(c=new Yg({next:function(I){return R.next(I)},error:function(I){m=!0,g(),f=UR(v,i,I),R.error(I)},complete:function(){p=!0,g(),f=UR(v,s),R.complete()}}),p0(w).subscribe(c))})(u)}}function UR(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,si([],xh(r))).pipe(fZe(1)).subscribe(function(){return t()})}function Q0(t,e,r){var n,i,a,s,o=!1;return t&&typeof t=="object"?(n=t.bufferSize,s=n===void 0?1/0:n,i=t.windowTime,e=i===void 0?1/0:i,a=t.refCount,o=a===void 0?!1:a,r=t.scheduler):s=t??1/0,oC({connector:function(){return new _Qe(s,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Z0(t,e,r){var n=jr(t)||e||r?{next:t,error:e,complete:r}:t;return n?Js(function(i,a){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var o=!0;i.subscribe(Ks(a,function(l){var u;(u=n.next)===null||u===void 0||u.call(n,l),a.next(l)},function(){var l;o=!1,(l=n.complete)===null||l===void 0||l.call(n),a.complete()},function(l){var u;o=!1,(u=n.error)===null||u===void 0||u.call(n,l),a.error(l)},function(){var l,u;o&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):h0}var Tp=af("mud:block-events-stream"),hZe=af("mud:block-events-stream");Tp.log=console.debug.bind(console);hZe.log=console.error.bind(console);async function*pZe({maxBlockRange:t=1000n,maxRetryCount:e=3,publicClient:r,...n}){let i=n.fromBlock,a=KB(t,n.toBlock-i),s=0;for(;i<=n.toBlock;)try{let o=i+a;Tp("getting logs",{fromBlock:i,toBlock:o});let l=await r.getLogs({...n,fromBlock:i,toBlock:o,strict:!0});yield{fromBlock:i,toBlock:o,logs:l},i=o+1n,a=KB(t,n.toBlock-i)}catch(o){if(Tp("error getting logs:",String(o)),!(o instanceof Error))throw o;if(o.message.includes("rate limit exceeded")&&s<e){let l=2*s;Tp(`too many requests, retrying in ${l}s`,o),await yKe(1e3*l),s+=1;continue}if(o.message.includes("block range exceeded")){if(a/=2n,a<=0n)throw new Error("can't reduce block range any further");Tp("block range exceeded, trying a smaller block range",o);continue}throw o}}function mZe({publicClient:t,blockTag:e}){return new di(function(r){return t.watchBlocks({blockTag:e,emitOnBegin:!0,onBlock:n=>r.next(n),onError:n=>r.error(n)})})}function gZe(t,e){let r=Array.from(new Set(t.map(a=>a.blockNumber)));r.sort(gKe);let n=r.map(a=>{let s=t.filter(o=>o.blockNumber===a);if(s.length&&(s.sort((o,l)=>o.logIndex<l.logIndex?-1:o.logIndex>l.logIndex?1:0),!!s.length))return{blockNumber:a,logs:s}}).filter(Sw),i=r.length>0?r[r.length-1]:null;return e!=null&&(i==null||e>i)&&n.push({blockNumber:e,logs:[]}),n}function Uc(t){return l8(t,e=>e.type)}var Co=f8(HKe).tables,Dte=f8(tQe).tables,vZe=[...Object.values(Co),...Object.values(Dte)].map(t=>t.tableId);Co.Tables.tableId;({...Co.Tables,keySchema:Uc(Co.Tables.keySchema),valueSchema:Uc(Co.Tables.valueSchema)});var yZe=(t=>(t.INITIALIZE="initialize",t.SNAPSHOT="snapshot",t.RPC="rpc",t.LIVE="live",t))(yZe||{});function bZe(t){return{eventName:"Store_SetRecord",address:t.address,args:{tableId:Co.Tables.tableId,keyTuple:p8(Uc(Co.Tables.keySchema),{tableId:t.tableId}),...hte(Uc(Co.Tables.valueSchema),{fieldLayout:mQe(t.valueSchema),keySchema:pQe(t.keySchema),valueSchema:gQe(t.valueSchema),abiEncodedKeyNames:yu(xB("string[]"),[Object.keys(t.keySchema)]),abiEncodedFieldNames:yu(xB("string[]"),[Object.keys(t.valueSchema)])})}}}function tU(t){return[...t.map(bZe),...t.flatMap(e=>e.records.map(r=>({eventName:"Store_SetRecord",address:e.address,args:{tableId:e.tableId,keyTuple:p8(e.keySchema,r.key),...hte(e.valueSchema,r.value)}})))]}var qv=af("mud:store-sync"),xZe=af("mud:store-sync");qv.log=console.debug.bind(console);xZe.log=console.error.bind(console);var jR=qv.extend("getSnapshot");async function wZe({chainId:t,address:e,filters:r,initialState:n,initialBlockLogs:i,indexerUrl:a}){if(i&&n)throw new Error("Only one of initialBlockLogs or initialState should be provided.");if(i)return i;if(n)return{blockNumber:n.blockNumber,logs:tU(n.tables)};if(!a)return;let s=new URL(a).origin,o=Uqe({url:s}),l=Bqe({url:`${s}/trpc`});jR("fetching logs from indexer via get",a);let u=await o.getLogs({chainId:t,address:e,filters:r});if(RGe(u))return u.ok;console.warn(u.error);try{return jR("fetching logs from indexer via trpc",a),await l.getLogs.query({chainId:t,address:e,filters:r})}catch(c){if(c instanceof $s){jR("failed to fetch logs, fetching table records instead",a);let f=await l.findAll.query({chainId:t,address:e,filters:r});return console.warn(`The indexer at ${a} appears to be outdated. Consider upgrading to a recent version for better performance.`),f.blockNumber==null?void 0:{blockNumber:f.blockNumber,logs:tU(f.tables)}}throw c}}async function*EZe({storageAdapter:t,logFilter:e,...r}){for await(let{logs:n,toBlock:i}of pZe(r)){let a=gZe(e?n.filter(e):n,i);for(let s of a)await t(s),yield s}}var El=qv.extend("createStoreSync"),SZe=vZe.map(t=>({tableId:t}));async function TZe({storageAdapter:t,onProgress:e,publicClient:r,address:n,filters:i=[],tableIds:a=[],startBlock:s=0n,maxBlockRange:o,initialState:l,initialBlockLogs:u,indexerUrl:c}){let f=i.length||a.length?[...i,...a.map($=>({tableId:$})),...SZe]:[],d=f.length?$=>f.some(z=>z.tableId===$.args.tableId&&(z.key0==null||z.key0===$.args.keyTuple[0])&&(z.key1==null||z.key1===$.args.keyTuple[1])):void 0,h=uZe(async()=>{let $=r.chain?.id??await r.getChainId();e?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Getting snapshot"});let z=await wZe({chainId:$,address:n,filters:f,initialState:l,initialBlockLogs:u,indexerUrl:c});return e?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Got snapshot"}),z}).pipe(Lte($=>(El("error getting snapshot",$),e?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:s,message:"Failed to get snapshot"}),YQe(void 0))),Q0(1)),p=h.pipe(FR(Sw),BR(async({blockNumber:$,logs:z})=>{El("hydrating",z.length,"logs to block",$),e?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:$,message:"Hydrating from snapshot"});let k=Math.max(100,Math.floor(z.length/50)),A=Array.from(vKe(z,k));for(let[y,x]of A.entries())await t({blockNumber:$,logs:x}),e?.({step:"snapshot",percentage:(y+x.length)/A.length*100,latestBlockNumber:0n,lastBlockNumberProcessed:$,message:"Hydrating from snapshot"});return e?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:$,message:"Hydrated from snapshot"}),{blockNumber:$,logs:z}}),Q0(1)),m=h.pipe(sm($=>qB($?.blockNumber??0n,s)),Z0($=>El("starting sync from block",$))),g=mZe({publicClient:r,blockTag:"latest"}).pipe(Q0(1)),v=g.pipe(sm($=>$.number),Z0($=>{El("latest block number",$)}),Q0(1)),b=null,w=null,E=null,R=nZe([m,v]).pipe(sm(([$,z])=>({startBlock:$,endBlock:z})),Z0($=>{b=$.startBlock,w=$.endBlock}),BR($=>{let z=EZe({publicClient:r,address:n,events:GKe,maxBlockRange:o,fromBlock:E?qB($.startBlock,E+1n):$.startBlock,toBlock:$.endBlock,storageAdapter:t,logFilter:d});return p0(z)}),Z0(({blockNumber:$,logs:z})=>{if(El("stored",z.length,"logs for block",$),E=$,b!=null&&w!=null)if($<w){let k=w-b,A=E-b;e?.({step:"rpc",percentage:Number(A*1000n/k)/10,latestBlockNumber:w,lastBlockNumberProcessed:E,message:"Hydrating from RPC"})}else e?.({step:"live",percentage:100,latestBlockNumber:w,lastBlockNumberProcessed:E,message:"All caught up!"})}),oC()),I=lZe(p,R).pipe(oC()),D=10,N=I.pipe(dZe(($,z)=>[z,...$].slice(0,D),[]),FR($=>$.length>0),Q0(1));async function F($){El("waiting for tx",$);let z=N.pipe(BR(async k=>{if(k.flatMap(A=>A.logs.map(y=>y.transactionHash).filter(Sw)).includes($))return!0;try{let A=k[0];El("fetching tx receipt for block",A.blockNumber);let y=await r.getTransactionReceipt({hash:$});return A.blockNumber>=y.blockNumber}catch(A){if(A instanceof O5)return!1;throw A}}),Z0(k=>El("has tx?",$,k)));await HQe(z.pipe(FR(h0)))}return{latestBlock$:g,latestBlockNumber$:v,storedBlockLogs$:I,waitForTransaction:F}}const rU=t=>{let e;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),r.forEach(d=>d(e,f))}},i=()=>e,o={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,i,o),o},AZe=t=>t?rU(t):rU,{useDebugValue:RZe}=vt,{useSyncExternalStoreWithSelector:_Ze}=PH;let nU=!1;function IZe(t,e=t.getState,r){r&&!nU&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nU=!0);const n=_Ze(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return RZe(n),n}const iU=t=>{typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?AZe(t):t,r=(n,i)=>IZe(e,n,i);return Object.assign(r,e),r},CZe=t=>t?iU(t):iU;var Hf=qv.extend("zustand"),PZe=qv.extend("zustand");Hf.log=console.debug.bind(console);PZe.log=console.error.bind(console);function Mte({tableId:t,keyTuple:e}){return`${t}:${qi([...e])}`}function kZe({store:t}){return async function({blockNumber:e,logs:r}){let n=[],i=[];for(let s of r){let o=t.getState().tables[s.args.tableId];if(!o){let{namespace:u,name:c}=AGe(s.args.tableId);Hf(`skipping update for unknown table: ${u}:${c} (${s.args.tableId}) at ${s.address}`),console.log(t.getState().tables,s.args.tableId);continue}let l=Mte(s.args);if(s.eventName==="Store_SetRecord")Hf("setting record",{namespace:o.namespace,name:o.name,id:l,log:s}),n.push(l),t.setState({rawRecords:{...t.getState().rawRecords,[l]:{id:l,tableId:s.args.tableId,keyTuple:s.args.keyTuple,staticData:s.args.staticData,encodedLengths:s.args.encodedLengths,dynamicData:s.args.dynamicData}}});else if(s.eventName==="Store_SpliceStaticData"){Hf("splicing static data",{namespace:o.namespace,name:o.name,id:l,log:s}),n.push(l);let u=t.getState().rawRecords[l]??{id:l,tableId:s.args.tableId,keyTuple:s.args.keyTuple,staticData:"0x",encodedLengths:"0x",dynamicData:"0x"},c=$B(u.staticData,s.args.start,Kr(s.args.data),s.args.data);t.setState({rawRecords:{...t.getState().rawRecords,[l]:{...u,staticData:c}}})}else if(s.eventName==="Store_SpliceDynamicData"){Hf("splicing dynamic data",{namespace:o.namespace,name:o.name,id:l,log:s}),n.push(l);let u=t.getState().rawRecords[l]??{id:l,tableId:s.args.tableId,keyTuple:s.args.keyTuple,staticData:"0x",encodedLengths:"0x",dynamicData:"0x"},c=s.args.encodedLengths,f=$B(u.dynamicData,s.args.start,s.args.deleteCount,s.args.data);t.setState({rawRecords:{...t.getState().rawRecords,[l]:{...u,encodedLengths:c,dynamicData:f}}})}else if(s.eventName==="Store_DeleteRecord"){Hf("deleting record",{namespace:o.namespace,name:o.name,id:l,log:s}),i.push(l);let{[l]:u,...c}=t.getState().rawRecords;t.setState({rawRecords:c})}}if(!n.length&&!i.length)return;let a={...Object.fromEntries(Object.entries(t.getState().records).filter(([s])=>!i.includes(s))),...Object.fromEntries(n.map(s=>{let o=t.getState().rawRecords[s];if(!o){console.warn("no raw record found for updated ID",s);return}let l=t.getState().tables[o.tableId];if(!l){console.warn("no table found for record",o);return}return[s,{id:s,table:t.getState().tables[o.tableId],keyTuple:o.keyTuple,key:oQe(Uc(l.keySchema),o.keyTuple),value:fQe(Uc(l.valueSchema),o)}]}).filter(Sw))};t.setState({records:a})}}function OZe(t){return CZe((e,r)=>({syncProgress:{step:"initialize",message:"Connecting",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n},tables:Object.fromEntries(Object.entries(t.tables).map(([,n])=>[n.tableId,n])),rawRecords:{},records:{},getRecords:n=>{let i=r().records;return Object.fromEntries(Object.entries(i).filter(([a,s])=>s.table.tableId===n.tableId))},getRecord:(n,i)=>{let a=p8(Uc(n.keySchema),i),s=Mte({tableId:n.tableId,keyTuple:a});return r().records[s]},getValue:(n,i)=>r().getRecord(n,i)?.value}))}async function NZe({config:t,tables:e,store:r,startSync:n=!0,...i}){let a={...f8(t).tables,...e,...Co,...Dte},s=r??OZe({tables:a}),o=kZe({store:s}),l=await TZe({storageAdapter:o,...i,onProgress:c=>{s.getState().syncProgress.step!=="live"&&s.setState(()=>({syncProgress:c}))}}),u=n?l.storedBlockLogs$.subscribe():null;return{...l,tables:a,useStore:s,stopSync:()=>{u?.unsubscribe()}}}var LZe=(t=>(t[t.UINT8=0]="UINT8",t[t.UINT16=1]="UINT16",t[t.UINT24=2]="UINT24",t[t.UINT32=3]="UINT32",t[t.UINT40=4]="UINT40",t[t.UINT48=5]="UINT48",t[t.UINT56=6]="UINT56",t[t.UINT64=7]="UINT64",t[t.UINT72=8]="UINT72",t[t.UINT80=9]="UINT80",t[t.UINT88=10]="UINT88",t[t.UINT96=11]="UINT96",t[t.UINT104=12]="UINT104",t[t.UINT112=13]="UINT112",t[t.UINT120=14]="UINT120",t[t.UINT128=15]="UINT128",t[t.UINT136=16]="UINT136",t[t.UINT144=17]="UINT144",t[t.UINT152=18]="UINT152",t[t.UINT160=19]="UINT160",t[t.UINT168=20]="UINT168",t[t.UINT176=21]="UINT176",t[t.UINT184=22]="UINT184",t[t.UINT192=23]="UINT192",t[t.UINT200=24]="UINT200",t[t.UINT208=25]="UINT208",t[t.UINT216=26]="UINT216",t[t.UINT224=27]="UINT224",t[t.UINT232=28]="UINT232",t[t.UINT240=29]="UINT240",t[t.UINT248=30]="UINT248",t[t.UINT256=31]="UINT256",t[t.INT8=32]="INT8",t[t.INT16=33]="INT16",t[t.INT24=34]="INT24",t[t.INT32=35]="INT32",t[t.INT40=36]="INT40",t[t.INT48=37]="INT48",t[t.INT56=38]="INT56",t[t.INT64=39]="INT64",t[t.INT72=40]="INT72",t[t.INT80=41]="INT80",t[t.INT88=42]="INT88",t[t.INT96=43]="INT96",t[t.INT104=44]="INT104",t[t.INT112=45]="INT112",t[t.INT120=46]="INT120",t[t.INT128=47]="INT128",t[t.INT136=48]="INT136",t[t.INT144=49]="INT144",t[t.INT152=50]="INT152",t[t.INT160=51]="INT160",t[t.INT168=52]="INT168",t[t.INT176=53]="INT176",t[t.INT184=54]="INT184",t[t.INT192=55]="INT192",t[t.INT200=56]="INT200",t[t.INT208=57]="INT208",t[t.INT216=58]="INT216",t[t.INT224=59]="INT224",t[t.INT232=60]="INT232",t[t.INT240=61]="INT240",t[t.INT248=62]="INT248",t[t.INT256=63]="INT256",t[t.BYTES1=64]="BYTES1",t[t.BYTES2=65]="BYTES2",t[t.BYTES3=66]="BYTES3",t[t.BYTES4=67]="BYTES4",t[t.BYTES5=68]="BYTES5",t[t.BYTES6=69]="BYTES6",t[t.BYTES7=70]="BYTES7",t[t.BYTES8=71]="BYTES8",t[t.BYTES9=72]="BYTES9",t[t.BYTES10=73]="BYTES10",t[t.BYTES11=74]="BYTES11",t[t.BYTES12=75]="BYTES12",t[t.BYTES13=76]="BYTES13",t[t.BYTES14=77]="BYTES14",t[t.BYTES15=78]="BYTES15",t[t.BYTES16=79]="BYTES16",t[t.BYTES17=80]="BYTES17",t[t.BYTES18=81]="BYTES18",t[t.BYTES19=82]="BYTES19",t[t.BYTES20=83]="BYTES20",t[t.BYTES21=84]="BYTES21",t[t.BYTES22=85]="BYTES22",t[t.BYTES23=86]="BYTES23",t[t.BYTES24=87]="BYTES24",t[t.BYTES25=88]="BYTES25",t[t.BYTES26=89]="BYTES26",t[t.BYTES27=90]="BYTES27",t[t.BYTES28=91]="BYTES28",t[t.BYTES29=92]="BYTES29",t[t.BYTES30=93]="BYTES30",t[t.BYTES31=94]="BYTES31",t[t.BYTES32=95]="BYTES32",t[t.BOOL=96]="BOOL",t[t.ADDRESS=97]="ADDRESS",t[t.UINT8_ARRAY=98]="UINT8_ARRAY",t[t.UINT16_ARRAY=99]="UINT16_ARRAY",t[t.UINT24_ARRAY=100]="UINT24_ARRAY",t[t.UINT32_ARRAY=101]="UINT32_ARRAY",t[t.UINT40_ARRAY=102]="UINT40_ARRAY",t[t.UINT48_ARRAY=103]="UINT48_ARRAY",t[t.UINT56_ARRAY=104]="UINT56_ARRAY",t[t.UINT64_ARRAY=105]="UINT64_ARRAY",t[t.UINT72_ARRAY=106]="UINT72_ARRAY",t[t.UINT80_ARRAY=107]="UINT80_ARRAY",t[t.UINT88_ARRAY=108]="UINT88_ARRAY",t[t.UINT96_ARRAY=109]="UINT96_ARRAY",t[t.UINT104_ARRAY=110]="UINT104_ARRAY",t[t.UINT112_ARRAY=111]="UINT112_ARRAY",t[t.UINT120_ARRAY=112]="UINT120_ARRAY",t[t.UINT128_ARRAY=113]="UINT128_ARRAY",t[t.UINT136_ARRAY=114]="UINT136_ARRAY",t[t.UINT144_ARRAY=115]="UINT144_ARRAY",t[t.UINT152_ARRAY=116]="UINT152_ARRAY",t[t.UINT160_ARRAY=117]="UINT160_ARRAY",t[t.UINT168_ARRAY=118]="UINT168_ARRAY",t[t.UINT176_ARRAY=119]="UINT176_ARRAY",t[t.UINT184_ARRAY=120]="UINT184_ARRAY",t[t.UINT192_ARRAY=121]="UINT192_ARRAY",t[t.UINT200_ARRAY=122]="UINT200_ARRAY",t[t.UINT208_ARRAY=123]="UINT208_ARRAY",t[t.UINT216_ARRAY=124]="UINT216_ARRAY",t[t.UINT224_ARRAY=125]="UINT224_ARRAY",t[t.UINT232_ARRAY=126]="UINT232_ARRAY",t[t.UINT240_ARRAY=127]="UINT240_ARRAY",t[t.UINT248_ARRAY=128]="UINT248_ARRAY",t[t.UINT256_ARRAY=129]="UINT256_ARRAY",t[t.INT8_ARRAY=130]="INT8_ARRAY",t[t.INT16_ARRAY=131]="INT16_ARRAY",t[t.INT24_ARRAY=132]="INT24_ARRAY",t[t.INT32_ARRAY=133]="INT32_ARRAY",t[t.INT40_ARRAY=134]="INT40_ARRAY",t[t.INT48_ARRAY=135]="INT48_ARRAY",t[t.INT56_ARRAY=136]="INT56_ARRAY",t[t.INT64_ARRAY=137]="INT64_ARRAY",t[t.INT72_ARRAY=138]="INT72_ARRAY",t[t.INT80_ARRAY=139]="INT80_ARRAY",t[t.INT88_ARRAY=140]="INT88_ARRAY",t[t.INT96_ARRAY=141]="INT96_ARRAY",t[t.INT104_ARRAY=142]="INT104_ARRAY",t[t.INT112_ARRAY=143]="INT112_ARRAY",t[t.INT120_ARRAY=144]="INT120_ARRAY",t[t.INT128_ARRAY=145]="INT128_ARRAY",t[t.INT136_ARRAY=146]="INT136_ARRAY",t[t.INT144_ARRAY=147]="INT144_ARRAY",t[t.INT152_ARRAY=148]="INT152_ARRAY",t[t.INT160_ARRAY=149]="INT160_ARRAY",t[t.INT168_ARRAY=150]="INT168_ARRAY",t[t.INT176_ARRAY=151]="INT176_ARRAY",t[t.INT184_ARRAY=152]="INT184_ARRAY",t[t.INT192_ARRAY=153]="INT192_ARRAY",t[t.INT200_ARRAY=154]="INT200_ARRAY",t[t.INT208_ARRAY=155]="INT208_ARRAY",t[t.INT216_ARRAY=156]="INT216_ARRAY",t[t.INT224_ARRAY=157]="INT224_ARRAY",t[t.INT232_ARRAY=158]="INT232_ARRAY",t[t.INT240_ARRAY=159]="INT240_ARRAY",t[t.INT248_ARRAY=160]="INT248_ARRAY",t[t.INT256_ARRAY=161]="INT256_ARRAY",t[t.BYTES1_ARRAY=162]="BYTES1_ARRAY",t[t.BYTES2_ARRAY=163]="BYTES2_ARRAY",t[t.BYTES3_ARRAY=164]="BYTES3_ARRAY",t[t.BYTES4_ARRAY=165]="BYTES4_ARRAY",t[t.BYTES5_ARRAY=166]="BYTES5_ARRAY",t[t.BYTES6_ARRAY=167]="BYTES6_ARRAY",t[t.BYTES7_ARRAY=168]="BYTES7_ARRAY",t[t.BYTES8_ARRAY=169]="BYTES8_ARRAY",t[t.BYTES9_ARRAY=170]="BYTES9_ARRAY",t[t.BYTES10_ARRAY=171]="BYTES10_ARRAY",t[t.BYTES11_ARRAY=172]="BYTES11_ARRAY",t[t.BYTES12_ARRAY=173]="BYTES12_ARRAY",t[t.BYTES13_ARRAY=174]="BYTES13_ARRAY",t[t.BYTES14_ARRAY=175]="BYTES14_ARRAY",t[t.BYTES15_ARRAY=176]="BYTES15_ARRAY",t[t.BYTES16_ARRAY=177]="BYTES16_ARRAY",t[t.BYTES17_ARRAY=178]="BYTES17_ARRAY",t[t.BYTES18_ARRAY=179]="BYTES18_ARRAY",t[t.BYTES19_ARRAY=180]="BYTES19_ARRAY",t[t.BYTES20_ARRAY=181]="BYTES20_ARRAY",t[t.BYTES21_ARRAY=182]="BYTES21_ARRAY",t[t.BYTES22_ARRAY=183]="BYTES22_ARRAY",t[t.BYTES23_ARRAY=184]="BYTES23_ARRAY",t[t.BYTES24_ARRAY=185]="BYTES24_ARRAY",t[t.BYTES25_ARRAY=186]="BYTES25_ARRAY",t[t.BYTES26_ARRAY=187]="BYTES26_ARRAY",t[t.BYTES27_ARRAY=188]="BYTES27_ARRAY",t[t.BYTES28_ARRAY=189]="BYTES28_ARRAY",t[t.BYTES29_ARRAY=190]="BYTES29_ARRAY",t[t.BYTES30_ARRAY=191]="BYTES30_ARRAY",t[t.BYTES31_ARRAY=192]="BYTES31_ARRAY",t[t.BYTES32_ARRAY=193]="BYTES32_ARRAY",t[t.BOOL_ARRAY=194]="BOOL_ARRAY",t[t.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",t[t.BYTES=196]="BYTES",t[t.STRING=197]="STRING",t))(LZe||{}),$te={0:"uint8",1:"uint16",2:"uint24",3:"uint32",4:"uint40",5:"uint48",6:"uint56",7:"uint64",8:"uint72",9:"uint80",10:"uint88",11:"uint96",12:"uint104",13:"uint112",14:"uint120",15:"uint128",16:"uint136",17:"uint144",18:"uint152",19:"uint160",20:"uint168",21:"uint176",22:"uint184",23:"uint192",24:"uint200",25:"uint208",26:"uint216",27:"uint224",28:"uint232",29:"uint240",30:"uint248",31:"uint256",32:"int8",33:"int16",34:"int24",35:"int32",36:"int40",37:"int48",38:"int56",39:"int64",40:"int72",41:"int80",42:"int88",43:"int96",44:"int104",45:"int112",46:"int120",47:"int128",48:"int136",49:"int144",50:"int152",51:"int160",52:"int168",53:"int176",54:"int184",55:"int192",56:"int200",57:"int208",58:"int216",59:"int224",60:"int232",61:"int240",62:"int248",63:"int256",64:"bytes1",65:"bytes2",66:"bytes3",67:"bytes4",68:"bytes5",69:"bytes6",70:"bytes7",71:"bytes8",72:"bytes9",73:"bytes10",74:"bytes11",75:"bytes12",76:"bytes13",77:"bytes14",78:"bytes15",79:"bytes16",80:"bytes17",81:"bytes18",82:"bytes19",83:"bytes20",84:"bytes21",85:"bytes22",86:"bytes23",87:"bytes24",88:"bytes25",89:"bytes26",90:"bytes27",91:"bytes28",92:"bytes29",93:"bytes30",94:"bytes31",95:"bytes32",96:"bool",97:"address",98:"uint8[]",99:"uint16[]",100:"uint24[]",101:"uint32[]",102:"uint40[]",103:"uint48[]",104:"uint56[]",105:"uint64[]",106:"uint72[]",107:"uint80[]",108:"uint88[]",109:"uint96[]",110:"uint104[]",111:"uint112[]",112:"uint120[]",113:"uint128[]",114:"uint136[]",115:"uint144[]",116:"uint152[]",117:"uint160[]",118:"uint168[]",119:"uint176[]",120:"uint184[]",121:"uint192[]",122:"uint200[]",123:"uint208[]",124:"uint216[]",125:"uint224[]",126:"uint232[]",127:"uint240[]",128:"uint248[]",129:"uint256[]",130:"int8[]",131:"int16[]",132:"int24[]",133:"int32[]",134:"int40[]",135:"int48[]",136:"int56[]",137:"int64[]",138:"int72[]",139:"int80[]",140:"int88[]",141:"int96[]",142:"int104[]",143:"int112[]",144:"int120[]",145:"int128[]",146:"int136[]",147:"int144[]",148:"int152[]",149:"int160[]",150:"int168[]",151:"int176[]",152:"int184[]",153:"int192[]",154:"int200[]",155:"int208[]",156:"int216[]",157:"int224[]",158:"int232[]",159:"int240[]",160:"int248[]",161:"int256[]",162:"bytes1[]",163:"bytes2[]",164:"bytes3[]",165:"bytes4[]",166:"bytes5[]",167:"bytes6[]",168:"bytes7[]",169:"bytes8[]",170:"bytes9[]",171:"bytes10[]",172:"bytes11[]",173:"bytes12[]",174:"bytes13[]",175:"bytes14[]",176:"bytes15[]",177:"bytes16[]",178:"bytes17[]",179:"bytes18[]",180:"bytes19[]",181:"bytes20[]",182:"bytes21[]",183:"bytes22[]",184:"bytes23[]",185:"bytes24[]",186:"bytes25[]",187:"bytes26[]",188:"bytes27[]",189:"bytes28[]",190:"bytes29[]",191:"bytes30[]",192:"bytes31[]",193:"bytes32[]",194:"bool[]",195:"address[]",196:"bytes",197:"string"},Fte=Object.values($te),DZe=Object.fromEntries(Object.entries($te).map(([t,e])=>[e,parseInt(t)]));function MZe(t){let e=t.valueOf();return e<32?e+1:e<64?e+1-32:e<96?e+1-64:t==96?1:t==97?20:0}var $Ze=Fte.filter(t=>MZe(DZe[t])>0),FZe=Object.defineProperty,BZe=(t,e,r)=>e in t?FZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UZe=(t,e,r)=>(BZe(t,typeof e!="symbol"?e+"":e,r),r),jZe=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},zZe=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"},VZe=16,aU=14;function x8(t,e){/^\w+$/.test(t)||e.addIssue({code:re.custom,message:"Name must contain only alphanumeric & underscore characters"})}function YZe(t,e){x8(t,e),/^[A-Z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a capital letter"})}function GZe(t,e){x8(t,e),/^[a-z]/.test(t)||e.addIssue({code:re.custom,message:"Name must start with a lowercase letter"})}function HZe(t,e){t.length===0&&e.addIssue({code:re.custom,message:"Enum must not be empty"}),t.length>=256&&e.addIssue({code:re.custom,message:"Length of enum must be < 256"});let r=L1(t);r.length>0&&e.addIssue({code:re.custom,message:`Enum must not have duplicate names for: ${r.join(", ")}`})}function w8(t,e){return(r,n)=>{if(r===""){t&&n.addIssue({code:re.custom,message:"Route must not be empty"});return}r[0]!=="/"&&n.addIssue({code:re.custom,message:'Route must start with "/"'}),r[r.length-1]==="/"&&n.addIssue({code:re.custom,message:'Route must not end with "/"'});let i=r.split("/");e&&i.length>2&&n.addIssue({code:re.custom,message:'Route must only have one level (e.g. "/foo")'});for(let a=1;a<i.length;a++)i[a]===""&&n.addIssue({code:re.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(i[a])||n.addIssue({code:re.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var WZe=w8(!0,!1),qZe=w8(!1,!1),KZe=w8(!0,!0);function QZe(t,e){Ho(t)||e.addIssue({code:re.custom,message:"Address must be a valid Ethereum address"})}function L1(t){let e=new Set,r=new Set;for(let n of t)e.has(n)&&r.add(n),e.add(n);return[...r]}function ZZe(t,e){t.length>aU&&e.addIssue({code:re.custom,message:`Namespace must be <= ${aU} characters`}),/^\w*$/.test(t)||e.addIssue({code:re.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function XZe(t){let e=t.match(/^(\w+)\[(\d+)\]$/);return e?{elementType:e[1],staticLength:Number.parseInt(e[2])}:null}var _E=X.string().superRefine(YZe),Bte=X.string().superRefine(GZe),JZe=X.string().superRefine(x8),eXe=X.string().superRefine(ZZe),tXe=X.array(_E).superRefine(HZe);X.string().superRefine(WZe);X.string().superRefine(KZe);X.string().superRefine(qZe);X.string().superRefine(QZe);var Ute=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new jZe;let e=this._global,r=new Ute;return e.__mudCoreContext=r,r}static getContext(){let e=this._global.__mudCoreContext;if(e===void 0)throw new zZe;return e}configExtenders=[]},rXe=Ute;UZe(rXe,"_global",typeof global>"u"?window.global??{}:global);var nXe=(t=>(t[t.TABLE_ID=0]="TABLE_ID",t[t.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",t))(nXe||{}),E8=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"];E8.slice(0,98);E8.slice(98);var Pb={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},S8={namespace:"",enums:{},userTypes:{}},Ap={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},iXe=_E,aXe=Bte,sXe=Bte,oXe=_E,lXe=_E,T8=X.string(),uXe=X.string(),cXe=X.record(aXe,uXe).default(Ap.keySchema),jte=X.record(sXe,T8).refine(t=>Object.keys(t).length>0,"Table schema may not be empty"),fXe=T8.transform(t=>jte.parse({value:t})),dXe=jte.or(fXe),zte=X.object({directory:X.string().default(Ap.directory),name:JZe.optional(),tableIdArgument:X.boolean().default(Ap.tableIdArgument),storeArgument:X.boolean().default(Ap.storeArgument),dataStruct:X.boolean().optional(),keySchema:cXe,valueSchema:dXe,offchainOnly:X.boolean().default(Ap.offchainOnly)}).transform(t=>(Object.keys(t.valueSchema).length===1?t.dataStruct??=!1:t.dataStruct??=!0,t)),hXe=T8.transform(t=>zte.parse({valueSchema:{value:t}})),pXe=zte.or(hXe),mXe=X.record(iXe,pXe).transform(t=>{for(let e of Object.keys(t)){let r=t[e];r.name=e.slice(0,VZe),t[e]=r}return t}),gXe=X.object({enums:X.record(oXe,tXe).default(S8.enums)}),vXe=X.object({filePath:X.string(),internalType:X.enum(E8)}),yXe=X.object({userTypes:X.record(lXe,vXe).default(S8.userTypes)}),Vte=X.object({namespace:eXe.default(S8.namespace),storeImportPath:X.string().default(Pb.storeImportPath),tables:mXe,userTypesFilename:X.string().default(Pb.userTypesFilename),codegenDirectory:X.string().default(Pb.codegenDirectory),codegenIndexFilename:X.string().default(Pb.codegenIndexFilename)}).merge(gXe).merge(yXe);Vte.superRefine(Yte);Vte.catchall(X.any()).superRefine(Yte);function Yte(t,e){for(let u of Object.values(t.tables)){let c=Object.keys(u.keySchema),f=Object.keys(u.valueSchema),d=L1([...c,...f]);d.length>0&&e.addIssue({code:re.custom,message:`Field and key names within one table must be unique: ${d.join(", ")}`})}let r=Object.keys(t.tables),n=[...Object.keys(t.enums),...Object.keys(t.userTypes)],i=n,a=[...r,...i],s=L1(a);s.length>0&&e.addIssue({code:re.custom,message:`Table library names, enum names, user type names must be globally unique: ${s.join(", ")}`});let o=Object.values(t.tables).map(({name:u})=>u),l=L1(o);l.length>0&&e.addIssue({code:re.custom,message:`Table names must be unique: ${l.join(", ")}`});for(let u of Object.values(t.tables)){for(let c of Object.values(u.keySchema))Gte(n,c,e);for(let c of Object.values(u.valueSchema))bXe(i,n,c,e)}}function bXe(t,e,r,n){if(!Fte.includes(r)&&!t.includes(r)){let i=XZe(r);i?xXe(e,i.elementType,i.staticLength,n):n.addIssue({code:re.custom,message:`${r} is not a valid abi type, and is not defined in userTypes`})}}function Gte(t,e,r){!$Ze.includes(e)&&!t.includes(e)&&r.addIssue({code:re.custom,message:`${e} is not a static type`})}function xXe(t,e,r,n){Gte(t,e,n),r===0?n.addIssue({code:re.custom,message:"Static array length must not be 0"}):r>=2**16&&n.addIssue({code:re.custom,message:"Static array length must be less than 2**16"})}function Hte(t){let e={};for(let r of Object.keys(t.tables))e[r]=wXe(t.tables[r],t.userTypes,Object.keys(t.enums),t.namespace,r);return{tables:e}}function wXe(t,e,r,n,i){let{keySchema:a,valueSchema:s}=t;return{keySchema:EXe(a,e,r),valueSchema:SXe(s,e,r),namespace:n,name:i,tableId:tee({type:t.offchainOnly?"offchainTable":"table",namespace:n,name:i})}}function EXe(t,e,r){let n=t==null?{key:"bytes32"}:typeof t=="string"?{key:t}:t;return Wte(n,e,r)}function SXe(t,e,r){return Wte(typeof t=="string"?{value:t}:t,e,r)}function Wte(t,e,r){return l8(t,(n,i)=>{let a=e&&n in e,s=r.includes(n);return{type:a?e[n].internalType:s?"uint8":n,internalType:n}})}var TXe="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",AXe="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",RXe="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",_Xe="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",IXe=[TXe,AXe,RXe,_Xe];eJ(IXe);function qte(t,e){let r=J5.table;return qi([Ao(r,{size:2}),Ao(t,{size:14}),Ao(e.slice(0,16),{size:16})])}function CXe(t){return Object.keys(Hte(Ew).tables).filter(e=>e.endsWith("Com")||e.endsWith("Augments")).map(e=>qte(t,e))}function PXe(t,e){return{...e,namespace:t,tableId:qte(t,e.name)}}function kXe(t){return Object.keys(Ew.tables).filter(e=>e.endsWith("Com")||e.endsWith("Augments")).map(e=>{let r=Hte(Ew).tables[e];return PXe(t,r)})}async function OXe(t){let e={chain:t.mudChain,transport:IGe(dYe([dGe(),$J()])),pollingInterval:1e3},r=eee(e),n=t.namespaces.map(u=>kXe(u)).reduceRight((u,c)=>{let f={...u};for(let d of c)f[d.name]=d;return f},{}),{tables:i,useStore:a,latestBlock$:s,storedBlockLogs$:o,waitForTransaction:l}=await NZe({config:Ew,address:t.world.address,publicClient:r,startBlock:BigInt(t.world.blockNumber),tables:n,filters:t.namespaces.flatMap(u=>CXe(u)).map(u=>({tableId:u})),indexerUrl:t.indexerUrl});return{tables:i,useStore:a,latestBlock$:s,storedBlockLogs$:o,waitForTransaction:l,publicClient:r}}const NXe={block:$Ve({format(t){return{transactions:t.transactions?.map(r=>{if(typeof r=="string")return r;const n=yE(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?Rs(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:t.stateRoot}}}),transaction:MVe({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Rs(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:GYe({format(t){return{l1GasPrice:t.l1GasPrice?Rs(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Rs(t.l1GasUsed):null,l1Fee:t.l1Fee?Rs(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})},zR=qVe({id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},{formatters:NXe});var lC={},Kte={},Kv={},A8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ChainId=void 0,function(e){e[e.Goerli=5]="Goerli",e[e.Optimism=10]="Optimism",e[e.OptimismKovan=69]="OptimismKovan",e[e.OptimismGoerli=420]="OptimismGoerli",e[e.OptimismSepolia=11155420]="OptimismSepolia",e[e.Sepolia=11155111]="Sepolia",e[e.Local=31337]="Local"}(t.ChainId||(t.ChainId={}))})(A8);Object.defineProperty(Kv,"__esModule",{value:!0});Kv.getContractAddressesForChainOrThrow=void 0;const X0=A8,sU={[X0.ChainId.Optimism]:{registryDiamond:"0xBA1231785A7b4AC0E8dC9a0403938C2182cE4A4e"},[X0.ChainId.Goerli]:{registryDiamond:"0x6a1E708Cb134DDff5259cb274A7407E0a6859F14"},[X0.ChainId.OptimismGoerli]:{registryDiamond:"0x871C2467D5832226E03853b91Cd00764985EA07C"},[X0.ChainId.Sepolia]:{registryDiamond:"0xaDD2eFb7f87Db4003c50d4aE60Bcc82b255F9222"},[X0.ChainId.OptimismSepolia]:{registryDiamond:"0x204EFCebEc7F95f89019F64521ee1413B22E5Efe"}},LXe=t=>{if(!sU[t])throw new Error(`Unknown chain id (${t}). No known contracts have been deployed on this chain.`);return sU[t]};Kv.getContractAddressesForChainOrThrow=LXe;var IE={},R8={};const DXe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],indexed:!1,internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"DiamondCut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_licenseId",type:"uint256"},{indexed:!0,internalType:"address",name:"_payer",type:"address"}],name:"ParcelClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_licenseId",type:"uint256"},{indexed:!0,internalType:"address",name:"_payer",type:"address"}],name:"ParcelClaimedV2",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokenURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],name:"availabilityIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int96",name:"initialContributionRate",type:"int96"},{internalType:"uint256",name:"initialForSalePrice",type:"uint256"},{components:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"lngDim",type:"uint256"},{internalType:"uint256",name:"latDim",type:"uint256"}],internalType:"struct LibGeoWebParcelV2.LandParcel",name:"parcel",type:"tuple"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"initialContributionRate",type:"int96"},{internalType:"uint256",name:"initialForSalePrice",type:"uint256"},{components:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"lngDim",type:"uint256"},{internalType:"uint256",name:"latDim",type:"uint256"}],internalType:"struct LibGeoWebParcelV2.LandParcel",name:"parcel",type:"tuple"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"diamondCut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"facetAddress",outputs:[{internalType:"address",name:"facet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"facetAddresses",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"facet",type:"address"}],name:"facetFunctionSelectors",outputs:[{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondReadable.Facet[]",name:"diamondFacets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuctionEnd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuctionStart",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBeacon",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"licenseId",type:"uint256"}],name:"getBeaconProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBeneficiary",outputs:[{internalType:"contract ICFABeneficiary",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBidPeriodLengthInSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEndingBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHost",outputs:[{internalType:"contract ISuperfluid",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getLandParcel",outputs:[{internalType:"uint64",name:"baseCoordinate",type:"uint64"},{internalType:"uint256[]",name:"path",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getLandParcelV2",outputs:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"latDim",type:"uint256"},{internalType:"uint256",name:"lngDim",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinForSalePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextProxyAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPaymentToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPenaltyDenominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPenaltyNumerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPerSecondFeeDenominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPerSecondFeeNumerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReclaimAuctionLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStartingBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"auctionStart",type:"uint256"},{internalType:"uint256",name:"auctionEnd",type:"uint256"},{internalType:"uint256",name:"startingBid",type:"uint256"},{internalType:"uint256",name:"endingBid",type:"uint256"},{internalType:"address",name:"beacon",type:"address"}],name:"initializeClaimer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"}],name:"initializeERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract ISuperToken",name:"paymentToken",type:"address"},{internalType:"contract ISuperfluid",name:"host",type:"address"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"penaltyNumerator",type:"uint256"},{internalType:"uint256",name:"penaltyDenominator",type:"uint256"},{internalType:"uint256",name:"bidPeriodLengthInSeconds",type:"uint256"},{internalType:"uint256",name:"reclaimAuctionLength",type:"uint256"},{internalType:"uint256",name:"minForSalePrice",type:"uint256"}],name:"initializeParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"requiredBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionEnd",type:"uint256"}],name:"setAuctionEnd",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionStart",type:"uint256"}],name:"setAuctionStart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"beacon",type:"address"}],name:"setBeacon",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"}],name:"setBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bidPeriodLengthInSeconds",type:"uint256"}],name:"setBidPeriodLengthInSeconds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"endingBid",type:"uint256"}],name:"setEndingBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperfluid",name:"host",type:"address"}],name:"setHost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"minForSalePrice",type:"uint256"}],name:"setMinForSalePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"paymentToken",type:"address"}],name:"setPaymentToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penaltyDenominator",type:"uint256"}],name:"setPenaltyDenominator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penaltyNumerator",type:"uint256"}],name:"setPenaltyNumerator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"}],name:"setPerSecondFeeDenominator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"}],name:"setPerSecondFeeNumerator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"reclaimAuctionLength",type:"uint256"}],name:"setReclaimAuctionLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startingBid",type:"uint256"}],name:"setStartingBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"updateTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"}],MXe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"int96",name:"contributionRate",type:"int96"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidRejected",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],indexed:!1,internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"DiamondCut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"LicenseReclaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"bytes",name:"contentHash",type:"bytes"}],name:"PayerContentHashUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"int96",name:"contributionRate",type:"int96"}],name:"PayerContributionRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"PayerForSalePriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_sender",type:"address"},{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"TransferTriggered",type:"event"},{inputs:[],name:"acceptBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"calculatePenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"contentHash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"contributionRate",outputs:[{internalType:"int96",name:"",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentBid",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"contributionRate",type:"int96"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"forSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],internalType:"struct LibCFABasePCO.Bid",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"diamondCut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"editBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"editBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"editContentHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"facetAddress",outputs:[{internalType:"address",name:"facet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"facetAddresses",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"facet",type:"address"}],name:"facetFunctionSelectors",outputs:[{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondReadable.Facet[]",name:"diamondFacets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"forSalePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"hasPendingBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract IPCOLicenseParamsStore",name:"paramsStore",type:"address"},{internalType:"contract IERC721",name:"initLicense",type:"address"},{internalType:"uint256",name:"initLicenseId",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"initializeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract IPCOLicenseParamsStore",name:"paramsStore",type:"address"},{internalType:"contract IERC721",name:"initLicense",type:"address"},{internalType:"uint256",name:"initLicenseId",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"initializeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPayerBidActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"license",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"licenseId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"payer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingBid",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"contributionRate",type:"int96"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"forSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],internalType:"struct LibCFAPenaltyBid.Bid",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"placeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"placeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxClaimPrice",type:"uint256"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"reclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxClaimPrice",type:"uint256"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"reclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reclaimPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"rejectBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shouldBidPeriodEndEarly",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"triggerTransfer",outputs:[],stateMutability:"nonpayable",type:"function"}];var CE={};const Qte=_U(ije);Object.defineProperty(CE,"__esModule",{value:!0});CE.IRegistryDiamond__factory=void 0;const oU=Qte,uC=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],indexed:!1,internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"DiamondCut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_licenseId",type:"uint256"},{indexed:!0,internalType:"address",name:"_payer",type:"address"}],name:"ParcelClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_licenseId",type:"uint256"},{indexed:!0,internalType:"address",name:"_payer",type:"address"}],name:"ParcelClaimedV2",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokenURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],name:"availabilityIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int96",name:"initialContributionRate",type:"int96"},{internalType:"uint256",name:"initialForSalePrice",type:"uint256"},{components:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"lngDim",type:"uint256"},{internalType:"uint256",name:"latDim",type:"uint256"}],internalType:"struct LibGeoWebParcelV2.LandParcel",name:"parcel",type:"tuple"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"initialContributionRate",type:"int96"},{internalType:"uint256",name:"initialForSalePrice",type:"uint256"},{components:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"lngDim",type:"uint256"},{internalType:"uint256",name:"latDim",type:"uint256"}],internalType:"struct LibGeoWebParcelV2.LandParcel",name:"parcel",type:"tuple"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"diamondCut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"facetAddress",outputs:[{internalType:"address",name:"facet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"facetAddresses",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"facet",type:"address"}],name:"facetFunctionSelectors",outputs:[{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondReadable.Facet[]",name:"diamondFacets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuctionEnd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAuctionStart",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBeacon",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"licenseId",type:"uint256"}],name:"getBeaconProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBeneficiary",outputs:[{internalType:"contract ICFABeneficiary",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBidPeriodLengthInSeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEndingBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHost",outputs:[{internalType:"contract ISuperfluid",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getLandParcel",outputs:[{internalType:"uint64",name:"baseCoordinate",type:"uint64"},{internalType:"uint256[]",name:"path",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getLandParcelV2",outputs:[{internalType:"uint64",name:"swCoordinate",type:"uint64"},{internalType:"uint256",name:"latDim",type:"uint256"},{internalType:"uint256",name:"lngDim",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMinForSalePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNextProxyAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPaymentToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPenaltyDenominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPenaltyNumerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPerSecondFeeDenominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPerSecondFeeNumerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReclaimAuctionLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStartingBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"auctionStart",type:"uint256"},{internalType:"uint256",name:"auctionEnd",type:"uint256"},{internalType:"uint256",name:"startingBid",type:"uint256"},{internalType:"uint256",name:"endingBid",type:"uint256"},{internalType:"address",name:"beacon",type:"address"}],name:"initializeClaimer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"baseURI",type:"string"}],name:"initializeERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract ISuperToken",name:"paymentToken",type:"address"},{internalType:"contract ISuperfluid",name:"host",type:"address"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"penaltyNumerator",type:"uint256"},{internalType:"uint256",name:"penaltyDenominator",type:"uint256"},{internalType:"uint256",name:"bidPeriodLengthInSeconds",type:"uint256"},{internalType:"uint256",name:"reclaimAuctionLength",type:"uint256"},{internalType:"uint256",name:"minForSalePrice",type:"uint256"}],name:"initializeParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"status",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"requiredBid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionEnd",type:"uint256"}],name:"setAuctionEnd",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"auctionStart",type:"uint256"}],name:"setAuctionStart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"beacon",type:"address"}],name:"setBeacon",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"}],name:"setBeneficiary",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bidPeriodLengthInSeconds",type:"uint256"}],name:"setBidPeriodLengthInSeconds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"endingBid",type:"uint256"}],name:"setEndingBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperfluid",name:"host",type:"address"}],name:"setHost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"minForSalePrice",type:"uint256"}],name:"setMinForSalePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"paymentToken",type:"address"}],name:"setPaymentToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penaltyDenominator",type:"uint256"}],name:"setPenaltyDenominator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penaltyNumerator",type:"uint256"}],name:"setPenaltyNumerator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"}],name:"setPerSecondFeeDenominator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"}],name:"setPerSecondFeeNumerator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"reclaimAuctionLength",type:"uint256"}],name:"setReclaimAuctionLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startingBid",type:"uint256"}],name:"setStartingBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"updateTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"}];class Zte{static createInterface(){return new oU.utils.Interface(uC)}static connect(e,r){return new oU.Contract(e,uC,r)}}CE.IRegistryDiamond__factory=Zte;Zte.abi=uC;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.IPCOLicenseDiamond__factory=void 0;const lU=Qte,cC=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"int96",name:"contributionRate",type:"int96"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"BidRejected",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],indexed:!1,internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"DiamondCut",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"LicenseReclaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"bytes",name:"contentHash",type:"bytes"}],name:"PayerContentHashUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"int96",name:"contributionRate",type:"int96"}],name:"PayerContributionRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"PayerForSalePriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_sender",type:"address"},{indexed:!0,internalType:"address",name:"_payer",type:"address"},{indexed:!0,internalType:"address",name:"_bidder",type:"address"},{indexed:!1,internalType:"uint256",name:"forSalePrice",type:"uint256"}],name:"TransferTriggered",type:"event"},{inputs:[],name:"acceptBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"calculatePenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"contentHash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"contributionRate",outputs:[{internalType:"int96",name:"",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentBid",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"contributionRate",type:"int96"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"forSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],internalType:"struct LibCFABasePCO.Bid",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"enum IDiamondWritable.FacetCutAction",name:"action",type:"uint8"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondWritable.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"diamondCut",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"editBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"editBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"editContentHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"facetAddress",outputs:[{internalType:"address",name:"facet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"facetAddresses",outputs:[{internalType:"address[]",name:"addresses",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"facet",type:"address"}],name:"facetFunctionSelectors",outputs:[{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IDiamondReadable.Facet[]",name:"diamondFacets",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"forSalePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"hasPendingBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract IPCOLicenseParamsStore",name:"paramsStore",type:"address"},{internalType:"contract IERC721",name:"initLicense",type:"address"},{internalType:"uint256",name:"initLicenseId",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"initializeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICFABeneficiary",name:"beneficiary",type:"address"},{internalType:"contract IPCOLicenseParamsStore",name:"paramsStore",type:"address"},{internalType:"contract IERC721",name:"initLicense",type:"address"},{internalType:"uint256",name:"initLicenseId",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"initializeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPayerBidActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"license",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"licenseId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"payer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingBid",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"address",name:"bidder",type:"address"},{internalType:"int96",name:"contributionRate",type:"int96"},{internalType:"uint256",name:"perSecondFeeNumerator",type:"uint256"},{internalType:"uint256",name:"perSecondFeeDenominator",type:"uint256"},{internalType:"uint256",name:"forSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],internalType:"struct LibCFAPenaltyBid.Bid",name:"",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"placeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"placeBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxClaimPrice",type:"uint256"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"reclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxClaimPrice",type:"uint256"},{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"},{internalType:"bytes",name:"contentHash",type:"bytes"}],name:"reclaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reclaimPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int96",name:"newContributionRate",type:"int96"},{internalType:"uint256",name:"newForSalePrice",type:"uint256"}],name:"rejectBid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shouldBidPeriodEndEarly",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"triggerTransfer",outputs:[],stateMutability:"nonpayable",type:"function"}];class Xte{static createInterface(){return new lU.utils.Interface(cC)}static connect(e,r){return new lU.Contract(e,cC,r)}}PE.IPCOLicenseDiamond__factory=Xte;Xte.abi=cC;(function(t){var e=Cn&&Cn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.PCOLicenseDiamondFactory=t.RegistryDiamondFactory=t.IPCOLicenseDiamondABI=t.IRegistryDiamondABI=void 0;var r=DXe;Object.defineProperty(t,"IRegistryDiamondABI",{enumerable:!0,get:function(){return e(r).default}});var n=MXe;Object.defineProperty(t,"IPCOLicenseDiamondABI",{enumerable:!0,get:function(){return e(n).default}});var i=CE;Object.defineProperty(t,"RegistryDiamondFactory",{enumerable:!0,get:function(){return i.IRegistryDiamond__factory}});var a=PE;Object.defineProperty(t,"PCOLicenseDiamondFactory",{enumerable:!0,get:function(){return a.IPCOLicenseDiamond__factory}})})(R8);Object.defineProperty(IE,"__esModule",{value:!0});IE.getContractsForChainOrThrow=void 0;const $Xe=R8,FXe=Kv,BXe=(t,e)=>{const r=(0,FXe.getContractAddressesForChainOrThrow)(t);return{registryDiamondContract:$Xe.RegistryDiamondFactory.connect(r.registryDiamond,e)}};IE.getContractsForChainOrThrow=BXe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PCOLicenseDiamondFactory=t.IPCOLicenseDiamondABI=t.RegistryDiamondFactory=t.IRegistryDiamondABI=t.ChainId=t.getContractsForChainOrThrow=t.getContractAddressesForChainOrThrow=void 0;var e=Kv;Object.defineProperty(t,"getContractAddressesForChainOrThrow",{enumerable:!0,get:function(){return e.getContractAddressesForChainOrThrow}});var r=IE;Object.defineProperty(t,"getContractsForChainOrThrow",{enumerable:!0,get:function(){return r.getContractsForChainOrThrow}});var n=A8;Object.defineProperty(t,"ChainId",{enumerable:!0,get:function(){return n.ChainId}});var i=R8;Object.defineProperty(t,"IRegistryDiamondABI",{enumerable:!0,get:function(){return i.IRegistryDiamondABI}}),Object.defineProperty(t,"RegistryDiamondFactory",{enumerable:!0,get:function(){return i.RegistryDiamondFactory}}),Object.defineProperty(t,"IPCOLicenseDiamondABI",{enumerable:!0,get:function(){return i.IPCOLicenseDiamondABI}}),Object.defineProperty(t,"PCOLicenseDiamondFactory",{enumerable:!0,get:function(){return i.PCOLicenseDiamondFactory}})})(Kte);(function(t){var e=Cn&&Cn.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=Cn&&Cn.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(Kte,t)})(lC);/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rr(){return Rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rr.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));const uU="popstate";function UXe(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return Gg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Qv(i)}return zXe(e,r,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jXe(){return Math.random().toString(36).substr(2,8)}function cU(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,r,n){return r===void 0&&(r=null),Rr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:r,key:e&&e.key||n||jXe()})}function Qv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function zXe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Zr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Rr({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){o=Zr.Pop;let g=c(),v=g==null?null:g-u;u=g,l&&l({action:o,location:m.location,delta:v})}function d(g,v){o=Zr.Push;let b=Gg(m.location,g,v);r&&r(b,g),u=c()+1;let w=cU(b,u),E=m.createHref(b);try{s.pushState(w,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(E)}a&&l&&l({action:o,location:m.location,delta:1})}function h(g,v){o=Zr.Replace;let b=Gg(m.location,g,v);r&&r(b,g),u=c();let w=cU(b,u),E=m.createHref(b);s.replaceState(w,"",E),a&&l&&l({action:o,location:m.location,delta:0})}function p(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:Qv(g);return Tt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return o},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uU,f),l=g,()=>{i.removeEventListener(uU,f),l=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:h,go(g){return s.go(g)}};return m}var Yr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yr||(Yr={}));const VXe=new Set(["lazy","caseSensitive","path","id","index","children"]);function YXe(t){return t.index===!0}function fC(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let s=[...r,a],o=typeof i.id=="string"?i.id:s.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),YXe(i)){let l=Rr({},i,e(i),{id:o});return n[o]=l,l}else{let l=Rr({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=fC(i.children,e,s,n)),l}})}function Sd(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?cl(e):e,i=Zv(n.pathname||"/",r);if(i==null)return null;let a=Jte(t);HXe(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=tJe(a[o],iJe(i));return s}function GXe(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Jte(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=tu([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(Tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jte(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:JXe(u,a.index),routesMeta:c})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of ere(a.path))i(a,s,l)}),e}function ere(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=ere(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function HXe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:eJe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const WXe=/^:\w+$/,qXe=3,KXe=2,QXe=1,ZXe=10,XXe=-2,fU=t=>t==="*";function JXe(t,e){let r=t.split("/"),n=r.length;return r.some(fU)&&(n+=XXe),e&&(n+=KXe),r.filter(i=>!fU(i)).reduce((i,a)=>i+(WXe.test(a)?qXe:a===""?QXe:ZXe),n)}function eJe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function tJe(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let s=0;s<r.length;++s){let o=r[s],l=s===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=rJe({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let f=o.route;a.push({params:n,pathname:tu([i,c.pathname]),pathnameBase:lJe(tu([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=tu([i,c.pathnameBase]))}return a}function rJe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nJe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{if(c==="*"){let d=o[f]||"";s=a.slice(0,a.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=aJe(o[f]||"",c),u},{}),pathname:a,pathnameBase:s,pattern:t}}function nJe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Fh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(n.push(o),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function iJe(t){try{return decodeURI(t)}catch(e){return Fh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aJe(t,e){try{return decodeURIComponent(t)}catch(r){return Fh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function sJe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:r?r.startsWith("/")?r:oJe(r,e):e,search:uJe(n),hash:cJe(i)}}function oJe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function VR(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tre(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=cl(t):(i=Rr({},t),Tt(!i.pathname||!i.pathname.includes("?"),VR("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),VR("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),VR("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(n||s==null)o=r;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=sJe(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const tu=t=>t.join("/").replace(/\/\/+/g,"/"),lJe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uJe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cJe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class I8{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function rre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nre=["post","put","patch","delete"],fJe=new Set(nre),dJe=["get",...nre],hJe=new Set(dJe),pJe=new Set([301,302,303,307,308]),mJe=new Set([307,308]),YR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gJe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ire=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vJe=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function yJe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let ee=t.detectErrorBoundary;i=J=>({hasErrorBoundary:ee(J)})}else i=vJe;let a={},s=fC(t.routes,i,void 0,a),o,l=t.basename||"/",u=Rr({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,f=new Set,d=null,h=null,p=null,m=t.hydrationData!=null,g=Sd(s,t.history.location,l),v=null;if(g==null){let ee=da(404,{pathname:t.history.location.pathname}),{matches:J,route:le}=bU(s);g=J,v={[le.id]:ee}}let b=!g.some(ee=>ee.route.lazy)&&(!g.some(ee=>ee.route.loader)||t.hydrationData!=null),w,E={historyAction:t.history.action,location:t.history.location,matches:g,initialized:b,navigation:YR,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},R=Zr.Pop,I=!1,D,N=!1,F=!1,$=[],z=[],k=new Map,A=0,y=-1,x=new Map,S=new Set,C=new Map,P=new Map,M=new Map,B=!1;function L(){return c=t.history.listen(ee=>{let{action:J,location:le,delta:de}=ee;if(B){B=!1;return}Fh(M.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=bt({currentLocation:E.location,nextLocation:le,historyAction:J});if(Te&&de!=null){B=!0,t.history.go(de*-1),rt(Te,{state:"blocked",location:le,proceed(){rt(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),t.history.go(de)},reset(){let Re=new Map(E.blockers);Re.set(Te,J0),G({blockers:Re})}});return}return W(J,le)}),E.initialized||W(Zr.Pop,E.location),w}function _(){c&&c(),f.clear(),D&&D.abort(),E.fetchers.forEach((ee,J)=>Gt(J)),E.blockers.forEach((ee,J)=>Ye(J))}function U(ee){return f.add(ee),()=>f.delete(ee)}function G(ee){E=Rr({},E,ee),f.forEach(J=>J(E))}function O(ee,J){var le,de;let Te=E.actionData!=null&&E.navigation.formMethod!=null&&za(E.navigation.formMethod)&&E.navigation.state==="loading"&&((le=ee.state)==null?void 0:le._isRedirect)!==!0,Re;J.actionData?Object.keys(J.actionData).length>0?Re=J.actionData:Re=null:Te?Re=E.actionData:Re=null;let qe=J.loaderData?yU(E.loaderData,J.loaderData,J.matches||[],J.errors):E.loaderData,Se=E.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((zt,ft)=>Se.set(ft,J0)));let Ee=I===!0||E.navigation.formMethod!=null&&za(E.navigation.formMethod)&&((de=ee.state)==null?void 0:de._isRedirect)!==!0;o&&(s=o,o=void 0),N||R===Zr.Pop||(R===Zr.Push?t.history.push(ee,ee.state):R===Zr.Replace&&t.history.replace(ee,ee.state)),G(Rr({},J,{actionData:Re,loaderData:qe,historyAction:R,location:ee,initialized:!0,navigation:YR,revalidation:"idle",restoreScrollPosition:je(ee,J.matches||E.matches),preventScrollReset:Ee,blockers:Se})),R=Zr.Pop,I=!1,N=!1,F=!1,$=[],z=[]}async function Y(ee,J){if(typeof ee=="number"){t.history.go(ee);return}let le=dC(E.location,E.matches,l,u.v7_prependBasename,ee,J?.fromRouteId,J?.relative),{path:de,submission:Te,error:Re}=dU(u.v7_normalizeFormMethod,!1,le,J),qe=E.location,Se=Gg(E.location,de,J&&J.state);Se=Rr({},Se,t.history.encodeLocation(Se));let Ee=J&&J.replace!=null?J.replace:void 0,zt=Zr.Push;Ee===!0?zt=Zr.Replace:Ee===!1||Te!=null&&za(Te.formMethod)&&Te.formAction===E.location.pathname+E.location.search&&(zt=Zr.Replace);let ft=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,Ue=bt({currentLocation:qe,nextLocation:Se,historyAction:zt});if(Ue){rt(Ue,{state:"blocked",location:Se,proceed(){rt(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Y(ee,J)},reset(){let It=new Map(E.blockers);It.set(Ue,J0),G({blockers:It})}});return}return await W(zt,Se,{submission:Te,pendingError:Re,preventScrollReset:ft,replace:J&&J.replace})}function H(){if(Ie(),G({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){W(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}W(R||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function W(ee,J,le){D&&D.abort(),D=null,R=ee,N=(le&&le.startUninterruptedRevalidation)===!0,fn(E.location,E.matches),I=(le&&le.preventScrollReset)===!0;let de=o||s,Te=le&&le.overrideNavigation,Re=Sd(de,J,l);if(!Re){let It=da(404,{pathname:J.pathname}),{matches:tt,route:Nt}=bU(de);ar(),O(J,{matches:tt,loaderData:{},errors:{[Nt.id]:It}});return}if(E.initialized&&!F&&SJe(E.location,J)&&!(le&&le.submission&&za(le.submission.formMethod))){O(J,{matches:Re});return}D=new AbortController;let qe=tp(t.history,J,D.signal,le&&le.submission),Se,Ee;if(le&&le.pendingError)Ee={[Td(Re).route.id]:le.pendingError};else if(le&&le.submission&&za(le.submission.formMethod)){let It=await K(qe,J,le.submission,Re,{replace:le.replace});if(It.shortCircuited)return;Se=It.pendingActionData,Ee=It.pendingActionError,Te=GR(J,le.submission),qe=new Request(qe.url,{signal:qe.signal})}let{shortCircuited:zt,loaderData:ft,errors:Ue}=await ie(qe,J,Re,Te,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,Se,Ee);zt||(D=null,O(J,Rr({matches:Re},Se?{actionData:Se}:{},{loaderData:ft,errors:Ue})))}async function K(ee,J,le,de,Te){Te===void 0&&(Te={}),Ie();let Re=_Je(J,le);G({navigation:Re});let qe,Se=pC(de,J);if(!Se.route.action&&!Se.route.lazy)qe={type:Yr.error,error:da(405,{method:ee.method,pathname:J.pathname,routeId:Se.route.id})};else if(qe=await ep("action",ee,Se,de,a,i,l),ee.signal.aborted)return{shortCircuited:!0};if(Zd(qe)){let Ee;return Te&&Te.replace!=null?Ee=Te.replace:Ee=qe.location===E.location.pathname+E.location.search,await ve(E,qe,{submission:le,replace:Ee}),{shortCircuited:!0}}if(om(qe)){let Ee=Td(de,Se.route.id);return(Te&&Te.replace)!==!0&&(R=Zr.Push),{pendingActionData:{},pendingActionError:{[Ee.route.id]:qe.error}}}if(lc(qe))throw da(400,{type:"defer-action"});return{pendingActionData:{[Se.route.id]:qe.data}}}async function ie(ee,J,le,de,Te,Re,qe,Se,Ee){let zt=de||GR(J,Te),ft=Te||Re||EU(zt),Ue=o||s,[It,tt]=hU(t.history,E,le,ft,J,F,$,z,C,S,Ue,l,Se,Ee);if(ar(Et=>!(le&&le.some(wt=>wt.route.id===Et))||It&&It.some(wt=>wt.route.id===Et)),y=++A,It.length===0&&tt.length===0){let Et=jt();return O(J,Rr({matches:le,loaderData:{},errors:Ee||null},Se?{actionData:Se}:{},Et?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0}}if(!N){tt.forEach(wt=>{let Ot=E.fetchers.get(wt.key),Ia=rp(void 0,Ot?Ot.data:void 0);E.fetchers.set(wt.key,Ia)});let Et=Se||E.actionData;G(Rr({navigation:zt},Et?Object.keys(Et).length===0?{actionData:null}:{actionData:Et}:{},tt.length>0?{fetchers:new Map(E.fetchers)}:{}))}tt.forEach(Et=>{k.has(Et.key)&&Be(Et.key),Et.controller&&k.set(Et.key,Et.controller)});let Nt=()=>tt.forEach(Et=>Be(Et.key));D&&D.signal.addEventListener("abort",Nt);let{results:Zn,loaderResults:Vt,fetcherResults:Wt}=await Ae(E.matches,le,It,tt,ee);if(ee.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Nt),tt.forEach(Et=>k.delete(Et.key));let wn=xU(Zn);if(wn){if(wn.idx>=It.length){let Et=tt[wn.idx-It.length].key;S.add(Et)}return await ve(E,wn.result,{replace:qe}),{shortCircuited:!0}}let{loaderData:Ct,errors:Ht}=vU(E,le,It,Vt,Ee,tt,Wt,P);P.forEach((Et,wt)=>{Et.subscribe(Ot=>{(Ot||Et.done)&&P.delete(wt)})});let _a=jt(),qt=We(y),Kt=_a||qt||tt.length>0;return Rr({loaderData:Ct,errors:Ht},Kt?{fetchers:new Map(E.fetchers)}:{})}function Q(ee){return E.fetchers.get(ee)||gJe}function te(ee,J,le,de){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(ee)&&Be(ee);let Te=o||s,Re=dC(E.location,E.matches,l,u.v7_prependBasename,le,J,de?.relative),qe=Sd(Te,Re,l);if(!qe){Fe(ee,J,da(404,{pathname:Re}));return}let{path:Se,submission:Ee,error:zt}=dU(u.v7_normalizeFormMethod,!0,Re,de);if(zt){Fe(ee,J,zt);return}let ft=pC(qe,Se);if(I=(de&&de.preventScrollReset)===!0,Ee&&za(Ee.formMethod)){xe(ee,J,Se,ft,qe,Ee);return}C.set(ee,{routeId:J,path:Se}),oe(ee,J,Se,ft,qe,Ee)}async function xe(ee,J,le,de,Te,Re){if(Ie(),C.delete(ee),!de.route.action&&!de.route.lazy){let it=da(405,{method:Re.formMethod,pathname:le,routeId:J});Fe(ee,J,it);return}let qe=E.fetchers.get(ee),Se=IJe(Re,qe);E.fetchers.set(ee,Se),G({fetchers:new Map(E.fetchers)});let Ee=new AbortController,zt=tp(t.history,le,Ee.signal,Re);k.set(ee,Ee);let ft=A,Ue=await ep("action",zt,de,Te,a,i,l);if(zt.signal.aborted){k.get(ee)===Ee&&k.delete(ee);return}if(Zd(Ue))if(k.delete(ee),y>ft){let it=Wf(void 0);E.fetchers.set(ee,it),G({fetchers:new Map(E.fetchers)});return}else{S.add(ee);let it=rp(Re);return E.fetchers.set(ee,it),G({fetchers:new Map(E.fetchers)}),ve(E,Ue,{fetcherSubmission:Re})}if(om(Ue)){Fe(ee,J,Ue.error);return}if(lc(Ue))throw da(400,{type:"defer-action"});let It=E.navigation.location||E.location,tt=tp(t.history,It,Ee.signal),Nt=o||s,Zn=E.navigation.state!=="idle"?Sd(Nt,E.navigation.location,l):E.matches;Tt(Zn,"Didn't find any matches after fetcher action");let Vt=++A;x.set(ee,Vt);let Wt=rp(Re,Ue.data);E.fetchers.set(ee,Wt);let[wn,Ct]=hU(t.history,E,Zn,Re,It,F,$,z,C,S,Nt,l,{[de.route.id]:Ue.data},void 0);Ct.filter(it=>it.key!==ee).forEach(it=>{let Yt=it.key,Ca=E.fetchers.get(Yt),cs=rp(void 0,Ca?Ca.data:void 0);E.fetchers.set(Yt,cs),k.has(Yt)&&Be(Yt),it.controller&&k.set(Yt,it.controller)}),G({fetchers:new Map(E.fetchers)});let Ht=()=>Ct.forEach(it=>Be(it.key));Ee.signal.addEventListener("abort",Ht);let{results:_a,loaderResults:qt,fetcherResults:Kt}=await Ae(E.matches,Zn,wn,Ct,tt);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",Ht),x.delete(ee),k.delete(ee),Ct.forEach(it=>k.delete(it.key));let Et=xU(_a);if(Et){if(Et.idx>=wn.length){let it=Ct[Et.idx-wn.length].key;S.add(it)}return ve(E,Et.result)}let{loaderData:wt,errors:Ot}=vU(E,E.matches,wn,qt,void 0,Ct,Kt,P);if(E.fetchers.has(ee)){let it=Wf(Ue.data);E.fetchers.set(ee,it)}let Ia=We(Vt);E.navigation.state==="loading"&&Vt>y?(Tt(R,"Expected pending action"),D&&D.abort(),O(E.navigation.location,{matches:Zn,loaderData:wt,errors:Ot,fetchers:new Map(E.fetchers)})):(G(Rr({errors:Ot,loaderData:yU(E.loaderData,wt,Zn,Ot)},Ia||Ct.length>0?{fetchers:new Map(E.fetchers)}:{})),F=!1)}async function oe(ee,J,le,de,Te,Re){let qe=E.fetchers.get(ee),Se=rp(Re,qe?qe.data:void 0);E.fetchers.set(ee,Se),G({fetchers:new Map(E.fetchers)});let Ee=new AbortController,zt=tp(t.history,le,Ee.signal);k.set(ee,Ee);let ft=A,Ue=await ep("loader",zt,de,Te,a,i,l);if(lc(Ue)&&(Ue=await ore(Ue,zt.signal,!0)||Ue),k.get(ee)===Ee&&k.delete(ee),zt.signal.aborted)return;if(Zd(Ue))if(y>ft){let tt=Wf(void 0);E.fetchers.set(ee,tt),G({fetchers:new Map(E.fetchers)});return}else{S.add(ee),await ve(E,Ue);return}if(om(Ue)){let tt=Td(E.matches,J);E.fetchers.delete(ee),G({fetchers:new Map(E.fetchers),errors:{[tt.route.id]:Ue.error}});return}Tt(!lc(Ue),"Unhandled fetcher deferred data");let It=Wf(Ue.data);E.fetchers.set(ee,It),G({fetchers:new Map(E.fetchers)})}async function ve(ee,J,le){let{submission:de,fetcherSubmission:Te,replace:Re}=le===void 0?{}:le;J.revalidate&&(F=!0);let qe=Gg(ee.location,J.location,{_isRedirect:!0});if(Tt(qe,"Expected a location on the redirect navigation"),r){let It=!1;if(J.reloadDocument)It=!0;else if(ire.test(J.location)){const tt=t.history.createURL(J.location);It=tt.origin!==e.location.origin||Zv(tt.pathname,l)==null}if(It){Re?e.location.replace(J.location):e.location.assign(J.location);return}}D=null;let Se=Re===!0?Zr.Replace:Zr.Push,{formMethod:Ee,formAction:zt,formEncType:ft}=ee.navigation;!de&&!Te&&Ee&&zt&&ft&&(de=EU(ee.navigation));let Ue=de||Te;if(mJe.has(J.status)&&Ue&&za(Ue.formMethod))await W(Se,qe,{submission:Rr({},Ue,{formAction:J.location}),preventScrollReset:I});else{let It=GR(qe,de);await W(Se,qe,{overrideNavigation:It,fetcherSubmission:Te,preventScrollReset:I})}}async function Ae(ee,J,le,de,Te){let Re=await Promise.all([...le.map(Ee=>ep("loader",Te,Ee,J,a,i,l)),...de.map(Ee=>Ee.matches&&Ee.match&&Ee.controller?ep("loader",tp(t.history,Ee.path,Ee.controller.signal),Ee.match,Ee.matches,a,i,l):{type:Yr.error,error:da(404,{pathname:Ee.path})})]),qe=Re.slice(0,le.length),Se=Re.slice(le.length);return await Promise.all([wU(ee,le,qe,qe.map(()=>Te.signal),!1,E.loaderData),wU(ee,de.map(Ee=>Ee.match),Se,de.map(Ee=>Ee.controller?Ee.controller.signal:null),!0)]),{results:Re,loaderResults:qe,fetcherResults:Se}}function Ie(){F=!0,$.push(...ar()),C.forEach((ee,J)=>{k.has(J)&&(z.push(J),Be(J))})}function Fe(ee,J,le){let de=Td(E.matches,J);Gt(ee),G({errors:{[de.route.id]:le},fetchers:new Map(E.fetchers)})}function Gt(ee){let J=E.fetchers.get(ee);k.has(ee)&&!(J&&J.state==="loading"&&x.has(ee))&&Be(ee),C.delete(ee),x.delete(ee),S.delete(ee),E.fetchers.delete(ee)}function Be(ee){let J=k.get(ee);Tt(J,"Expected fetch controller: "+ee),J.abort(),k.delete(ee)}function st(ee){for(let J of ee){let le=Q(J),de=Wf(le.data);E.fetchers.set(J,de)}}function jt(){let ee=[],J=!1;for(let le of S){let de=E.fetchers.get(le);Tt(de,"Expected fetcher: "+le),de.state==="loading"&&(S.delete(le),ee.push(le),J=!0)}return st(ee),J}function We(ee){let J=[];for(let[le,de]of x)if(de<ee){let Te=E.fetchers.get(le);Tt(Te,"Expected fetcher: "+le),Te.state==="loading"&&(Be(le),x.delete(le),J.push(le))}return st(J),J.length>0}function ze(ee,J){let le=E.blockers.get(ee)||J0;return M.get(ee)!==J&&M.set(ee,J),le}function Ye(ee){E.blockers.delete(ee),M.delete(ee)}function rt(ee,J){let le=E.blockers.get(ee)||J0;Tt(le.state==="unblocked"&&J.state==="blocked"||le.state==="blocked"&&J.state==="blocked"||le.state==="blocked"&&J.state==="proceeding"||le.state==="blocked"&&J.state==="unblocked"||le.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+le.state+" -> "+J.state);let de=new Map(E.blockers);de.set(ee,J),G({blockers:de})}function bt(ee){let{currentLocation:J,nextLocation:le,historyAction:de}=ee;if(M.size===0)return;M.size>1&&Fh(!1,"A router only supports one blocker at a time");let Te=Array.from(M.entries()),[Re,qe]=Te[Te.length-1],Se=E.blockers.get(Re);if(!(Se&&Se.state==="proceeding")&&qe({currentLocation:J,nextLocation:le,historyAction:de}))return Re}function ar(ee){let J=[];return P.forEach((le,de)=>{(!ee||ee(de))&&(le.cancel(),J.push(de),P.delete(de))}),J}function Ve(ee,J,le){if(d=ee,p=J,h=le||null,!m&&E.navigation===YR){m=!0;let de=je(E.location,E.matches);de!=null&&G({restoreScrollPosition:de})}return()=>{d=null,p=null,h=null}}function xt(ee,J){return h&&h(ee,J.map(de=>GXe(de,E.loaderData)))||ee.key}function fn(ee,J){if(d&&p){let le=xt(ee,J);d[le]=p()}}function je(ee,J){if(d){let le=xt(ee,J),de=d[le];if(typeof de=="number")return de}return null}function _e(ee){a={},o=fC(ee,i,void 0,a)}return w={get basename(){return l},get state(){return E},get routes(){return s},initialize:L,subscribe:U,enableScrollRestoration:Ve,navigate:Y,fetch:te,revalidate:H,createHref:ee=>t.history.createHref(ee),encodeLocation:ee=>t.history.encodeLocation(ee),getFetcher:Q,deleteFetcher:Gt,dispose:_,getBlocker:ze,deleteBlocker:Ye,_internalFetchControllers:k,_internalActiveDeferreds:P,_internalSetRoutes:_e},w}function bJe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dC(t,e,r,n,i,a,s){let o,l;if(a!=null&&s!=="path"){o=[];for(let c of e)if(o.push(c),c.route.id===a){l=c;break}}else o=e,l=e[e.length-1];let u=tre(i||".",_8(o).map(c=>c.pathnameBase),Zv(t.pathname,r)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!C8(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:tu([r,u.pathname])),Qv(u)}function dU(t,e,r,n){if(!n||!bJe(n))return{path:r};if(n.formMethod&&!RJe(n.formMethod))return{path:r,error:da(405,{method:n.formMethod})};let i=()=>({path:r,error:da(400,{type:"invalid-body"})}),a=n.formMethod||"get",s=t?a.toUpperCase():a.toLowerCase(),o=sre(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!za(s))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((h,p)=>{let[m,g]=p;return""+h+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!za(s))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=hC(n.formData),u=n.formData;else if(n.body instanceof FormData)l=hC(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=gU(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=gU(l)}catch{return i()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(za(c.formMethod))return{path:r,submission:c};let f=cl(r);return e&&f.search&&C8(f.search)&&l.append("index",""),f.search="?"+l,{path:Qv(f),submission:c}}function xJe(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function hU(t,e,r,n,i,a,s,o,l,u,c,f,d,h){let p=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,m=t.createURL(e.location),g=t.createURL(i),v=h?Object.keys(h)[0]:void 0,w=xJe(r,v).filter((R,I)=>{if(R.route.lazy)return!0;if(R.route.loader==null)return!1;if(wJe(e.loaderData,e.matches[I],R)||s.some(F=>F===R.route.id))return!0;let D=e.matches[I],N=R;return pU(R,Rr({currentUrl:m,currentParams:D.params,nextUrl:g,nextParams:N.params},n,{actionResult:p,defaultShouldRevalidate:a||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||are(D,N)}))}),E=[];return l.forEach((R,I)=>{if(!r.some(z=>z.route.id===R.routeId))return;let D=Sd(c,R.path,f);if(!D){E.push({key:I,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(I),F=pC(D,R.path),$=!1;u.has(I)?$=!1:o.includes(I)?$=!0:N&&N.state!=="idle"&&N.data===void 0?$=a:$=pU(F,Rr({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:p,defaultShouldRevalidate:a})),$&&E.push({key:I,routeId:R.routeId,path:R.path,matches:D,match:F,controller:new AbortController})}),[w,E]}function wJe(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function are(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function pU(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function mU(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Tt(i,"No route found in manifest");let a={};for(let s in n){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Fh(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!VXe.has(s)&&(a[s]=n[s])}Object.assign(i,a),Object.assign(i,Rr({},e(i),{lazy:void 0}))}async function ep(t,e,r,n,i,a,s,o){o===void 0&&(o={});let l,u,c,f=p=>{let m,g=new Promise((v,b)=>m=b);return c=()=>m(),e.signal.addEventListener("abort",c),Promise.race([p({request:e,params:r.params,context:o.requestContext}),g])};try{let p=r.route[t];if(r.route.lazy)if(p){let m,g=await Promise.all([f(p).catch(v=>{m=v}),mU(r.route,a,i)]);if(m)throw m;u=g[0]}else if(await mU(r.route,a,i),p=r.route[t],p)u=await f(p);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw da(405,{method:e.method,pathname:g,routeId:r.route.id})}else return{type:Yr.data,data:void 0};else if(p)u=await f(p);else{let m=new URL(e.url),g=m.pathname+m.search;throw da(404,{pathname:g})}Tt(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){l=Yr.error,u=p}finally{c&&e.signal.removeEventListener("abort",c)}if(AJe(u)){let p=u.status;if(pJe.has(p)){let v=u.headers.get("Location");if(Tt(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!ire.test(v))v=dC(new URL(e.url),n.slice(0,n.indexOf(r)+1),s,!0,v);else if(!o.isStaticRequest){let b=new URL(e.url),w=v.startsWith("//")?new URL(b.protocol+v):new URL(v),E=Zv(w.pathname,s)!=null;w.origin===b.origin&&E&&(v=w.pathname+w.search+w.hash)}if(o.isStaticRequest)throw u.headers.set("Location",v),u;return{type:Yr.redirect,status:p,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(o.isRouteRequest)throw{type:l===Yr.error?Yr.error:Yr.data,response:u};let m,g=u.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?m=await u.json():m=await u.text(),l===Yr.error?{type:l,error:new I8(p,u.statusText,m),headers:u.headers}:{type:Yr.data,data:m,statusCode:u.status,headers:u.headers}}if(l===Yr.error)return{type:l,error:u};if(TJe(u)){var d,h;return{type:Yr.deferred,deferredData:u,statusCode:(d=u.init)==null?void 0:d.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:Yr.data,data:u}}function tp(t,e,r,n){let i=t.createURL(sre(e)).toString(),a={signal:r};if(n&&za(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=hC(n.formData):a.body=n.formData}return new Request(i,a)}function hC(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function gU(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function EJe(t,e,r,n,i){let a={},s=null,o,l=!1,u={};return r.forEach((c,f)=>{let d=e[f].route.id;if(Tt(!Zd(c),"Cannot handle redirect results in processLoaderData"),om(c)){let h=Td(t,d),p=c.error;n&&(p=Object.values(n)[0],n=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),a[d]=void 0,l||(l=!0,o=rre(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else lc(c)?(i.set(d,c.deferredData),a[d]=c.deferredData.data):a[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(o=c.statusCode),c.headers&&(u[d]=c.headers)}),n&&(s=n,a[Object.keys(n)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}function vU(t,e,r,n,i,a,s,o){let{loaderData:l,errors:u}=EJe(e,r,n,i,o);for(let c=0;c<a.length;c++){let{key:f,match:d,controller:h}=a[c];Tt(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(h&&h.signal.aborted))if(om(p)){let m=Td(t.matches,d?.route.id);u&&u[m.route.id]||(u=Rr({},u,{[m.route.id]:p.error})),t.fetchers.delete(f)}else if(Zd(p))Tt(!1,"Unhandled fetcher revalidation redirect");else if(lc(p))Tt(!1,"Unhandled fetcher deferred data");else{let m=Wf(p.data);t.fetchers.set(f,m)}}return{loaderData:l,errors:u}}function yU(t,e,r,n){let i=Rr({},e);for(let a of r){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function Td(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function bU(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function da(t,e){let{pathname:r,routeId:n,method:i,type:a}=e===void 0?{}:e,s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&r&&n?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?o="defer() is not supported in actions":a==="invalid-body"&&(o="Unable to encode submission body")):t===403?(s="Forbidden",o='Route "'+n+'" does not match URL "'+r+'"'):t===404?(s="Not Found",o='No route matches URL "'+r+'"'):t===405&&(s="Method Not Allowed",i&&r&&n?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new I8(t||500,s,new Error(o),!0)}function xU(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Zd(r))return{result:r,idx:e}}}function sre(t){let e=typeof t=="string"?cl(t):t;return Qv(Rr({},e,{hash:""}))}function SJe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function lc(t){return t.type===Yr.deferred}function om(t){return t.type===Yr.error}function Zd(t){return(t&&t.type)===Yr.redirect}function TJe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function AJe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function RJe(t){return hJe.has(t.toLowerCase())}function za(t){return fJe.has(t.toLowerCase())}async function wU(t,e,r,n,i,a){for(let s=0;s<r.length;s++){let o=r[s],l=e[s];if(!l)continue;let u=t.find(f=>f.route.id===l.route.id),c=u!=null&&!are(u,l)&&(a&&a[l.route.id])!==void 0;if(lc(o)&&(i||c)){let f=n[s];Tt(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await ore(o,f,i).then(d=>{d&&(r[s]=d||r[s])})}}}async function ore(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Yr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Yr.error,error:i}}return{type:Yr.data,data:t.deferredData.data}}}function C8(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function pC(t,e){let r=typeof e=="string"?cl(e).search:e.search;if(t[t.length-1].route.index&&C8(r||""))return t[t.length-1];let n=_8(t);return n[n.length-1]}function EU(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function GR(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _Je(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rp(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IJe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Wf(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}const kE=T.createContext(null),lre=T.createContext(null),OE=T.createContext(null),NE=T.createContext(null),m0=T.createContext({outlet:null,matches:[],isDataRoute:!1}),ure=T.createContext(null);function LE(){return T.useContext(NE)!=null}function P8(){return LE()||Tt(!1),T.useContext(NE).location}function cre(t){T.useContext(OE).static||T.useLayoutEffect(t)}function CJe(){let{isDataRoute:t}=T.useContext(m0);return t?jJe():PJe()}function PJe(){LE()||Tt(!1);let t=T.useContext(kE),{basename:e,navigator:r}=T.useContext(OE),{matches:n}=T.useContext(m0),{pathname:i}=P8(),a=JSON.stringify(_8(n).map(l=>l.pathnameBase)),s=T.useRef(!1);return cre(()=>{s.current=!0}),T.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=tre(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:tu([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,a,i,t])}function kJe(t,e,r){LE()||Tt(!1);let{navigator:n}=T.useContext(OE),{matches:i}=T.useContext(m0),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=P8(),u;if(e){var c;let m=typeof e=="string"?cl(e):e;o==="/"||(c=m.pathname)!=null&&c.startsWith(o)||Tt(!1),u=m}else u=l;let f=u.pathname||"/",d=o==="/"?f:f.slice(o.length)||"/",h=Sd(t,{pathname:d}),p=MJe(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:tu([o,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?o:tu([o,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r);return e&&p?T.createElement(NE.Provider,{value:{location:Rw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zr.Pop}},p):p}function OJe(){let t=UJe(),e=rre(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,a)}const NJe=T.createElement(OJe,null);class LJe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?T.createElement(m0.Provider,{value:this.props.routeContext},T.createElement(ure.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DJe(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(kE);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(m0.Provider,{value:e},n)}function MJe(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,s=(n=r)==null?void 0:n.errors;if(s!=null){let o=a.findIndex(l=>l.route.id&&s?.[l.route.id]);o>=0||Tt(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((o,l,u)=>{let c=l.route.id?s?.[l.route.id]:null,f=null;r&&(f=l.route.errorElement||NJe);let d=e.concat(a.slice(0,u+1)),h=()=>{let p;return c?p=f:l.route.Component?p=T.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=o,T.createElement(DJe,{match:l,routeContext:{outlet:o,matches:d,isDataRoute:r!=null},children:p})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?T.createElement(LJe,{location:r.location,revalidation:r.revalidation,component:f,error:c,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var fre=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fre||{}),_w=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_w||{});function $Je(t){let e=T.useContext(kE);return e||Tt(!1),e}function FJe(t){let e=T.useContext(lre);return e||Tt(!1),e}function BJe(t){let e=T.useContext(m0);return e||Tt(!1),e}function dre(t){let e=BJe(),r=e.matches[e.matches.length-1];return r.route.id||Tt(!1),r.route.id}function UJe(){var t;let e=T.useContext(ure),r=FJe(_w.UseRouteError),n=dre(_w.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function jJe(){let{router:t}=$Je(fre.UseNavigateStable),e=dre(_w.UseNavigateStable),r=T.useRef(!1);return cre(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rw({fromRouteId:e},a)))},[t,e])}const zJe="startTransition",SU=$U[zJe];function VJe(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=T.useState(r.state),{v7_startTransition:s}=n||{},o=T.useCallback(f=>{s&&SU?SU(()=>a(f)):a(f)},[a,s]);T.useLayoutEffect(()=>r.subscribe(o),[r,o]);let l=T.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:f=>r.navigate(f),push:(f,d,h)=>r.navigate(f,{state:d,preventScrollReset:h?.preventScrollReset}),replace:(f,d,h)=>r.navigate(f,{replace:!0,state:d,preventScrollReset:h?.preventScrollReset})}),[r]),u=r.basename||"/",c=T.useMemo(()=>({router:r,navigator:l,static:!1,basename:u}),[r,l,u]);return T.createElement(T.Fragment,null,T.createElement(kE.Provider,{value:c},T.createElement(lre.Provider,{value:i},T.createElement(GJe,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?T.createElement(YJe,{routes:r.routes,state:i}):e))),null)}function YJe(t){let{routes:e,state:r}=t;return kJe(e,void 0,r)}function GJe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zr.Pop,navigator:a,static:s=!1}=t;LE()&&Tt(!1);let o=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof n=="string"&&(n=cl(n));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=n,p=T.useMemo(()=>{let m=Zv(u,o);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[o,u,c,f,d,h,i]);return p==null?null:T.createElement(OE.Provider,{value:l},T.createElement(NE.Provider,{children:r,value:p}))}new Promise(()=>{});function HJe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iw.apply(this,arguments)}function mC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function WJe(t,e){let r=mC(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}function qJe(t,e){return yJe({basename:e?.basename,future:Iw({},e?.future,{v7_prependBasename:!0}),history:UXe({window:e?.window}),hydrationData:e?.hydrationData||KJe(),routes:t,mapRouteProperties:HJe}).initialize()}function KJe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Iw({},e,{errors:QJe(e.errors)})),e}function QJe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new I8(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}var TU;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(TU||(TU={}));var AU;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AU||(AU={}));function ZJe(t){let e=T.useRef(mC(t)),r=T.useRef(!1),n=P8(),i=T.useMemo(()=>WJe(n.search,r.current?null:e.current),[n.search]),a=CJe(),s=T.useCallback((o,l)=>{const u=mC(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,l)},[a,i]);return[i,s]}const RU={...zR,rpcUrls:{...zR.rpcUrls,default:{http:zR.rpcUrls.default.http,webSocket:[ZNe[o1]]}}};function XJe(){const[t,e]=T.useState(""),[r,n]=T.useState(),[i,a]=T.useState(!0),[s,o]=T.useState(null),[l,u]=T.useState(),[c,f]=T.useState(),[d]=ZJe(),h=d.get("latitude"),p=d.get("longitude"),m=h&&p&&!isNaN(Number(h))&&!isNaN(Number(p))?{lat:Number(h),lon:Number(p)}:null;T.useEffect(()=>{m!==null?(v({coords:{latitude:m.lat,longitude:m.lon}}),f(m)):g()},[]),T.useEffect(()=>{(async()=>{if(!t)return;const w=await OXe({chainId:o1,world:WNe,mudChain:RU,namespaces:[Number(t).toString()],indexerUrl:"https://mud-testnet.geoweb.network/trpc"}),E=await dje(t);n(w),o(E);try{const R=eee({chain:RU,transport:$J(QNe[o1])}),D=await lYe({address:lC.getContractAddressesForChainOrThrow(o1).registryDiamond,abi:lC.IRegistryDiamondABI,publicClient:R}).read.tokenURI([BigInt(t)]);if(D){const F=await(await fetch(`${kK}/ipfs/${D.slice(7)}`)).json();u({name:F?.name,url:F?.external_url})}}catch(R){console.warn(R)}a(!1)})()},[t]);const g=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(v,w=>{console.info(w.message),a(!1)},{maximumAge:0,enableHighAccuracy:!0,timeout:1e4}):(console.info("Geolocation is not supported by this browser."),f({lat:-1,lon:-1}),a(!1))},v=w=>{a(!0);const{latitude:E,longitude:R}=w.coords;f({lat:E,lon:R}),b(E.toString(),R.toString())},b=async(w,E)=>{const{parcelId:R}=await fje(w,E);R||a(!1),e(R??"")};return!i&&!r?j.jsxs(j.Fragment,{children:[j.jsx(oI,{parcelId:t,loading:i,showPosition:v,accessGps:g,coordinate:c,gwInfo:s,basicProfile:l}),j.jsx(XV,{})]}):!c||i?j.jsxs(j.Fragment,{children:[j.jsx(oI,{parcelId:t,loading:i,showPosition:v,accessGps:g,coordinate:c,gwInfo:s,basicProfile:l}),j.jsx(c4,{})]}):j.jsx(XNe,{value:r,children:j.jsx(JJe,{parcelId:t,loading:i,showPosition:v,accessGps:g,coordinate:c,gwInfo:s,basicProfile:l})})}function JJe(t){const{parcelId:e,loading:r,basicProfile:n}=t,{mediaObjects:i}=eLe();return j.jsxs(j.Fragment,{children:[j.jsx(oI,{...t}),r?j.jsx(c4,{}):e?j.jsx(sLe,{url:n?.url??null,mediaObjects:i,parcelId:e}):j.jsx(XV,{})]})}const eet="_modal_taucc_1",tet="_header_taucc_24",ret="_footer_taucc_29",kb={modal:eet,"modal-content":"_modal-content_taucc_14",header:tet,footer:ret};function net(t){const{setHasAgreedModal:e}=t,r=()=>{localStorage.setItem("gwHasAgreedModal","true"),e(!0)};return j.jsx("div",{className:kb.modal,children:j.jsxs("div",{className:kb["modal-content"],children:[j.jsxs("div",{className:kb.header,children:[j.jsx("img",{src:"/assets/geo-web-logo.png",alt:"geo web logo"}),j.jsx("div",{children:"Welcome to the Geo Web"})]}),j.jsxs("p",{children:["This spatial browser is a universal interface for viewing & interacting with content on the Geo Web—",j.jsx("a",{href:"https://docs.geoweb.network/concepts/spatial-browsing",target:"_blank",rel:"noreferrer",children:"a public augmented reality network"}),"."]}),j.jsxs("p",{children:["The spatial browser uses device location (& sometimes your camera) to show you 3D objects, NFTs, data, websites, & more that a"," ",j.jsx("a",{href:"https://docs.geoweb.network/concepts/digital-land",target:"_blank",rel:"noreferrer",children:"digital land licensor"})," ","has published to your current location."]}),j.jsx("p",{children:"Everyone around you can share in this open web experience instead of being siloed into different app ecosystems or algorithms."}),j.jsx("p",{children:"To continue, you'll need to grant your browser & this website permission to access your device location."}),j.jsx("p",{children:"The spatial browser doesn't retain this data or use it for anything other than resolving content. But this is the open web, so always stay vigilant."}),j.jsxs("div",{className:kb.footer,children:[j.jsx("img",{src:"/assets/location.svg",alt:"location"}),j.jsx("div",{children:j.jsx("strong",{children:"This app requires device location"})}),j.jsx("button",{onClick:r,children:"Continue"})]})]})})}const iet={colors:{accent:"#2fc1c1",containerBorderColor:"rgba(0, 145, 255, 0.9)"},fonts:{display:"Abel"}};function aet(){const[t,e]=T.useState(null),r=LSe({provider:Upe({apiKey:KNe})});return T.useEffect(()=>{(async()=>e(!!localStorage.getItem("gwHasAgreedModal")))()},[]),t===null?j.jsx(c4,{}):t?j.jsx(HNe,{client:r,theme:iet,children:j.jsx(XJe,{})}):j.jsx(net,{setHasAgreedModal:e})}const hre=document.getElementById("react-root");if(!hre)throw new Error("React root not found");const set=qJe([{path:"/",element:j.jsx(aet,{})}]);HR.createRoot(hre).render(j.jsx(T.StrictMode,{children:j.jsx(VJe,{router:set})}));export{we as B,im as H,Nh as I,JV as _,Wo as a,Vi as b,bE as c,vVe as d,yu as e,dE as g,Ho as i,Ri as s};
